"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@google";
exports.ids = ["vendor-chunks/@google"];
exports.modules = {

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/assets/close-material-svg.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/assets/close-material-svg.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (lit__WEBPACK_IMPORTED_MODULE_0__.html`\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" fill=\"#000000\">\n    <!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement\n         support for dynamic re-coloring of UI components -->\n    <defs>\n      <filter id=\"drop-shadow\" x=\"-100%\" y=\"-100%\" width=\"300%\" height=\"300%\">\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"1\"/>\n        <feOffset dx=\"0\" dy=\"0\" result=\"offsetblur\"/>\n        <feFlood flood-color=\"#000000\"/>\n        <feComposite in2=\"offsetblur\" operator=\"in\"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n      </filter>\n    </defs>\n    <path filter=\"url(#drop-shadow)\" d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n</svg>`); //# sourceMappingURL=close-material-svg.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2Fzc2V0cy9jbG9zZS1tYXRlcmlhbC1zdmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQzBCO0FBQzNCLGlFQUFlQSxxQ0FBSyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7TUFrQmYsQ0FBQyxFQUFDLENBQ1IsOENBQThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvYXNzZXRzL2Nsb3NlLW1hdGVyaWFsLXN2Zy5qcz80ZWUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgaHRtbCBgXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0cHhcIiBoZWlnaHQ9XCIyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCIjMDAwMDAwXCI+XG4gICAgPCEtLSBOT1RFKGNkYXRhKTogVGhpcyBTVkcgZmlsdGVyIGlzIGEgc3RvcC1nYXAgdW50aWwgd2UgY2FuIGltcGxlbWVudFxuICAgICAgICAgc3VwcG9ydCBmb3IgZHluYW1pYyByZS1jb2xvcmluZyBvZiBVSSBjb21wb25lbnRzIC0tPlxuICAgIDxkZWZzPlxuICAgICAgPGZpbHRlciBpZD1cImRyb3Atc2hhZG93XCIgeD1cIi0xMDAlXCIgeT1cIi0xMDAlXCIgd2lkdGg9XCIzMDAlXCIgaGVpZ2h0PVwiMzAwJVwiPlxuICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgaW49XCJTb3VyY2VBbHBoYVwiIHN0ZERldmlhdGlvbj1cIjFcIi8+XG4gICAgICAgIDxmZU9mZnNldCBkeD1cIjBcIiBkeT1cIjBcIiByZXN1bHQ9XCJvZmZzZXRibHVyXCIvPlxuICAgICAgICA8ZmVGbG9vZCBmbG9vZC1jb2xvcj1cIiMwMDAwMDBcIi8+XG4gICAgICAgIDxmZUNvbXBvc2l0ZSBpbjI9XCJvZmZzZXRibHVyXCIgb3BlcmF0b3I9XCJpblwiLz5cbiAgICAgICAgPGZlTWVyZ2U+XG4gICAgICAgICAgPGZlTWVyZ2VOb2RlLz5cbiAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49XCJTb3VyY2VHcmFwaGljXCIvPlxuICAgICAgICA8L2ZlTWVyZ2U+XG4gICAgICA8L2ZpbHRlcj5cbiAgICA8L2RlZnM+XG4gICAgPHBhdGggZmlsdGVyPVwidXJsKCNkcm9wLXNoYWRvdylcIiBkPVwiTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnpcIi8+XG4gICAgPHBhdGggZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz5cbjwvc3ZnPmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbG9zZS1tYXRlcmlhbC1zdmcuanMubWFwIl0sIm5hbWVzIjpbImh0bWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/assets/close-material-svg.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/assets/controls-svg.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/assets/controls-svg.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (lit__WEBPACK_IMPORTED_MODULE_0__.html`\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"25\" height=\"36\">\n    <defs>\n        <path id=\"A\" d=\"M.001.232h24.997V36H.001z\" />\n    </defs>\n    <g transform=\"translate(-11 -4)\" fill=\"none\" fill-rule=\"evenodd\">\n        <path fill-opacity=\"0\" fill=\"#fff\" d=\"M0 0h44v44H0z\" />\n        <g transform=\"translate(11 3)\">\n            <path d=\"M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z\" fill-opacity=\".5\" fill=\"#e4e4e4\" />\n            <path d=\"M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91\" fill-opacity=\".6\" fill=\"#000\" />\n            <path d=\"M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z\" fill=\"#fff\" />\n            <g transform=\"translate(0 .769)\">\n                <mask id=\"B\" fill=\"#fff\">\n                    <use xlink:href=\"#A\" />\n                </mask>\n                <path d=\"M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325\" fill-opacity=\".05\" fill=\"#000\" mask=\"url(#B)\" />\n            </g>\n        </g>\n    </g>\n</svg>`); //# sourceMappingURL=controls-svg.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2Fzc2V0cy9jb250cm9scy1zdmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQzBCO0FBQzNCLGlFQUFlQSxxQ0FBSyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BbUJmLENBQUMsRUFBQyxDQUNSLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2Fzc2V0cy9jb250cm9scy1zdmcuanM/NTcwMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGh0bWwgYFxuPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCIyNVwiIGhlaWdodD1cIjM2XCI+XG4gICAgPGRlZnM+XG4gICAgICAgIDxwYXRoIGlkPVwiQVwiIGQ9XCJNLjAwMS4yMzJoMjQuOTk3VjM2SC4wMDF6XCIgLz5cbiAgICA8L2RlZnM+XG4gICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKC0xMSAtNClcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgPHBhdGggZmlsbC1vcGFjaXR5PVwiMFwiIGZpbGw9XCIjZmZmXCIgZD1cIk0wIDBoNDR2NDRIMHpcIiAvPlxuICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMTEgMylcIj5cbiAgICAgICAgICAgIDxwYXRoIGQ9XCJNOC43MzMgMTEuMTY1Yy4wNC0xLjEwOC43NjYtMi4wMjcgMS43NDMtMi4zMDdhMi41NCAyLjU0IDAgMCAxIC42MjgtLjA4OWMuMTYgMCAuMzE0LjAxNy40NjMuMDQ0IDEuMDg4LjIgMS45IDEuMDkyIDEuOSAyLjE2djguODhoMS4yNmMyLjk0My0xLjM5IDUtNC40NSA1LTguMDI1YTkuMDEgOS4wMSAwIDAgMC0xLjktNS41NmwtLjQzLS41Yy0uNzY1LS44MzgtMS42ODMtMS41MjItMi43MTItMi0xLjA1Ny0uNDktMi4yMjYtLjc3LTMuNDYtLjc3cy0yLjQuMjc4LTMuNDYuNzdjLTEuMDMuNDc4LTEuOTQ3IDEuMTYyLTIuNzEgMmwtLjQzLjVhOS4wMSA5LjAxIDAgMCAwLTEuOSA1LjU2IDkuMDQgOS4wNCAwIDAgMCAuMDk0IDEuMzA1Yy4wMy4yMS4wODguNDEuMTMuNjE3bC4xMzYuNjI0Yy4wODMuMjg2LjE5Ni41Ni4zMDUuODMybC4xMjQuMzMzYTguNzggOC43OCAwIDAgMCAuNTA5Ljk1M2wuMDY1LjEyMmE4LjY5IDguNjkgMCAwIDAgMy41MjEgMy4xOTFsMS4xMS41Mzd2LTkuMTc4elwiIGZpbGwtb3BhY2l0eT1cIi41XCIgZmlsbD1cIiNlNGU0ZTRcIiAvPlxuICAgICAgICAgICAgPHBhdGggZD1cIk0yMi45NCAyNi4yMThsLTIuNzYgNy43NGMtLjE3Mi40ODUtLjY3Ni44LTEuMjUzLjhIMTIuMjRjLTEuNjA2IDAtMy4wOTItLjY4LTMuOTgtMS44Mi0xLjU5Mi0yLjA0OC0zLjY0Ny0zLjgyMi02LjExLTUuMjctLjA5NS0uMDU1LS4xNS0uMTM3LS4xNTItLjIzLS4wMDQtLjEuMDQ2LS4xOTYuMTkzLS4yOTcuNTYtLjM5MyAxLjIzNC0uNiAxLjkyNi0uNmEzLjQzIDMuNDMgMCAwIDEgLjY5MS4wNjlsNC45MjIuOTk0VjEwLjk3MmMwLS42NjMuNjE1LTEuMjAzIDEuMzctMS4yMDNzMS4zNzMuNTQgMS4zNzMgMS4yMDN2OS44ODJoMi45NTNjLjI3MyAwIC41MzMuMDczLjc1Ny4yMWw2LjI1NyAzLjg3NGMuMDI3LjAxNy4wNDUuMDQyLjA3LjA2LjQxLjI5Ni41ODYuNzcuNDI2IDEuMjJNNC4xIDE2LjYxNGMtLjAyNC0uMDQtLjA0Mi0uMDgzLS4wNjUtLjEyMmE4LjY5IDguNjkgMCAwIDEtLjUwOS0uOTUzYy0uMDQ4LS4xMDctLjA4LS4yMjMtLjEyNC0uMzMzbC0uMzA1LS44MzJjLS4wNTgtLjIwMi0uMDktLjQxNi0uMTM2LS42MjRsLS4xMy0uNjE3YTkuMDMgOS4wMyAwIDAgMS0uMDk0LTEuMzA1YzAtMi4xMDcuNzE0LTQuMDQgMS45LTUuNTZsLjQzLS41Yy43NjQtLjg0IDEuNjgyLTEuNTIzIDIuNzEtMiAxLjA1OC0uNDkgMi4yMjYtLjc3IDMuNDYtLjc3czIuNDAyLjI4IDMuNDYuNzdjMS4wMy40NzcgMS45NDcgMS4xNiAyLjcxMiAybC40MjguNWE5IDkgMCAwIDEgMS45MDEgNS41NTljMCAzLjU3Ny0yLjA1NiA2LjYzNi01IDguMDI2aC0xLjI2di04Ljg4MmMwLTEuMDY3LS44MjItMS45Ni0xLjktMi4xNi0uMTUtLjAyOC0uMzA0LS4wNDQtLjQ2My0uMDQ0LS4yMiAwLS40MjcuMDM3LS42MjguMDktLjk3Ny4yOC0xLjcwMyAxLjE5OC0xLjc0MyAyLjMwNnY5LjE3OGwtMS4xMS0uNTM3QzYuMTggMTkuMDk4IDQuOTYgMTggNC4xIDE2LjYxNE0yMi45NyAyNC4wOWwtNi4yNTYtMy44NzRjLS4xMDItLjA2My0uMjE4LS4wOTgtLjMzLS4xNDQgMi42ODMtMS44IDQuMzU0LTQuODU1IDQuMzU0LTguMjQzIDAtLjQ4Ni0uMDM3LS45NjQtLjEwNC0xLjQzYTkuOTcgOS45NyAwIDAgMC0xLjU3LTQuMTI4bC0uMjk1LS40MDgtLjA2Ni0uMDkyYTEwLjA1IDEwLjA1IDAgMCAwLS45NDktMS4wNzhjLS4zNDItLjMzNC0uNzA4LS42NDMtMS4wOTQtLjkyMi0xLjE1NS0uODM0LTIuNDkyLTEuNDEyLTMuOTQtMS42NWwtLjczMi0uMDg4LS43NDgtLjAzYTkuMjkgOS4yOSAwIDAgMC0xLjQ4Mi4xMTljLTEuNDQ3LjIzOC0yLjc4Ni44MTYtMy45NCAxLjY1YTkuMzMgOS4zMyAwIDAgMC0uODEzLjY4NiA5LjU5IDkuNTkgMCAwIDAtLjg0NS44NzdsLS4zODUuNDM3LS4zNi41LS4yODguNDY4LS40MTguNzc4LS4wNC4wOWMtLjU5MyAxLjI4LS45MyAyLjcxLS45MyA0LjIyMiAwIDMuODMyIDIuMTgyIDcuMzQyIDUuNTYgOC45MzhsMS40MzcuNjh2NC45NDZMNSAyNS42NGE0LjQ0IDQuNDQgMCAwIDAtLjg4OC0uMDg2Yy0uMDE3IDAtLjAzNC4wMDMtLjA1LjAwMy0uMjUyLjAwNC0uNTAzLjAzMy0uNzUuMDhhNS4wOCA1LjA4IDAgMCAwLS4yMzcuMDU2Yy0uMTkzLjA0Ni0uMzgyLjEwNy0uNTY4LjE4LS4wNzUuMDMtLjE1LjA1Ny0uMjI1LjEtLjI1LjExNC0uNDk0LjI0NC0uNzIzLjQwNWExLjMxIDEuMzEgMCAwIDAtLjU2NiAxLjEyMiAxLjI4IDEuMjggMCAwIDAgLjY0NSAxLjA1MUM0IDI5LjkyNSA1Ljk2IDMxLjYxNCA3LjQ3MyAzMy41NjNhNS4wNiA1LjA2IDAgMCAwIC40MzQuNDkxYzEuMDg2IDEuMDgyIDIuNjU2IDEuNzEzIDQuMzI2IDEuNzE1aDYuNjk3Yy43NDgtLjAwMSAxLjQzLS4zMzMgMS44NTgtLjg3Mi4xNDItLjE4LjI1Ni0uMzguMzM2LS42MDJsMi43NTctNy43NGMuMDk0LS4yNi4xMy0uNTMuMTEyLS43OTRzLS4wODgtLjUyLS4yMDMtLjc2YTIuMTkgMi4xOSAwIDAgMC0uODIxLS45MVwiIGZpbGwtb3BhY2l0eT1cIi42XCIgZmlsbD1cIiMwMDBcIiAvPlxuICAgICAgICAgICAgPHBhdGggZD1cIk0yMi40NDQgMjQuOTRsLTYuMjU3LTMuODc0YTEuNDUgMS40NSAwIDAgMC0uNzU3LS4yMTFoLTIuOTUzdi05Ljg4YzAtLjY2My0uNjE2LTEuMjAzLTEuMzczLTEuMjAzcy0xLjM3LjU0LTEuMzcgMS4yMDN2MTYuNjQzbC00LjkyMi0uOTk0YTMuNDQgMy40NCAwIDAgMC0uNjkyLS4wNjkgMy4zNSAzLjM1IDAgMCAwLTEuOTI1LjU5OGMtLjE0Ny4xMDItLjE5OC4xOTgtLjE5NC4yOTguMDA0LjA5NC4wNTguMTc2LjE1My4yMyAyLjQ2MiAxLjQ0OCA0LjUxNyAzLjIyIDYuMTEgNS4yNy44ODcgMS4xNCAyLjM3MyAxLjgyIDMuOTggMS44Mmg2LjY4NmMuNTc3IDAgMS4wOC0uMzI2IDEuMjUzLS44bDIuNzYtNy43NGMuMTYtLjQ0OC0uMDE3LS45MjMtLjQyNi0xLjIyLS4wMjUtLjAyLS4wNDMtLjA0My0uMDctLjA2elwiIGZpbGw9XCIjZmZmXCIgLz5cbiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwIC43NjkpXCI+XG4gICAgICAgICAgICAgICAgPG1hc2sgaWQ9XCJCXCIgZmlsbD1cIiNmZmZcIj5cbiAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiI0FcIiAvPlxuICAgICAgICAgICAgICAgIDwvbWFzaz5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTIzLjk5MyAyNC45OTJhMS45NiAxLjk2IDAgMCAxLS4xMTEuNzk0bC0yLjc1OCA3Ljc0Yy0uMDguMjItLjE5NC40MjMtLjMzNi42MDItLjQyNy41NC0xLjExLjg3LTEuODU3Ljg3MmgtNi42OThjLTEuNjctLjAwMi0zLjI0LS42MzMtNC4zMjYtMS43MTUtLjE1NC0uMTU0LS4zLS4zMTgtLjQzNC0uNDlDNS45NiAzMC44NDYgNCAyOS4xNTcgMS42NDYgMjcuNzczYy0uMzg1LS4yMjUtLjYyNi0uNjE4LS42NDUtMS4wNWExLjMxIDEuMzEgMCAwIDEgLjU2Ni0xLjEyMiA0LjU2IDQuNTYgMCAwIDEgLjcyMy0uNDA1bC4yMjUtLjFhNC4zIDQuMyAwIDAgMSAuNTY4LS4xOGwuMjM3LS4wNTZjLjI0OC0uMDQ2LjUtLjA3NS43NS0uMDguMDE4IDAgLjAzNC0uMDAzLjA1LS4wMDMuMzAzLS4wMDEuNTk3LjAyNy44OS4wODZsMy43MjIuNzUyVjIwLjY4bC0xLjQzNi0uNjhjLTMuMzc3LTEuNTk2LTUuNTYtNS4xMDYtNS41Ni04LjkzOCAwLTEuNTEuMzM2LTIuOTQuOTMtNC4yMjIuMDE1LS4wMy4wMjUtLjA2LjA0LS4wOS4xMjctLjI2Ny4yNjgtLjUyNS40MTgtLjc3OC4wOTMtLjE2LjE4Ni0uMzE2LjI4OC0uNDY4LjA2My0uMDk1LjEzMy0uMTg2LjItLjI3N0wzLjc3MyA1Yy4xMTgtLjE1NS4yNi0uMjkuMzg1LS40MzcuMjY2LS4zLjU0NC0uNjA0Ljg0NS0uODc3YTkuMzMgOS4zMyAwIDAgMSAuODEzLS42ODZDNi45NyAyLjE2NyA4LjMxIDEuNTkgOS43NTcgMS4zNWE5LjI3IDkuMjcgMCAwIDEgMS40ODEtLjExOSA4LjgyIDguODIgMCAwIDEgLjc0OC4wMzFjLjI0Ny4wMi40OS4wNS43MzMuMDg4IDEuNDQ4LjIzOCAyLjc4Ni44MTYgMy45NCAxLjY1LjM4Ny4yOC43NTIuNTg4IDEuMDk0LjkyMmE5Ljk0IDkuOTQgMCAwIDEgLjk0OSAxLjA3OGwuMDY2LjA5MmMuMTAyLjEzMy4yMDMuMjY4LjI5NS40MDhhOS45NyA5Ljk3IDAgMCAxIDEuNTcxIDQuMTI4Yy4wNjYuNDY3LjEwMy45NDUuMTAzIDEuNDMgMCAzLjM4OC0xLjY3IDYuNDUzLTQuMzUzIDguMjQzLjExLjA0Ni4yMjcuMDguMzMuMTQ0bDYuMjU2IDMuODc0Yy4zNy4yMy42NDUuNTUuODIuOS4xMTUuMjQuMTg1LjQ5OC4yMDMuNzZtLjY5Ny0xLjE5NWMtLjI2NS0uNTUtLjY3Ny0xLjAwNy0xLjE5NC0xLjMyNmwtNS4zMjMtMy4yOTdjMi4yNTUtMi4wMzcgMy41NjQtNC45NyAzLjU2NC04LjExNCAwLTIuMTktLjYzNy00LjMwNC0xLjg0LTYuMTE0LS4xMjYtLjE4OC0uMjYtLjM3LS40LS41NTItLjY0NS0uODQ4LTEuNDAyLTEuNi0yLjI1Mi0yLjIwNEMxNS40NzIuOTEgMTMuMzkzLjIzMiAxMS4yMzguMjMyQTEwLjIxIDEwLjIxIDAgMCAwIDUuMjMgMi4xOWMtLjg0OC42MTQtMS42MDYgMS4zNTYtMi4yNTMgMi4yMDUtLjEzNi4xOC0uMjcyLjM2My0uMzk4LjU1QzEuMzc0IDYuNzU2LjczNyA4Ljg3LjczNyAxMS4wNmMwIDQuMjE4IDIuNDA3IDguMDggNi4xMzMgOS44NDJsLjg2My40MXYzLjA5MmwtMi41MjUtLjUxYy0uMzU2LS4wNy0uNzE3LS4xMDYtMS4wNzYtLjEwNmE1LjQ1IDUuNDUgMCAwIDAtMy4xNC45OTZjLS42NTMuNDYtMS4wMjIgMS4yMDItLjk5IDEuOTgzYTIuMjggMi4yOCAwIDAgMCAxLjEzOCAxLjg3MmMyLjI0IDEuMzE4IDQuMTA2IDIuOTIzIDUuNTQzIDQuNzcyIDEuMjYgMS42MiAzLjMzMyAyLjU5IDUuNTUgMi41OTJoNi42OThjMS40Mi0uMDAxIDIuNjgtLjg2IDMuMTM0LTIuMTM4bDIuNzYtNy43NGMuMjcyLS43NTcuMjI0LTEuNTg0LS4xMzQtMi4zMjVcIiBmaWxsLW9wYWNpdHk9XCIuMDVcIiBmaWxsPVwiIzAwMFwiIG1hc2s9XCJ1cmwoI0IpXCIgLz5cbiAgICAgICAgICAgIDwvZz5cbiAgICAgICAgPC9nPlxuICAgIDwvZz5cbjwvc3ZnPmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250cm9scy1zdmcuanMubWFwIl0sIm5hbWVzIjpbImh0bWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/assets/controls-svg.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/assets/view-in-ar-material-svg.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/assets/view-in-ar-material-svg.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (lit__WEBPACK_IMPORTED_MODULE_0__.html`\n<svg version=\"1.1\" id=\"view_x5F_in_x5F_AR_x5F_icon\"\n\t xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"24px\" height=\"24px\"\n\t viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n<rect id=\"Bounding_Box\" x=\"0\" y=\"0\" fill=\"none\" width=\"24\" height=\"24\"/>\n<g id=\"Art_layer\">\n\t<path d=\"M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z\"/>\n\t<path d=\"M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z\"/>\n\t<path d=\"M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z\"/>\n\t<path d=\"M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z\"/>\n\t<g>\n\t\t<path d=\"M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3\n\t\t\tl5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62\n\t\t\tl4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z\"/>\n\t</g>\n</g>\n</svg>`); //# sourceMappingURL=view-in-ar-material-svg.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2Fzc2V0cy92aWV3LWluLWFyLW1hdGVyaWFsLXN2Zy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDMEI7QUFDM0IsaUVBQWVBLHFDQUFLLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7TUFnQmYsQ0FBQyxFQUFDLENBQ1IsbURBQW1EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvYXNzZXRzL3ZpZXctaW4tYXItbWF0ZXJpYWwtc3ZnLmpzPzQ4MmIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gJ2xpdCc7XG5leHBvcnQgZGVmYXVsdCBodG1sIGBcbjxzdmcgdmVyc2lvbj1cIjEuMVwiIGlkPVwidmlld194NUZfaW5feDVGX0FSX3g1Rl9pY29uXCJcblx0IHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIlxuXHQgdmlld0JveD1cIjAgMCAyNCAyNFwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAyNCAyNFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG48cmVjdCBpZD1cIkJvdW5kaW5nX0JveFwiIHg9XCIwXCIgeT1cIjBcIiBmaWxsPVwibm9uZVwiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiLz5cbjxnIGlkPVwiQXJ0X2xheWVyXCI+XG5cdDxwYXRoIGQ9XCJNMyw0YzAtMC41NSwwLjQ1LTEsMS0xaDJWMUg0QzIuMzUsMSwxLDIuMzUsMSw0djJoMlY0elwiLz5cblx0PHBhdGggZD1cIk0yMCwzYzAuNTUsMCwxLDAuNDUsMSwxdjJoMlY0YzAtMS42NS0xLjM1LTMtMy0zaC0ydjJIMjB6XCIvPlxuXHQ8cGF0aCBkPVwiTTQsMjFjLTAuNTUsMC0xLTAuNDUtMS0xdi0ySDF2MmMwLDEuNjUsMS4zNSwzLDMsM2gydi0ySDR6XCIvPlxuXHQ8cGF0aCBkPVwiTTIwLDIxYzAuNTUsMCwxLTAuNDUsMS0xdi0yaDJ2MmMwLDEuNjUtMS4zNSwzLTMsM2gtMnYtMkgyMHpcIi8+XG5cdDxnPlxuXHRcdDxwYXRoIGQ9XCJNMTguMjUsNy42bC01LjUtMy4xOGMtMC40Ni0wLjI3LTEuMDQtMC4yNy0xLjUsMEw1Ljc1LDcuNkM1LjI5LDcuODcsNSw4LjM2LDUsOC45djYuMzVjMCwwLjU0LDAuMjksMS4wMywwLjc1LDEuM1xuXHRcdFx0bDUuNSwzLjE4YzAuNDYsMC4yNywxLjA0LDAuMjcsMS41LDBsNS41LTMuMThjMC40Ni0wLjI3LDAuNzUtMC43NiwwLjc1LTEuM1Y4LjlDMTksOC4zNiwxOC43MSw3Ljg3LDE4LjI1LDcuNnogTTcsMTQuOTZ2LTQuNjJcblx0XHRcdGw0LDIuMzJ2NC42MUw3LDE0Ljk2eiBNMTIsMTAuOTNMOCw4LjYxbDQtMi4zMWw0LDIuMzFMMTIsMTAuOTN6IE0xMywxNy4yN3YtNC42MWw0LTIuMzJ2NC42MkwxMywxNy4yN3pcIi8+XG5cdDwvZz5cbjwvZz5cbjwvc3ZnPmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LWluLWFyLW1hdGVyaWFsLXN2Zy5qcy5tYXAiXSwibmFtZXMiOlsiaHRtbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/assets/view-in-ar-material-svg.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/constants.js":
/*!************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/constants.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HAS_INTERSECTION_OBSERVER: () => (/* binding */ HAS_INTERSECTION_OBSERVER),\n/* harmony export */   HAS_RESIZE_OBSERVER: () => (/* binding */ HAS_RESIZE_OBSERVER),\n/* harmony export */   HAS_WEBXR_DEVICE_API: () => (/* binding */ HAS_WEBXR_DEVICE_API),\n/* harmony export */   HAS_WEBXR_HIT_TEST_API: () => (/* binding */ HAS_WEBXR_HIT_TEST_API),\n/* harmony export */   IS_ANDROID: () => (/* binding */ IS_ANDROID),\n/* harmony export */   IS_AR_QUICKLOOK_CANDIDATE: () => (/* binding */ IS_AR_QUICKLOOK_CANDIDATE),\n/* harmony export */   IS_CHROMEOS: () => (/* binding */ IS_CHROMEOS),\n/* harmony export */   IS_FIREFOX: () => (/* binding */ IS_FIREFOX),\n/* harmony export */   IS_IOS: () => (/* binding */ IS_IOS),\n/* harmony export */   IS_IOS_CHROME: () => (/* binding */ IS_IOS_CHROME),\n/* harmony export */   IS_IOS_SAFARI: () => (/* binding */ IS_IOS_SAFARI),\n/* harmony export */   IS_MOBILE: () => (/* binding */ IS_MOBILE),\n/* harmony export */   IS_OCULUS: () => (/* binding */ IS_OCULUS),\n/* harmony export */   IS_SAFARI: () => (/* binding */ IS_SAFARI),\n/* harmony export */   IS_SCENEVIEWER_CANDIDATE: () => (/* binding */ IS_SCENEVIEWER_CANDIDATE),\n/* harmony export */   IS_WEBXR_AR_CANDIDATE: () => (/* binding */ IS_WEBXR_AR_CANDIDATE),\n/* harmony export */   IS_WKWEBVIEW: () => (/* binding */ IS_WKWEBVIEW)\n/* harmony export */ });\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ // NOTE(cdata): The HAS_WEBXR_* constants can be enabled in Chrome by turning on\n// the appropriate flags. However, just because we have the API does not\n// guarantee that AR will work.\nconst HAS_WEBXR_DEVICE_API = navigator.xr != null && self.XRSession != null && navigator.xr.isSessionSupported != null;\nconst HAS_WEBXR_HIT_TEST_API = HAS_WEBXR_DEVICE_API && self.XRSession.prototype.requestHitTestSource != null;\nconst HAS_RESIZE_OBSERVER = self.ResizeObserver != null;\nconst HAS_INTERSECTION_OBSERVER = self.IntersectionObserver != null;\nconst IS_WEBXR_AR_CANDIDATE = HAS_WEBXR_HIT_TEST_API;\nconst IS_MOBILE = (()=>{\n    const userAgent = navigator.userAgent || navigator.vendor || self.opera;\n    let check = false;\n    // eslint-disable-next-line\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(userAgent.substr(0, 4))) {\n        check = true;\n    }\n    return check;\n})();\nconst IS_CHROMEOS = /\\bCrOS\\b/.test(navigator.userAgent);\nconst IS_ANDROID = /android/i.test(navigator.userAgent);\n// Prior to iOS 13, detecting iOS Safari was relatively straight-forward.\n// As of iOS 13, Safari on iPad (in its default configuration) reports the same\n// user-agent string as Safari on desktop MacOS. Strictly speaking, we only care\n// about iOS for the purposes if selecting for cases where Quick Look is known\n// to be supported. However, for API correctness purposes, we must rely on\n// known, detectable signals to distinguish iOS Safari from MacOS Safari. At the\n// time of this writing, there are no non-iOS/iPadOS Apple devices with\n// multi-touch displays.\n// @see https://stackoverflow.com/questions/57765958/how-to-detect-ipad-and-ipad-os-version-in-ios-13-and-up\n// @see https://forums.developer.apple.com/thread/119186\n// @see https://github.com/google/model-viewer/issues/758\nconst IS_IOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !self.MSStream || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n// @see https://developer.chrome.com/multidevice/user-agent\nconst IS_SAFARI = /Safari\\//.test(navigator.userAgent);\nconst IS_FIREFOX = /firefox/i.test(navigator.userAgent);\nconst IS_OCULUS = /OculusBrowser/.test(navigator.userAgent);\nconst IS_IOS_CHROME = IS_IOS && /CriOS\\//.test(navigator.userAgent);\nconst IS_IOS_SAFARI = IS_IOS && IS_SAFARI;\nconst IS_SCENEVIEWER_CANDIDATE = IS_ANDROID && !IS_FIREFOX && !IS_OCULUS;\nconst IS_WKWEBVIEW = Boolean(window.webkit && window.webkit.messageHandlers);\n// If running in iOS Safari proper, and not within a WKWebView component instance, check for ARQL feature support.\n// Otherwise, if running in a WKWebView instance, check for known ARQL compatible iOS browsers, including:\n// Chrome (CriOS), Edge (EdgiOS), Firefox (FxiOS), Google App (GSA), DuckDuckGo (DuckDuckGo).\n// All other iOS browsers / apps will fail by default.\nconst IS_AR_QUICKLOOK_CANDIDATE = (()=>{\n    if (IS_IOS) {\n        if (!IS_WKWEBVIEW) {\n            const tempAnchor = document.createElement(\"a\");\n            return Boolean(tempAnchor.relList && tempAnchor.relList.supports && tempAnchor.relList.supports(\"ar\"));\n        } else {\n            return Boolean(/CriOS\\/|EdgiOS\\/|FxiOS\\/|GSA\\/|DuckDuckGo\\//.test(navigator.userAgent));\n        }\n    } else {\n        return false;\n    }\n})(); //# sourceMappingURL=constants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRCxnRkFBZ0Y7QUFDaEYsd0VBQXdFO0FBQ3hFLCtCQUErQjtBQUN4QixNQUFNQSx1QkFBdUJDLFVBQVVDLEVBQUUsSUFBSSxRQUNoREMsS0FBS0MsU0FBUyxJQUFJLFFBQVFILFVBQVVDLEVBQUUsQ0FBQ0csa0JBQWtCLElBQUksS0FBSztBQUMvRCxNQUFNQyx5QkFBeUJOLHdCQUNsQ0csS0FBS0MsU0FBUyxDQUFDRyxTQUFTLENBQUNDLG9CQUFvQixJQUFJLEtBQUs7QUFDbkQsTUFBTUMsc0JBQXNCTixLQUFLTyxjQUFjLElBQUksS0FBSztBQUN4RCxNQUFNQyw0QkFBNEJSLEtBQUtTLG9CQUFvQixJQUFJLEtBQUs7QUFDcEUsTUFBTUMsd0JBQXdCUCx1QkFBdUI7QUFDckQsTUFBTVEsWUFBWSxDQUFDO0lBQ3RCLE1BQU1DLFlBQVlkLFVBQVVjLFNBQVMsSUFBSWQsVUFBVWUsTUFBTSxJQUFJYixLQUFLYyxLQUFLO0lBQ3ZFLElBQUlDLFFBQVE7SUFDWiwyQkFBMkI7SUFDM0IsSUFBSSwyVEFDQ0MsSUFBSSxDQUFDSixjQUNOLDBrREFDS0ksSUFBSSxDQUFDSixVQUFVSyxNQUFNLENBQUMsR0FBRyxLQUFLO1FBQ25DRixRQUFRO0lBQ1o7SUFDQSxPQUFPQTtBQUNYLEtBQUs7QUFDRSxNQUFNRyxjQUFjLFdBQVdGLElBQUksQ0FBQ2xCLFVBQVVjLFNBQVMsRUFBRTtBQUN6RCxNQUFNTyxhQUFhLFdBQVdILElBQUksQ0FBQ2xCLFVBQVVjLFNBQVMsRUFBRTtBQUMvRCx5RUFBeUU7QUFDekUsK0VBQStFO0FBQy9FLGdGQUFnRjtBQUNoRiw4RUFBOEU7QUFDOUUsMEVBQTBFO0FBQzFFLGdGQUFnRjtBQUNoRix1RUFBdUU7QUFDdkUsd0JBQXdCO0FBQ3hCLDRHQUE0RztBQUM1Ryx3REFBd0Q7QUFDeEQseURBQXlEO0FBQ2xELE1BQU1RLFNBQVMsbUJBQW9CSixJQUFJLENBQUNsQixVQUFVYyxTQUFTLEtBQUssQ0FBQ1osS0FBS3FCLFFBQVEsSUFDaEZ2QixVQUFVd0IsUUFBUSxLQUFLLGNBQWN4QixVQUFVeUIsY0FBYyxHQUFHLEVBQUc7QUFDeEUsMkRBQTJEO0FBQ3BELE1BQU1DLFlBQVksV0FBV1IsSUFBSSxDQUFDbEIsVUFBVWMsU0FBUyxFQUFFO0FBQ3ZELE1BQU1hLGFBQWEsV0FBV1QsSUFBSSxDQUFDbEIsVUFBVWMsU0FBUyxFQUFFO0FBQ3hELE1BQU1jLFlBQVksZ0JBQWdCVixJQUFJLENBQUNsQixVQUFVYyxTQUFTLEVBQUU7QUFDNUQsTUFBTWUsZ0JBQWdCUCxVQUFVLFVBQVVKLElBQUksQ0FBQ2xCLFVBQVVjLFNBQVMsRUFBRTtBQUNwRSxNQUFNZ0IsZ0JBQWdCUixVQUFVSSxVQUFVO0FBQzFDLE1BQU1LLDJCQUEyQlYsY0FBYyxDQUFDTSxjQUFjLENBQUNDLFVBQVU7QUFDekUsTUFBTUksZUFBZUMsUUFBUUMsT0FBT0MsTUFBTSxJQUFJRCxPQUFPQyxNQUFNLENBQUNDLGVBQWUsRUFBRTtBQUNwRixrSEFBa0g7QUFDbEgsMEdBQTBHO0FBQzFHLDZGQUE2RjtBQUM3RixzREFBc0Q7QUFDL0MsTUFBTUMsNEJBQTRCLENBQUM7SUFDdEMsSUFBSWYsUUFBUTtRQUNSLElBQUksQ0FBQ1UsY0FBYztZQUNmLE1BQU1NLGFBQWFDLFNBQVNDLGFBQWEsQ0FBQztZQUMxQyxPQUFPUCxRQUFRSyxXQUFXRyxPQUFPLElBQUlILFdBQVdHLE9BQU8sQ0FBQ0MsUUFBUSxJQUFJSixXQUFXRyxPQUFPLENBQUNDLFFBQVEsQ0FBQztRQUNwRyxPQUNLO1lBQ0QsT0FBT1QsUUFBUSw4Q0FBOENmLElBQUksQ0FBQ2xCLFVBQVVjLFNBQVM7UUFDekY7SUFDSixPQUNLO1FBQ0QsT0FBTztJQUNYO0FBQ0osS0FBSyxDQUNMLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2NvbnN0YW50cy5qcz9jY2UwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIE5PVEUoY2RhdGEpOiBUaGUgSEFTX1dFQlhSXyogY29uc3RhbnRzIGNhbiBiZSBlbmFibGVkIGluIENocm9tZSBieSB0dXJuaW5nIG9uXG4vLyB0aGUgYXBwcm9wcmlhdGUgZmxhZ3MuIEhvd2V2ZXIsIGp1c3QgYmVjYXVzZSB3ZSBoYXZlIHRoZSBBUEkgZG9lcyBub3Rcbi8vIGd1YXJhbnRlZSB0aGF0IEFSIHdpbGwgd29yay5cbmV4cG9ydCBjb25zdCBIQVNfV0VCWFJfREVWSUNFX0FQSSA9IG5hdmlnYXRvci54ciAhPSBudWxsICYmXG4gICAgc2VsZi5YUlNlc3Npb24gIT0gbnVsbCAmJiBuYXZpZ2F0b3IueHIuaXNTZXNzaW9uU3VwcG9ydGVkICE9IG51bGw7XG5leHBvcnQgY29uc3QgSEFTX1dFQlhSX0hJVF9URVNUX0FQSSA9IEhBU19XRUJYUl9ERVZJQ0VfQVBJICYmXG4gICAgc2VsZi5YUlNlc3Npb24ucHJvdG90eXBlLnJlcXVlc3RIaXRUZXN0U291cmNlICE9IG51bGw7XG5leHBvcnQgY29uc3QgSEFTX1JFU0laRV9PQlNFUlZFUiA9IHNlbGYuUmVzaXplT2JzZXJ2ZXIgIT0gbnVsbDtcbmV4cG9ydCBjb25zdCBIQVNfSU5URVJTRUNUSU9OX09CU0VSVkVSID0gc2VsZi5JbnRlcnNlY3Rpb25PYnNlcnZlciAhPSBudWxsO1xuZXhwb3J0IGNvbnN0IElTX1dFQlhSX0FSX0NBTkRJREFURSA9IEhBU19XRUJYUl9ISVRfVEVTVF9BUEk7XG5leHBvcnQgY29uc3QgSVNfTU9CSUxFID0gKCgpID0+IHtcbiAgICBjb25zdCB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgc2VsZi5vcGVyYTtcbiAgICBsZXQgY2hlY2sgPSBmYWxzZTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBpZiAoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pXG4gICAgICAgIC50ZXN0KHVzZXJBZ2VudCkgfHxcbiAgICAgICAgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2lcbiAgICAgICAgICAgIC50ZXN0KHVzZXJBZ2VudC5zdWJzdHIoMCwgNCkpKSB7XG4gICAgICAgIGNoZWNrID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNoZWNrO1xufSkoKTtcbmV4cG9ydCBjb25zdCBJU19DSFJPTUVPUyA9IC9cXGJDck9TXFxiLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuZXhwb3J0IGNvbnN0IElTX0FORFJPSUQgPSAvYW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4vLyBQcmlvciB0byBpT1MgMTMsIGRldGVjdGluZyBpT1MgU2FmYXJpIHdhcyByZWxhdGl2ZWx5IHN0cmFpZ2h0LWZvcndhcmQuXG4vLyBBcyBvZiBpT1MgMTMsIFNhZmFyaSBvbiBpUGFkIChpbiBpdHMgZGVmYXVsdCBjb25maWd1cmF0aW9uKSByZXBvcnRzIHRoZSBzYW1lXG4vLyB1c2VyLWFnZW50IHN0cmluZyBhcyBTYWZhcmkgb24gZGVza3RvcCBNYWNPUy4gU3RyaWN0bHkgc3BlYWtpbmcsIHdlIG9ubHkgY2FyZVxuLy8gYWJvdXQgaU9TIGZvciB0aGUgcHVycG9zZXMgaWYgc2VsZWN0aW5nIGZvciBjYXNlcyB3aGVyZSBRdWljayBMb29rIGlzIGtub3duXG4vLyB0byBiZSBzdXBwb3J0ZWQuIEhvd2V2ZXIsIGZvciBBUEkgY29ycmVjdG5lc3MgcHVycG9zZXMsIHdlIG11c3QgcmVseSBvblxuLy8ga25vd24sIGRldGVjdGFibGUgc2lnbmFscyB0byBkaXN0aW5ndWlzaCBpT1MgU2FmYXJpIGZyb20gTWFjT1MgU2FmYXJpLiBBdCB0aGVcbi8vIHRpbWUgb2YgdGhpcyB3cml0aW5nLCB0aGVyZSBhcmUgbm8gbm9uLWlPUy9pUGFkT1MgQXBwbGUgZGV2aWNlcyB3aXRoXG4vLyBtdWx0aS10b3VjaCBkaXNwbGF5cy5cbi8vIEBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTc3NjU5NTgvaG93LXRvLWRldGVjdC1pcGFkLWFuZC1pcGFkLW9zLXZlcnNpb24taW4taW9zLTEzLWFuZC11cFxuLy8gQHNlZSBodHRwczovL2ZvcnVtcy5kZXZlbG9wZXIuYXBwbGUuY29tL3RocmVhZC8xMTkxODZcbi8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9tb2RlbC12aWV3ZXIvaXNzdWVzLzc1OFxuZXhwb3J0IGNvbnN0IElTX0lPUyA9ICgvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhc2VsZi5NU1N0cmVhbSkgfHxcbiAgICAobmF2aWdhdG9yLnBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEpO1xuLy8gQHNlZSBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL211bHRpZGV2aWNlL3VzZXItYWdlbnRcbmV4cG9ydCBjb25zdCBJU19TQUZBUkkgPSAvU2FmYXJpXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuZXhwb3J0IGNvbnN0IElTX0ZJUkVGT1ggPSAvZmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5leHBvcnQgY29uc3QgSVNfT0NVTFVTID0gL09jdWx1c0Jyb3dzZXIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5leHBvcnQgY29uc3QgSVNfSU9TX0NIUk9NRSA9IElTX0lPUyAmJiAvQ3JpT1NcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5leHBvcnQgY29uc3QgSVNfSU9TX1NBRkFSSSA9IElTX0lPUyAmJiBJU19TQUZBUkk7XG5leHBvcnQgY29uc3QgSVNfU0NFTkVWSUVXRVJfQ0FORElEQVRFID0gSVNfQU5EUk9JRCAmJiAhSVNfRklSRUZPWCAmJiAhSVNfT0NVTFVTO1xuZXhwb3J0IGNvbnN0IElTX1dLV0VCVklFVyA9IEJvb2xlYW4od2luZG93LndlYmtpdCAmJiB3aW5kb3cud2Via2l0Lm1lc3NhZ2VIYW5kbGVycyk7XG4vLyBJZiBydW5uaW5nIGluIGlPUyBTYWZhcmkgcHJvcGVyLCBhbmQgbm90IHdpdGhpbiBhIFdLV2ViVmlldyBjb21wb25lbnQgaW5zdGFuY2UsIGNoZWNrIGZvciBBUlFMIGZlYXR1cmUgc3VwcG9ydC5cbi8vIE90aGVyd2lzZSwgaWYgcnVubmluZyBpbiBhIFdLV2ViVmlldyBpbnN0YW5jZSwgY2hlY2sgZm9yIGtub3duIEFSUUwgY29tcGF0aWJsZSBpT1MgYnJvd3NlcnMsIGluY2x1ZGluZzpcbi8vIENocm9tZSAoQ3JpT1MpLCBFZGdlIChFZGdpT1MpLCBGaXJlZm94IChGeGlPUyksIEdvb2dsZSBBcHAgKEdTQSksIER1Y2tEdWNrR28gKER1Y2tEdWNrR28pLlxuLy8gQWxsIG90aGVyIGlPUyBicm93c2VycyAvIGFwcHMgd2lsbCBmYWlsIGJ5IGRlZmF1bHQuXG5leHBvcnQgY29uc3QgSVNfQVJfUVVJQ0tMT09LX0NBTkRJREFURSA9ICgoKSA9PiB7XG4gICAgaWYgKElTX0lPUykge1xuICAgICAgICBpZiAoIUlTX1dLV0VCVklFVykge1xuICAgICAgICAgICAgY29uc3QgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKHRlbXBBbmNob3IucmVsTGlzdCAmJiB0ZW1wQW5jaG9yLnJlbExpc3Quc3VwcG9ydHMgJiYgdGVtcEFuY2hvci5yZWxMaXN0LnN1cHBvcnRzKCdhcicpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKC9DcmlPU1xcL3xFZGdpT1NcXC98RnhpT1NcXC98R1NBXFwvfER1Y2tEdWNrR29cXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOlsiSEFTX1dFQlhSX0RFVklDRV9BUEkiLCJuYXZpZ2F0b3IiLCJ4ciIsInNlbGYiLCJYUlNlc3Npb24iLCJpc1Nlc3Npb25TdXBwb3J0ZWQiLCJIQVNfV0VCWFJfSElUX1RFU1RfQVBJIiwicHJvdG90eXBlIiwicmVxdWVzdEhpdFRlc3RTb3VyY2UiLCJIQVNfUkVTSVpFX09CU0VSVkVSIiwiUmVzaXplT2JzZXJ2ZXIiLCJIQVNfSU5URVJTRUNUSU9OX09CU0VSVkVSIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJJU19XRUJYUl9BUl9DQU5ESURBVEUiLCJJU19NT0JJTEUiLCJ1c2VyQWdlbnQiLCJ2ZW5kb3IiLCJvcGVyYSIsImNoZWNrIiwidGVzdCIsInN1YnN0ciIsIklTX0NIUk9NRU9TIiwiSVNfQU5EUk9JRCIsIklTX0lPUyIsIk1TU3RyZWFtIiwicGxhdGZvcm0iLCJtYXhUb3VjaFBvaW50cyIsIklTX1NBRkFSSSIsIklTX0ZJUkVGT1giLCJJU19PQ1VMVVMiLCJJU19JT1NfQ0hST01FIiwiSVNfSU9TX1NBRkFSSSIsIklTX1NDRU5FVklFV0VSX0NBTkRJREFURSIsIklTX1dLV0VCVklFVyIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJ3ZWJraXQiLCJtZXNzYWdlSGFuZGxlcnMiLCJJU19BUl9RVUlDS0xPT0tfQ0FORElEQVRFIiwidGVtcEFuY2hvciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInJlbExpc3QiLCJzdXBwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/decorators.js":
/*!*************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/decorators.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   style: () => (/* binding */ style)\n/* harmony export */ });\n/* harmony import */ var _styles_evaluators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/evaluators */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/evaluators.js\");\n/* harmony import */ var _styles_parsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles/parsers */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* harmony import */ var _styles_style_effector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/style-effector */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/style-effector.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n/**\n * The @style decorator is responsible for coordinating the conversion of a\n * CSS-like string property value into numbers that can be applied to\n * lower-level constructs. It also can optionally manage the lifecycle of a\n * StyleEffector which allows automatic updates for styles that use env() or\n * var() functions.\n *\n * The decorator is configured with Intrinsics and the property key for a\n * method that handles updates. The named update handler is invoked with the\n * result of parsing and evaluating the raw property string value. The format of\n * the evaluated result is derived from the basis of the configured Intrinsics,\n * and is always an array of numbers of fixed length.\n *\n * NOTE: This decorator depends on the property updating mechanism defined by\n * UpdatingElement as exported by the lit-element module. That means it *must*\n * be used in conjunction with the @property decorator, or equivalent\n * JavaScript.\n *\n * Supported configurations are:\n *\n *  - `intrinsics`: An Intrinsics struct that describes how to interpret a\n * serialized style attribute. For more detail on intrinsics see\n * ./styles/evaluators.ts\n *  - `updateHandler`: A string or Symbol that is the key of a method to be\n * invoked with the result of parsing and evaluating a serialized style string.\n *  - `observeEffects`: Optional, if set to true then styles that use env() will\n * cause their update handlers to be invoked every time the corresponding\n * environment variable changes (even if the style attribute itself remains\n * static).\n */ const style = (config)=>{\n    const observeEffects = config.observeEffects || false;\n    const getIntrinsics = config.intrinsics instanceof Function ? config.intrinsics : ()=>config.intrinsics;\n    return (proto, propertyName)=>{\n        const originalUpdated = proto.updated;\n        const originalConnectedCallback = proto.connectedCallback;\n        const originalDisconnectedCallback = proto.disconnectedCallback;\n        const $styleEffector = Symbol(`${propertyName}StyleEffector`);\n        const $styleEvaluator = Symbol(`${propertyName}StyleEvaluator`);\n        const $updateEvaluator = Symbol(`${propertyName}UpdateEvaluator`);\n        const $evaluateAndSync = Symbol(`${propertyName}EvaluateAndSync`);\n        Object.defineProperties(proto, {\n            [$styleEffector]: {\n                value: null,\n                writable: true\n            },\n            [$styleEvaluator]: {\n                value: null,\n                writable: true\n            },\n            [$updateEvaluator]: {\n                value: function() {\n                    const ast = (0,_styles_parsers__WEBPACK_IMPORTED_MODULE_1__.parseExpressions)(this[propertyName]);\n                    this[$styleEvaluator] = new _styles_evaluators__WEBPACK_IMPORTED_MODULE_0__.StyleEvaluator(ast, getIntrinsics(this));\n                    if (this[$styleEffector] == null && observeEffects) {\n                        this[$styleEffector] = new _styles_style_effector__WEBPACK_IMPORTED_MODULE_2__.StyleEffector(()=>this[$evaluateAndSync]());\n                    }\n                    if (this[$styleEffector] != null) {\n                        this[$styleEffector].observeEffectsFor(ast);\n                    }\n                }\n            },\n            [$evaluateAndSync]: {\n                value: function() {\n                    if (this[$styleEvaluator] == null) {\n                        return;\n                    }\n                    const result = this[$styleEvaluator].evaluate();\n                    // @see https://github.com/microsoft/TypeScript/pull/30769\n                    // @see https://github.com/Microsoft/TypeScript/issues/1863\n                    this[config.updateHandler](result);\n                }\n            },\n            updated: {\n                value: function(changedProperties) {\n                    // Always invoke updates to styles first. This gives a class that\n                    // uses this decorator the opportunity to override the effect, or\n                    // respond to it, in its own implementation of `updated`.\n                    if (changedProperties.has(propertyName)) {\n                        this[$updateEvaluator]();\n                        this[$evaluateAndSync]();\n                    }\n                    originalUpdated.call(this, changedProperties);\n                }\n            },\n            connectedCallback: {\n                value: function() {\n                    originalConnectedCallback.call(this);\n                    this.requestUpdate(propertyName, this[propertyName]);\n                }\n            },\n            disconnectedCallback: {\n                value: function() {\n                    originalDisconnectedCallback.call(this);\n                    if (this[$styleEffector] != null) {\n                        this[$styleEffector].dispose();\n                        this[$styleEffector] = null;\n                    }\n                }\n            }\n        });\n    };\n}; //# sourceMappingURL=decorators.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2RlY29yYXRvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDb0Q7QUFDRDtBQUNJO0FBQ3hEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQTZCQyxHQUNNLE1BQU1HLFFBQVEsQ0FBQ0M7SUFDbEIsTUFBTUMsaUJBQWlCRCxPQUFPQyxjQUFjLElBQUk7SUFDaEQsTUFBTUMsZ0JBQWdCRixPQUFPRyxVQUFVLFlBQVlDLFdBQy9DSixPQUFPRyxVQUFVLEdBQ2hCLElBQU1ILE9BQU9HLFVBQVU7SUFDNUIsT0FBTyxDQUFDRSxPQUFPQztRQUNYLE1BQU1DLGtCQUFrQkYsTUFBTUcsT0FBTztRQUNyQyxNQUFNQyw0QkFBNEJKLE1BQU1LLGlCQUFpQjtRQUN6RCxNQUFNQywrQkFBK0JOLE1BQU1PLG9CQUFvQjtRQUMvRCxNQUFNQyxpQkFBaUJDLE9BQU8sQ0FBQyxFQUFFUixhQUFhLGFBQWEsQ0FBQztRQUM1RCxNQUFNUyxrQkFBa0JELE9BQU8sQ0FBQyxFQUFFUixhQUFhLGNBQWMsQ0FBQztRQUM5RCxNQUFNVSxtQkFBbUJGLE9BQU8sQ0FBQyxFQUFFUixhQUFhLGVBQWUsQ0FBQztRQUNoRSxNQUFNVyxtQkFBbUJILE9BQU8sQ0FBQyxFQUFFUixhQUFhLGVBQWUsQ0FBQztRQUNoRVksT0FBT0MsZ0JBQWdCLENBQUNkLE9BQU87WUFDM0IsQ0FBQ1EsZUFBZSxFQUFFO2dCQUFFTyxPQUFPO2dCQUFNQyxVQUFVO1lBQUs7WUFDaEQsQ0FBQ04sZ0JBQWdCLEVBQUU7Z0JBQUVLLE9BQU87Z0JBQU1DLFVBQVU7WUFBSztZQUNqRCxDQUFDTCxpQkFBaUIsRUFBRTtnQkFDaEJJLE9BQU87b0JBQ0gsTUFBTUUsTUFBTXpCLGlFQUFnQkEsQ0FBQyxJQUFJLENBQUNTLGFBQWE7b0JBQy9DLElBQUksQ0FBQ1MsZ0JBQWdCLEdBQ2pCLElBQUluQiw4REFBY0EsQ0FBQzBCLEtBQUtwQixjQUFjLElBQUk7b0JBQzlDLElBQUksSUFBSSxDQUFDVyxlQUFlLElBQUksUUFBUVosZ0JBQWdCO3dCQUNoRCxJQUFJLENBQUNZLGVBQWUsR0FDaEIsSUFBSWYsaUVBQWFBLENBQUMsSUFBTSxJQUFJLENBQUNtQixpQkFBaUI7b0JBQ3REO29CQUNBLElBQUksSUFBSSxDQUFDSixlQUFlLElBQUksTUFBTTt3QkFDOUIsSUFBSSxDQUFDQSxlQUFlLENBQUNVLGlCQUFpQixDQUFDRDtvQkFDM0M7Z0JBQ0o7WUFDSjtZQUNBLENBQUNMLGlCQUFpQixFQUFFO2dCQUNoQkcsT0FBTztvQkFDSCxJQUFJLElBQUksQ0FBQ0wsZ0JBQWdCLElBQUksTUFBTTt3QkFDL0I7b0JBQ0o7b0JBQ0EsTUFBTVMsU0FBUyxJQUFJLENBQUNULGdCQUFnQixDQUFDVSxRQUFRO29CQUM3QywwREFBMEQ7b0JBQzFELDJEQUEyRDtvQkFDM0QsSUFBSSxDQUFDekIsT0FBTzBCLGFBQWEsQ0FBQyxDQUFDRjtnQkFDL0I7WUFDSjtZQUNBaEIsU0FBUztnQkFDTFksT0FBTyxTQUFVTyxpQkFBaUI7b0JBQzlCLGlFQUFpRTtvQkFDakUsaUVBQWlFO29CQUNqRSx5REFBeUQ7b0JBQ3pELElBQUlBLGtCQUFrQkMsR0FBRyxDQUFDdEIsZUFBZTt3QkFDckMsSUFBSSxDQUFDVSxpQkFBaUI7d0JBQ3RCLElBQUksQ0FBQ0MsaUJBQWlCO29CQUMxQjtvQkFDQVYsZ0JBQWdCc0IsSUFBSSxDQUFDLElBQUksRUFBRUY7Z0JBQy9CO1lBQ0o7WUFDQWpCLG1CQUFtQjtnQkFDZlUsT0FBTztvQkFDSFgsMEJBQTBCb0IsSUFBSSxDQUFDLElBQUk7b0JBQ25DLElBQUksQ0FBQ0MsYUFBYSxDQUFDeEIsY0FBYyxJQUFJLENBQUNBLGFBQWE7Z0JBQ3ZEO1lBQ0o7WUFDQU0sc0JBQXNCO2dCQUNsQlEsT0FBTztvQkFDSFQsNkJBQTZCa0IsSUFBSSxDQUFDLElBQUk7b0JBQ3RDLElBQUksSUFBSSxDQUFDaEIsZUFBZSxJQUFJLE1BQU07d0JBQzlCLElBQUksQ0FBQ0EsZUFBZSxDQUFDa0IsT0FBTzt3QkFDNUIsSUFBSSxDQUFDbEIsZUFBZSxHQUFHO29CQUMzQjtnQkFDSjtZQUNKO1FBQ0o7SUFDSjtBQUNKLEVBQUUsQ0FDRixzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9kZWNvcmF0b3JzLmpzP2E4MTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgU3R5bGVFdmFsdWF0b3IgfSBmcm9tICcuL3N0eWxlcy9ldmFsdWF0b3JzJztcbmltcG9ydCB7IHBhcnNlRXhwcmVzc2lvbnMgfSBmcm9tICcuL3N0eWxlcy9wYXJzZXJzJztcbmltcG9ydCB7IFN0eWxlRWZmZWN0b3IgfSBmcm9tICcuL3N0eWxlcy9zdHlsZS1lZmZlY3Rvcic7XG4vKipcbiAqIFRoZSBAc3R5bGUgZGVjb3JhdG9yIGlzIHJlc3BvbnNpYmxlIGZvciBjb29yZGluYXRpbmcgdGhlIGNvbnZlcnNpb24gb2YgYVxuICogQ1NTLWxpa2Ugc3RyaW5nIHByb3BlcnR5IHZhbHVlIGludG8gbnVtYmVycyB0aGF0IGNhbiBiZSBhcHBsaWVkIHRvXG4gKiBsb3dlci1sZXZlbCBjb25zdHJ1Y3RzLiBJdCBhbHNvIGNhbiBvcHRpb25hbGx5IG1hbmFnZSB0aGUgbGlmZWN5Y2xlIG9mIGFcbiAqIFN0eWxlRWZmZWN0b3Igd2hpY2ggYWxsb3dzIGF1dG9tYXRpYyB1cGRhdGVzIGZvciBzdHlsZXMgdGhhdCB1c2UgZW52KCkgb3JcbiAqIHZhcigpIGZ1bmN0aW9ucy5cbiAqXG4gKiBUaGUgZGVjb3JhdG9yIGlzIGNvbmZpZ3VyZWQgd2l0aCBJbnRyaW5zaWNzIGFuZCB0aGUgcHJvcGVydHkga2V5IGZvciBhXG4gKiBtZXRob2QgdGhhdCBoYW5kbGVzIHVwZGF0ZXMuIFRoZSBuYW1lZCB1cGRhdGUgaGFuZGxlciBpcyBpbnZva2VkIHdpdGggdGhlXG4gKiByZXN1bHQgb2YgcGFyc2luZyBhbmQgZXZhbHVhdGluZyB0aGUgcmF3IHByb3BlcnR5IHN0cmluZyB2YWx1ZS4gVGhlIGZvcm1hdCBvZlxuICogdGhlIGV2YWx1YXRlZCByZXN1bHQgaXMgZGVyaXZlZCBmcm9tIHRoZSBiYXNpcyBvZiB0aGUgY29uZmlndXJlZCBJbnRyaW5zaWNzLFxuICogYW5kIGlzIGFsd2F5cyBhbiBhcnJheSBvZiBudW1iZXJzIG9mIGZpeGVkIGxlbmd0aC5cbiAqXG4gKiBOT1RFOiBUaGlzIGRlY29yYXRvciBkZXBlbmRzIG9uIHRoZSBwcm9wZXJ0eSB1cGRhdGluZyBtZWNoYW5pc20gZGVmaW5lZCBieVxuICogVXBkYXRpbmdFbGVtZW50IGFzIGV4cG9ydGVkIGJ5IHRoZSBsaXQtZWxlbWVudCBtb2R1bGUuIFRoYXQgbWVhbnMgaXQgKm11c3QqXG4gKiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIEBwcm9wZXJ0eSBkZWNvcmF0b3IsIG9yIGVxdWl2YWxlbnRcbiAqIEphdmFTY3JpcHQuXG4gKlxuICogU3VwcG9ydGVkIGNvbmZpZ3VyYXRpb25zIGFyZTpcbiAqXG4gKiAgLSBgaW50cmluc2ljc2A6IEFuIEludHJpbnNpY3Mgc3RydWN0IHRoYXQgZGVzY3JpYmVzIGhvdyB0byBpbnRlcnByZXQgYVxuICogc2VyaWFsaXplZCBzdHlsZSBhdHRyaWJ1dGUuIEZvciBtb3JlIGRldGFpbCBvbiBpbnRyaW5zaWNzIHNlZVxuICogLi9zdHlsZXMvZXZhbHVhdG9ycy50c1xuICogIC0gYHVwZGF0ZUhhbmRsZXJgOiBBIHN0cmluZyBvciBTeW1ib2wgdGhhdCBpcyB0aGUga2V5IG9mIGEgbWV0aG9kIHRvIGJlXG4gKiBpbnZva2VkIHdpdGggdGhlIHJlc3VsdCBvZiBwYXJzaW5nIGFuZCBldmFsdWF0aW5nIGEgc2VyaWFsaXplZCBzdHlsZSBzdHJpbmcuXG4gKiAgLSBgb2JzZXJ2ZUVmZmVjdHNgOiBPcHRpb25hbCwgaWYgc2V0IHRvIHRydWUgdGhlbiBzdHlsZXMgdGhhdCB1c2UgZW52KCkgd2lsbFxuICogY2F1c2UgdGhlaXIgdXBkYXRlIGhhbmRsZXJzIHRvIGJlIGludm9rZWQgZXZlcnkgdGltZSB0aGUgY29ycmVzcG9uZGluZ1xuICogZW52aXJvbm1lbnQgdmFyaWFibGUgY2hhbmdlcyAoZXZlbiBpZiB0aGUgc3R5bGUgYXR0cmlidXRlIGl0c2VsZiByZW1haW5zXG4gKiBzdGF0aWMpLlxuICovXG5leHBvcnQgY29uc3Qgc3R5bGUgPSAoY29uZmlnKSA9PiB7XG4gICAgY29uc3Qgb2JzZXJ2ZUVmZmVjdHMgPSBjb25maWcub2JzZXJ2ZUVmZmVjdHMgfHwgZmFsc2U7XG4gICAgY29uc3QgZ2V0SW50cmluc2ljcyA9IGNvbmZpZy5pbnRyaW5zaWNzIGluc3RhbmNlb2YgRnVuY3Rpb24gP1xuICAgICAgICBjb25maWcuaW50cmluc2ljcyA6XG4gICAgICAgICgoKSA9PiBjb25maWcuaW50cmluc2ljcyk7XG4gICAgcmV0dXJuIChwcm90bywgcHJvcGVydHlOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVXBkYXRlZCA9IHByb3RvLnVwZGF0ZWQ7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsQ29ubmVjdGVkQ2FsbGJhY2sgPSBwcm90by5jb25uZWN0ZWRDYWxsYmFjaztcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxEaXNjb25uZWN0ZWRDYWxsYmFjayA9IHByb3RvLmRpc2Nvbm5lY3RlZENhbGxiYWNrO1xuICAgICAgICBjb25zdCAkc3R5bGVFZmZlY3RvciA9IFN5bWJvbChgJHtwcm9wZXJ0eU5hbWV9U3R5bGVFZmZlY3RvcmApO1xuICAgICAgICBjb25zdCAkc3R5bGVFdmFsdWF0b3IgPSBTeW1ib2woYCR7cHJvcGVydHlOYW1lfVN0eWxlRXZhbHVhdG9yYCk7XG4gICAgICAgIGNvbnN0ICR1cGRhdGVFdmFsdWF0b3IgPSBTeW1ib2woYCR7cHJvcGVydHlOYW1lfVVwZGF0ZUV2YWx1YXRvcmApO1xuICAgICAgICBjb25zdCAkZXZhbHVhdGVBbmRTeW5jID0gU3ltYm9sKGAke3Byb3BlcnR5TmFtZX1FdmFsdWF0ZUFuZFN5bmNgKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocHJvdG8sIHtcbiAgICAgICAgICAgIFskc3R5bGVFZmZlY3Rvcl06IHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICBbJHN0eWxlRXZhbHVhdG9yXTogeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgIFskdXBkYXRlRXZhbHVhdG9yXToge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzdCA9IHBhcnNlRXhwcmVzc2lvbnModGhpc1twcm9wZXJ0eU5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skc3R5bGVFdmFsdWF0b3JdID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTdHlsZUV2YWx1YXRvcihhc3QsIGdldEludHJpbnNpY3ModGhpcykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1skc3R5bGVFZmZlY3Rvcl0gPT0gbnVsbCAmJiBvYnNlcnZlRWZmZWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skc3R5bGVFZmZlY3Rvcl0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTdHlsZUVmZmVjdG9yKCgpID0+IHRoaXNbJGV2YWx1YXRlQW5kU3luY10oKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbJHN0eWxlRWZmZWN0b3JdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJHN0eWxlRWZmZWN0b3JdLm9ic2VydmVFZmZlY3RzRm9yKGFzdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgWyRldmFsdWF0ZUFuZFN5bmNdOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbJHN0eWxlRXZhbHVhdG9yXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpc1skc3R5bGVFdmFsdWF0b3JdLmV2YWx1YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L3B1bGwvMzA3NjlcbiAgICAgICAgICAgICAgICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzE4NjNcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tjb25maWcudXBkYXRlSGFuZGxlcl0ocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlZDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIGludm9rZSB1cGRhdGVzIHRvIHN0eWxlcyBmaXJzdC4gVGhpcyBnaXZlcyBhIGNsYXNzIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gdXNlcyB0aGlzIGRlY29yYXRvciB0aGUgb3Bwb3J0dW5pdHkgdG8gb3ZlcnJpZGUgdGhlIGVmZmVjdCwgb3JcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzcG9uZCB0byBpdCwgaW4gaXRzIG93biBpbXBsZW1lbnRhdGlvbiBvZiBgdXBkYXRlZGAuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMocHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skdXBkYXRlRXZhbHVhdG9yXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skZXZhbHVhdGVBbmRTeW5jXSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsVXBkYXRlZC5jYWxsKHRoaXMsIGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2s6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbm5lY3RlZENhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZShwcm9wZXJ0eU5hbWUsIHRoaXNbcHJvcGVydHlOYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEaXNjb25uZWN0ZWRDYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1skc3R5bGVFZmZlY3Rvcl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skc3R5bGVFZmZlY3Rvcl0uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skc3R5bGVFZmZlY3Rvcl0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY29yYXRvcnMuanMubWFwIl0sIm5hbWVzIjpbIlN0eWxlRXZhbHVhdG9yIiwicGFyc2VFeHByZXNzaW9ucyIsIlN0eWxlRWZmZWN0b3IiLCJzdHlsZSIsImNvbmZpZyIsIm9ic2VydmVFZmZlY3RzIiwiZ2V0SW50cmluc2ljcyIsImludHJpbnNpY3MiLCJGdW5jdGlvbiIsInByb3RvIiwicHJvcGVydHlOYW1lIiwib3JpZ2luYWxVcGRhdGVkIiwidXBkYXRlZCIsIm9yaWdpbmFsQ29ubmVjdGVkQ2FsbGJhY2siLCJjb25uZWN0ZWRDYWxsYmFjayIsIm9yaWdpbmFsRGlzY29ubmVjdGVkQ2FsbGJhY2siLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsIiRzdHlsZUVmZmVjdG9yIiwiU3ltYm9sIiwiJHN0eWxlRXZhbHVhdG9yIiwiJHVwZGF0ZUV2YWx1YXRvciIsIiRldmFsdWF0ZUFuZFN5bmMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidmFsdWUiLCJ3cml0YWJsZSIsImFzdCIsIm9ic2VydmVFZmZlY3RzRm9yIiwicmVzdWx0IiwiZXZhbHVhdGUiLCJ1cGRhdGVIYW5kbGVyIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJoYXMiLCJjYWxsIiwicmVxdWVzdFVwZGF0ZSIsImRpc3Bvc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/decorators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/animation.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/animation.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimationMixin: () => (/* binding */ AnimationMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var __decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\nconst MILLISECONDS_PER_SECOND = 1000.0;\nconst $changeAnimation = Symbol(\"changeAnimation\");\nconst $paused = Symbol(\"paused\");\nconst DEFAULT_PLAY_OPTIONS = {\n    repetitions: Infinity,\n    pingpong: false\n};\nconst AnimationMixin = (ModelViewerElement)=>{\n    var _a;\n    class AnimationModelViewerElement extends ModelViewerElement {\n        constructor(...args){\n            super(args);\n            this.autoplay = false;\n            this.animationName = undefined;\n            this.animationCrossfadeDuration = 300;\n            this[_a] = true;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].subscribeMixerEvent(\"loop\", (e)=>{\n                const count = e.action._loopCount;\n                this.dispatchEvent(new CustomEvent(\"loop\", {\n                    detail: {\n                        count\n                    }\n                }));\n            });\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].subscribeMixerEvent(\"finished\", ()=>{\n                this[$paused] = true;\n                this.dispatchEvent(new CustomEvent(\"finished\"));\n            });\n        }\n        /**\n         * Returns an array\n         */ get availableAnimations() {\n            if (this.loaded) {\n                return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationNames;\n            }\n            return [];\n        }\n        get duration() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].duration;\n        }\n        get paused() {\n            return this[$paused];\n        }\n        get currentTime() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationTime;\n        }\n        set currentTime(value) {\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationTime = value;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n        }\n        get timeScale() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationTimeScale;\n        }\n        set timeScale(value) {\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationTimeScale = value;\n        }\n        pause() {\n            if (this[$paused]) {\n                return;\n            }\n            this[$paused] = true;\n            this.dispatchEvent(new CustomEvent(\"pause\"));\n        }\n        play(options) {\n            if (this.availableAnimations.length > 0) {\n                this[$paused] = false;\n                this[$changeAnimation](options);\n                this.dispatchEvent(new CustomEvent(\"play\"));\n            }\n        }\n        [(_a = $paused, _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onModelLoad)]() {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onModelLoad]();\n            this[$paused] = true;\n            if (this.autoplay) {\n                this.play();\n            }\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$tick](_time, delta) {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$tick](_time, delta);\n            if (this[$paused] || !this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$getModelIsVisible]() && !this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer].isPresenting) {\n                return;\n            }\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].updateAnimation(delta / MILLISECONDS_PER_SECOND);\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has(\"autoplay\") && this.autoplay) {\n                this.play();\n            }\n            if (changedProperties.has(\"animationName\")) {\n                this[$changeAnimation]();\n            }\n        }\n        [$changeAnimation](options = DEFAULT_PLAY_OPTIONS) {\n            var _b;\n            const repetitions = (_b = options.repetitions) !== null && _b !== void 0 ? _b : Infinity;\n            const mode = options.pingpong ? three__WEBPACK_IMPORTED_MODULE_2__.LoopPingPong : repetitions === 1 ? three__WEBPACK_IMPORTED_MODULE_2__.LoopOnce : three__WEBPACK_IMPORTED_MODULE_2__.LoopRepeat;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].playAnimation(this.animationName, this.animationCrossfadeDuration / MILLISECONDS_PER_SECOND, mode, repetitions);\n            // If we are currently paused, we need to force a render so that\n            // the scene updates to the first frame of the new animation\n            if (this[$paused]) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].updateAnimation(0);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Boolean\n        })\n    ], AnimationModelViewerElement.prototype, \"autoplay\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"animation-name\"\n        })\n    ], AnimationModelViewerElement.prototype, \"animationName\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Number,\n            attribute: \"animation-crossfade-duration\"\n        })\n    ], AnimationModelViewerElement.prototype, \"animationCrossfadeDuration\", void 0);\n    return AnimationModelViewerElement;\n}; //# sourceMappingURL=animation.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2FuaW1hdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUNELElBQUlBLGFBQWEsU0FBSyxJQUFJLFNBQUksQ0FBQ0EsVUFBVSxJQUFLLFNBQVVDLFVBQVUsRUFBRUMsTUFBTSxFQUFFQyxHQUFHLEVBQUVDLElBQUk7SUFDakYsSUFBSUMsSUFBSUMsVUFBVUMsTUFBTSxFQUFFQyxJQUFJSCxJQUFJLElBQUlILFNBQVNFLFNBQVMsT0FBT0EsT0FBT0ssT0FBT0Msd0JBQXdCLENBQUNSLFFBQVFDLE9BQU9DLE1BQU1PO0lBQzNILElBQUksT0FBT0MsWUFBWSxZQUFZLE9BQU9BLFFBQVFDLFFBQVEsS0FBSyxZQUFZTCxJQUFJSSxRQUFRQyxRQUFRLENBQUNaLFlBQVlDLFFBQVFDLEtBQUtDO1NBQ3BILElBQUssSUFBSVUsSUFBSWIsV0FBV00sTUFBTSxHQUFHLEdBQUdPLEtBQUssR0FBR0EsSUFBSyxJQUFJSCxJQUFJVixVQUFVLENBQUNhLEVBQUUsRUFBRU4sSUFBSSxDQUFDSCxJQUFJLElBQUlNLEVBQUVILEtBQUtILElBQUksSUFBSU0sRUFBRVQsUUFBUUMsS0FBS0ssS0FBS0csRUFBRVQsUUFBUUMsSUFBRyxLQUFNSztJQUNoSixPQUFPSCxJQUFJLEtBQUtHLEtBQUtDLE9BQU9NLGNBQWMsQ0FBQ2IsUUFBUUMsS0FBS0ssSUFBSUE7QUFDaEU7QUFDNkM7QUFDYztBQUN3RDtBQUNuSCxNQUFNa0IsMEJBQTBCO0FBQ2hDLE1BQU1DLG1CQUFtQkMsT0FBTztBQUNoQyxNQUFNQyxVQUFVRCxPQUFPO0FBQ3ZCLE1BQU1FLHVCQUF1QjtJQUN6QkMsYUFBYUM7SUFDYkMsVUFBVTtBQUNkO0FBQ08sTUFBTUMsaUJBQWlCLENBQUNDO0lBQzNCLElBQUlDO0lBQ0osTUFBTUMsb0NBQW9DRjtRQUN0Q0csWUFBWSxHQUFHQyxJQUFJLENB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QVc7UUFDUGdCLDJEQUFRQSxDQUFDO1lBQUUyRCxNQUFNSztZQUFRRCxXQUFXO1FBQStCO0tBQ3RFLEVBQUUxQyw0QkFBNEJ3QyxTQUFTLEVBQUUsOEJBQThCLEtBQUs7SUFDN0UsT0FBT3hDO0FBQ1gsRUFBRSxDQUNGLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2FuaW1hdGlvbi5qcz8yZjJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgTG9vcE9uY2UsIExvb3BQaW5nUG9uZywgTG9vcFJlcGVhdCB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7ICRnZXRNb2RlbElzVmlzaWJsZSwgJG5lZWRzUmVuZGVyLCAkb25Nb2RlbExvYWQsICRyZW5kZXJlciwgJHNjZW5lLCAkdGljayB9IGZyb20gJy4uL21vZGVsLXZpZXdlci1iYXNlLmpzJztcbmNvbnN0IE1JTExJU0VDT05EU19QRVJfU0VDT05EID0gMTAwMC4wO1xuY29uc3QgJGNoYW5nZUFuaW1hdGlvbiA9IFN5bWJvbCgnY2hhbmdlQW5pbWF0aW9uJyk7XG5jb25zdCAkcGF1c2VkID0gU3ltYm9sKCdwYXVzZWQnKTtcbmNvbnN0IERFRkFVTFRfUExBWV9PUFRJT05TID0ge1xuICAgIHJlcGV0aXRpb25zOiBJbmZpbml0eSxcbiAgICBwaW5ncG9uZzogZmFsc2Vcbn07XG5leHBvcnQgY29uc3QgQW5pbWF0aW9uTWl4aW4gPSAoTW9kZWxWaWV3ZXJFbGVtZW50KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNsYXNzIEFuaW1hdGlvbk1vZGVsVmlld2VyRWxlbWVudCBleHRlbmRzIE1vZGVsVmlld2VyRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHN1cGVyKGFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25OYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Dcm9zc2ZhZGVEdXJhdGlvbiA9IDMwMDtcbiAgICAgICAgICAgIHRoaXNbX2FdID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5zdWJzY3JpYmVNaXhlckV2ZW50KCdsb29wJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IGUuYWN0aW9uLl9sb29wQ291bnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbG9vcCcsIHsgZGV0YWlsOiB7IGNvdW50IH0gfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzWyRzY2VuZV0uc3Vic2NyaWJlTWl4ZXJFdmVudCgnZmluaXNoZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpc1skcGF1c2VkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZmluaXNoZWQnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhbiBhcnJheVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGF2YWlsYWJsZUFuaW1hdGlvbnMoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1skc2NlbmVdLmFuaW1hdGlvbk5hbWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGdldCBkdXJhdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRzY2VuZV0uZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHBhdXNlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRwYXVzZWRdO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRzY2VuZV0uYW5pbWF0aW9uVGltZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY3VycmVudFRpbWUodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5hbmltYXRpb25UaW1lID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzWyRuZWVkc1JlbmRlcl0oKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgdGltZVNjYWxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJHNjZW5lXS5hbmltYXRpb25UaW1lU2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHRpbWVTY2FsZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpc1skc2NlbmVdLmFuaW1hdGlvblRpbWVTY2FsZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHBhdXNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXNbJHBhdXNlZF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzWyRwYXVzZWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3BhdXNlJykpO1xuICAgICAgICB9XG4gICAgICAgIHBsYXkob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXZhaWxhYmxlQW5pbWF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skcGF1c2VkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXNbJGNoYW5nZUFuaW1hdGlvbl0ob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncGxheScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBbKF9hID0gJHBhdXNlZCwgJG9uTW9kZWxMb2FkKV0oKSB7XG4gICAgICAgICAgICBzdXBlclskb25Nb2RlbExvYWRdKCk7XG4gICAgICAgICAgICB0aGlzWyRwYXVzZWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9wbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgWyR0aWNrXShfdGltZSwgZGVsdGEpIHtcbiAgICAgICAgICAgIHN1cGVyWyR0aWNrXShfdGltZSwgZGVsdGEpO1xuICAgICAgICAgICAgaWYgKHRoaXNbJHBhdXNlZF0gfHxcbiAgICAgICAgICAgICAgICAoIXRoaXNbJGdldE1vZGVsSXNWaXNpYmxlXSgpICYmICF0aGlzWyRyZW5kZXJlcl0uaXNQcmVzZW50aW5nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbJHNjZW5lXS51cGRhdGVBbmltYXRpb24oZGVsdGEgLyBNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCk7XG4gICAgICAgICAgICB0aGlzWyRuZWVkc1JlbmRlcl0oKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2F1dG9wbGF5JykgJiYgdGhpcy5hdXRvcGxheSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnYW5pbWF0aW9uTmFtZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skY2hhbmdlQW5pbWF0aW9uXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFskY2hhbmdlQW5pbWF0aW9uXShvcHRpb25zID0gREVGQVVMVF9QTEFZX09QVElPTlMpIHtcbiAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgIGNvbnN0IHJlcGV0aXRpb25zID0gKF9iID0gb3B0aW9ucy5yZXBldGl0aW9ucykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogSW5maW5pdHk7XG4gICAgICAgICAgICBjb25zdCBtb2RlID0gb3B0aW9ucy5waW5ncG9uZyA/XG4gICAgICAgICAgICAgICAgTG9vcFBpbmdQb25nIDpcbiAgICAgICAgICAgICAgICAocmVwZXRpdGlvbnMgPT09IDEgPyBMb29wT25jZSA6IExvb3BSZXBlYXQpO1xuICAgICAgICAgICAgdGhpc1skc2NlbmVdLnBsYXlBbmltYXRpb24odGhpcy5hbmltYXRpb25OYW1lLCB0aGlzLmFuaW1hdGlvbkNyb3NzZmFkZUR1cmF0aW9uIC8gTUlMTElTRUNPTkRTX1BFUl9TRUNPTkQsIG1vZGUsIHJlcGV0aXRpb25zKTtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgcGF1c2VkLCB3ZSBuZWVkIHRvIGZvcmNlIGEgcmVuZGVyIHNvIHRoYXRcbiAgICAgICAgICAgIC8vIHRoZSBzY2VuZSB1cGRhdGVzIHRvIHRoZSBmaXJzdCBmcmFtZSBvZiB0aGUgbmV3IGFuaW1hdGlvblxuICAgICAgICAgICAgaWYgKHRoaXNbJHBhdXNlZF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0udXBkYXRlQW5pbWF0aW9uKDApO1xuICAgICAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbiAgICBdLCBBbmltYXRpb25Nb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImF1dG9wbGF5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhbmltYXRpb24tbmFtZScgfSlcbiAgICBdLCBBbmltYXRpb25Nb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvbk5hbWVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ2FuaW1hdGlvbi1jcm9zc2ZhZGUtZHVyYXRpb24nIH0pXG4gICAgXSwgQW5pbWF0aW9uTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25Dcm9zc2ZhZGVEdXJhdGlvblwiLCB2b2lkIDApO1xuICAgIHJldHVybiBBbmltYXRpb25Nb2RlbFZpZXdlckVsZW1lbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6WyJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJjIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImQiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJwcm9wZXJ0eSIsIkxvb3BPbmNlIiwiTG9vcFBpbmdQb25nIiwiTG9vcFJlcGVhdCIsIiRnZXRNb2RlbElzVmlzaWJsZSIsIiRuZWVkc1JlbmRlciIsIiRvbk1vZGVsTG9hZCIsIiRyZW5kZXJlciIsIiRzY2VuZSIsIiR0aWNrIiwiTUlMTElTRUNPTkRTX1BFUl9TRUNPTkQiLCIkY2hhbmdlQW5pbWF0aW9uIiwiU3ltYm9sIiwiJHBhdXNlZCIsIkRFRkFVTFRfUExBWV9PUFRJT05TIiwicmVwZXRpdGlvbnMiLCJJbmZpbml0eSIsInBpbmdwb25nIiwiQW5pbWF0aW9uTWl4aW4iLCJNb2RlbFZpZXdlckVsZW1lbnQiLCJfYSIsIkFuaW1hdGlvbk1vZGVsVmlld2VyRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiYXJncyIsImF1dG9wbGF5IiwiYW5pbWF0aW9uTmFtZSIsInVuZGVmaW5lZCIsImFuaW1hdGlvbkNyb3NzZmFkZUR1cmF0aW9uIiwic3Vic2NyaWJlTWl4ZXJFdmVudCIsImUiLCJjb3VudCIsImFjdGlvbiIsIl9sb29wQ291bnQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJhdmFpbGFibGVBbmltYXRpb25zIiwibG9hZGVkIiwiYW5pbWF0aW9uTmFtZXMiLCJkdXJhdGlvbiIsInBhdXNlZCIsImN1cnJlbnRUaW1lIiwiYW5pbWF0aW9uVGltZSIsInZhbHVlIiwidGltZVNjYWxlIiwiYW5pbWF0aW9uVGltZVNjYWxlIiwicGF1c2UiLCJwbGF5Iiwib3B0aW9ucyIsIl90aW1lIiwiZGVsdGEiLCJpc1ByZXNlbnRpbmciLCJ1cGRhdGVBbmltYXRpb24iLCJ1cGRhdGVkIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJoYXMiLCJfYiIsIm1vZGUiLCJwbGF5QW5pbWF0aW9uIiwidHlwZSIsIkJvb2xlYW4iLCJwcm90b3R5cGUiLCJTdHJpbmciLCJhdHRyaWJ1dGUiLCJOdW1iZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/animation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/annotation.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/annotation.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationMixin: () => (/* binding */ AnnotationMixin)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _three_components_Hotspot_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../three-components/Hotspot.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Hotspot.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\nconst $hotspotMap = Symbol(\"hotspotMap\");\nconst $mutationCallback = Symbol(\"mutationCallback\");\nconst $observer = Symbol(\"observer\");\nconst $addHotspot = Symbol(\"addHotspot\");\nconst $removeHotspot = Symbol(\"removeHotspot\");\nconst worldToModel = new three__WEBPACK_IMPORTED_MODULE_2__.Matrix4();\nconst worldToModelNormal = new three__WEBPACK_IMPORTED_MODULE_2__.Matrix3();\n/**\n * AnnotationMixin implements a declarative API to add hotspots and annotations.\n * Child elements of the <model-viewer> element that have a slot name that\n * begins with \"hotspot\" and data-position and data-normal attributes in\n * the format of the camera-target attribute will be added to the scene and\n * track the specified model coordinates.\n */ const AnnotationMixin = (ModelViewerElement)=>{\n    var _a, _b, _c;\n    class AnnotationModelViewerElement extends ModelViewerElement {\n        constructor(){\n            super(...arguments);\n            this[_a] = new Map();\n            this[_b] = (mutations)=>{\n                mutations.forEach((mutation)=>{\n                    // NOTE: Be wary that in ShadyDOM cases, the MutationRecord\n                    // only has addedNodes and removedNodes (and no other details).\n                    if (!(mutation instanceof MutationRecord) || mutation.type === \"childList\") {\n                        mutation.addedNodes.forEach((node)=>{\n                            this[$addHotspot](node);\n                        });\n                        mutation.removedNodes.forEach((node)=>{\n                            this[$removeHotspot](node);\n                        });\n                        this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$needsRender]();\n                    }\n                });\n            };\n            this[_c] = new MutationObserver(this[$mutationCallback]);\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            for(let i = 0; i < this.children.length; ++i){\n                this[$addHotspot](this.children[i]);\n            }\n            const { ShadyDOM } = self;\n            if (ShadyDOM == null) {\n                this[$observer].observe(this, {\n                    childList: true\n                });\n            } else {\n                this[$observer] = ShadyDOM.observeChildren(this, this[$mutationCallback]);\n            }\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            const { ShadyDOM } = self;\n            if (ShadyDOM == null) {\n                this[$observer].disconnect();\n            } else {\n                ShadyDOM.unobserveChildren(this[$observer]);\n            }\n        }\n        [(_a = $hotspotMap, _b = $mutationCallback, _c = $observer, _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$tick)](time, delta) {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$tick](time, delta);\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene];\n            const { annotationRenderer } = scene;\n            const camera = scene.getCamera();\n            if (scene.shouldRender()) {\n                scene.updateHotspots(camera.position);\n                annotationRenderer.domElement.style.display = \"\";\n                annotationRenderer.render(scene, camera);\n            }\n        }\n        /**\n         * Since the data-position and data-normal attributes are not observed, use\n         * this method to move a hotspot. Keep in mind that all hotspots with the\n         * same slot name use a single location and the first definition takes\n         * precedence, until updated with this method.\n         */ updateHotspot(config) {\n            const hotspot = this[$hotspotMap].get(config.name);\n            if (hotspot == null) {\n                return;\n            }\n            hotspot.updatePosition(config.position);\n            hotspot.updateNormal(config.normal);\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$needsRender]();\n        }\n        /**\n         * This method returns in-scene data about a requested hotspot including\n         * its position in screen (canvas) space and its current visibility.\n         */ queryHotspot(name) {\n            const hotspot = this[$hotspotMap].get(name);\n            if (hotspot == null) {\n                return null;\n            }\n            const position = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(hotspot.position);\n            const normal = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(hotspot.normal);\n            const facingCamera = hotspot.facingCamera;\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene];\n            const camera = scene.getCamera();\n            const vector = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\n            vector.setFromMatrixPosition(hotspot.matrixWorld);\n            vector.project(camera);\n            const widthHalf = scene.width / 2;\n            const heightHalf = scene.height / 2;\n            vector.x = vector.x * widthHalf + widthHalf;\n            vector.y = -(vector.y * heightHalf) + heightHalf;\n            const canvasPosition = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(vector.x, vector.y, vector.z));\n            if (!Number.isFinite(canvasPosition.x) || !Number.isFinite(canvasPosition.y)) {\n                return null;\n            }\n            return {\n                position,\n                normal,\n                canvasPosition,\n                facingCamera\n            };\n        }\n        /**\n         * This method returns the model position, normal and texture coordinate\n         * of the point on the mesh corresponding to the input pixel coordinates\n         * given relative to the model-viewer element. The position and normal\n         * are returned as strings in the format suitable for putting in a\n         * hotspot's data-position and data-normal attributes. If the mesh is\n         * not hit, the result is null.\n         */ positionAndNormalFromPoint(pixelX, pixelY) {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene];\n            const ndcPosition = scene.getNDC(pixelX, pixelY);\n            const hit = scene.positionAndNormalFromPoint(ndcPosition);\n            if (hit == null) {\n                return null;\n            }\n            worldToModel.copy(scene.target.matrixWorld).invert();\n            const position = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(hit.position.applyMatrix4(worldToModel));\n            worldToModelNormal.getNormalMatrix(worldToModel);\n            const normal = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(hit.normal.applyNormalMatrix(worldToModelNormal));\n            let uv = null;\n            if (hit.uv != null) {\n                uv = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector2D)(hit.uv);\n            }\n            return {\n                position: position,\n                normal: normal,\n                uv: uv\n            };\n        }\n        [$addHotspot](node) {\n            if (!(node instanceof HTMLElement && node.slot.indexOf(\"hotspot\") === 0)) {\n                return;\n            }\n            let hotspot = this[$hotspotMap].get(node.slot);\n            if (hotspot != null) {\n                hotspot.increment();\n            } else {\n                hotspot = new _three_components_Hotspot_js__WEBPACK_IMPORTED_MODULE_1__.Hotspot({\n                    name: node.slot,\n                    position: node.dataset.position,\n                    normal: node.dataset.normal\n                });\n                this[$hotspotMap].set(node.slot, hotspot);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene].addHotspot(hotspot);\n            }\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene].queueRender();\n        }\n        [$removeHotspot](node) {\n            if (!(node instanceof HTMLElement)) {\n                return;\n            }\n            const hotspot = this[$hotspotMap].get(node.slot);\n            if (!hotspot) {\n                return;\n            }\n            if (hotspot.decrement()) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene].removeHotspot(hotspot);\n                this[$hotspotMap].delete(node.slot);\n            }\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene].queueRender();\n        }\n    }\n    return AnnotationModelViewerElement;\n}; //# sourceMappingURL=annotation.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2Fubm90YXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDaUQ7QUFDNEM7QUFDckM7QUFDekQsTUFBTVMsY0FBY0MsT0FBTztBQUMzQixNQUFNQyxvQkFBb0JELE9BQU87QUFDakMsTUFBTUUsWUFBWUYsT0FBTztBQUN6QixNQUFNRyxjQUFjSCxPQUFPO0FBQzNCLE1BQU1JLGlCQUFpQkosT0FBTztBQUM5QixNQUFNSyxlQUFlLElBQUlkLDBDQUFPQTtBQUNoQyxNQUFNZSxxQkFBcUIsSUFBSWhCLDBDQUFPQTtBQUN0Qzs7Ozs7O0NBTUMsR0FDTSxNQUFNaUIsa0JBQWtCLENBQUNDO0lBQzVCLElBQUlDLElBQUlDLElBQUlDO0lBQ1osTUFBTUMscUNBQXFDSjtRQUN2Q0ssYUFBYztZQUNWLEtBQUssSUFBSUM7WUFDVCxJQUFJLENBQUNMLEdBQUcsR0FBRyxJQUFJTTtZQUNmLElBQUksQ0FBQ0wsR0FBRyxHQUFHLENBQUNNO2dCQUNSQSxVQUFVQyxPQUFPLENBQUMsQ0FBQ0M7b0JBQ2YsMkRBQTJEO29CQUMzRCwrREFBK0Q7b0JBQy9ELElBQUksQ0FBRUEsQ0FBQUEsb0JBQW9CQyxjQUFhLEtBQ25DRCxTQUFTRSxJQUFJLEtBQUssYUFBYTt3QkFDL0JGLFNBQVNHLFVBQVUsQ0FBQ0osT0FBTyxDQUFDLENBQUNLOzRCQUN6QixJQUFJLENBQUNuQixZQUFZLENBQUNtQjt3QkFDdEI7d0JBQ0FKLFNBQVNLLFlBQVksQ0FBQ04sT0FBTyxDQUFDLENBQUNLOzRCQUMzQixJQUFJLENBQUNsQixlQUFlLENBQUNrQjt3QkFDekI7d0JBQ0EsSUFBSSxDQUFDN0IsK0RBQVlBLENBQUM7b0JBQ3RCO2dCQUNKO1lBQ0o7WUFDQSxJQUFJLENBQUNrQixHQUFHLEdBQUcsSUFBSWEsaUJBQWlCLElBQUksQ0FBQ3ZCLGtCQUFrQjtRQUMzRDtR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LENBQ0Ysc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvYW5ub3RhdGlvbi5qcz84MDdhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IE1hdHJpeDMsIE1hdHJpeDQsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyAkbmVlZHNSZW5kZXIsICRzY2VuZSwgJHRpY2ssIHRvVmVjdG9yMkQsIHRvVmVjdG9yM0QgfSBmcm9tICcuLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgeyBIb3RzcG90IH0gZnJvbSAnLi4vdGhyZWUtY29tcG9uZW50cy9Ib3RzcG90LmpzJztcbmNvbnN0ICRob3RzcG90TWFwID0gU3ltYm9sKCdob3RzcG90TWFwJyk7XG5jb25zdCAkbXV0YXRpb25DYWxsYmFjayA9IFN5bWJvbCgnbXV0YXRpb25DYWxsYmFjaycpO1xuY29uc3QgJG9ic2VydmVyID0gU3ltYm9sKCdvYnNlcnZlcicpO1xuY29uc3QgJGFkZEhvdHNwb3QgPSBTeW1ib2woJ2FkZEhvdHNwb3QnKTtcbmNvbnN0ICRyZW1vdmVIb3RzcG90ID0gU3ltYm9sKCdyZW1vdmVIb3RzcG90Jyk7XG5jb25zdCB3b3JsZFRvTW9kZWwgPSBuZXcgTWF0cml4NCgpO1xuY29uc3Qgd29ybGRUb01vZGVsTm9ybWFsID0gbmV3IE1hdHJpeDMoKTtcbi8qKlxuICogQW5ub3RhdGlvbk1peGluIGltcGxlbWVudHMgYSBkZWNsYXJhdGl2ZSBBUEkgdG8gYWRkIGhvdHNwb3RzIGFuZCBhbm5vdGF0aW9ucy5cbiAqIENoaWxkIGVsZW1lbnRzIG9mIHRoZSA8bW9kZWwtdmlld2VyPiBlbGVtZW50IHRoYXQgaGF2ZSBhIHNsb3QgbmFtZSB0aGF0XG4gKiBiZWdpbnMgd2l0aCBcImhvdHNwb3RcIiBhbmQgZGF0YS1wb3NpdGlvbiBhbmQgZGF0YS1ub3JtYWwgYXR0cmlidXRlcyBpblxuICogdGhlIGZvcm1hdCBvZiB0aGUgY2FtZXJhLXRhcmdldCBhdHRyaWJ1dGUgd2lsbCBiZSBhZGRlZCB0byB0aGUgc2NlbmUgYW5kXG4gKiB0cmFjayB0aGUgc3BlY2lmaWVkIG1vZGVsIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgY29uc3QgQW5ub3RhdGlvbk1peGluID0gKE1vZGVsVmlld2VyRWxlbWVudCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNsYXNzIEFubm90YXRpb25Nb2RlbFZpZXdlckVsZW1lbnQgZXh0ZW5kcyBNb2RlbFZpZXdlckVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB0aGlzW19hXSA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXNbX2JdID0gKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKChtdXRhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBCZSB3YXJ5IHRoYXQgaW4gU2hhZHlET00gY2FzZXMsIHRoZSBNdXRhdGlvblJlY29yZFxuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGhhcyBhZGRlZE5vZGVzIGFuZCByZW1vdmVkTm9kZXMgKGFuZCBubyBvdGhlciBkZXRhaWxzKS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEobXV0YXRpb24gaW5zdGFuY2VvZiBNdXRhdGlvblJlY29yZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbi5hZGRlZE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyRhZGRIb3RzcG90XShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb24ucmVtb3ZlZE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyRyZW1vdmVIb3RzcG90XShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skbmVlZHNSZW5kZXJdKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzW19jXSA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXNbJG11dGF0aW9uQ2FsbGJhY2tdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRhZGRIb3RzcG90XSh0aGlzLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgU2hhZHlET00gfSA9IHNlbGY7XG4gICAgICAgICAgICBpZiAoU2hhZHlET00gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJG9ic2VydmVyXS5vYnNlcnZlKHRoaXMsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc1skb2JzZXJ2ZXJdID1cbiAgICAgICAgICAgICAgICAgICAgU2hhZHlET00ub2JzZXJ2ZUNoaWxkcmVuKHRoaXMsIHRoaXNbJG11dGF0aW9uQ2FsbGJhY2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICBjb25zdCB7IFNoYWR5RE9NIH0gPSBzZWxmO1xuICAgICAgICAgICAgaWYgKFNoYWR5RE9NID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRvYnNlcnZlcl0uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgU2hhZHlET00udW5vYnNlcnZlQ2hpbGRyZW4odGhpc1skb2JzZXJ2ZXJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBbKF9hID0gJGhvdHNwb3RNYXAsIF9iID0gJG11dGF0aW9uQ2FsbGJhY2ssIF9jID0gJG9ic2VydmVyLCAkdGljayldKHRpbWUsIGRlbHRhKSB7XG4gICAgICAgICAgICBzdXBlclskdGlja10odGltZSwgZGVsdGEpO1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBjb25zdCB7IGFubm90YXRpb25SZW5kZXJlciB9ID0gc2NlbmU7XG4gICAgICAgICAgICBjb25zdCBjYW1lcmEgPSBzY2VuZS5nZXRDYW1lcmEoKTtcbiAgICAgICAgICAgIGlmIChzY2VuZS5zaG91bGRSZW5kZXIoKSkge1xuICAgICAgICAgICAgICAgIHNjZW5lLnVwZGF0ZUhvdHNwb3RzKGNhbWVyYS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvblJlbmRlcmVyLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgICAgIGFubm90YXRpb25SZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpbmNlIHRoZSBkYXRhLXBvc2l0aW9uIGFuZCBkYXRhLW5vcm1hbCBhdHRyaWJ1dGVzIGFyZSBub3Qgb2JzZXJ2ZWQsIHVzZVxuICAgICAgICAgKiB0aGlzIG1ldGhvZCB0byBtb3ZlIGEgaG90c3BvdC4gS2VlcCBpbiBtaW5kIHRoYXQgYWxsIGhvdHNwb3RzIHdpdGggdGhlXG4gICAgICAgICAqIHNhbWUgc2xvdCBuYW1lIHVzZSBhIHNpbmdsZSBsb2NhdGlvbiBhbmQgdGhlIGZpcnN0IGRlZmluaXRpb24gdGFrZXNcbiAgICAgICAgICogcHJlY2VkZW5jZSwgdW50aWwgdXBkYXRlZCB3aXRoIHRoaXMgbWV0aG9kLlxuICAgICAgICAgKi9cbiAgICAgICAgdXBkYXRlSG90c3BvdChjb25maWcpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvdHNwb3QgPSB0aGlzWyRob3RzcG90TWFwXS5nZXQoY29uZmlnLm5hbWUpO1xuICAgICAgICAgICAgaWYgKGhvdHNwb3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhvdHNwb3QudXBkYXRlUG9zaXRpb24oY29uZmlnLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGhvdHNwb3QudXBkYXRlTm9ybWFsKGNvbmZpZy5ub3JtYWwpO1xuICAgICAgICAgICAgdGhpc1skbmVlZHNSZW5kZXJdKCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgaW4tc2NlbmUgZGF0YSBhYm91dCBhIHJlcXVlc3RlZCBob3RzcG90IGluY2x1ZGluZ1xuICAgICAgICAgKiBpdHMgcG9zaXRpb24gaW4gc2NyZWVuIChjYW52YXMpIHNwYWNlIGFuZCBpdHMgY3VycmVudCB2aXNpYmlsaXR5LlxuICAgICAgICAgKi9cbiAgICAgICAgcXVlcnlIb3RzcG90KG5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvdHNwb3QgPSB0aGlzWyRob3RzcG90TWFwXS5nZXQobmFtZSk7XG4gICAgICAgICAgICBpZiAoaG90c3BvdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRvVmVjdG9yM0QoaG90c3BvdC5wb3NpdGlvbik7XG4gICAgICAgICAgICBjb25zdCBub3JtYWwgPSB0b1ZlY3RvcjNEKGhvdHNwb3Qubm9ybWFsKTtcbiAgICAgICAgICAgIGNvbnN0IGZhY2luZ0NhbWVyYSA9IGhvdHNwb3QuZmFjaW5nQ2FtZXJhO1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBjb25zdCBjYW1lcmEgPSBzY2VuZS5nZXRDYW1lcmEoKTtcbiAgICAgICAgICAgIGNvbnN0IHZlY3RvciA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgICAgICB2ZWN0b3Iuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGhvdHNwb3QubWF0cml4V29ybGQpO1xuICAgICAgICAgICAgdmVjdG9yLnByb2plY3QoY2FtZXJhKTtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoSGFsZiA9IHNjZW5lLndpZHRoIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodEhhbGYgPSBzY2VuZS5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgdmVjdG9yLnggPSAodmVjdG9yLnggKiB3aWR0aEhhbGYpICsgd2lkdGhIYWxmO1xuICAgICAgICAgICAgdmVjdG9yLnkgPSAtKHZlY3Rvci55ICogaGVpZ2h0SGFsZikgKyBoZWlnaHRIYWxmO1xuICAgICAgICAgICAgY29uc3QgY2FudmFzUG9zaXRpb24gPSB0b1ZlY3RvcjNEKG5ldyBWZWN0b3IzKHZlY3Rvci54LCB2ZWN0b3IueSwgdmVjdG9yLnopKTtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGNhbnZhc1Bvc2l0aW9uLngpIHx8XG4gICAgICAgICAgICAgICAgIU51bWJlci5pc0Zpbml0ZShjYW52YXNQb3NpdGlvbi55KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgcG9zaXRpb24sIG5vcm1hbCwgY2FudmFzUG9zaXRpb24sIGZhY2luZ0NhbWVyYSB9O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBtb2RlbCBwb3NpdGlvbiwgbm9ybWFsIGFuZCB0ZXh0dXJlIGNvb3JkaW5hdGVcbiAgICAgICAgICogb2YgdGhlIHBvaW50IG9uIHRoZSBtZXNoIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGlucHV0IHBpeGVsIGNvb3JkaW5hdGVzXG4gICAgICAgICAqIGdpdmVuIHJlbGF0aXZlIHRvIHRoZSBtb2RlbC12aWV3ZXIgZWxlbWVudC4gVGhlIHBvc2l0aW9uIGFuZCBub3JtYWxcbiAgICAgICAgICogYXJlIHJldHVybmVkIGFzIHN0cmluZ3MgaW4gdGhlIGZvcm1hdCBzdWl0YWJsZSBmb3IgcHV0dGluZyBpbiBhXG4gICAgICAgICAqIGhvdHNwb3QncyBkYXRhLXBvc2l0aW9uIGFuZCBkYXRhLW5vcm1hbCBhdHRyaWJ1dGVzLiBJZiB0aGUgbWVzaCBpc1xuICAgICAgICAgKiBub3QgaGl0LCB0aGUgcmVzdWx0IGlzIG51bGwuXG4gICAgICAgICAqL1xuICAgICAgICBwb3NpdGlvbkFuZE5vcm1hbEZyb21Qb2ludChwaXhlbFgsIHBpeGVsWSkge1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBjb25zdCBuZGNQb3NpdGlvbiA9IHNjZW5lLmdldE5EQyhwaXhlbFgsIHBpeGVsWSk7XG4gICAgICAgICAgICBjb25zdCBoaXQgPSBzY2VuZS5wb3NpdGlvbkFuZE5vcm1hbEZyb21Qb2ludChuZGNQb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAoaGl0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdvcmxkVG9Nb2RlbC5jb3B5KHNjZW5lLnRhcmdldC5tYXRyaXhXb3JsZCkuaW52ZXJ0KCk7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRvVmVjdG9yM0QoaGl0LnBvc2l0aW9uLmFwcGx5TWF0cml4NCh3b3JsZFRvTW9kZWwpKTtcbiAgICAgICAgICAgIHdvcmxkVG9Nb2RlbE5vcm1hbC5nZXROb3JtYWxNYXRyaXgod29ybGRUb01vZGVsKTtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbCA9IHRvVmVjdG9yM0QoaGl0Lm5vcm1hbC5hcHBseU5vcm1hbE1hdHJpeCh3b3JsZFRvTW9kZWxOb3JtYWwpKTtcbiAgICAgICAgICAgIGxldCB1diA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaGl0LnV2ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB1diA9IHRvVmVjdG9yMkQoaGl0LnV2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHBvc2l0aW9uOiBwb3NpdGlvbiwgbm9ybWFsOiBub3JtYWwsIHV2OiB1diB9O1xuICAgICAgICB9XG4gICAgICAgIFskYWRkSG90c3BvdF0obm9kZSkge1xuICAgICAgICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgbm9kZS5zbG90LmluZGV4T2YoJ2hvdHNwb3QnKSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaG90c3BvdCA9IHRoaXNbJGhvdHNwb3RNYXBdLmdldChub2RlLnNsb3QpO1xuICAgICAgICAgICAgaWYgKGhvdHNwb3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGhvdHNwb3QuaW5jcmVtZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3RzcG90ID0gbmV3IEhvdHNwb3Qoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBub2RlLnNsb3QsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBub2RlLmRhdGFzZXQucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbDogbm9kZS5kYXRhc2V0Lm5vcm1hbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzWyRob3RzcG90TWFwXS5zZXQobm9kZS5zbG90LCBob3RzcG90KTtcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0uYWRkSG90c3BvdChob3RzcG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5xdWV1ZVJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIFskcmVtb3ZlSG90c3BvdF0obm9kZSkge1xuICAgICAgICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhvdHNwb3QgPSB0aGlzWyRob3RzcG90TWFwXS5nZXQobm9kZS5zbG90KTtcbiAgICAgICAgICAgIGlmICghaG90c3BvdCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChob3RzcG90LmRlY3JlbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLnJlbW92ZUhvdHNwb3QoaG90c3BvdCk7XG4gICAgICAgICAgICAgICAgdGhpc1skaG90c3BvdE1hcF0uZGVsZXRlKG5vZGUuc2xvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzWyRzY2VuZV0ucXVldWVSZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQW5ub3RhdGlvbk1vZGVsVmlld2VyRWxlbWVudDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbm5vdGF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6WyJNYXRyaXgzIiwiTWF0cml4NCIsIlZlY3RvcjMiLCIkbmVlZHNSZW5kZXIiLCIkc2NlbmUiLCIkdGljayIsInRvVmVjdG9yMkQiLCJ0b1ZlY3RvcjNEIiwiSG90c3BvdCIsIiRob3RzcG90TWFwIiwiU3ltYm9sIiwiJG11dGF0aW9uQ2FsbGJhY2siLCIkb2JzZXJ2ZXIiLCIkYWRkSG90c3BvdCIsIiRyZW1vdmVIb3RzcG90Iiwid29ybGRUb01vZGVsIiwid29ybGRUb01vZGVsTm9ybWFsIiwiQW5ub3RhdGlvbk1peGluIiwiTW9kZWxWaWV3ZXJFbGVtZW50IiwiX2EiLCJfYiIsIl9jIiwiQW5ub3RhdGlvbk1vZGVsVmlld2VyRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiTWFwIiwibXV0YXRpb25zIiwiZm9yRWFjaCIsIm11dGF0aW9uIiwiTXV0YXRpb25SZWNvcmQiLCJ0eXBlIiwiYWRkZWROb2RlcyIsIm5vZGUiLCJyZW1vdmVkTm9kZXMiLCJNdXRhdGlvbk9ic2VydmVyIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJpIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJTaGFkeURPTSIsInNlbGYiLCJvYnNlcnZlIiwiY2hpbGRMaXN0Iiwib2JzZXJ2ZUNoaWxkcmVuIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJkaXNjb25uZWN0IiwidW5vYnNlcnZlQ2hpbGRyZW4iLCJ0aW1lIiwiZGVsdGEiLCJzY2VuZSIsImFubm90YXRpb25SZW5kZXJlciIsImNhbWVyYSIsImdldENhbWVyYSIsInNob3VsZFJlbmRlciIsInVwZGF0ZUhvdHNwb3RzIiwicG9zaXRpb24iLCJkb21FbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwicmVuZGVyIiwidXBkYXRlSG90c3BvdCIsImNvbmZpZyIsImhvdHNwb3QiLCJnZXQiLCJuYW1lIiwidXBkYXRlUG9zaXRpb24iLCJ1cGRhdGVOb3JtYWwiLCJub3JtYWwiLCJxdWVyeUhvdHNwb3QiLCJmYWNpbmdDYW1lcmEiLCJ2ZWN0b3IiLCJzZXRGcm9tTWF0cml4UG9zaXRpb24iLCJtYXRyaXhXb3JsZCIsInByb2plY3QiLCJ3aWR0aEhhbGYiLCJ3aWR0aCIsImhlaWdodEhhbGYiLCJoZWlnaHQiLCJ4IiwieSIsImNhbnZhc1Bvc2l0aW9uIiwieiIsIk51bWJlciIsImlzRmluaXRlIiwicG9zaXRpb25BbmROb3JtYWxGcm9tUG9pbnQiLCJwaXhlbFgiLCJwaXhlbFkiLCJuZGNQb3NpdGlvbiIsImdldE5EQyIsImhpdCIsImNvcHkiLCJ0YXJnZXQiLCJpbnZlcnQiLCJhcHBseU1hdHJpeDQiLCJnZXROb3JtYWxNYXRyaXgiLCJhcHBseU5vcm1hbE1hdHJpeCIsInV2IiwiSFRNTEVsZW1lbnQiLCJzbG90IiwiaW5kZXhPZiIsImluY3JlbWVudCIsImRhdGFzZXQiLCJzZXQiLCJhZGRIb3RzcG90IiwicXVldWVSZW5kZXIiLCJkZWNyZW1lbnQiLCJyZW1vdmVIb3RzcG90IiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/annotation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/ar.js":
/*!**************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/ar.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $openIOSARQuickLook: () => (/* binding */ $openIOSARQuickLook),\n/* harmony export */   $openSceneViewer: () => (/* binding */ $openSceneViewer),\n/* harmony export */   ARMixin: () => (/* binding */ ARMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three_examples_jsm_exporters_USDZExporter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/exporters/USDZExporter.js */ \"(ssr)/./node_modules/three/examples/jsm/exporters/USDZExporter.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/constants.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _styles_deserializers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/deserializers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/deserializers.js\");\n/* harmony import */ var _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../three-components/ARRenderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var __decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\nlet isWebXRBlocked = false;\nlet isSceneViewerBlocked = false;\nconst noArViewerSigil = \"#model-viewer-no-ar-fallback\";\nconst deserializeARModes = (0,_styles_deserializers_js__WEBPACK_IMPORTED_MODULE_3__.enumerationDeserializer)([\n    \"quick-look\",\n    \"scene-viewer\",\n    \"webxr\",\n    \"none\"\n]);\nconst DEFAULT_AR_MODES = \"webxr scene-viewer quick-look\";\nconst ARMode = {\n    QUICK_LOOK: \"quick-look\",\n    SCENE_VIEWER: \"scene-viewer\",\n    WEBXR: \"webxr\",\n    NONE: \"none\"\n};\nconst $arButtonContainer = Symbol(\"arButtonContainer\");\nconst $enterARWithWebXR = Symbol(\"enterARWithWebXR\");\nconst $openSceneViewer = Symbol(\"openSceneViewer\");\nconst $openIOSARQuickLook = Symbol(\"openIOSARQuickLook\");\nconst $canActivateAR = Symbol(\"canActivateAR\");\nconst $arMode = Symbol(\"arMode\");\nconst $arModes = Symbol(\"arModes\");\nconst $arAnchor = Symbol(\"arAnchor\");\nconst $preload = Symbol(\"preload\");\nconst $onARButtonContainerClick = Symbol(\"onARButtonContainerClick\");\nconst $onARStatus = Symbol(\"onARStatus\");\nconst $onARTracking = Symbol(\"onARTracking\");\nconst $onARTap = Symbol(\"onARTap\");\nconst $selectARMode = Symbol(\"selectARMode\");\nconst $triggerLoad = Symbol(\"triggerLoad\");\nconst ARMixin = (ModelViewerElement)=>{\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    class ARModelViewerElement extends ModelViewerElement {\n        constructor(){\n            super(...arguments);\n            this.ar = false;\n            this.arScale = \"auto\";\n            this.arPlacement = \"floor\";\n            this.arModes = DEFAULT_AR_MODES;\n            this.iosSrc = null;\n            this.xrEnvironment = false;\n            this[_a] = false;\n            // TODO: Add this to the shadow root as part of this mixin's\n            // implementation:\n            this[_b] = this.shadowRoot.querySelector(\".ar-button\");\n            this[_c] = document.createElement(\"a\");\n            this[_d] = new Set();\n            this[_e] = ARMode.NONE;\n            this[_f] = false;\n            this[_g] = (event)=>{\n                event.preventDefault();\n                this.activateAR();\n            };\n            this[_h] = ({ status })=>{\n                if (status === _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.NOT_PRESENTING || this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.presentedScene === this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene]) {\n                    this.setAttribute(\"ar-status\", status);\n                    this.dispatchEvent(new CustomEvent(\"ar-status\", {\n                        detail: {\n                            status\n                        }\n                    }));\n                    if (status === _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.NOT_PRESENTING) {\n                        this.removeAttribute(\"ar-tracking\");\n                    } else if (status === _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.SESSION_STARTED) {\n                        this.setAttribute(\"ar-tracking\", _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARTracking.TRACKING);\n                    }\n                }\n            };\n            this[_j] = ({ status })=>{\n                this.setAttribute(\"ar-tracking\", status);\n                this.dispatchEvent(new CustomEvent(\"ar-tracking\", {\n                    detail: {\n                        status\n                    }\n                }));\n            };\n            this[_k] = (event)=>{\n                if (event.data == \"_apple_ar_quicklook_button_tapped\") {\n                    this.dispatchEvent(new CustomEvent(\"quick-look-button-tapped\"));\n                }\n            };\n        }\n        get canActivateAR() {\n            return this[$arMode] !== ARMode.NONE;\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.addEventListener(\"status\", this[$onARStatus]);\n            this.setAttribute(\"ar-status\", _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.NOT_PRESENTING);\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.addEventListener(\"tracking\", this[$onARTracking]);\n            this[$arAnchor].addEventListener(\"message\", this[$onARTap]);\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.removeEventListener(\"status\", this[$onARStatus]);\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.removeEventListener(\"tracking\", this[$onARTracking]);\n            this[$arAnchor].removeEventListener(\"message\", this[$onARTap]);\n        }\n        update(changedProperties) {\n            super.update(changedProperties);\n            if (changedProperties.has(\"arScale\")) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].canScale = this.arScale !== \"fixed\";\n            }\n            if (changedProperties.has(\"arPlacement\")) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].updateShadow();\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$needsRender]();\n            }\n            if (changedProperties.has(\"arModes\")) {\n                this[$arModes] = deserializeARModes(this.arModes);\n            }\n            if (changedProperties.has(\"ar\") || changedProperties.has(\"arModes\") || changedProperties.has(\"src\") || changedProperties.has(\"iosSrc\")) {\n                this[$selectARMode]();\n            }\n        }\n        /**\n         * Activates AR. Note that for any mode that is not WebXR-based, this\n         * method most likely has to be called synchronous from a user\n         * interaction handler. Otherwise, attempts to activate modes that\n         * require user interaction will most likely be ignored.\n         */ async activateAR() {\n            switch(this[$arMode]){\n                case ARMode.QUICK_LOOK:\n                    this[$openIOSARQuickLook]();\n                    break;\n                case ARMode.WEBXR:\n                    await this[$enterARWithWebXR]();\n                    break;\n                case ARMode.SCENE_VIEWER:\n                    this[$openSceneViewer]();\n                    break;\n                default:\n                    console.warn(\"No AR Mode can be activated. This is probably due to missing configuration or device capabilities\");\n                    break;\n            }\n        }\n        async [(_a = $canActivateAR, _b = $arButtonContainer, _c = $arAnchor, _d = $arModes, _e = $arMode, _f = $preload, _g = $onARButtonContainerClick, _h = $onARStatus, _j = $onARTracking, _k = $onARTap, $selectARMode)]() {\n            let arMode = ARMode.NONE;\n            if (this.ar) {\n                if (this.src != null) {\n                    for (const value of this[$arModes]){\n                        if (value === \"webxr\" && _constants_js__WEBPACK_IMPORTED_MODULE_1__.IS_WEBXR_AR_CANDIDATE && !isWebXRBlocked && await this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.supportsPresentation()) {\n                            arMode = ARMode.WEBXR;\n                            break;\n                        }\n                        if (value === \"scene-viewer\" && _constants_js__WEBPACK_IMPORTED_MODULE_1__.IS_SCENEVIEWER_CANDIDATE && !isSceneViewerBlocked) {\n                            arMode = ARMode.SCENE_VIEWER;\n                            break;\n                        }\n                        if (value === \"quick-look\" && _constants_js__WEBPACK_IMPORTED_MODULE_1__.IS_AR_QUICKLOOK_CANDIDATE) {\n                            arMode = ARMode.QUICK_LOOK;\n                            break;\n                        }\n                    }\n                }\n                // The presence of ios-src overrides the absence of quick-look\n                // ar-mode.\n                if (arMode === ARMode.NONE && this.iosSrc != null && _constants_js__WEBPACK_IMPORTED_MODULE_1__.IS_AR_QUICKLOOK_CANDIDATE) {\n                    arMode = ARMode.QUICK_LOOK;\n                }\n            }\n            if (arMode !== ARMode.NONE) {\n                this[$arButtonContainer].classList.add(\"enabled\");\n                this[$arButtonContainer].addEventListener(\"click\", this[$onARButtonContainerClick]);\n            } else if (this[$arButtonContainer].classList.contains(\"enabled\")) {\n                this[$arButtonContainer].removeEventListener(\"click\", this[$onARButtonContainerClick]);\n                this[$arButtonContainer].classList.remove(\"enabled\");\n                // If AR went from working to not, notify the element.\n                const status = _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.FAILED;\n                this.setAttribute(\"ar-status\", status);\n                this.dispatchEvent(new CustomEvent(\"ar-status\", {\n                    detail: {\n                        status\n                    }\n                }));\n            }\n            this[$arMode] = arMode;\n        }\n        async [$enterARWithWebXR]() {\n            console.log(\"Attempting to present in AR with WebXR...\");\n            await this[$triggerLoad]();\n            try {\n                this[$arButtonContainer].removeEventListener(\"click\", this[$onARButtonContainerClick]);\n                const { arRenderer } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer];\n                arRenderer.placeOnWall = this.arPlacement === \"wall\";\n                await arRenderer.present(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene], this.xrEnvironment);\n            } catch (error) {\n                console.warn(\"Error while trying to present in AR with WebXR\");\n                console.error(error);\n                await this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.stopPresenting();\n                isWebXRBlocked = true;\n                console.warn(\"Falling back to next ar-mode\");\n                await this[$selectARMode]();\n                this.activateAR();\n            } finally{\n                this[$selectARMode]();\n            }\n        }\n        async [$triggerLoad]() {\n            if (!this.loaded) {\n                this[$preload] = true;\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$updateSource]();\n                await (0,_utilities_js__WEBPACK_IMPORTED_MODULE_5__.waitForEvent)(this, \"load\");\n                this[$preload] = false;\n            }\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$shouldAttemptPreload]() {\n            return super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$shouldAttemptPreload]() || this[$preload];\n        }\n        /**\n         * Takes a URL and a title string, and attempts to launch Scene Viewer on\n         * the current device.\n         */ [$openSceneViewer]() {\n            const location = self.location.toString();\n            const locationUrl = new URL(location);\n            const modelUrl = new URL(this.src, location);\n            const params = new URLSearchParams(modelUrl.search);\n            locationUrl.hash = noArViewerSigil;\n            // modelUrl can contain title/link/sound etc.\n            params.set(\"mode\", \"ar_preferred\");\n            if (!params.has(\"disable_occlusion\")) {\n                params.set(\"disable_occlusion\", \"true\");\n            }\n            if (this.arScale === \"fixed\") {\n                params.set(\"resizable\", \"false\");\n            }\n            if (this.arPlacement === \"wall\") {\n                params.set(\"enable_vertical_placement\", \"true\");\n            }\n            if (params.has(\"sound\")) {\n                const soundUrl = new URL(params.get(\"sound\"), location);\n                params.set(\"sound\", soundUrl.toString());\n            }\n            if (params.has(\"link\")) {\n                const linkUrl = new URL(params.get(\"link\"), location);\n                params.set(\"link\", linkUrl.toString());\n            }\n            const intent = `intent://arvr.google.com/scene-viewer/1.0?${params.toString() + \"&file=\" + encodeURIComponent(modelUrl.toString())}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(locationUrl.toString())};end;`;\n            const undoHashChange = ()=>{\n                if (self.location.hash === noArViewerSigil) {\n                    isSceneViewerBlocked = true;\n                    // The new history will be the current URL with a new hash.\n                    // Go back one step so that we reset to the expected URL.\n                    // NOTE(cdata): this should not invoke any browser-level navigation\n                    // because hash-only changes modify the URL in-place without\n                    // navigating:\n                    self.history.back();\n                    console.warn(\"Error while trying to present in AR with Scene Viewer\");\n                    console.warn(\"Falling back to next ar-mode\");\n                    this[$selectARMode]();\n                // Would be nice to activateAR() here, but webXR fails due to not\n                // seeing a user activation.\n                }\n            };\n            self.addEventListener(\"hashchange\", undoHashChange, {\n                once: true\n            });\n            this[$arAnchor].setAttribute(\"href\", intent);\n            console.log(\"Attempting to present in AR with Scene Viewer...\");\n            this[$arAnchor].click();\n        }\n        /**\n         * Takes a URL to a USDZ file and sets the appropriate fields so that\n         * Safari iOS can intent to their AR Quick Look.\n         */ async [$openIOSARQuickLook]() {\n            const generateUsdz = !this.iosSrc;\n            this[$arButtonContainer].classList.remove(\"enabled\");\n            const objectURL = generateUsdz ? await this.prepareUSDZ() : this.iosSrc;\n            const modelUrl = new URL(objectURL, self.location.toString());\n            if (generateUsdz) {\n                const location = self.location.toString();\n                const locationUrl = new URL(location);\n                const srcUrl = new URL(this.src, locationUrl);\n                if (srcUrl.hash) {\n                    modelUrl.hash = srcUrl.hash;\n                }\n            }\n            if (this.arScale === \"fixed\") {\n                if (modelUrl.hash) {\n                    modelUrl.hash += \"&\";\n                }\n                modelUrl.hash += \"allowsContentScaling=0\";\n            }\n            const anchor = this[$arAnchor];\n            anchor.setAttribute(\"rel\", \"ar\");\n            const img = document.createElement(\"img\");\n            anchor.appendChild(img);\n            anchor.setAttribute(\"href\", modelUrl.toString());\n            if (generateUsdz) {\n                anchor.setAttribute(\"download\", \"model.usdz\");\n            }\n            // attach anchor to shadow DOM to ensure iOS16 ARQL banner click message event propagation \n            anchor.style.display = \"none\";\n            if (!anchor.isConnected) this.shadowRoot.appendChild(anchor);\n            console.log(\"Attempting to present in AR with Quick Look...\");\n            anchor.click();\n            anchor.removeChild(img);\n            if (generateUsdz) {\n                URL.revokeObjectURL(objectURL);\n            }\n            this[$arButtonContainer].classList.add(\"enabled\");\n        }\n        async prepareUSDZ() {\n            const updateSourceProgress = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$progressTracker].beginActivity();\n            await this[$triggerLoad]();\n            const { model, shadow } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            if (model == null) {\n                return \"\";\n            }\n            let visible = false;\n            // Remove shadow from export\n            if (shadow != null) {\n                visible = shadow.visible;\n                shadow.visible = false;\n            }\n            updateSourceProgress(0.2);\n            const exporter = new three_examples_jsm_exporters_USDZExporter_js__WEBPACK_IMPORTED_MODULE_6__.USDZExporter();\n            const arraybuffer = await exporter.parse(model);\n            const blob = new Blob([\n                arraybuffer\n            ], {\n                type: \"model/vnd.usdz+zip\"\n            });\n            const url = URL.createObjectURL(blob);\n            updateSourceProgress(1);\n            if (shadow != null) {\n                shadow.visible = visible;\n            }\n            return url;\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Boolean,\n            attribute: \"ar\"\n        })\n    ], ARModelViewerElement.prototype, \"ar\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"ar-scale\"\n        })\n    ], ARModelViewerElement.prototype, \"arScale\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"ar-placement\"\n        })\n    ], ARModelViewerElement.prototype, \"arPlacement\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"ar-modes\"\n        })\n    ], ARModelViewerElement.prototype, \"arModes\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"ios-src\"\n        })\n    ], ARModelViewerElement.prototype, \"iosSrc\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Boolean,\n            attribute: \"xr-environment\"\n        })\n    ], ARModelViewerElement.prototype, \"xrEnvironment\", void 0);\n    return ARModelViewerElement;\n}; //# sourceMappingURL=ar.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2FyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQ0QsSUFBSUEsYUFBYSxTQUFLLElBQUksU0FBSSxDQUFDQSxVQUFVLElBQUssU0FBVUMsVUFBVSxFQUFFQyxNQUFNLEVBQUVDLEdBQUcsRUFBRUMsSUFBSTtJQUNqRixJQUFJQyxJQUFJQyxVQUFVQyxNQUFNLEVBQUVDLElBQUlILElBQUksSUFBSUgsU0FBU0UsU0FBUyxPQUFPQSxPQUFPSyxPQUFPQyx3QkFBd0IsQ0FBQ1IsUUFBUUMsT0FBT0MsTUFBTU87SUFDM0gsSUFBSSxPQUFPQyxZQUFZLFlBQVksT0FBT0EsUUFBUUMsUUFBUSxLQUFLLFlBQVlMLElBQUlJLFFBQVFDLFFBQVEsQ0FBQ1osWUFBWUMsUUFBUUMsS0FBS0M7U0FDcEgsSUFBSyxJQUFJVSxJQUFJYixXQUFXTSxNQUFNLEdBQUcsR0FBR08sS0FBSyxHQUFHQSxJQUFLLElBQUlILElBQUlWLFVBQVUsQ0FBQ2EsRUFBRSxFQUFFTixJQUFJLENBQUNILElBQUksSUFBSU0sRUFBRUgsS0FBS0gsSUFBSSxJQUFJTSxFQUFFVCxRQUFRQyxLQUFLSyxLQUFLRyxFQUFFVCxRQUFRQyxJQUFHLEtBQU1LO0lBQ2hKLE9BQU9ILElBQUksS0FBS0csS0FBS0MsT0FBT00sY0FBYyxDQUFDYixRQUFRQyxLQUFLSyxJQUFJQTtBQUNoRTtBQUM2QztBQUMrQjtBQUNpQztBQUNxQjtBQUM3RDtBQUNJO0FBQzFCO0FBQy9DLElBQUl1QixpQkFBaUI7QUFDckIsSUFBSUMsdUJBQXVCO0FBQzNCLE1BQU1DLGtCQUFrQjtBQUN4QixNQUFNQyxxQkFBcUJQLGlGQUF1QkEsQ0FBQztJQUFDO0lBQWM7SUFBZ0I7SUFBUztDQUFPO0FBQ2xHLE1BQU1RLG1CQUFtQjtBQUN6QixNQUFNQyxTQUFTO0lBQ1hDLFlBQVk7SUFDWkMsY0FB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QUFXO1FBQVU7S0FDakQsRUFBRXRHLHFCQUFxQnVHLFNBQVMsRUFBRSxVQUFVLEtBQUs7SUFDbEQ1SyxXQUFXO1FBQ1BnQiwyREFBUUEsQ0FBQztZQUFFdUosTUFBTUc7WUFBU0MsV0FBVztRQUFpQjtLQUN6RCxFQUFFdEcscUJBQXFCdUcsU0FBUyxFQUFFLGlCQUFpQixLQUFLO0lBQ3pELE9BQU92RztBQUNYLEVBQUUsQ0FDRiw4QkFBOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9mZWF0dXJlcy9hci5qcz9kMGE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgVVNEWkV4cG9ydGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2V4cG9ydGVycy9VU0RaRXhwb3J0ZXIuanMnO1xuaW1wb3J0IHsgSVNfQVJfUVVJQ0tMT09LX0NBTkRJREFURSwgSVNfU0NFTkVWSUVXRVJfQ0FORElEQVRFLCBJU19XRUJYUl9BUl9DQU5ESURBVEUgfSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgJG5lZWRzUmVuZGVyLCAkcHJvZ3Jlc3NUcmFja2VyLCAkcmVuZGVyZXIsICRzY2VuZSwgJHNob3VsZEF0dGVtcHRQcmVsb2FkLCAkdXBkYXRlU291cmNlIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgZW51bWVyYXRpb25EZXNlcmlhbGl6ZXIgfSBmcm9tICcuLi9zdHlsZXMvZGVzZXJpYWxpemVycy5qcyc7XG5pbXBvcnQgeyBBUlN0YXR1cywgQVJUcmFja2luZyB9IGZyb20gJy4uL3RocmVlLWNvbXBvbmVudHMvQVJSZW5kZXJlci5qcyc7XG5pbXBvcnQgeyB3YWl0Rm9yRXZlbnQgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnO1xubGV0IGlzV2ViWFJCbG9ja2VkID0gZmFsc2U7XG5sZXQgaXNTY2VuZVZpZXdlckJsb2NrZWQgPSBmYWxzZTtcbmNvbnN0IG5vQXJWaWV3ZXJTaWdpbCA9ICcjbW9kZWwtdmlld2VyLW5vLWFyLWZhbGxiYWNrJztcbmNvbnN0IGRlc2VyaWFsaXplQVJNb2RlcyA9IGVudW1lcmF0aW9uRGVzZXJpYWxpemVyKFsncXVpY2stbG9vaycsICdzY2VuZS12aWV3ZXInLCAnd2VieHInLCAnbm9uZSddKTtcbmNvbnN0IERFRkFVTFRfQVJfTU9ERVMgPSAnd2VieHIgc2NlbmUtdmlld2VyIHF1aWNrLWxvb2snO1xuY29uc3QgQVJNb2RlID0ge1xuICAgIFFVSUNLX0xPT0s6ICdxdWljay1sb29rJyxcbiAgICBTQ0VORV9WSUVXRVI6ICdzY2VuZS12aWV3ZXInLFxuICAgIFdFQlhSOiAnd2VieHInLFxuICAgIE5PTkU6ICdub25lJ1xufTtcbmNvbnN0ICRhckJ1dHRvbkNvbnRhaW5lciA9IFN5bWJvbCgnYXJCdXR0b25Db250YWluZXInKTtcbmNvbnN0ICRlbnRlckFSV2l0aFdlYlhSID0gU3ltYm9sKCdlbnRlckFSV2l0aFdlYlhSJyk7XG5leHBvcnQgY29uc3QgJG9wZW5TY2VuZVZpZXdlciA9IFN5bWJvbCgnb3BlblNjZW5lVmlld2VyJyk7XG5leHBvcnQgY29uc3QgJG9wZW5JT1NBUlF1aWNrTG9vayA9IFN5bWJvbCgnb3BlbklPU0FSUXVpY2tMb29rJyk7XG5jb25zdCAkY2FuQWN0aXZhdGVBUiA9IFN5bWJvbCgnY2FuQWN0aXZhdGVBUicpO1xuY29uc3QgJGFyTW9kZSA9IFN5bWJvbCgnYXJNb2RlJyk7XG5jb25zdCAkYXJNb2RlcyA9IFN5bWJvbCgnYXJNb2RlcycpO1xuY29uc3QgJGFyQW5jaG9yID0gU3ltYm9sKCdhckFuY2hvcicpO1xuY29uc3QgJHByZWxvYWQgPSBTeW1ib2woJ3ByZWxvYWQnKTtcbmNvbnN0ICRvbkFSQnV0dG9uQ29udGFpbmVyQ2xpY2sgPSBTeW1ib2woJ29uQVJCdXR0b25Db250YWluZXJDbGljaycpO1xuY29uc3QgJG9uQVJTdGF0dXMgPSBTeW1ib2woJ29uQVJTdGF0dXMnKTtcbmNvbnN0ICRvbkFSVHJhY2tpbmcgPSBTeW1ib2woJ29uQVJUcmFja2luZycpO1xuY29uc3QgJG9uQVJUYXAgPSBTeW1ib2woJ29uQVJUYXAnKTtcbmNvbnN0ICRzZWxlY3RBUk1vZGUgPSBTeW1ib2woJ3NlbGVjdEFSTW9kZScpO1xuY29uc3QgJHRyaWdnZXJMb2FkID0gU3ltYm9sKCd0cmlnZ2VyTG9hZCcpO1xuZXhwb3J0IGNvbnN0IEFSTWl4aW4gPSAoTW9kZWxWaWV3ZXJFbGVtZW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICAgIGNsYXNzIEFSTW9kZWxWaWV3ZXJFbGVtZW50IGV4dGVuZHMgTW9kZWxWaWV3ZXJFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgdGhpcy5hciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hclNjYWxlID0gJ2F1dG8nO1xuICAgICAgICAgICAgdGhpcy5hclBsYWNlbWVudCA9ICdmbG9vcic7XG4gICAgICAgICAgICB0aGlzLmFyTW9kZXMgPSBERUZBVUxUX0FSX01PREVTO1xuICAgICAgICAgICAgdGhpcy5pb3NTcmMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy54ckVudmlyb25tZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzW19hXSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gVE9ETzogQWRkIHRoaXMgdG8gdGhlIHNoYWRvdyByb290IGFzIHBhcnQgb2YgdGhpcyBtaXhpbidzXG4gICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbjpcbiAgICAgICAgICAgIHRoaXNbX2JdID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5hci1idXR0b24nKTtcbiAgICAgICAgICAgIHRoaXNbX2NdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgdGhpc1tfZF0gPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICB0aGlzW19lXSA9IEFSTW9kZS5OT05FO1xuICAgICAgICAgICAgdGhpc1tfZl0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXNbX2ddID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlQVIoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzW19oXSA9ICh7IHN0YXR1cyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gQVJTdGF0dXMuTk9UX1BSRVNFTlRJTkcgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skcmVuZGVyZXJdLmFyUmVuZGVyZXIucHJlc2VudGVkU2NlbmUgPT09IHRoaXNbJHNjZW5lXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXItc3RhdHVzJywgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYXItc3RhdHVzJywgeyBkZXRhaWw6IHsgc3RhdHVzIH0gfSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBBUlN0YXR1cy5OT1RfUFJFU0VOVElORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ2FyLXRyYWNraW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09PSBBUlN0YXR1cy5TRVNTSU9OX1NUQVJURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhci10cmFja2luZycsIEFSVHJhY2tpbmcuVFJBQ0tJTkcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbX2pdID0gKHsgc3RhdHVzIH0pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXItdHJhY2tpbmcnLCBzdGF0dXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FyLXRyYWNraW5nJywgeyBkZXRhaWw6IHsgc3RhdHVzIH0gfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbX2tdID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT0gJ19hcHBsZV9hcl9xdWlja2xvb2tfYnV0dG9uX3RhcHBlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncXVpY2stbG9vay1idXR0b24tdGFwcGVkJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGNhbkFjdGl2YXRlQVIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skYXJNb2RlXSAhPT0gQVJNb2RlLk5PTkU7XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgdGhpc1skcmVuZGVyZXJdLmFyUmVuZGVyZXIuYWRkRXZlbnRMaXN0ZW5lcignc3RhdHVzJywgdGhpc1skb25BUlN0YXR1c10pO1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyLXN0YXR1cycsIEFSU3RhdHVzLk5PVF9QUkVTRU5USU5HKTtcbiAgICAgICAgICAgIHRoaXNbJHJlbmRlcmVyXS5hclJlbmRlcmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYWNraW5nJywgdGhpc1skb25BUlRyYWNraW5nXSk7XG4gICAgICAgICAgICB0aGlzWyRhckFuY2hvcl0uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXNbJG9uQVJUYXBdKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzWyRyZW5kZXJlcl0uYXJSZW5kZXJlci5yZW1vdmVFdmVudExpc3RlbmVyKCdzdGF0dXMnLCB0aGlzWyRvbkFSU3RhdHVzXSk7XG4gICAgICAgICAgICB0aGlzWyRyZW5kZXJlcl0uYXJSZW5kZXJlci5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFja2luZycsIHRoaXNbJG9uQVJUcmFja2luZ10pO1xuICAgICAgICAgICAgdGhpc1skYXJBbmNob3JdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzWyRvbkFSVGFwXSk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzdXBlci51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnYXJTY2FsZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLmNhblNjYWxlID0gdGhpcy5hclNjYWxlICE9PSAnZml4ZWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnYXJQbGFjZW1lbnQnKSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS51cGRhdGVTaGFkb3coKTtcbiAgICAgICAgICAgICAgICB0aGlzWyRuZWVkc1JlbmRlcl0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2FyTW9kZXMnKSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGFyTW9kZXNdID0gZGVzZXJpYWxpemVBUk1vZGVzKHRoaXMuYXJNb2Rlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdhcicpIHx8IGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnYXJNb2RlcycpIHx8XG4gICAgICAgICAgICAgICAgY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdzcmMnKSB8fCBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2lvc1NyYycpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2VsZWN0QVJNb2RlXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgQVIuIE5vdGUgdGhhdCBmb3IgYW55IG1vZGUgdGhhdCBpcyBub3QgV2ViWFItYmFzZWQsIHRoaXNcbiAgICAgICAgICogbWV0aG9kIG1vc3QgbGlrZWx5IGhhcyB0byBiZSBjYWxsZWQgc3luY2hyb25vdXMgZnJvbSBhIHVzZXJcbiAgICAgICAgICogaW50ZXJhY3Rpb24gaGFuZGxlci4gT3RoZXJ3aXNlLCBhdHRlbXB0cyB0byBhY3RpdmF0ZSBtb2RlcyB0aGF0XG4gICAgICAgICAqIHJlcXVpcmUgdXNlciBpbnRlcmFjdGlvbiB3aWxsIG1vc3QgbGlrZWx5IGJlIGlnbm9yZWQuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBhY3RpdmF0ZUFSKCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzWyRhck1vZGVdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBBUk1vZGUuUVVJQ0tfTE9PSzpcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skb3BlbklPU0FSUXVpY2tMb29rXSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFSTW9kZS5XRUJYUjpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpc1skZW50ZXJBUldpdGhXZWJYUl0oKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBBUk1vZGUuU0NFTkVfVklFV0VSOlxuICAgICAgICAgICAgICAgICAgICB0aGlzWyRvcGVuU2NlbmVWaWV3ZXJdKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gQVIgTW9kZSBjYW4gYmUgYWN0aXZhdGVkLiBUaGlzIGlzIHByb2JhYmx5IGR1ZSB0byBtaXNzaW5nIFxcXG5jb25maWd1cmF0aW9uIG9yIGRldmljZSBjYXBhYmlsaXRpZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXN5bmMgWyhfYSA9ICRjYW5BY3RpdmF0ZUFSLCBfYiA9ICRhckJ1dHRvbkNvbnRhaW5lciwgX2MgPSAkYXJBbmNob3IsIF9kID0gJGFyTW9kZXMsIF9lID0gJGFyTW9kZSwgX2YgPSAkcHJlbG9hZCwgX2cgPSAkb25BUkJ1dHRvbkNvbnRhaW5lckNsaWNrLCBfaCA9ICRvbkFSU3RhdHVzLCBfaiA9ICRvbkFSVHJhY2tpbmcsIF9rID0gJG9uQVJUYXAsICRzZWxlY3RBUk1vZGUpXSgpIHtcbiAgICAgICAgICAgIGxldCBhck1vZGUgPSBBUk1vZGUuTk9ORTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3JjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzWyRhck1vZGVzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnd2VieHInICYmIElTX1dFQlhSX0FSX0NBTkRJREFURSAmJiAhaXNXZWJYUkJsb2NrZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzWyRyZW5kZXJlcl0uYXJSZW5kZXJlci5zdXBwb3J0c1ByZXNlbnRhdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJNb2RlID0gQVJNb2RlLldFQlhSO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnc2NlbmUtdmlld2VyJyAmJiBJU19TQ0VORVZJRVdFUl9DQU5ESURBVEUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNTY2VuZVZpZXdlckJsb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhck1vZGUgPSBBUk1vZGUuU0NFTkVfVklFV0VSO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAncXVpY2stbG9vaycgJiYgSVNfQVJfUVVJQ0tMT09LX0NBTkRJREFURSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyTW9kZSA9IEFSTW9kZS5RVUlDS19MT09LO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoZSBwcmVzZW5jZSBvZiBpb3Mtc3JjIG92ZXJyaWRlcyB0aGUgYWJzZW5jZSBvZiBxdWljay1sb29rXG4gICAgICAgICAgICAgICAgLy8gYXItbW9kZS5cbiAgICAgICAgICAgICAgICBpZiAoYXJNb2RlID09PSBBUk1vZGUuTk9ORSAmJiB0aGlzLmlvc1NyYyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgIElTX0FSX1FVSUNLTE9PS19DQU5ESURBVEUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJNb2RlID0gQVJNb2RlLlFVSUNLX0xPT0s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyTW9kZSAhPT0gQVJNb2RlLk5PTkUpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRhckJ1dHRvbkNvbnRhaW5lcl0uY2xhc3NMaXN0LmFkZCgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgICAgIHRoaXNbJGFyQnV0dG9uQ29udGFpbmVyXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXNbJG9uQVJCdXR0b25Db250YWluZXJDbGlja10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpc1skYXJCdXR0b25Db250YWluZXJdLmNsYXNzTGlzdC5jb250YWlucygnZW5hYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skYXJCdXR0b25Db250YWluZXJdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpc1skb25BUkJ1dHRvbkNvbnRhaW5lckNsaWNrXSk7XG4gICAgICAgICAgICAgICAgdGhpc1skYXJCdXR0b25Db250YWluZXJdLmNsYXNzTGlzdC5yZW1vdmUoJ2VuYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBBUiB3ZW50IGZyb20gd29ya2luZyB0byBub3QsIG5vdGlmeSB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBBUlN0YXR1cy5GQUlMRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyLXN0YXR1cycsIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYXItc3RhdHVzJywgeyBkZXRhaWw6IHsgc3RhdHVzIH0gfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpc1skYXJNb2RlXSA9IGFyTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBhc3luYyBbJGVudGVyQVJXaXRoV2ViWFJdKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gcHJlc2VudCBpbiBBUiB3aXRoIFdlYlhSLi4uJyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzWyR0cmlnZ2VyTG9hZF0oKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpc1skYXJCdXR0b25Db250YWluZXJdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpc1skb25BUkJ1dHRvbkNvbnRhaW5lckNsaWNrXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhclJlbmRlcmVyIH0gPSB0aGlzWyRyZW5kZXJlcl07XG4gICAgICAgICAgICAgICAgYXJSZW5kZXJlci5wbGFjZU9uV2FsbCA9IHRoaXMuYXJQbGFjZW1lbnQgPT09ICd3YWxsJztcbiAgICAgICAgICAgICAgICBhd2FpdCBhclJlbmRlcmVyLnByZXNlbnQodGhpc1skc2NlbmVdLCB0aGlzLnhyRW52aXJvbm1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciB3aGlsZSB0cnlpbmcgdG8gcHJlc2VudCBpbiBBUiB3aXRoIFdlYlhSJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpc1skcmVuZGVyZXJdLmFyUmVuZGVyZXIuc3RvcFByZXNlbnRpbmcoKTtcbiAgICAgICAgICAgICAgICBpc1dlYlhSQmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWxsaW5nIGJhY2sgdG8gbmV4dCBhci1tb2RlJyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpc1skc2VsZWN0QVJNb2RlXSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVBUigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2VsZWN0QVJNb2RlXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzeW5jIFskdHJpZ2dlckxvYWRdKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJHByZWxvYWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzWyR1cGRhdGVTb3VyY2VdKCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgd2FpdEZvckV2ZW50KHRoaXMsICdsb2FkJyk7XG4gICAgICAgICAgICAgICAgdGhpc1skcHJlbG9hZF0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBbJHNob3VsZEF0dGVtcHRQcmVsb2FkXSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlclskc2hvdWxkQXR0ZW1wdFByZWxvYWRdKCkgfHwgdGhpc1skcHJlbG9hZF07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRha2VzIGEgVVJMIGFuZCBhIHRpdGxlIHN0cmluZywgYW5kIGF0dGVtcHRzIHRvIGxhdW5jaCBTY2VuZSBWaWV3ZXIgb25cbiAgICAgICAgICogdGhlIGN1cnJlbnQgZGV2aWNlLlxuICAgICAgICAgKi9cbiAgICAgICAgWyRvcGVuU2NlbmVWaWV3ZXJdKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBzZWxmLmxvY2F0aW9uLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvblVybCA9IG5ldyBVUkwobG9jYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgbW9kZWxVcmwgPSBuZXcgVVJMKHRoaXMuc3JjLCBsb2NhdGlvbik7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKG1vZGVsVXJsLnNlYXJjaCk7XG4gICAgICAgICAgICBsb2NhdGlvblVybC5oYXNoID0gbm9BclZpZXdlclNpZ2lsO1xuICAgICAgICAgICAgLy8gbW9kZWxVcmwgY2FuIGNvbnRhaW4gdGl0bGUvbGluay9zb3VuZCBldGMuXG4gICAgICAgICAgICBwYXJhbXMuc2V0KCdtb2RlJywgJ2FyX3ByZWZlcnJlZCcpO1xuICAgICAgICAgICAgaWYgKCFwYXJhbXMuaGFzKCdkaXNhYmxlX29jY2x1c2lvbicpKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnNldCgnZGlzYWJsZV9vY2NsdXNpb24nLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYXJTY2FsZSA9PT0gJ2ZpeGVkJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5zZXQoJ3Jlc2l6YWJsZScsICdmYWxzZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYXJQbGFjZW1lbnQgPT09ICd3YWxsJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5zZXQoJ2VuYWJsZV92ZXJ0aWNhbF9wbGFjZW1lbnQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcmFtcy5oYXMoJ3NvdW5kJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VuZFVybCA9IG5ldyBVUkwocGFyYW1zLmdldCgnc291bmQnKSwgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIHBhcmFtcy5zZXQoJ3NvdW5kJywgc291bmRVcmwudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyYW1zLmhhcygnbGluaycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlua1VybCA9IG5ldyBVUkwocGFyYW1zLmdldCgnbGluaycpLCBsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnNldCgnbGluaycsIGxpbmtVcmwudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbnRlbnQgPSBgaW50ZW50Oi8vYXJ2ci5nb29nbGUuY29tL3NjZW5lLXZpZXdlci8xLjA/JHtwYXJhbXMudG9TdHJpbmcoKSArICcmZmlsZT0nICtcbiAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQobW9kZWxVcmxcbiAgICAgICAgICAgICAgICAgICAgLnRvU3RyaW5nKCkpfSNJbnRlbnQ7c2NoZW1lPWh0dHBzO3BhY2thZ2U9Y29tLmdvb2dsZS5hci5jb3JlO2FjdGlvbj1hbmRyb2lkLmludGVudC5hY3Rpb24uVklFVztTLmJyb3dzZXJfZmFsbGJhY2tfdXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uVXJsLnRvU3RyaW5nKCkpfTtlbmQ7YDtcbiAgICAgICAgICAgIGNvbnN0IHVuZG9IYXNoQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmxvY2F0aW9uLmhhc2ggPT09IG5vQXJWaWV3ZXJTaWdpbCkge1xuICAgICAgICAgICAgICAgICAgICBpc1NjZW5lVmlld2VyQmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBuZXcgaGlzdG9yeSB3aWxsIGJlIHRoZSBjdXJyZW50IFVSTCB3aXRoIGEgbmV3IGhhc2guXG4gICAgICAgICAgICAgICAgICAgIC8vIEdvIGJhY2sgb25lIHN0ZXAgc28gdGhhdCB3ZSByZXNldCB0byB0aGUgZXhwZWN0ZWQgVVJMLlxuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFKGNkYXRhKTogdGhpcyBzaG91bGQgbm90IGludm9rZSBhbnkgYnJvd3Nlci1sZXZlbCBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgaGFzaC1vbmx5IGNoYW5nZXMgbW9kaWZ5IHRoZSBVUkwgaW4tcGxhY2Ugd2l0aG91dFxuICAgICAgICAgICAgICAgICAgICAvLyBuYXZpZ2F0aW5nOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHdoaWxlIHRyeWluZyB0byBwcmVzZW50IGluIEFSIHdpdGggU2NlbmUgVmlld2VyJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFsbGluZyBiYWNrIHRvIG5leHQgYXItbW9kZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRzZWxlY3RBUk1vZGVdKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdvdWxkIGJlIG5pY2UgdG8gYWN0aXZhdGVBUigpIGhlcmUsIGJ1dCB3ZWJYUiBmYWlscyBkdWUgdG8gbm90XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlZWluZyBhIHVzZXIgYWN0aXZhdGlvbi5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdW5kb0hhc2hDaGFuZ2UsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHRoaXNbJGFyQW5jaG9yXS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBpbnRlbnQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gcHJlc2VudCBpbiBBUiB3aXRoIFNjZW5lIFZpZXdlci4uLicpO1xuICAgICAgICAgICAgdGhpc1skYXJBbmNob3JdLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRha2VzIGEgVVJMIHRvIGEgVVNEWiBmaWxlIGFuZCBzZXRzIHRoZSBhcHByb3ByaWF0ZSBmaWVsZHMgc28gdGhhdFxuICAgICAgICAgKiBTYWZhcmkgaU9TIGNhbiBpbnRlbnQgdG8gdGhlaXIgQVIgUXVpY2sgTG9vay5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIFskb3BlbklPU0FSUXVpY2tMb29rXSgpIHtcbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlVXNkeiA9ICF0aGlzLmlvc1NyYztcbiAgICAgICAgICAgIHRoaXNbJGFyQnV0dG9uQ29udGFpbmVyXS5jbGFzc0xpc3QucmVtb3ZlKCdlbmFibGVkJyk7XG4gICAgICAgICAgICBjb25zdCBvYmplY3RVUkwgPSBnZW5lcmF0ZVVzZHogPyBhd2FpdCB0aGlzLnByZXBhcmVVU0RaKCkgOiB0aGlzLmlvc1NyYztcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsVXJsID0gbmV3IFVSTChvYmplY3RVUkwsIHNlbGYubG9jYXRpb24udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdGVVc2R6KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBzZWxmLmxvY2F0aW9uLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYXRpb25VcmwgPSBuZXcgVVJMKGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcmNVcmwgPSBuZXcgVVJMKHRoaXMuc3JjLCBsb2NhdGlvblVybCk7XG4gICAgICAgICAgICAgICAgaWYgKHNyY1VybC5oYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVXJsLmhhc2ggPSBzcmNVcmwuaGFzaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hclNjYWxlID09PSAnZml4ZWQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGVsVXJsLmhhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxVcmwuaGFzaCArPSAnJic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1vZGVsVXJsLmhhc2ggKz0gJ2FsbG93c0NvbnRlbnRTY2FsaW5nPTAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpc1skYXJBbmNob3JdO1xuICAgICAgICAgICAgYW5jaG9yLnNldEF0dHJpYnV0ZSgncmVsJywgJ2FyJyk7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgIGFuY2hvci5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICAgICAgYW5jaG9yLnNldEF0dHJpYnV0ZSgnaHJlZicsIG1vZGVsVXJsLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgaWYgKGdlbmVyYXRlVXNkeikge1xuICAgICAgICAgICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ21vZGVsLnVzZHonKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGF0dGFjaCBhbmNob3IgdG8gc2hhZG93IERPTSB0byBlbnN1cmUgaU9TMTYgQVJRTCBiYW5uZXIgY2xpY2sgbWVzc2FnZSBldmVudCBwcm9wYWdhdGlvbiBcbiAgICAgICAgICAgIGFuY2hvci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgaWYgKCFhbmNob3IuaXNDb25uZWN0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKGFuY2hvcik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBwcmVzZW50IGluIEFSIHdpdGggUXVpY2sgTG9vay4uLicpO1xuICAgICAgICAgICAgYW5jaG9yLmNsaWNrKCk7XG4gICAgICAgICAgICBhbmNob3IucmVtb3ZlQ2hpbGQoaW1nKTtcbiAgICAgICAgICAgIGlmIChnZW5lcmF0ZVVzZHopIHtcbiAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKG9iamVjdFVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzWyRhckJ1dHRvbkNvbnRhaW5lcl0uY2xhc3NMaXN0LmFkZCgnZW5hYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGFzeW5jIHByZXBhcmVVU0RaKCkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlU291cmNlUHJvZ3Jlc3MgPSB0aGlzWyRwcm9ncmVzc1RyYWNrZXJdLmJlZ2luQWN0aXZpdHkoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXNbJHRyaWdnZXJMb2FkXSgpO1xuICAgICAgICAgICAgY29uc3QgeyBtb2RlbCwgc2hhZG93IH0gPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBpZiAobW9kZWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBSZW1vdmUgc2hhZG93IGZyb20gZXhwb3J0XG4gICAgICAgICAgICBpZiAoc2hhZG93ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlID0gc2hhZG93LnZpc2libGU7XG4gICAgICAgICAgICAgICAgc2hhZG93LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVNvdXJjZVByb2dyZXNzKDAuMik7XG4gICAgICAgICAgICBjb25zdCBleHBvcnRlciA9IG5ldyBVU0RaRXhwb3J0ZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGFycmF5YnVmZmVyID0gYXdhaXQgZXhwb3J0ZXIucGFyc2UobW9kZWwpO1xuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFthcnJheWJ1ZmZlcl0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbW9kZWwvdm5kLnVzZHoremlwJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgIHVwZGF0ZVNvdXJjZVByb2dyZXNzKDEpO1xuICAgICAgICAgICAgaWYgKHNoYWRvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2hhZG93LnZpc2libGUgPSB2aXNpYmxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6ICdhcicgfSlcbiAgICBdLCBBUk1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiYXJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FyLXNjYWxlJyB9KVxuICAgIF0sIEFSTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJhclNjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhci1wbGFjZW1lbnQnIH0pXG4gICAgXSwgQVJNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImFyUGxhY2VtZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhci1tb2RlcycgfSlcbiAgICBdLCBBUk1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiYXJNb2Rlc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnaW9zLXNyYycgfSlcbiAgICBdLCBBUk1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiaW9zU3JjXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAneHItZW52aXJvbm1lbnQnIH0pXG4gICAgXSwgQVJNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcInhyRW52aXJvbm1lbnRcIiwgdm9pZCAwKTtcbiAgICByZXR1cm4gQVJNb2RlbFZpZXdlckVsZW1lbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXIuanMubWFwIl0sIm5hbWVzIjpbIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZCIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImkiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3BlcnR5IiwiVVNEWkV4cG9ydGVyIiwiSVNfQVJfUVVJQ0tMT09LX0NBTkRJREFURSIsIklTX1NDRU5FVklFV0VSX0NBTkRJREFURSIsIklTX1dFQlhSX0FSX0NBTkRJREFURSIsIiRuZWVkc1JlbmRlciIsIiRwcm9ncmVzc1RyYWNrZXIiLCIkcmVuZGVyZXIiLCIkc2NlbmUiLCIkc2hvdWxkQXR0ZW1wdFByZWxvYWQiLCIkdXBkYXRlU291cmNlIiwiZW51bWVyYXRpb25EZXNlcmlhbGl6ZXIiLCJBUlN0YXR1cyIsIkFSVHJhY2tpbmciLCJ3YWl0Rm9yRXZlbnQiLCJpc1dlYlhSQmxvY2tlZCIsImlzU2NlbmVWaWV3ZXJCbG9ja2VkIiwibm9BclZpZXdlclNpZ2lsIiwiZGVzZXJpYWxpemVBUk1vZGVzIiwiREVGQVVMVF9BUl9NT0RFUyIsIkFSTW9kZSIsIlFVSUNLX0xPT0siLCJTQ0VORV9WSUVXRVIiLCJXRUJYUiIsIk5PTkUiLCIkYXJCdXR0b25Db250YWluZXIiLCJTeW1ib2wiLCIkZW50ZXJBUldpdGhXZWJYUiIsIiRvcGVuU2NlbmVWaWV3ZXIiLCIkb3BlbklPU0FSUXVpY2tMb29rIiwiJGNhbkFjdGl2YXRlQVIiLCIkYXJNb2RlIiwiJGFyTW9kZXMiLCIkYXJBbmNob3IiLCIkcHJlbG9hZCIsIiRvbkFSQnV0dG9uQ29udGFpbmVyQ2xpY2siLCIkb25BUlN0YXR1cyIsIiRvbkFSVHJhY2tpbmciLCIkb25BUlRhcCIsIiRzZWxlY3RBUk1vZGUiLCIkdHJpZ2dlckxvYWQiLCJBUk1peGluIiwiTW9kZWxWaWV3ZXJFbGVtZW50IiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJfaCIsIl9qIiwiX2siLCJBUk1vZGVsVmlld2VyRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiYXIiLCJhclNjYWxlIiwiYXJQbGFjZW1lbnQiLCJhck1vZGVzIiwiaW9zU3JjIiwieHJFbnZpcm9ubWVudCIsInNoYWRvd1Jvb3QiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiU2V0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImFjdGl2YXRlQVIiLCJzdGF0dXMiLCJOT1RfUFJFU0VOVElORyIsImFyUmVuZGVyZXIiLCJwcmVzZW50ZWRTY2VuZSIsInNldEF0dHJpYnV0ZSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsInJlbW92ZUF0dHJpYnV0ZSIsIlNFU1NJT05fU1RBUlRFRCIsIlRSQUNLSU5HIiwiZGF0YSIsImNhbkFjdGl2YXRlQVIiLCJjb25uZWN0ZWRDYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGUiLCJjaGFuZ2VkUHJvcGVydGllcyIsImhhcyIsImNhblNjYWxlIiwidXBkYXRlU2hhZG93IiwiY29uc29sZSIsIndhcm4iLCJhck1vZGUiLCJzcmMiLCJ2YWx1ZSIsInN1cHBvcnRzUHJlc2VudGF0aW9uIiwiY2xhc3NMaXN0IiwiYWRkIiwiY29udGFpbnMiLCJyZW1vdmUiLCJGQUlMRUQiLCJsb2ciLCJwbGFjZU9uV2FsbCIsInByZXNlbnQiLCJlcnJvciIsInN0b3BQcmVzZW50aW5nIiwibG9hZGVkIiwibG9jYXRpb24iLCJzZWxmIiwidG9TdHJpbmciLCJsb2NhdGlvblVybCIsIlVSTCIsIm1vZGVsVXJsIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2VhcmNoIiwiaGFzaCIsInNldCIsInNvdW5kVXJsIiwiZ2V0IiwibGlua1VybCIsImludGVudCIsImVuY29kZVVSSUNvbXBvbmVudCIsInVuZG9IYXNoQ2hhbmdlIiwiaGlzdG9yeSIsImJhY2siLCJvbmNlIiwiY2xpY2siLCJnZW5lcmF0ZVVzZHoiLCJvYmplY3RVUkwiLCJwcmVwYXJlVVNEWiIsInNyY1VybCIsImFuY2hvciIsImltZyIsImFwcGVuZENoaWxkIiwic3R5bGUiLCJkaXNwbGF5IiwiaXNDb25uZWN0ZWQiLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsInVwZGF0ZVNvdXJjZVByb2dyZXNzIiwiYmVnaW5BY3Rpdml0eSIsIm1vZGVsIiwic2hhZG93IiwidmlzaWJsZSIsImV4cG9ydGVyIiwiYXJyYXlidWZmZXIiLCJwYXJzZSIsImJsb2IiLCJCbG9iIiwidHlwZSIsInVybCIsImNyZWF0ZU9iamVjdFVSTCIsIkJvb2xlYW4iLCJhdHRyaWJ1dGUiLCJwcm90b3R5cGUiLCJTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/ar.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/controls.js":
/*!********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/controls.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $controls: () => (/* binding */ $controls),\n/* harmony export */   $fingerAnimatedContainers: () => (/* binding */ $fingerAnimatedContainers),\n/* harmony export */   $panElement: () => (/* binding */ $panElement),\n/* harmony export */   $promptAnimatedContainer: () => (/* binding */ $promptAnimatedContainer),\n/* harmony export */   $promptElement: () => (/* binding */ $promptElement),\n/* harmony export */   ControlsMixin: () => (/* binding */ ControlsMixin),\n/* harmony export */   DEFAULT_CAMERA_ORBIT: () => (/* binding */ DEFAULT_CAMERA_ORBIT),\n/* harmony export */   DEFAULT_FOV_DEG: () => (/* binding */ DEFAULT_FOV_DEG),\n/* harmony export */   DEFAULT_INTERACTION_PROMPT_THRESHOLD: () => (/* binding */ DEFAULT_INTERACTION_PROMPT_THRESHOLD),\n/* harmony export */   DEFAULT_MIN_FOV_DEG: () => (/* binding */ DEFAULT_MIN_FOV_DEG),\n/* harmony export */   INTERACTION_PROMPT: () => (/* binding */ INTERACTION_PROMPT),\n/* harmony export */   InteractionPromptStrategy: () => (/* binding */ InteractionPromptStrategy),\n/* harmony export */   InteractionPromptStyle: () => (/* binding */ InteractionPromptStyle),\n/* harmony export */   TouchAction: () => (/* binding */ TouchAction),\n/* harmony export */   cameraOrbitIntrinsics: () => (/* binding */ cameraOrbitIntrinsics),\n/* harmony export */   cameraTargetIntrinsics: () => (/* binding */ cameraTargetIntrinsics),\n/* harmony export */   fieldOfViewIntrinsics: () => (/* binding */ fieldOfViewIntrinsics)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../decorators.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/decorators.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/conversions.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _styles_evaluators_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/evaluators.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/evaluators.js\");\n/* harmony import */ var _styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* harmony import */ var _three_components_Damper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../three-components/Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* harmony import */ var _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../three-components/SmoothControls.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/SmoothControls.js\");\n/* harmony import */ var _utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utilities/animation.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/animation.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var __decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\n\n\n\n// NOTE(cdata): The following \"animation\" timing functions are deliberately\n// being used in favor of CSS animations. In Safari 12.1 and 13, CSS animations\n// would cause the interaction prompt to glitch unexpectedly\n// @see https://github.com/google/model-viewer/issues/839\nconst PROMPT_ANIMATION_TIME = 5000;\n// For timing purposes, a \"frame\" is a timing agnostic relative unit of time\n// and a \"value\" is a target value for the Frame.\nconst wiggle = (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)({\n    initialValue: 0,\n    keyframes: [\n        {\n            frames: 5,\n            value: -1\n        },\n        {\n            frames: 1,\n            value: -1\n        },\n        {\n            frames: 8,\n            value: 1\n        },\n        {\n            frames: 1,\n            value: 1\n        },\n        {\n            frames: 5,\n            value: 0\n        },\n        {\n            frames: 18,\n            value: 0\n        }\n    ]\n});\nconst fade = (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)({\n    initialValue: 0,\n    keyframes: [\n        {\n            frames: 1,\n            value: 1\n        },\n        {\n            frames: 5,\n            value: 1\n        },\n        {\n            frames: 1,\n            value: 0\n        },\n        {\n            frames: 6,\n            value: 0\n        }\n    ]\n});\nconst DEFAULT_FOV_DEG = 30;\nconst DEFAULT_MIN_FOV_DEG = 12;\nconst DEFAULT_CAMERA_ORBIT = \"0deg 75deg 105%\";\nconst DEFAULT_CAMERA_TARGET = \"auto auto auto\";\nconst DEFAULT_FIELD_OF_VIEW = \"auto\";\nconst MINIMUM_RADIUS_RATIO = 2.2;\nconst AZIMUTHAL_QUADRANT_LABELS = [\n    \"front\",\n    \"right\",\n    \"back\",\n    \"left\"\n];\nconst POLAR_TRIENT_LABELS = [\n    \"upper-\",\n    \"\",\n    \"lower-\"\n];\nconst DEFAULT_INTERACTION_PROMPT_THRESHOLD = 3000;\nconst INTERACTION_PROMPT = \". Use mouse, touch or arrow keys to move.\";\nconst InteractionPromptStrategy = {\n    AUTO: \"auto\",\n    NONE: \"none\"\n};\nconst InteractionPromptStyle = {\n    BASIC: \"basic\",\n    WIGGLE: \"wiggle\"\n};\nconst TouchAction = {\n    PAN_Y: \"pan-y\",\n    PAN_X: \"pan-x\",\n    NONE: \"none\"\n};\nconst fieldOfViewIntrinsics = ()=>{\n    return {\n        basis: [\n            (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.degreesToRadians)((0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(DEFAULT_FOV_DEG, \"deg\"))\n        ],\n        keywords: {\n            auto: [\n                null\n            ]\n        }\n    };\n};\nconst minFieldOfViewIntrinsics = ()=>{\n    return {\n        basis: [\n            (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.degreesToRadians)((0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(DEFAULT_MIN_FOV_DEG, \"deg\"))\n        ],\n        keywords: {\n            auto: [\n                null\n            ]\n        }\n    };\n};\nconst cameraOrbitIntrinsics = (()=>{\n    const defaultTerms = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.parseExpressions)(DEFAULT_CAMERA_ORBIT)[0].terms;\n    const theta = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.normalizeUnit)(defaultTerms[0]);\n    const phi = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.normalizeUnit)(defaultTerms[1]);\n    return (element)=>{\n        const radius = element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].idealCameraDistance();\n        return {\n            basis: [\n                theta,\n                phi,\n                (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(radius, \"m\")\n            ],\n            keywords: {\n                auto: [\n                    null,\n                    null,\n                    (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(105, \"%\")\n                ]\n            }\n        };\n    };\n})();\nconst minCameraOrbitIntrinsics = (element)=>{\n    const radius = MINIMUM_RADIUS_RATIO * element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].boundingSphere.radius;\n    return {\n        basis: [\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(-Infinity, \"rad\"),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(Math.PI / 8, \"rad\"),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(radius, \"m\")\n        ],\n        keywords: {\n            auto: [\n                null,\n                null,\n                null\n            ]\n        }\n    };\n};\nconst maxCameraOrbitIntrinsics = (element)=>{\n    const orbitIntrinsics = cameraOrbitIntrinsics(element);\n    const evaluator = new _styles_evaluators_js__WEBPACK_IMPORTED_MODULE_4__.StyleEvaluator([], orbitIntrinsics);\n    const defaultRadius = evaluator.evaluate()[2];\n    return {\n        basis: [\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(Infinity, \"rad\"),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(Math.PI - Math.PI / 8, \"rad\"),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(defaultRadius, \"m\")\n        ],\n        keywords: {\n            auto: [\n                null,\n                null,\n                null\n            ]\n        }\n    };\n};\nconst cameraTargetIntrinsics = (element)=>{\n    const center = element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].boundingBox.getCenter(new three__WEBPACK_IMPORTED_MODULE_9__.Vector3());\n    return {\n        basis: [\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(center.x, \"m\"),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(center.y, \"m\"),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(center.z, \"m\")\n        ],\n        keywords: {\n            auto: [\n                null,\n                null,\n                null\n            ]\n        }\n    };\n};\nconst HALF_PI = Math.PI / 2.0;\nconst THIRD_PI = Math.PI / 3.0;\nconst QUARTER_PI = HALF_PI / 2.0;\nconst TAU = 2.0 * Math.PI;\nconst $controls = Symbol(\"controls\");\nconst $panElement = Symbol(\"panElement\");\nconst $promptElement = Symbol(\"promptElement\");\nconst $promptAnimatedContainer = Symbol(\"promptAnimatedContainer\");\nconst $fingerAnimatedContainers = Symbol(\"fingerAnimatedContainers\");\nconst $deferInteractionPrompt = Symbol(\"deferInteractionPrompt\");\nconst $updateAria = Symbol(\"updateAria\");\nconst $updateCameraForRadius = Symbol(\"updateCameraForRadius\");\nconst $onChange = Symbol(\"onChange\");\nconst $onPointerChange = Symbol(\"onPointerChange\");\nconst $waitingToPromptUser = Symbol(\"waitingToPromptUser\");\nconst $userHasInteracted = Symbol(\"userHasInteracted\");\nconst $promptElementVisibleTime = Symbol(\"promptElementVisibleTime\");\nconst $lastPromptOffset = Symbol(\"lastPromptOffset\");\nconst $lastSpherical = Symbol(\"lastSpherical\");\nconst $jumpCamera = Symbol(\"jumpCamera\");\nconst $initialized = Symbol(\"initialized\");\nconst $maintainThetaPhi = Symbol(\"maintainThetaPhi\");\nconst $syncCameraOrbit = Symbol(\"syncCameraOrbit\");\nconst $syncFieldOfView = Symbol(\"syncFieldOfView\");\nconst $syncCameraTarget = Symbol(\"syncCameraTarget\");\nconst $syncMinCameraOrbit = Symbol(\"syncMinCameraOrbit\");\nconst $syncMaxCameraOrbit = Symbol(\"syncMaxCameraOrbit\");\nconst $syncMinFieldOfView = Symbol(\"syncMinFieldOfView\");\nconst $syncMaxFieldOfView = Symbol(\"syncMaxFieldOfView\");\nconst ControlsMixin = (ModelViewerElement)=>{\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n    class ControlsModelViewerElement extends ModelViewerElement {\n        constructor(){\n            super(...arguments);\n            this.cameraControls = false;\n            this.cameraOrbit = DEFAULT_CAMERA_ORBIT;\n            this.cameraTarget = DEFAULT_CAMERA_TARGET;\n            this.fieldOfView = DEFAULT_FIELD_OF_VIEW;\n            this.minCameraOrbit = \"auto\";\n            this.maxCameraOrbit = \"auto\";\n            this.minFieldOfView = \"auto\";\n            this.maxFieldOfView = \"auto\";\n            this.interactionPromptThreshold = DEFAULT_INTERACTION_PROMPT_THRESHOLD;\n            this.interactionPrompt = InteractionPromptStrategy.AUTO;\n            this.interactionPromptStyle = InteractionPromptStyle.WIGGLE;\n            this.orbitSensitivity = 1;\n            this.touchAction = TouchAction.NONE;\n            this.disableZoom = false;\n            this.disablePan = false;\n            this.disableTap = false;\n            this.interpolationDecay = _three_components_Damper_js__WEBPACK_IMPORTED_MODULE_6__.DECAY_MILLISECONDS;\n            this[_a] = this.shadowRoot.querySelector(\".interaction-prompt\");\n            this[_b] = this.shadowRoot.querySelector(\"#prompt\");\n            this[_c] = [\n                this.shadowRoot.querySelector(\"#finger0\"),\n                this.shadowRoot.querySelector(\"#finger1\")\n            ];\n            this[_d] = this.shadowRoot.querySelector(\".pan-target\");\n            this[_e] = 0;\n            this[_f] = Infinity;\n            this[_g] = false;\n            this[_h] = false;\n            this[_j] = new _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.SmoothControls(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].camera, this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$userInputElement], this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene]);\n            this[_k] = new three__WEBPACK_IMPORTED_MODULE_9__.Spherical();\n            this[_l] = false;\n            this[_m] = false;\n            this[_o] = false;\n            this[_p] = ({ source })=>{\n                this[$updateAria]();\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$needsRender]();\n                if (source === _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.USER_INTERACTION) {\n                    this[$userHasInteracted] = true;\n                    this[$deferInteractionPrompt]();\n                }\n                this.dispatchEvent(new CustomEvent(\"camera-change\", {\n                    detail: {\n                        source\n                    }\n                }));\n            };\n            this[_q] = (event)=>{\n                if (event.type === \"pointer-change-start\") {\n                    this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$container].classList.add(\"pointer-tumbling\");\n                } else {\n                    this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$container].classList.remove(\"pointer-tumbling\");\n                }\n            };\n        }\n        get inputSensitivity() {\n            return this[$controls].inputSensitivity;\n        }\n        set inputSensitivity(value) {\n            this[$controls].inputSensitivity = value;\n        }\n        getCameraOrbit() {\n            const { theta, phi, radius } = this[$lastSpherical];\n            return {\n                theta,\n                phi,\n                radius,\n                toString () {\n                    return `${this.theta}rad ${this.phi}rad ${this.radius}m`;\n                }\n            };\n        }\n        getCameraTarget() {\n            return (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.toVector3D)(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].isPresenting ? this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.target : this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].getTarget());\n        }\n        getFieldOfView() {\n            return this[$controls].getFieldOfView();\n        }\n        // Provided so user code does not have to parse these from attributes.\n        getMinimumFieldOfView() {\n            return this[$controls].options.minimumFieldOfView;\n        }\n        getMaximumFieldOfView() {\n            return this[$controls].options.maximumFieldOfView;\n        }\n        getIdealAspect() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].idealAspect;\n        }\n        jumpCameraToGoal() {\n            this[$jumpCamera] = true;\n            this.requestUpdate($jumpCamera, false);\n        }\n        resetInteractionPrompt() {\n            this[$lastPromptOffset] = 0;\n            this[$promptElementVisibleTime] = Infinity;\n            this[$userHasInteracted] = false;\n            this[$waitingToPromptUser] = this.interactionPrompt === InteractionPromptStrategy.AUTO && this.cameraControls;\n        }\n        zoom(keyPresses) {\n            const event = new WheelEvent(\"wheel\", {\n                deltaY: -30 * keyPresses\n            });\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$userInputElement].dispatchEvent(event);\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this[$controls].addEventListener(\"change\", this[$onChange]);\n            this[$controls].addEventListener(\"pointer-change-start\", this[$onPointerChange]);\n            this[$controls].addEventListener(\"pointer-change-end\", this[$onPointerChange]);\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            this[$controls].removeEventListener(\"change\", this[$onChange]);\n            this[$controls].removeEventListener(\"pointer-change-start\", this[$onPointerChange]);\n            this[$controls].removeEventListener(\"pointer-change-end\", this[$onPointerChange]);\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            const controls = this[$controls];\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            if (changedProperties.has(\"cameraControls\")) {\n                if (this.cameraControls) {\n                    controls.enableInteraction();\n                    if (this.interactionPrompt === InteractionPromptStrategy.AUTO) {\n                        this[$waitingToPromptUser] = true;\n                    }\n                } else {\n                    controls.disableInteraction();\n                    this[$deferInteractionPrompt]();\n                }\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$userInputElement].setAttribute(\"aria-label\", this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$ariaLabel]);\n            }\n            if (changedProperties.has(\"disableZoom\")) {\n                controls.disableZoom = this.disableZoom;\n            }\n            if (changedProperties.has(\"disablePan\")) {\n                controls.enablePan = !this.disablePan;\n            }\n            if (changedProperties.has(\"disableTap\")) {\n                controls.enableTap = !this.disableTap;\n            }\n            if (changedProperties.has(\"interactionPrompt\") || changedProperties.has(\"cameraControls\") || changedProperties.has(\"src\")) {\n                if (this.interactionPrompt === InteractionPromptStrategy.AUTO && this.cameraControls && !this[$userHasInteracted]) {\n                    this[$waitingToPromptUser] = true;\n                } else {\n                    this[$deferInteractionPrompt]();\n                }\n            }\n            if (changedProperties.has(\"interactionPromptStyle\")) {\n                this[$promptAnimatedContainer].style.opacity = this.interactionPromptStyle == InteractionPromptStyle.BASIC ? \"1\" : \"0\";\n            }\n            if (changedProperties.has(\"touchAction\")) {\n                const touchAction = this.touchAction;\n                controls.applyOptions({\n                    touchAction\n                });\n                controls.updateTouchActionStyle();\n            }\n            if (changedProperties.has(\"orbitSensitivity\")) {\n                controls.orbitSensitivity = this.orbitSensitivity;\n            }\n            if (changedProperties.has(\"interpolationDecay\")) {\n                controls.setDamperDecayTime(this.interpolationDecay);\n                scene.setTargetDamperDecayTime(this.interpolationDecay);\n            }\n            if (this[$jumpCamera] === true) {\n                Promise.resolve().then(()=>{\n                    controls.jumpToGoal();\n                    scene.jumpToGoal();\n                    this[$jumpCamera] = false;\n                });\n            }\n        }\n        async updateFraming() {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            const oldFramedFoV = scene.adjustedFoV(scene.framedFoVDeg);\n            await scene.updateFraming();\n            const newFramedFoV = scene.adjustedFoV(scene.framedFoVDeg);\n            const zoom = this[$controls].getFieldOfView() / oldFramedFoV;\n            this[$controls].setFieldOfView(newFramedFoV * zoom);\n            this[$maintainThetaPhi] = true;\n            this.requestUpdate(\"maxFieldOfView\");\n            this.requestUpdate(\"fieldOfView\");\n            this.requestUpdate(\"minCameraOrbit\");\n            this.requestUpdate(\"maxCameraOrbit\");\n            this.requestUpdate(\"cameraOrbit\");\n            await this.updateComplete;\n        }\n        interact(duration, finger0, finger1) {\n            const inputElement = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$userInputElement];\n            const fingerElements = this[$fingerAnimatedContainers];\n            if (fingerElements[0].style.opacity === \"1\") {\n                console.warn(\"interact() failed because an existing interaction is running.\");\n                return;\n            }\n            const xy = new Array();\n            xy.push({\n                x: (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)(finger0.x),\n                y: (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)(finger0.y)\n            });\n            const positions = [\n                {\n                    x: xy[0].x(0),\n                    y: xy[0].y(0)\n                }\n            ];\n            if (finger1 != null) {\n                xy.push({\n                    x: (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)(finger1.x),\n                    y: (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)(finger1.y)\n                });\n                positions.push({\n                    x: xy[1].x(0),\n                    y: xy[1].y(0)\n                });\n            }\n            let startTime = performance.now();\n            const { width, height } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            const dispatchTouches = (type)=>{\n                for (const [i, position] of positions.entries()){\n                    const { style } = fingerElements[i];\n                    style.transform = `translateX(${width * position.x}px) translateY(${height * position.y}px)`;\n                    if (type === \"pointerdown\") {\n                        style.opacity = \"1\";\n                    } else if (type === \"pointerup\") {\n                        style.opacity = \"0\";\n                    }\n                    const init = {\n                        pointerId: i - 5678,\n                        pointerType: \"touch\",\n                        target: inputElement,\n                        clientX: width * position.x,\n                        clientY: height * position.y,\n                        altKey: true // flag that this is not a user interaction\n                    };\n                    inputElement.dispatchEvent(new PointerEvent(type, init));\n                }\n            };\n            const moveTouches = ()=>{\n                // Cancel interaction if something else moves the camera or input is\n                // removed from the DOM.\n                const { changeSource } = this[$controls];\n                if (changeSource !== _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.AUTOMATIC || !inputElement.isConnected) {\n                    for (const fingerElement of this[$fingerAnimatedContainers]){\n                        fingerElement.style.opacity = \"0\";\n                    }\n                    dispatchTouches(\"pointercancel\");\n                    this.dispatchEvent(new CustomEvent(\"interact-stopped\", {\n                        detail: {\n                            source: changeSource\n                        }\n                    }));\n                    document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n                    return;\n                }\n                const time = Math.min(1, (performance.now() - startTime) / duration);\n                for (const [i, position] of positions.entries()){\n                    position.x = xy[i].x(time);\n                    position.y = xy[i].y(time);\n                }\n                dispatchTouches(\"pointermove\");\n                if (time < 1) {\n                    requestAnimationFrame(moveTouches);\n                } else {\n                    dispatchTouches(\"pointerup\");\n                    this.dispatchEvent(new CustomEvent(\"interact-stopped\", {\n                        detail: {\n                            source: changeSource\n                        }\n                    }));\n                    document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n                }\n            };\n            const onVisibilityChange = ()=>{\n                let elapsed = 0;\n                if (document.visibilityState === \"hidden\") {\n                    elapsed = performance.now() - startTime;\n                } else {\n                    startTime = performance.now() - elapsed;\n                }\n            };\n            document.addEventListener(\"visibilitychange\", onVisibilityChange);\n            dispatchTouches(\"pointerdown\");\n            requestAnimationFrame(moveTouches);\n        }\n        [(_a = $promptElement, _b = $promptAnimatedContainer, _c = $fingerAnimatedContainers, _d = $panElement, _e = $lastPromptOffset, _f = $promptElementVisibleTime, _g = $userHasInteracted, _h = $waitingToPromptUser, _j = $controls, _k = $lastSpherical, _l = $jumpCamera, _m = $initialized, _o = $maintainThetaPhi, $syncFieldOfView)](style) {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            scene.framedFoVDeg = style[0] * 180 / Math.PI;\n            this[$controls].setFieldOfView(scene.adjustedFoV(scene.framedFoVDeg));\n        }\n        [$syncCameraOrbit](style) {\n            const controls = this[$controls];\n            if (this[$maintainThetaPhi]) {\n                const { theta, phi } = this.getCameraOrbit();\n                style[0] = theta;\n                style[1] = phi;\n                this[$maintainThetaPhi] = false;\n            }\n            controls.changeSource = _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.NONE;\n            controls.setOrbit(style[0], style[1], style[2]);\n        }\n        [$syncMinCameraOrbit](style) {\n            this[$controls].applyOptions({\n                minimumAzimuthalAngle: style[0],\n                minimumPolarAngle: style[1],\n                minimumRadius: style[2]\n            });\n            this.jumpCameraToGoal();\n        }\n        [$syncMaxCameraOrbit](style) {\n            this[$controls].applyOptions({\n                maximumAzimuthalAngle: style[0],\n                maximumPolarAngle: style[1],\n                maximumRadius: style[2]\n            });\n            this[$updateCameraForRadius](style[2]);\n            this.jumpCameraToGoal();\n        }\n        [$syncMinFieldOfView](style) {\n            this[$controls].applyOptions({\n                minimumFieldOfView: style[0] * 180 / Math.PI\n            });\n            this.jumpCameraToGoal();\n        }\n        [$syncMaxFieldOfView](style) {\n            const fov = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].adjustedFoV(style[0] * 180 / Math.PI);\n            this[$controls].applyOptions({\n                maximumFieldOfView: fov\n            });\n            this.jumpCameraToGoal();\n        }\n        [$syncCameraTarget](style) {\n            const [x, y, z] = style;\n            if (!this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.isPresenting) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].setTarget(x, y, z);\n            }\n            this[$controls].changeSource = _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.NONE;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.updateTarget();\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$tick](time, delta) {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$tick](time, delta);\n            if (this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].isPresenting || !this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$getModelIsVisible]()) {\n                return;\n            }\n            const controls = this[$controls];\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            const now = performance.now();\n            if (this[$waitingToPromptUser]) {\n                if (this.loaded && now > this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$loadedTime] + this.interactionPromptThreshold) {\n                    this[$waitingToPromptUser] = false;\n                    this[$promptElementVisibleTime] = now;\n                    this[$promptElement].classList.add(\"visible\");\n                }\n            }\n            if (isFinite(this[$promptElementVisibleTime]) && this.interactionPromptStyle === InteractionPromptStyle.WIGGLE) {\n                const animationTime = (now - this[$promptElementVisibleTime]) / PROMPT_ANIMATION_TIME % 1;\n                const offset = wiggle(animationTime);\n                const opacity = fade(animationTime);\n                this[$promptAnimatedContainer].style.opacity = `${opacity}`;\n                if (offset !== this[$lastPromptOffset]) {\n                    const xOffset = offset * scene.width * 0.05;\n                    const deltaTheta = (offset - this[$lastPromptOffset]) * Math.PI / 16;\n                    this[$promptAnimatedContainer].style.transform = `translateX(${xOffset}px)`;\n                    controls.changeSource = _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.AUTOMATIC;\n                    controls.adjustOrbit(deltaTheta, 0, 0);\n                    this[$lastPromptOffset] = offset;\n                }\n            }\n            controls.update(time, delta);\n            if (scene.updateTarget(delta)) {\n                this[$onChange]({\n                    type: \"change\",\n                    source: controls.changeSource\n                });\n            }\n        }\n        [$deferInteractionPrompt]() {\n            // Effectively cancel the timer waiting for user interaction:\n            this[$waitingToPromptUser] = false;\n            this[$promptElement].classList.remove(\"visible\");\n            this[$promptElementVisibleTime] = Infinity;\n        }\n        /**\n         * Updates the camera's near and far planes to enclose the scene when\n         * orbiting at the supplied radius.\n         */ [$updateCameraForRadius](radius) {\n            const maximumRadius = Math.max(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].boundingSphere.radius, radius);\n            const near = 0;\n            const far = 2 * maximumRadius;\n            this[$controls].updateNearFar(near, far);\n        }\n        [$updateAria]() {\n            const { theta, phi } = this[$controls].getCameraSpherical(this[$lastSpherical]);\n            const azimuthalQuadrant = (4 + Math.floor((theta % TAU + QUARTER_PI) / HALF_PI)) % 4;\n            const polarTrient = Math.floor(phi / THIRD_PI);\n            const azimuthalQuadrantLabel = AZIMUTHAL_QUADRANT_LABELS[azimuthalQuadrant];\n            const polarTrientLabel = POLAR_TRIENT_LABELS[polarTrient];\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$updateStatus](`View from stage ${polarTrientLabel}${azimuthalQuadrantLabel}`);\n        }\n        get [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$ariaLabel]() {\n            return super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$ariaLabel] + (this.cameraControls ? INTERACTION_PROMPT : \"\");\n        }\n        async [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$onResize](event) {\n            const controls = this[$controls];\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            const oldFramedFoV = scene.adjustedFoV(scene.framedFoVDeg);\n            // The super of $onResize may update the scene's adjustedFoV, so we\n            // compare the before and after to calculate the proper zoom.\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$onResize](event);\n            const fovRatio = scene.adjustedFoV(scene.framedFoVDeg) / oldFramedFoV;\n            const fov = controls.getFieldOfView() * (isFinite(fovRatio) ? fovRatio : 1);\n            controls.updateAspect(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].aspect);\n            this.requestUpdate(\"maxFieldOfView\", this.maxFieldOfView);\n            await this.updateComplete;\n            this[$controls].setFieldOfView(fov);\n            this.jumpCameraToGoal();\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$onModelLoad]() {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$onModelLoad]();\n            if (this[$initialized]) {\n                this[$maintainThetaPhi] = true;\n            } else {\n                this[$initialized] = true;\n            }\n            this.requestUpdate(\"maxFieldOfView\", this.maxFieldOfView);\n            this.requestUpdate(\"fieldOfView\", this.fieldOfView);\n            this.requestUpdate(\"minCameraOrbit\", this.minCameraOrbit);\n            this.requestUpdate(\"maxCameraOrbit\", this.maxCameraOrbit);\n            this.requestUpdate(\"cameraOrbit\", this.cameraOrbit);\n            this.requestUpdate(\"cameraTarget\", this.cameraTarget);\n            this.jumpCameraToGoal();\n        }\n    }\n    _p = $onChange, _q = $onPointerChange;\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Boolean,\n            attribute: \"camera-controls\"\n        })\n    ], ControlsModelViewerElement.prototype, \"cameraControls\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: cameraOrbitIntrinsics,\n            observeEffects: true,\n            updateHandler: $syncCameraOrbit\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"camera-orbit\",\n            hasChanged: ()=>true\n        })\n    ], ControlsModelViewerElement.prototype, \"cameraOrbit\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: cameraTargetIntrinsics,\n            observeEffects: true,\n            updateHandler: $syncCameraTarget\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"camera-target\",\n            hasChanged: ()=>true\n        })\n    ], ControlsModelViewerElement.prototype, \"cameraTarget\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: fieldOfViewIntrinsics,\n            observeEffects: true,\n            updateHandler: $syncFieldOfView\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"field-of-view\",\n            hasChanged: ()=>true\n        })\n    ], ControlsModelViewerElement.prototype, \"fieldOfView\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: minCameraOrbitIntrinsics,\n            updateHandler: $syncMinCameraOrbit\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"min-camera-orbit\",\n            hasChanged: ()=>true\n        })\n    ], ControlsModelViewerElement.prototype, \"minCameraOrbit\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: maxCameraOrbitIntrinsics,\n            updateHandler: $syncMaxCameraOrbit\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"max-camera-orbit\",\n            hasChanged: ()=>true\n        })\n    ], ControlsModelViewerElement.prototype, \"maxCameraOrbit\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: minFieldOfViewIntrinsics,\n            updateHandler: $syncMinFieldOfView\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"min-field-of-view\",\n            hasChanged: ()=>true\n        })\n    ], ControlsModelViewerElement.prototype, \"minFieldOfView\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: fieldOfViewIntrinsics,\n            updateHandler: $syncMaxFieldOfView\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"max-field-of-view\",\n            hasChanged: ()=>true\n        })\n    ], ControlsModelViewerElement.prototype, \"maxFieldOfView\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Number,\n            attribute: \"interaction-prompt-threshold\"\n        })\n    ], ControlsModelViewerElement.prototype, \"interactionPromptThreshold\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"interaction-prompt\"\n        })\n    ], ControlsModelViewerElement.prototype, \"interactionPrompt\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"interaction-prompt-style\"\n        })\n    ], ControlsModelViewerElement.prototype, \"interactionPromptStyle\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Number,\n            attribute: \"orbit-sensitivity\"\n        })\n    ], ControlsModelViewerElement.prototype, \"orbitSensitivity\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"touch-action\"\n        })\n    ], ControlsModelViewerElement.prototype, \"touchAction\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Boolean,\n            attribute: \"disable-zoom\"\n        })\n    ], ControlsModelViewerElement.prototype, \"disableZoom\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Boolean,\n            attribute: \"disable-pan\"\n        })\n    ], ControlsModelViewerElement.prototype, \"disablePan\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Boolean,\n            attribute: \"disable-tap\"\n        })\n    ], ControlsModelViewerElement.prototype, \"disableTap\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Number,\n            attribute: \"interpolation-decay\"\n        })\n    ], ControlsModelViewerElement.prototype, \"interpolationDecay\", void 0);\n    return ControlsModelViewerElement;\n}; //# sourceMappingURL=controls.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2NvbnRyb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRCxJQUFJQSxhQUFhLFNBQUssSUFBSSxTQUFJLENBQUNBLFVBQVUsSUFBSyxTQUFVQyxVQUFVLEVBQUVDLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxJQUFJO0lBQ2pGLElBQUlDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUMsSUFBSUgsSUFBSSxJQUFJSCxTQUFTRSxTQUFTLE9BQU9BLE9BQU9LLE9BQU9DLHdCQUF3QixDQUFDUixRQUFRQyxPQUFPQyxNQUFNTztJQUMzSCxJQUFJLE9BQU9DLFlBQVksWUFBWSxPQUFPQSxRQUFRQyxRQUFRLEtBQUssWUFBWUwsSUFBSUksUUFBUUMsUUFBUSxDQUFDWixZQUFZQyxRQUFRQyxLQUFLQztTQUNwSCxJQUFLLElBQUlVLElBQUliLFdBQVdNLE1BQU0sR0FBRyxHQUFHTyxLQUFLLEdBQUdBLElBQUssSUFBSUgsSUFBSVYsVUFBVSxDQUFDYSxFQUFFLEVBQUVOLElBQUksQ0FBQ0gsSUFBSSxJQUFJTSxFQUFFSCxLQUFLSCxJQUFJLElBQUlNLEVBQUVULFFBQVFDLEtBQUtLLEtBQUtHLEVBQUVULFFBQVFDLElBQUcsS0FBTUs7SUFDaEosT0FBT0gsSUFBSSxLQUFLRyxLQUFLQyxPQUFPTSxjQUFjLENBQUNiLFFBQVFDLEtBQUtLLElBQUlBO0FBQ2hFO0FBQzZDO0FBQ0Y7QUFDRjtBQUN3SztBQUN0STtBQUNsQjtBQUNXO0FBQ0Q7QUFDa0I7QUFDaEM7QUFDckQsMkVBQTJFO0FBQzNFLCtFQUErRTtBQUMvRSw0REFBNEQ7QUFDNUQseURBQXlEO0FBQ3pELE1BQU1rQyx3QkFBd0I7QUFDOUIsNEVBQTRFO0FBQzVFLGlEQUFpRDtBQUNqRCxNQUFNQyxTQUFTRixpRUFBUUEsQ0FBQztJQUNwQkcs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QUN0RCxFQUFFN0osMkJBQTJCOEosU0FBUyxFQUFFLGVBQWUsS0FBSztJQUM3RC9TLFdBQVc7UUFDUGdCLDJEQUFRQSxDQUFDO1lBQUU2SixNQUFNZ0k7WUFBU0MsV0FBVztRQUFlO0tBQ3ZELEVBQUU3SiwyQkFBMkI4SixTQUFTLEVBQUUsZUFBZSxLQUFLO0lBQzdEL1MsV0FBVztRQUNQZ0IsMkRBQVFBLENBQUM7WUFBRTZKLE1BQU1nSTtZQUFTQyxXQUFXO1FBQWM7S0FDdEQsRUFBRTdKLDJCQUEyQjhKLFNBQVMsRUFBRSxjQUFjLEtBQUs7SUFDNUQvUyxXQUFXO1FBQ1BnQiwyREFBUUEsQ0FBQztZQUFFNkosTUFBTWdJO1lBQVNDLFdBQVc7UUFBYztLQUN0RCxFQUFFN0osMkJBQTJCOEosU0FBUyxFQUFFLGNBQWMsS0FBSztJQUM1RC9TLFdBQVc7UUFDUGdCLDJEQUFRQSxDQUFDO1lBQUU2SixNQUFNd0k7WUFBUVAsV0FBVztRQUFzQjtLQUM3RCxFQUFFN0osMkJBQTJCOEosU0FBUyxFQUFFLHNCQUFzQixLQUFLO0lBQ3BFLE9BQU85SjtBQUNYLEVBQUUsQ0FDRixvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9mZWF0dXJlcy9jb250cm9scy5qcz83NTUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgU3BoZXJpY2FsLCBWZWN0b3IzIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgc3R5bGUgfSBmcm9tICcuLi9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7ICRhcmlhTGFiZWwsICRjb250YWluZXIsICRnZXRNb2RlbElzVmlzaWJsZSwgJGxvYWRlZFRpbWUsICRuZWVkc1JlbmRlciwgJG9uTW9kZWxMb2FkLCAkb25SZXNpemUsICRyZW5kZXJlciwgJHNjZW5lLCAkdGljaywgJHVwZGF0ZVN0YXR1cywgJHVzZXJJbnB1dEVsZW1lbnQsIHRvVmVjdG9yM0QgfSBmcm9tICcuLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgeyBkZWdyZWVzVG9SYWRpYW5zLCBub3JtYWxpemVVbml0IH0gZnJvbSAnLi4vc3R5bGVzL2NvbnZlcnNpb25zLmpzJztcbmltcG9ydCB7IFN0eWxlRXZhbHVhdG9yIH0gZnJvbSAnLi4vc3R5bGVzL2V2YWx1YXRvcnMuanMnO1xuaW1wb3J0IHsgbnVtYmVyTm9kZSwgcGFyc2VFeHByZXNzaW9ucyB9IGZyb20gJy4uL3N0eWxlcy9wYXJzZXJzLmpzJztcbmltcG9ydCB7IERFQ0FZX01JTExJU0VDT05EUyB9IGZyb20gJy4uL3RocmVlLWNvbXBvbmVudHMvRGFtcGVyLmpzJztcbmltcG9ydCB7IENoYW5nZVNvdXJjZSwgU21vb3RoQ29udHJvbHMgfSBmcm9tICcuLi90aHJlZS1jb21wb25lbnRzL1Ntb290aENvbnRyb2xzLmpzJztcbmltcG9ydCB7IHRpbWVsaW5lIH0gZnJvbSAnLi4vdXRpbGl0aWVzL2FuaW1hdGlvbi5qcyc7XG4vLyBOT1RFKGNkYXRhKTogVGhlIGZvbGxvd2luZyBcImFuaW1hdGlvblwiIHRpbWluZyBmdW5jdGlvbnMgYXJlIGRlbGliZXJhdGVseVxuLy8gYmVpbmcgdXNlZCBpbiBmYXZvciBvZiBDU1MgYW5pbWF0aW9ucy4gSW4gU2FmYXJpIDEyLjEgYW5kIDEzLCBDU1MgYW5pbWF0aW9uc1xuLy8gd291bGQgY2F1c2UgdGhlIGludGVyYWN0aW9uIHByb21wdCB0byBnbGl0Y2ggdW5leHBlY3RlZGx5XG4vLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvbW9kZWwtdmlld2VyL2lzc3Vlcy84MzlcbmNvbnN0IFBST01QVF9BTklNQVRJT05fVElNRSA9IDUwMDA7XG4vLyBGb3IgdGltaW5nIHB1cnBvc2VzLCBhIFwiZnJhbWVcIiBpcyBhIHRpbWluZyBhZ25vc3RpYyByZWxhdGl2ZSB1bml0IG9mIHRpbWVcbi8vIGFuZCBhIFwidmFsdWVcIiBpcyBhIHRhcmdldCB2YWx1ZSBmb3IgdGhlIEZyYW1lLlxuY29uc3Qgd2lnZ2xlID0gdGltZWxpbmUoe1xuICAgIGluaXRpYWxWYWx1ZTogMCxcbiAgICBrZXlmcmFtZXM6IFtcbiAgICAgICAgeyBmcmFtZXM6IDUsIHZhbHVlOiAtMSB9LFxuICAgICAgICB7IGZyYW1lczogMSwgdmFsdWU6IC0xIH0sXG4gICAgICAgIHsgZnJhbWVzOiA4LCB2YWx1ZTogMSB9LFxuICAgICAgICB7IGZyYW1lczogMSwgdmFsdWU6IDEgfSxcbiAgICAgICAgeyBmcmFtZXM6IDUsIHZhbHVlOiAwIH0sXG4gICAgICAgIHsgZnJhbWVzOiAxOCwgdmFsdWU6IDAgfVxuICAgIF1cbn0pO1xuY29uc3QgZmFkZSA9IHRpbWVsaW5lKHtcbiAgICBpbml0aWFsVmFsdWU6IDAsXG4gICAga2V5ZnJhbWVzOiBbXG4gICAgICAgIHsgZnJhbWVzOiAxLCB2YWx1ZTogMSB9LFxuICAgICAgICB7IGZyYW1lczogNSwgdmFsdWU6IDEgfSxcbiAgICAgICAgeyBmcmFtZXM6IDEsIHZhbHVlOiAwIH0sXG4gICAgICAgIHsgZnJhbWVzOiA2LCB2YWx1ZTogMCB9XG4gICAgXVxufSk7XG5leHBvcnQgY29uc3QgREVGQVVMVF9GT1ZfREVHID0gMzA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9NSU5fRk9WX0RFRyA9IDEyO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ0FNRVJBX09SQklUID0gJzBkZWcgNzVkZWcgMTA1JSc7XG5jb25zdCBERUZBVUxUX0NBTUVSQV9UQVJHRVQgPSAnYXV0byBhdXRvIGF1dG8nO1xuY29uc3QgREVGQVVMVF9GSUVMRF9PRl9WSUVXID0gJ2F1dG8nO1xuY29uc3QgTUlOSU1VTV9SQURJVVNfUkFUSU8gPSAyLjI7XG5jb25zdCBBWklNVVRIQUxfUVVBRFJBTlRfTEFCRUxTID0gWydmcm9udCcsICdyaWdodCcsICdiYWNrJywgJ2xlZnQnXTtcbmNvbnN0IFBPTEFSX1RSSUVOVF9MQUJFTFMgPSBbJ3VwcGVyLScsICcnLCAnbG93ZXItJ107XG5leHBvcnQgY29uc3QgREVGQVVMVF9JTlRFUkFDVElPTl9QUk9NUFRfVEhSRVNIT0xEID0gMzAwMDtcbmV4cG9ydCBjb25zdCBJTlRFUkFDVElPTl9QUk9NUFQgPSAnLiBVc2UgbW91c2UsIHRvdWNoIG9yIGFycm93IGtleXMgdG8gbW92ZS4nO1xuZXhwb3J0IGNvbnN0IEludGVyYWN0aW9uUHJvbXB0U3RyYXRlZ3kgPSB7XG4gICAgQVVUTzogJ2F1dG8nLFxuICAgIE5PTkU6ICdub25lJ1xufTtcbmV4cG9ydCBjb25zdCBJbnRlcmFjdGlvblByb21wdFN0eWxlID0ge1xuICAgIEJBU0lDOiAnYmFzaWMnLFxuICAgIFdJR0dMRTogJ3dpZ2dsZSdcbn07XG5leHBvcnQgY29uc3QgVG91Y2hBY3Rpb24gPSB7XG4gICAgUEFOX1k6ICdwYW4teScsXG4gICAgUEFOX1g6ICdwYW4teCcsXG4gICAgTk9ORTogJ25vbmUnXG59O1xuZXhwb3J0IGNvbnN0IGZpZWxkT2ZWaWV3SW50cmluc2ljcyA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNpczogW2RlZ3JlZXNUb1JhZGlhbnMobnVtYmVyTm9kZShERUZBVUxUX0ZPVl9ERUcsICdkZWcnKSldLFxuICAgICAgICBrZXl3b3JkczogeyBhdXRvOiBbbnVsbF0gfVxuICAgIH07XG59O1xuY29uc3QgbWluRmllbGRPZlZpZXdJbnRyaW5zaWNzID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2lzOiBbZGVncmVlc1RvUmFkaWFucyhudW1iZXJOb2RlKERFRkFVTFRfTUlOX0ZPVl9ERUcsICdkZWcnKSldLFxuICAgICAgICBrZXl3b3JkczogeyBhdXRvOiBbbnVsbF0gfVxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IGNhbWVyYU9yYml0SW50cmluc2ljcyA9ICgoKSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdFRlcm1zID0gcGFyc2VFeHByZXNzaW9ucyhERUZBVUxUX0NBTUVSQV9PUkJJVClbMF1cbiAgICAgICAgLnRlcm1zO1xuICAgIGNvbnN0IHRoZXRhID0gbm9ybWFsaXplVW5pdChkZWZhdWx0VGVybXNbMF0pO1xuICAgIGNvbnN0IHBoaSA9IG5vcm1hbGl6ZVVuaXQoZGVmYXVsdFRlcm1zWzFdKTtcbiAgICByZXR1cm4gKGVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gZWxlbWVudFskc2NlbmVdLmlkZWFsQ2FtZXJhRGlzdGFuY2UoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhc2lzOiBbdGhldGEsIHBoaSwgbnVtYmVyTm9kZShyYWRpdXMsICdtJyldLFxuICAgICAgICAgICAga2V5d29yZHM6IHsgYXV0bzogW251bGwsIG51bGwsIG51bWJlck5vZGUoMTA1LCAnJScpXSB9XG4gICAgICAgIH07XG4gICAgfTtcbn0pKCk7XG5jb25zdCBtaW5DYW1lcmFPcmJpdEludHJpbnNpY3MgPSAoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHJhZGl1cyA9IE1JTklNVU1fUkFESVVTX1JBVElPICogZWxlbWVudFskc2NlbmVdLmJvdW5kaW5nU3BoZXJlLnJhZGl1cztcbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNpczogW1xuICAgICAgICAgICAgbnVtYmVyTm9kZSgtSW5maW5pdHksICdyYWQnKSxcbiAgICAgICAgICAgIG51bWJlck5vZGUoTWF0aC5QSSAvIDgsICdyYWQnKSxcbiAgICAgICAgICAgIG51bWJlck5vZGUocmFkaXVzLCAnbScpXG4gICAgICAgIF0sXG4gICAgICAgIGtleXdvcmRzOiB7IGF1dG86IFtudWxsLCBudWxsLCBudWxsXSB9XG4gICAgfTtcbn07XG5jb25zdCBtYXhDYW1lcmFPcmJpdEludHJpbnNpY3MgPSAoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IG9yYml0SW50cmluc2ljcyA9IGNhbWVyYU9yYml0SW50cmluc2ljcyhlbGVtZW50KTtcbiAgICBjb25zdCBldmFsdWF0b3IgPSBuZXcgU3R5bGVFdmFsdWF0b3IoW10sIG9yYml0SW50cmluc2ljcyk7XG4gICAgY29uc3QgZGVmYXVsdFJhZGl1cyA9IGV2YWx1YXRvci5ldmFsdWF0ZSgpWzJdO1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2lzOiBbXG4gICAgICAgICAgICBudW1iZXJOb2RlKEluZmluaXR5LCAncmFkJyksXG4gICAgICAgICAgICBudW1iZXJOb2RlKE1hdGguUEkgLSBNYXRoLlBJIC8gOCwgJ3JhZCcpLFxuICAgICAgICAgICAgbnVtYmVyTm9kZShkZWZhdWx0UmFkaXVzLCAnbScpXG4gICAgICAgIF0sXG4gICAgICAgIGtleXdvcmRzOiB7IGF1dG86IFtudWxsLCBudWxsLCBudWxsXSB9XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgY2FtZXJhVGFyZ2V0SW50cmluc2ljcyA9IChlbGVtZW50KSA9PiB7XG4gICAgY29uc3QgY2VudGVyID0gZWxlbWVudFskc2NlbmVdLmJvdW5kaW5nQm94LmdldENlbnRlcihuZXcgVmVjdG9yMygpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNpczogW1xuICAgICAgICAgICAgbnVtYmVyTm9kZShjZW50ZXIueCwgJ20nKSxcbiAgICAgICAgICAgIG51bWJlck5vZGUoY2VudGVyLnksICdtJyksXG4gICAgICAgICAgICBudW1iZXJOb2RlKGNlbnRlci56LCAnbScpXG4gICAgICAgIF0sXG4gICAgICAgIGtleXdvcmRzOiB7IGF1dG86IFtudWxsLCBudWxsLCBudWxsXSB9XG4gICAgfTtcbn07XG5jb25zdCBIQUxGX1BJID0gTWF0aC5QSSAvIDIuMDtcbmNvbnN0IFRISVJEX1BJID0gTWF0aC5QSSAvIDMuMDtcbmNvbnN0IFFVQVJURVJfUEkgPSBIQUxGX1BJIC8gMi4wO1xuY29uc3QgVEFVID0gMi4wICogTWF0aC5QSTtcbmV4cG9ydCBjb25zdCAkY29udHJvbHMgPSBTeW1ib2woJ2NvbnRyb2xzJyk7XG5leHBvcnQgY29uc3QgJHBhbkVsZW1lbnQgPSBTeW1ib2woJ3BhbkVsZW1lbnQnKTtcbmV4cG9ydCBjb25zdCAkcHJvbXB0RWxlbWVudCA9IFN5bWJvbCgncHJvbXB0RWxlbWVudCcpO1xuZXhwb3J0IGNvbnN0ICRwcm9tcHRBbmltYXRlZENvbnRhaW5lciA9IFN5bWJvbCgncHJvbXB0QW5pbWF0ZWRDb250YWluZXInKTtcbmV4cG9ydCBjb25zdCAkZmluZ2VyQW5pbWF0ZWRDb250YWluZXJzID0gU3ltYm9sKCdmaW5nZXJBbmltYXRlZENvbnRhaW5lcnMnKTtcbmNvbnN0ICRkZWZlckludGVyYWN0aW9uUHJvbXB0ID0gU3ltYm9sKCdkZWZlckludGVyYWN0aW9uUHJvbXB0Jyk7XG5jb25zdCAkdXBkYXRlQXJpYSA9IFN5bWJvbCgndXBkYXRlQXJpYScpO1xuY29uc3QgJHVwZGF0ZUNhbWVyYUZvclJhZGl1cyA9IFN5bWJvbCgndXBkYXRlQ2FtZXJhRm9yUmFkaXVzJyk7XG5jb25zdCAkb25DaGFuZ2UgPSBTeW1ib2woJ29uQ2hhbmdlJyk7XG5jb25zdCAkb25Qb2ludGVyQ2hhbmdlID0gU3ltYm9sKCdvblBvaW50ZXJDaGFuZ2UnKTtcbmNvbnN0ICR3YWl0aW5nVG9Qcm9tcHRVc2VyID0gU3ltYm9sKCd3YWl0aW5nVG9Qcm9tcHRVc2VyJyk7XG5jb25zdCAkdXNlckhhc0ludGVyYWN0ZWQgPSBTeW1ib2woJ3VzZXJIYXNJbnRlcmFjdGVkJyk7XG5jb25zdCAkcHJvbXB0RWxlbWVudFZpc2libGVUaW1lID0gU3ltYm9sKCdwcm9tcHRFbGVtZW50VmlzaWJsZVRpbWUnKTtcbmNvbnN0ICRsYXN0UHJvbXB0T2Zmc2V0ID0gU3ltYm9sKCdsYXN0UHJvbXB0T2Zmc2V0Jyk7XG5jb25zdCAkbGFzdFNwaGVyaWNhbCA9IFN5bWJvbCgnbGFzdFNwaGVyaWNhbCcpO1xuY29uc3QgJGp1bXBDYW1lcmEgPSBTeW1ib2woJ2p1bXBDYW1lcmEnKTtcbmNvbnN0ICRpbml0aWFsaXplZCA9IFN5bWJvbCgnaW5pdGlhbGl6ZWQnKTtcbmNvbnN0ICRtYWludGFpblRoZXRhUGhpID0gU3ltYm9sKCdtYWludGFpblRoZXRhUGhpJyk7XG5jb25zdCAkc3luY0NhbWVyYU9yYml0ID0gU3ltYm9sKCdzeW5jQ2FtZXJhT3JiaXQnKTtcbmNvbnN0ICRzeW5jRmllbGRPZlZpZXcgPSBTeW1ib2woJ3N5bmNGaWVsZE9mVmlldycpO1xuY29uc3QgJHN5bmNDYW1lcmFUYXJnZXQgPSBTeW1ib2woJ3N5bmNDYW1lcmFUYXJnZXQnKTtcbmNvbnN0ICRzeW5jTWluQ2FtZXJhT3JiaXQgPSBTeW1ib2woJ3N5bmNNaW5DYW1lcmFPcmJpdCcpO1xuY29uc3QgJHN5bmNNYXhDYW1lcmFPcmJpdCA9IFN5bWJvbCgnc3luY01heENhbWVyYU9yYml0Jyk7XG5jb25zdCAkc3luY01pbkZpZWxkT2ZWaWV3ID0gU3ltYm9sKCdzeW5jTWluRmllbGRPZlZpZXcnKTtcbmNvbnN0ICRzeW5jTWF4RmllbGRPZlZpZXcgPSBTeW1ib2woJ3N5bmNNYXhGaWVsZE9mVmlldycpO1xuZXhwb3J0IGNvbnN0IENvbnRyb2xzTWl4aW4gPSAoTW9kZWxWaWV3ZXJFbGVtZW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3E7XG4gICAgY2xhc3MgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQgZXh0ZW5kcyBNb2RlbFZpZXdlckVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUNvbnRyb2xzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYU9yYml0ID0gREVGQVVMVF9DQU1FUkFfT1JCSVQ7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVRhcmdldCA9IERFRkFVTFRfQ0FNRVJBX1RBUkdFVDtcbiAgICAgICAgICAgIHRoaXMuZmllbGRPZlZpZXcgPSBERUZBVUxUX0ZJRUxEX09GX1ZJRVc7XG4gICAgICAgICAgICB0aGlzLm1pbkNhbWVyYU9yYml0ID0gJ2F1dG8nO1xuICAgICAgICAgICAgdGhpcy5tYXhDYW1lcmFPcmJpdCA9ICdhdXRvJztcbiAgICAgICAgICAgIHRoaXMubWluRmllbGRPZlZpZXcgPSAnYXV0byc7XG4gICAgICAgICAgICB0aGlzLm1heEZpZWxkT2ZWaWV3ID0gJ2F1dG8nO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvblByb21wdFRocmVzaG9sZCA9IERFRkFVTFRfSU5URVJBQ1RJT05fUFJPTVBUX1RIUkVTSE9MRDtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Qcm9tcHQgPSBJbnRlcmFjdGlvblByb21wdFN0cmF0ZWd5LkFVVE87XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uUHJvbXB0U3R5bGUgPSBJbnRlcmFjdGlvblByb21wdFN0eWxlLldJR0dMRTtcbiAgICAgICAgICAgIHRoaXMub3JiaXRTZW5zaXRpdml0eSA9IDE7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uID0gVG91Y2hBY3Rpb24uTk9ORTtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVpvb20gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVBhbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlVGFwID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRpb25EZWNheSA9IERFQ0FZX01JTExJU0VDT05EUztcbiAgICAgICAgICAgIHRoaXNbX2FdID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5pbnRlcmFjdGlvbi1wcm9tcHQnKTtcbiAgICAgICAgICAgIHRoaXNbX2JdID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJyNwcm9tcHQnKTtcbiAgICAgICAgICAgIHRoaXNbX2NdID0gW1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjZmluZ2VyMCcpLFxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjZmluZ2VyMScpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgdGhpc1tfZF0gPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnBhbi10YXJnZXQnKTtcbiAgICAgICAgICAgIHRoaXNbX2VdID0gMDtcbiAgICAgICAgICAgIHRoaXNbX2ZdID0gSW5maW5pdHk7XG4gICAgICAgICAgICB0aGlzW19nXSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpc1tfaF0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXNbX2pdID0gbmV3IFNtb290aENvbnRyb2xzKHRoaXNbJHNjZW5lXS5jYW1lcmEsIHRoaXNbJHVzZXJJbnB1dEVsZW1lbnRdLCB0aGlzWyRzY2VuZV0pO1xuICAgICAgICAgICAgdGhpc1tfa10gPSBuZXcgU3BoZXJpY2FsKCk7XG4gICAgICAgICAgICB0aGlzW19sXSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpc1tfbV0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXNbX29dID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzW19wXSA9ICh7IHNvdXJjZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpc1skdXBkYXRlQXJpYV0oKTtcbiAgICAgICAgICAgICAgICB0aGlzWyRuZWVkc1JlbmRlcl0oKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlID09PSBDaGFuZ2VTb3VyY2UuVVNFUl9JTlRFUkFDVElPTikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyR1c2VySGFzSW50ZXJhY3RlZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRkZWZlckludGVyYWN0aW9uUHJvbXB0XSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjYW1lcmEtY2hhbmdlJywgeyBkZXRhaWw6IHsgc291cmNlIH0gfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbX3FdID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdwb2ludGVyLWNoYW5nZS1zdGFydCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skY29udGFpbmVyXS5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLXR1bWJsaW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRjb250YWluZXJdLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItdHVtYmxpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGdldCBpbnB1dFNlbnNpdGl2aXR5KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJGNvbnRyb2xzXS5pbnB1dFNlbnNpdGl2aXR5O1xuICAgICAgICB9XG4gICAgICAgIHNldCBpbnB1dFNlbnNpdGl2aXR5KHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10uaW5wdXRTZW5zaXRpdml0eSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldENhbWVyYU9yYml0KCkge1xuICAgICAgICAgICAgY29uc3QgeyB0aGV0YSwgcGhpLCByYWRpdXMgfSA9IHRoaXNbJGxhc3RTcGhlcmljYWxdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aGV0YSxcbiAgICAgICAgICAgICAgICBwaGksXG4gICAgICAgICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy50aGV0YX1yYWQgJHt0aGlzLnBoaX1yYWQgJHt0aGlzLnJhZGl1c31tYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGdldENhbWVyYVRhcmdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0b1ZlY3RvcjNEKHRoaXNbJHJlbmRlcmVyXS5pc1ByZXNlbnRpbmcgPyB0aGlzWyRyZW5kZXJlcl0uYXJSZW5kZXJlci50YXJnZXQgOlxuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5nZXRUYXJnZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0RmllbGRPZlZpZXcoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skY29udHJvbHNdLmdldEZpZWxkT2ZWaWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJvdmlkZWQgc28gdXNlciBjb2RlIGRvZXMgbm90IGhhdmUgdG8gcGFyc2UgdGhlc2UgZnJvbSBhdHRyaWJ1dGVzLlxuICAgICAgICBnZXRNaW5pbXVtRmllbGRPZlZpZXcoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skY29udHJvbHNdLm9wdGlvbnMubWluaW11bUZpZWxkT2ZWaWV3O1xuICAgICAgICB9XG4gICAgICAgIGdldE1heGltdW1GaWVsZE9mVmlldygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRjb250cm9sc10ub3B0aW9ucy5tYXhpbXVtRmllbGRPZlZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0SWRlYWxBc3BlY3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skc2NlbmVdLmlkZWFsQXNwZWN0O1xuICAgICAgICB9XG4gICAgICAgIGp1bXBDYW1lcmFUb0dvYWwoKSB7XG4gICAgICAgICAgICB0aGlzWyRqdW1wQ2FtZXJhXSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJGp1bXBDYW1lcmEsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXNldEludGVyYWN0aW9uUHJvbXB0KCkge1xuICAgICAgICAgICAgdGhpc1skbGFzdFByb21wdE9mZnNldF0gPSAwO1xuICAgICAgICAgICAgdGhpc1skcHJvbXB0RWxlbWVudFZpc2libGVUaW1lXSA9IEluZmluaXR5O1xuICAgICAgICAgICAgdGhpc1skdXNlckhhc0ludGVyYWN0ZWRdID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzWyR3YWl0aW5nVG9Qcm9tcHRVc2VyXSA9XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvblByb21wdCA9PT0gSW50ZXJhY3Rpb25Qcm9tcHRTdHJhdGVneS5BVVRPICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhQ29udHJvbHM7XG4gICAgICAgIH1cbiAgICAgICAgem9vbShrZXlQcmVzc2VzKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBXaGVlbEV2ZW50KCd3aGVlbCcsIHsgZGVsdGFZOiAtMzAgKiBrZXlQcmVzc2VzIH0pO1xuICAgICAgICAgICAgdGhpc1skdXNlcklucHV0RWxlbWVudF0uZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXNbJG9uQ2hhbmdlXSk7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10uYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlci1jaGFuZ2Utc3RhcnQnLCB0aGlzWyRvblBvaW50ZXJDaGFuZ2VdKTtcbiAgICAgICAgICAgIHRoaXNbJGNvbnRyb2xzXS5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyLWNoYW5nZS1lbmQnLCB0aGlzWyRvblBvaW50ZXJDaGFuZ2VdKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpc1skb25DaGFuZ2VdKTtcbiAgICAgICAgICAgIHRoaXNbJGNvbnRyb2xzXS5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyLWNoYW5nZS1zdGFydCcsIHRoaXNbJG9uUG9pbnRlckNoYW5nZV0pO1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXItY2hhbmdlLWVuZCcsIHRoaXNbJG9uUG9pbnRlckNoYW5nZV0pO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgY29uc3QgY29udHJvbHMgPSB0aGlzWyRjb250cm9sc107XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2NhbWVyYUNvbnRyb2xzJykpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb250cm9scykge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9scy5lbmFibGVJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGlvblByb21wdCA9PT0gSW50ZXJhY3Rpb25Qcm9tcHRTdHJhdGVneS5BVVRPKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyR3YWl0aW5nVG9Qcm9tcHRVc2VyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzLmRpc2FibGVJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRkZWZlckludGVyYWN0aW9uUHJvbXB0XSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzWyR1c2VySW5wdXRFbGVtZW50XS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzWyRhcmlhTGFiZWxdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2Rpc2FibGVab29tJykpIHtcbiAgICAgICAgICAgICAgICBjb250cm9scy5kaXNhYmxlWm9vbSA9IHRoaXMuZGlzYWJsZVpvb207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdkaXNhYmxlUGFuJykpIHtcbiAgICAgICAgICAgICAgICBjb250cm9scy5lbmFibGVQYW4gPSAhdGhpcy5kaXNhYmxlUGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnZGlzYWJsZVRhcCcpKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbHMuZW5hYmxlVGFwID0gIXRoaXMuZGlzYWJsZVRhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2ludGVyYWN0aW9uUHJvbXB0JykgfHxcbiAgICAgICAgICAgICAgICBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2NhbWVyYUNvbnRyb2xzJykgfHxcbiAgICAgICAgICAgICAgICBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3NyYycpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3Rpb25Qcm9tcHQgPT09IEludGVyYWN0aW9uUHJvbXB0U3RyYXRlZ3kuQVVUTyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYUNvbnRyb2xzICYmICF0aGlzWyR1c2VySGFzSW50ZXJhY3RlZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skd2FpdGluZ1RvUHJvbXB0VXNlcl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skZGVmZXJJbnRlcmFjdGlvblByb21wdF0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdpbnRlcmFjdGlvblByb21wdFN0eWxlJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRwcm9tcHRBbmltYXRlZENvbnRhaW5lcl0uc3R5bGUub3BhY2l0eSA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Qcm9tcHRTdHlsZSA9PSBJbnRlcmFjdGlvblByb21wdFN0eWxlLkJBU0lDID8gJzEnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICcwJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3RvdWNoQWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3VjaEFjdGlvbiA9IHRoaXMudG91Y2hBY3Rpb247XG4gICAgICAgICAgICAgICAgY29udHJvbHMuYXBwbHlPcHRpb25zKHsgdG91Y2hBY3Rpb24gfSk7XG4gICAgICAgICAgICAgICAgY29udHJvbHMudXBkYXRlVG91Y2hBY3Rpb25TdHlsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnb3JiaXRTZW5zaXRpdml0eScpKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbHMub3JiaXRTZW5zaXRpdml0eSA9IHRoaXMub3JiaXRTZW5zaXRpdml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2ludGVycG9sYXRpb25EZWNheScpKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbHMuc2V0RGFtcGVyRGVjYXlUaW1lKHRoaXMuaW50ZXJwb2xhdGlvbkRlY2F5KTtcbiAgICAgICAgICAgICAgICBzY2VuZS5zZXRUYXJnZXREYW1wZXJEZWNheVRpbWUodGhpcy5pbnRlcnBvbGF0aW9uRGVjYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXNbJGp1bXBDYW1lcmFdID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzLmp1bXBUb0dvYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NlbmUuanVtcFRvR29hbCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRqdW1wQ2FtZXJhXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzeW5jIHVwZGF0ZUZyYW1pbmcoKSB7XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIGNvbnN0IG9sZEZyYW1lZEZvViA9IHNjZW5lLmFkanVzdGVkRm9WKHNjZW5lLmZyYW1lZEZvVkRlZyk7XG4gICAgICAgICAgICBhd2FpdCBzY2VuZS51cGRhdGVGcmFtaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBuZXdGcmFtZWRGb1YgPSBzY2VuZS5hZGp1c3RlZEZvVihzY2VuZS5mcmFtZWRGb1ZEZWcpO1xuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHRoaXNbJGNvbnRyb2xzXS5nZXRGaWVsZE9mVmlldygpIC8gb2xkRnJhbWVkRm9WO1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLnNldEZpZWxkT2ZWaWV3KG5ld0ZyYW1lZEZvViAqIHpvb20pO1xuICAgICAgICAgICAgdGhpc1skbWFpbnRhaW5UaGV0YVBoaV0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdtYXhGaWVsZE9mVmlldycpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdmaWVsZE9mVmlldycpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdtaW5DYW1lcmFPcmJpdCcpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdtYXhDYW1lcmFPcmJpdCcpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdjYW1lcmFPcmJpdCcpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZTtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcmFjdChkdXJhdGlvbiwgZmluZ2VyMCwgZmluZ2VyMSkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gdGhpc1skdXNlcklucHV0RWxlbWVudF07XG4gICAgICAgICAgICBjb25zdCBmaW5nZXJFbGVtZW50cyA9IHRoaXNbJGZpbmdlckFuaW1hdGVkQ29udGFpbmVyc107XG4gICAgICAgICAgICBpZiAoZmluZ2VyRWxlbWVudHNbMF0uc3R5bGUub3BhY2l0eSA9PT0gJzEnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdpbnRlcmFjdCgpIGZhaWxlZCBiZWNhdXNlIGFuIGV4aXN0aW5nIGludGVyYWN0aW9uIGlzIHJ1bm5pbmcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeHkgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIHh5LnB1c2goeyB4OiB0aW1lbGluZShmaW5nZXIwLngpLCB5OiB0aW1lbGluZShmaW5nZXIwLnkpIH0pO1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW3sgeDogeHlbMF0ueCgwKSwgeTogeHlbMF0ueSgwKSB9XTtcbiAgICAgICAgICAgIGlmIChmaW5nZXIxICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB4eS5wdXNoKHsgeDogdGltZWxpbmUoZmluZ2VyMS54KSwgeTogdGltZWxpbmUoZmluZ2VyMS55KSB9KTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnMucHVzaCh7IHg6IHh5WzFdLngoMCksIHk6IHh5WzFdLnkoMCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3BhdGNoVG91Y2hlcyA9ICh0eXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaSwgcG9zaXRpb25dIG9mIHBvc2l0aW9ucy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzdHlsZSB9ID0gZmluZ2VyRWxlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7d2lkdGggKiBwb3NpdGlvbi54fXB4KSB0cmFuc2xhdGVZKCR7aGVpZ2h0ICogcG9zaXRpb24ueX1weClgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3BvaW50ZXJkb3duJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAncG9pbnRlcnVwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbml0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlcklkOiBpIC0gNTY3OCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBpbnB1dEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRYOiB3aWR0aCAqIHBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRZOiBoZWlnaHQgKiBwb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0S2V5OiB0cnVlIC8vIGZsYWcgdGhhdCB0aGlzIGlzIG5vdCBhIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IFBvaW50ZXJFdmVudCh0eXBlLCBpbml0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVUb3VjaGVzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENhbmNlbCBpbnRlcmFjdGlvbiBpZiBzb21ldGhpbmcgZWxzZSBtb3ZlcyB0aGUgY2FtZXJhIG9yIGlucHV0IGlzXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgICAgICAgICAgY29uc3QgeyBjaGFuZ2VTb3VyY2UgfSA9IHRoaXNbJGNvbnRyb2xzXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlU291cmNlICE9PSBDaGFuZ2VTb3VyY2UuQVVUT01BVElDIHx8XG4gICAgICAgICAgICAgICAgICAgICFpbnB1dEVsZW1lbnQuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaW5nZXJFbGVtZW50IG9mIHRoaXNbJGZpbmdlckFuaW1hdGVkQ29udGFpbmVyc10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmdlckVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaFRvdWNoZXMoJ3BvaW50ZXJjYW5jZWwnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnaW50ZXJhY3Qtc3RvcHBlZCcsIHsgZGV0YWlsOiB7IHNvdXJjZTogY2hhbmdlU291cmNlIH0gfSkpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lID0gTWF0aC5taW4oMSwgKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpLCBwb3NpdGlvbl0gb2YgcG9zaXRpb25zLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi54ID0geHlbaV0ueCh0aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ueSA9IHh5W2ldLnkodGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpc3BhdGNoVG91Y2hlcygncG9pbnRlcm1vdmUnKTtcbiAgICAgICAgICAgICAgICBpZiAodGltZSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1vdmVUb3VjaGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoVG91Y2hlcygncG9pbnRlcnVwJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2ludGVyYWN0LXN0b3BwZWQnLCB7IGRldGFpbDogeyBzb3VyY2U6IGNoYW5nZVNvdXJjZSB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG9uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZWxhcHNlZCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxhcHNlZCA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBlbGFwc2VkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoVG91Y2hlcygncG9pbnRlcmRvd24nKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShtb3ZlVG91Y2hlcyk7XG4gICAgICAgIH1cbiAgICAgICAgWyhfYSA9ICRwcm9tcHRFbGVtZW50LCBfYiA9ICRwcm9tcHRBbmltYXRlZENvbnRhaW5lciwgX2MgPSAkZmluZ2VyQW5pbWF0ZWRDb250YWluZXJzLCBfZCA9ICRwYW5FbGVtZW50LCBfZSA9ICRsYXN0UHJvbXB0T2Zmc2V0LCBfZiA9ICRwcm9tcHRFbGVtZW50VmlzaWJsZVRpbWUsIF9nID0gJHVzZXJIYXNJbnRlcmFjdGVkLCBfaCA9ICR3YWl0aW5nVG9Qcm9tcHRVc2VyLCBfaiA9ICRjb250cm9scywgX2sgPSAkbGFzdFNwaGVyaWNhbCwgX2wgPSAkanVtcENhbWVyYSwgX20gPSAkaW5pdGlhbGl6ZWQsIF9vID0gJG1haW50YWluVGhldGFQaGksICRzeW5jRmllbGRPZlZpZXcpXShzdHlsZSkge1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBzY2VuZS5mcmFtZWRGb1ZEZWcgPSBzdHlsZVswXSAqIDE4MCAvIE1hdGguUEk7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10uc2V0RmllbGRPZlZpZXcoc2NlbmUuYWRqdXN0ZWRGb1Yoc2NlbmUuZnJhbWVkRm9WRGVnKSk7XG4gICAgICAgIH1cbiAgICAgICAgWyRzeW5jQ2FtZXJhT3JiaXRdKHN0eWxlKSB7XG4gICAgICAgICAgICBjb25zdCBjb250cm9scyA9IHRoaXNbJGNvbnRyb2xzXTtcbiAgICAgICAgICAgIGlmICh0aGlzWyRtYWludGFpblRoZXRhUGhpXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGhldGEsIHBoaSB9ID0gdGhpcy5nZXRDYW1lcmFPcmJpdCgpO1xuICAgICAgICAgICAgICAgIHN0eWxlWzBdID0gdGhldGE7XG4gICAgICAgICAgICAgICAgc3R5bGVbMV0gPSBwaGk7XG4gICAgICAgICAgICAgICAgdGhpc1skbWFpbnRhaW5UaGV0YVBoaV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRyb2xzLmNoYW5nZVNvdXJjZSA9IENoYW5nZVNvdXJjZS5OT05FO1xuICAgICAgICAgICAgY29udHJvbHMuc2V0T3JiaXQoc3R5bGVbMF0sIHN0eWxlWzFdLCBzdHlsZVsyXSk7XG4gICAgICAgIH1cbiAgICAgICAgWyRzeW5jTWluQ2FtZXJhT3JiaXRdKHN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10uYXBwbHlPcHRpb25zKHtcbiAgICAgICAgICAgICAgICBtaW5pbXVtQXppbXV0aGFsQW5nbGU6IHN0eWxlWzBdLFxuICAgICAgICAgICAgICAgIG1pbmltdW1Qb2xhckFuZ2xlOiBzdHlsZVsxXSxcbiAgICAgICAgICAgICAgICBtaW5pbXVtUmFkaXVzOiBzdHlsZVsyXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmp1bXBDYW1lcmFUb0dvYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBbJHN5bmNNYXhDYW1lcmFPcmJpdF0oc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXNbJGNvbnRyb2xzXS5hcHBseU9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIG1heGltdW1BemltdXRoYWxBbmdsZTogc3R5bGVbMF0sXG4gICAgICAgICAgICAgICAgbWF4aW11bVBvbGFyQW5nbGU6IHN0eWxlWzFdLFxuICAgICAgICAgICAgICAgIG1heGltdW1SYWRpdXM6IHN0eWxlWzJdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXNbJHVwZGF0ZUNhbWVyYUZvclJhZGl1c10oc3R5bGVbMl0pO1xuICAgICAgICAgICAgdGhpcy5qdW1wQ2FtZXJhVG9Hb2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgWyRzeW5jTWluRmllbGRPZlZpZXddKHN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10uYXBwbHlPcHRpb25zKHsgbWluaW11bUZpZWxkT2ZWaWV3OiBzdHlsZVswXSAqIDE4MCAvIE1hdGguUEkgfSk7XG4gICAgICAgICAgICB0aGlzLmp1bXBDYW1lcmFUb0dvYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBbJHN5bmNNYXhGaWVsZE9mVmlld10oc3R5bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdiA9IHRoaXNbJHNjZW5lXS5hZGp1c3RlZEZvVihzdHlsZVswXSAqIDE4MCAvIE1hdGguUEkpO1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLmFwcGx5T3B0aW9ucyh7IG1heGltdW1GaWVsZE9mVmlldzogZm92IH0pO1xuICAgICAgICAgICAgdGhpcy5qdW1wQ2FtZXJhVG9Hb2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgWyRzeW5jQ2FtZXJhVGFyZ2V0XShzdHlsZSkge1xuICAgICAgICAgICAgY29uc3QgW3gsIHksIHpdID0gc3R5bGU7XG4gICAgICAgICAgICBpZiAoIXRoaXNbJHJlbmRlcmVyXS5hclJlbmRlcmVyLmlzUHJlc2VudGluZykge1xuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5zZXRUYXJnZXQoeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10uY2hhbmdlU291cmNlID0gQ2hhbmdlU291cmNlLk5PTkU7XG4gICAgICAgICAgICB0aGlzWyRyZW5kZXJlcl0uYXJSZW5kZXJlci51cGRhdGVUYXJnZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBbJHRpY2tdKHRpbWUsIGRlbHRhKSB7XG4gICAgICAgICAgICBzdXBlclskdGlja10odGltZSwgZGVsdGEpO1xuICAgICAgICAgICAgaWYgKHRoaXNbJHJlbmRlcmVyXS5pc1ByZXNlbnRpbmcgfHwgIXRoaXNbJGdldE1vZGVsSXNWaXNpYmxlXSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29udHJvbHMgPSB0aGlzWyRjb250cm9sc107XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgaWYgKHRoaXNbJHdhaXRpbmdUb1Byb21wdFVzZXJdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubG9hZGVkICYmXG4gICAgICAgICAgICAgICAgICAgIG5vdyA+IHRoaXNbJGxvYWRlZFRpbWVdICsgdGhpcy5pbnRlcmFjdGlvblByb21wdFRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyR3YWl0aW5nVG9Qcm9tcHRVc2VyXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRwcm9tcHRFbGVtZW50VmlzaWJsZVRpbWVdID0gbm93O1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRwcm9tcHRFbGVtZW50XS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRmluaXRlKHRoaXNbJHByb21wdEVsZW1lbnRWaXNpYmxlVGltZV0pICYmXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvblByb21wdFN0eWxlID09PSBJbnRlcmFjdGlvblByb21wdFN0eWxlLldJR0dMRSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvblRpbWUgPSAoKG5vdyAtIHRoaXNbJHByb21wdEVsZW1lbnRWaXNpYmxlVGltZV0pIC8gUFJPTVBUX0FOSU1BVElPTl9USU1FKSAlXG4gICAgICAgICAgICAgICAgICAgIDE7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gd2lnZ2xlKGFuaW1hdGlvblRpbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBmYWRlKGFuaW1hdGlvblRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXNbJHByb21wdEFuaW1hdGVkQ29udGFpbmVyXS5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eX1gO1xuICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgIT09IHRoaXNbJGxhc3RQcm9tcHRPZmZzZXRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSBvZmZzZXQgKiBzY2VuZS53aWR0aCAqIDAuMDU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhVGhldGEgPSAob2Zmc2V0IC0gdGhpc1skbGFzdFByb21wdE9mZnNldF0pICogTWF0aC5QSSAvIDE2O1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRwcm9tcHRBbmltYXRlZENvbnRhaW5lcl0uc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGB0cmFuc2xhdGVYKCR7eE9mZnNldH1weClgO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9scy5jaGFuZ2VTb3VyY2UgPSBDaGFuZ2VTb3VyY2UuQVVUT01BVElDO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9scy5hZGp1c3RPcmJpdChkZWx0YVRoZXRhLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skbGFzdFByb21wdE9mZnNldF0gPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udHJvbHMudXBkYXRlKHRpbWUsIGRlbHRhKTtcbiAgICAgICAgICAgIGlmIChzY2VuZS51cGRhdGVUYXJnZXQoZGVsdGEpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skb25DaGFuZ2VdKHsgdHlwZTogJ2NoYW5nZScsIHNvdXJjZTogY29udHJvbHMuY2hhbmdlU291cmNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFskZGVmZXJJbnRlcmFjdGlvblByb21wdF0oKSB7XG4gICAgICAgICAgICAvLyBFZmZlY3RpdmVseSBjYW5jZWwgdGhlIHRpbWVyIHdhaXRpbmcgZm9yIHVzZXIgaW50ZXJhY3Rpb246XG4gICAgICAgICAgICB0aGlzWyR3YWl0aW5nVG9Qcm9tcHRVc2VyXSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpc1skcHJvbXB0RWxlbWVudF0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgICAgICAgdGhpc1skcHJvbXB0RWxlbWVudFZpc2libGVUaW1lXSA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGVzIHRoZSBjYW1lcmEncyBuZWFyIGFuZCBmYXIgcGxhbmVzIHRvIGVuY2xvc2UgdGhlIHNjZW5lIHdoZW5cbiAgICAgICAgICogb3JiaXRpbmcgYXQgdGhlIHN1cHBsaWVkIHJhZGl1cy5cbiAgICAgICAgICovXG4gICAgICAgIFskdXBkYXRlQ2FtZXJhRm9yUmFkaXVzXShyYWRpdXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heGltdW1SYWRpdXMgPSBNYXRoLm1heCh0aGlzWyRzY2VuZV0uYm91bmRpbmdTcGhlcmUucmFkaXVzLCByYWRpdXMpO1xuICAgICAgICAgICAgY29uc3QgbmVhciA9IDA7XG4gICAgICAgICAgICBjb25zdCBmYXIgPSAyICogbWF4aW11bVJhZGl1cztcbiAgICAgICAgICAgIHRoaXNbJGNvbnRyb2xzXS51cGRhdGVOZWFyRmFyKG5lYXIsIGZhcik7XG4gICAgICAgIH1cbiAgICAgICAgWyR1cGRhdGVBcmlhXSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdGhldGEsIHBoaSB9ID0gdGhpc1skY29udHJvbHNdLmdldENhbWVyYVNwaGVyaWNhbCh0aGlzWyRsYXN0U3BoZXJpY2FsXSk7XG4gICAgICAgICAgICBjb25zdCBhemltdXRoYWxRdWFkcmFudCA9ICg0ICsgTWF0aC5mbG9vcigoKHRoZXRhICUgVEFVKSArIFFVQVJURVJfUEkpIC8gSEFMRl9QSSkpICUgNDtcbiAgICAgICAgICAgIGNvbnN0IHBvbGFyVHJpZW50ID0gTWF0aC5mbG9vcihwaGkgLyBUSElSRF9QSSk7XG4gICAgICAgICAgICBjb25zdCBhemltdXRoYWxRdWFkcmFudExhYmVsID0gQVpJTVVUSEFMX1FVQURSQU5UX0xBQkVMU1themltdXRoYWxRdWFkcmFudF07XG4gICAgICAgICAgICBjb25zdCBwb2xhclRyaWVudExhYmVsID0gUE9MQVJfVFJJRU5UX0xBQkVMU1twb2xhclRyaWVudF07XG4gICAgICAgICAgICB0aGlzWyR1cGRhdGVTdGF0dXNdKGBWaWV3IGZyb20gc3RhZ2UgJHtwb2xhclRyaWVudExhYmVsfSR7YXppbXV0aGFsUXVhZHJhbnRMYWJlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgWyRhcmlhTGFiZWxdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyWyRhcmlhTGFiZWxdICtcbiAgICAgICAgICAgICAgICAodGhpcy5jYW1lcmFDb250cm9scyA/IElOVEVSQUNUSU9OX1BST01QVCA6ICcnKTtcbiAgICAgICAgfVxuICAgICAgICBhc3luYyBbJG9uUmVzaXplXShldmVudCkge1xuICAgICAgICAgICAgY29uc3QgY29udHJvbHMgPSB0aGlzWyRjb250cm9sc107XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIGNvbnN0IG9sZEZyYW1lZEZvViA9IHNjZW5lLmFkanVzdGVkRm9WKHNjZW5lLmZyYW1lZEZvVkRlZyk7XG4gICAgICAgICAgICAvLyBUaGUgc3VwZXIgb2YgJG9uUmVzaXplIG1heSB1cGRhdGUgdGhlIHNjZW5lJ3MgYWRqdXN0ZWRGb1YsIHNvIHdlXG4gICAgICAgICAgICAvLyBjb21wYXJlIHRoZSBiZWZvcmUgYW5kIGFmdGVyIHRvIGNhbGN1bGF0ZSB0aGUgcHJvcGVyIHpvb20uXG4gICAgICAgICAgICBzdXBlclskb25SZXNpemVdKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGZvdlJhdGlvID0gc2NlbmUuYWRqdXN0ZWRGb1Yoc2NlbmUuZnJhbWVkRm9WRGVnKSAvIG9sZEZyYW1lZEZvVjtcbiAgICAgICAgICAgIGNvbnN0IGZvdiA9IGNvbnRyb2xzLmdldEZpZWxkT2ZWaWV3KCkgKiAoaXNGaW5pdGUoZm92UmF0aW8pID8gZm92UmF0aW8gOiAxKTtcbiAgICAgICAgICAgIGNvbnRyb2xzLnVwZGF0ZUFzcGVjdCh0aGlzWyRzY2VuZV0uYXNwZWN0KTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgnbWF4RmllbGRPZlZpZXcnLCB0aGlzLm1heEZpZWxkT2ZWaWV3KTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlQ29tcGxldGU7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10uc2V0RmllbGRPZlZpZXcoZm92KTtcbiAgICAgICAgICAgIHRoaXMuanVtcENhbWVyYVRvR29hbCgpO1xuICAgICAgICB9XG4gICAgICAgIFskb25Nb2RlbExvYWRdKCkge1xuICAgICAgICAgICAgc3VwZXJbJG9uTW9kZWxMb2FkXSgpO1xuICAgICAgICAgICAgaWYgKHRoaXNbJGluaXRpYWxpemVkXSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJG1haW50YWluVGhldGFQaGldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbJGluaXRpYWxpemVkXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJ21heEZpZWxkT2ZWaWV3JywgdGhpcy5tYXhGaWVsZE9mVmlldyk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJ2ZpZWxkT2ZWaWV3JywgdGhpcy5maWVsZE9mVmlldyk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJ21pbkNhbWVyYU9yYml0JywgdGhpcy5taW5DYW1lcmFPcmJpdCk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJ21heENhbWVyYU9yYml0JywgdGhpcy5tYXhDYW1lcmFPcmJpdCk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJ2NhbWVyYU9yYml0JywgdGhpcy5jYW1lcmFPcmJpdCk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJ2NhbWVyYVRhcmdldCcsIHRoaXMuY2FtZXJhVGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuanVtcENhbWVyYVRvR29hbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wID0gJG9uQ2hhbmdlLCBfcSA9ICRvblBvaW50ZXJDaGFuZ2U7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAnY2FtZXJhLWNvbnRyb2xzJyB9KVxuICAgIF0sIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJjYW1lcmFDb250cm9sc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICBpbnRyaW5zaWNzOiBjYW1lcmFPcmJpdEludHJpbnNpY3MsXG4gICAgICAgICAgICBvYnNlcnZlRWZmZWN0czogdHJ1ZSxcbiAgICAgICAgICAgIHVwZGF0ZUhhbmRsZXI6ICRzeW5jQ2FtZXJhT3JiaXRcbiAgICAgICAgfSksXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdjYW1lcmEtb3JiaXQnLCBoYXNDaGFuZ2VkOiAoKSA9PiB0cnVlIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImNhbWVyYU9yYml0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgIGludHJpbnNpY3M6IGNhbWVyYVRhcmdldEludHJpbnNpY3MsXG4gICAgICAgICAgICBvYnNlcnZlRWZmZWN0czogdHJ1ZSxcbiAgICAgICAgICAgIHVwZGF0ZUhhbmRsZXI6ICRzeW5jQ2FtZXJhVGFyZ2V0XG4gICAgICAgIH0pLFxuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnY2FtZXJhLXRhcmdldCcsIGhhc0NoYW5nZWQ6ICgpID0+IHRydWUgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiY2FtZXJhVGFyZ2V0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgIGludHJpbnNpY3M6IGZpZWxkT2ZWaWV3SW50cmluc2ljcyxcbiAgICAgICAgICAgIG9ic2VydmVFZmZlY3RzOiB0cnVlLFxuICAgICAgICAgICAgdXBkYXRlSGFuZGxlcjogJHN5bmNGaWVsZE9mVmlld1xuICAgICAgICB9KSxcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2ZpZWxkLW9mLXZpZXcnLCBoYXNDaGFuZ2VkOiAoKSA9PiB0cnVlIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImZpZWxkT2ZWaWV3XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgIGludHJpbnNpY3M6IG1pbkNhbWVyYU9yYml0SW50cmluc2ljcyxcbiAgICAgICAgICAgIHVwZGF0ZUhhbmRsZXI6ICRzeW5jTWluQ2FtZXJhT3JiaXRcbiAgICAgICAgfSksXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdtaW4tY2FtZXJhLW9yYml0JywgaGFzQ2hhbmdlZDogKCkgPT4gdHJ1ZSB9KVxuICAgIF0sIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJtaW5DYW1lcmFPcmJpdFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICBpbnRyaW5zaWNzOiBtYXhDYW1lcmFPcmJpdEludHJpbnNpY3MsXG4gICAgICAgICAgICB1cGRhdGVIYW5kbGVyOiAkc3luY01heENhbWVyYU9yYml0XG4gICAgICAgIH0pLFxuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnbWF4LWNhbWVyYS1vcmJpdCcsIGhhc0NoYW5nZWQ6ICgpID0+IHRydWUgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwibWF4Q2FtZXJhT3JiaXRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgaW50cmluc2ljczogbWluRmllbGRPZlZpZXdJbnRyaW5zaWNzLFxuICAgICAgICAgICAgdXBkYXRlSGFuZGxlcjogJHN5bmNNaW5GaWVsZE9mVmlld1xuICAgICAgICB9KSxcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ21pbi1maWVsZC1vZi12aWV3JywgaGFzQ2hhbmdlZDogKCkgPT4gdHJ1ZSB9KVxuICAgIF0sIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJtaW5GaWVsZE9mVmlld1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBzdHlsZSh7IGludHJpbnNpY3M6IGZpZWxkT2ZWaWV3SW50cmluc2ljcywgdXBkYXRlSGFuZGxlcjogJHN5bmNNYXhGaWVsZE9mVmlldyB9KSxcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ21heC1maWVsZC1vZi12aWV3JywgaGFzQ2hhbmdlZDogKCkgPT4gdHJ1ZSB9KVxuICAgIF0sIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJtYXhGaWVsZE9mVmlld1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciwgYXR0cmlidXRlOiAnaW50ZXJhY3Rpb24tcHJvbXB0LXRocmVzaG9sZCcgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiaW50ZXJhY3Rpb25Qcm9tcHRUaHJlc2hvbGRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2ludGVyYWN0aW9uLXByb21wdCcgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiaW50ZXJhY3Rpb25Qcm9tcHRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2ludGVyYWN0aW9uLXByb21wdC1zdHlsZScgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiaW50ZXJhY3Rpb25Qcm9tcHRTdHlsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciwgYXR0cmlidXRlOiAnb3JiaXQtc2Vuc2l0aXZpdHknIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcIm9yYml0U2Vuc2l0aXZpdHlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3RvdWNoLWFjdGlvbicgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwidG91Y2hBY3Rpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6ICdkaXNhYmxlLXpvb20nIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImRpc2FibGVab29tXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAnZGlzYWJsZS1wYW4nIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImRpc2FibGVQYW5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6ICdkaXNhYmxlLXRhcCcgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiZGlzYWJsZVRhcFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciwgYXR0cmlidXRlOiAnaW50ZXJwb2xhdGlvbi1kZWNheScgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiaW50ZXJwb2xhdGlvbkRlY2F5XCIsIHZvaWQgMCk7XG4gICAgcmV0dXJuIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRyb2xzLmpzLm1hcCJdLCJuYW1lcyI6WyJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJjIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImQiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJwcm9wZXJ0eSIsIlNwaGVyaWNhbCIsIlZlY3RvcjMiLCJzdHlsZSIsIiRhcmlhTGFiZWwiLCIkY29udGFpbmVyIiwiJGdldE1vZGVsSXNWaXNpYmxlIiwiJGxvYWRlZFRpbWUiLCIkbmVlZHNSZW5kZXIiLCIkb25Nb2RlbExvYWQiLCIkb25SZXNpemUiLCIkcmVuZGVyZXIiLCIkc2NlbmUiLCIkdGljayIsIiR1cGRhdGVTdGF0dXMiLCIkdXNlcklucHV0RWxlbWVudCIsInRvVmVjdG9yM0QiLCJkZWdyZWVzVG9SYWRpYW5zIiwibm9ybWFsaXplVW5pdCIsIlN0eWxlRXZhbHVhdG9yIiwibnVtYmVyTm9kZSIsInBhcnNlRXhwcmVzc2lvbnMiLCJERUNBWV9NSUxMSVNFQ09ORFMiLCJDaGFuZ2VTb3VyY2UiLCJTbW9vdGhDb250cm9scyIsInRpbWVsaW5lIiwiUFJPTVBUX0FOSU1BVElPTl9USU1FIiwid2lnZ2xlIiwiaW5pdGlhbFZhbHVlIiwia2V5ZnJhbWVzIiwiZnJhbWVzIiwidmFsdWUiLCJmYWRlIiwiREVGQVVMVF9GT1ZfREVHIiwiREVGQVVMVF9NSU5fRk9WX0RFRyIsIkRFRkFVTFRfQ0FNRVJBX09SQklUIiwiREVGQVVMVF9DQU1FUkFfVEFSR0VUIiwiREVGQVVMVF9GSUVMRF9PRl9WSUVXIiwiTUlOSU1VTV9SQURJVVNfUkFUSU8iLCJBWklNVVRIQUxfUVVBRFJBTlRfTEFCRUxTIiwiUE9MQVJfVFJJRU5UX0xBQkVMUyIsIkRFRkFVTFRfSU5URVJBQ1RJT05fUFJPTVBUX1RIUkVTSE9MRCIsIklOVEVSQUNUSU9OX1BST01QVCIsIkludGVyYWN0aW9uUHJvbXB0U3RyYXRlZ3kiLCJBVVRPIiwiTk9ORSIsIkludGVyYWN0aW9uUHJvbXB0U3R5bGUiLCJCQVNJQyIsIldJR0dMRSIsIlRvdWNoQWN0aW9uIiwiUEFOX1kiLCJQQU5fWCIsImZpZWxkT2ZWaWV3SW50cmluc2ljcyIsImJhc2lzIiwia2V5d29yZHMiLCJhdXRvIiwibWluRmllbGRPZlZpZXdJbnRyaW5zaWNzIiwiY2FtZXJhT3JiaXRJbnRyaW5zaWNzIiwiZGVmYXVsdFRlcm1zIiwidGVybXMiLCJ0aGV0YSIsInBoaSIsImVsZW1lbnQiLCJyYWRpdXMiLCJpZGVhbENhbWVyYURpc3RhbmNlIiwibWluQ2FtZXJhT3JiaXRJbnRyaW5zaWNzIiwiYm91bmRpbmdTcGhlcmUiLCJJbmZpbml0eSIsIk1hdGgiLCJQSSIsIm1heENhbWVyYU9yYml0SW50cmluc2ljcyIsIm9yYml0SW50cmluc2ljcyIsImV2YWx1YXRvciIsImRlZmF1bHRSYWRpdXMiLCJldmFsdWF0ZSIsImNhbWVyYVRhcmdldEludHJpbnNpY3MiLCJjZW50ZXIiLCJib3VuZGluZ0JveCIsImdldENlbnRlciIsIngiLCJ5IiwieiIsIkhBTEZfUEkiLCJUSElSRF9QSSIsIlFVQVJURVJfUEkiLCJUQVUiLCIkY29udHJvbHMiLCJTeW1ib2wiLCIkcGFuRWxlbWVudCIsIiRwcm9tcHRFbGVtZW50IiwiJHByb21wdEFuaW1hdGVkQ29udGFpbmVyIiwiJGZpbmdlckFuaW1hdGVkQ29udGFpbmVycyIsIiRkZWZlckludGVyYWN0aW9uUHJvbXB0IiwiJHVwZGF0ZUFyaWEiLCIkdXBkYXRlQ2FtZXJhRm9yUmFkaXVzIiwiJG9uQ2hhbmdlIiwiJG9uUG9pbnRlckNoYW5nZSIsIiR3YWl0aW5nVG9Qcm9tcHRVc2VyIiwiJHVzZXJIYXNJbnRlcmFjdGVkIiwiJHByb21wdEVsZW1lbnRWaXNpYmxlVGltZSIsIiRsYXN0UHJvbXB0T2Zmc2V0IiwiJGxhc3RTcGhlcmljYWwiLCIkanVtcENhbWVyYSIsIiRpbml0aWFsaXplZCIsIiRtYWludGFpblRoZXRhUGhpIiwiJHN5bmNDYW1lcmFPcmJpdCIsIiRzeW5jRmllbGRPZlZpZXciLCIkc3luY0NhbWVyYVRhcmdldCIsIiRzeW5jTWluQ2FtZXJhT3JiaXQiLCIkc3luY01heENhbWVyYU9yYml0IiwiJHN5bmNNaW5GaWVsZE9mVmlldyIsIiRzeW5jTWF4RmllbGRPZlZpZXciLCJDb250cm9sc01peGluIiwiTW9kZWxWaWV3ZXJFbGVtZW50IiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJfaCIsIl9qIiwiX2siLCJfbCIsIl9tIiwiX28iLCJfcCIsIl9xIiwiQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsImNhbWVyYUNvbnRyb2xzIiwiY2FtZXJhT3JiaXQiLCJjYW1lcmFUYXJnZXQiLCJmaWVsZE9mVmlldyIsIm1pbkNhbWVyYU9yYml0IiwibWF4Q2FtZXJhT3JiaXQiLCJtaW5GaWVsZE9mVmlldyIsIm1heEZpZWxkT2ZWaWV3IiwiaW50ZXJhY3Rpb25Qcm9tcHRUaHJlc2hvbGQiLCJpbnRlcmFjdGlvblByb21wdCIsImludGVyYWN0aW9uUHJvbXB0U3R5bGUiLCJvcmJpdFNlbnNpdGl2aXR5IiwidG91Y2hBY3Rpb24iLCJkaXNhYmxlWm9vbSIsImRpc2FibGVQYW4iLCJkaXNhYmxlVGFwIiwiaW50ZXJwb2xhdGlvbkRlY2F5Iiwic2hhZG93Um9vdCIsInF1ZXJ5U2VsZWN0b3IiLCJjYW1lcmEiLCJzb3VyY2UiLCJVU0VSX0lOVEVSQUNUSU9OIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiZXZlbnQiLCJ0eXBlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiaW5wdXRTZW5zaXRpdml0eSIsImdldENhbWVyYU9yYml0IiwidG9TdHJpbmciLCJnZXRDYW1lcmFUYXJnZXQiLCJpc1ByZXNlbnRpbmciLCJhclJlbmRlcmVyIiwiZ2V0VGFyZ2V0IiwiZ2V0RmllbGRPZlZpZXciLCJnZXRNaW5pbXVtRmllbGRPZlZpZXciLCJvcHRpb25zIiwibWluaW11bUZpZWxkT2ZWaWV3IiwiZ2V0TWF4aW11bUZpZWxkT2ZWaWV3IiwibWF4aW11bUZpZWxkT2ZWaWV3IiwiZ2V0SWRlYWxBc3BlY3QiLCJpZGVhbEFzcGVjdCIsImp1bXBDYW1lcmFUb0dvYWwiLCJyZXF1ZXN0VXBkYXRlIiwicmVzZXRJbnRlcmFjdGlvblByb21wdCIsInpvb20iLCJrZXlQcmVzc2VzIiwiV2hlZWxFdmVudCIsImRlbHRhWSIsImNvbm5lY3RlZENhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVwZGF0ZWQiLCJjaGFuZ2VkUHJvcGVydGllcyIsImNvbnRyb2xzIiwic2NlbmUiLCJoYXMiLCJlbmFibGVJbnRlcmFjdGlvbiIsImRpc2FibGVJbnRlcmFjdGlvbiIsInNldEF0dHJpYnV0ZSIsImVuYWJsZVBhbiIsImVuYWJsZVRhcCIsIm9wYWNpdHkiLCJhcHBseU9wdGlvbnMiLCJ1cGRhdGVUb3VjaEFjdGlvblN0eWxlIiwic2V0RGFtcGVyRGVjYXlUaW1lIiwic2V0VGFyZ2V0RGFtcGVyRGVjYXlUaW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwianVtcFRvR29hbCIsInVwZGF0ZUZyYW1pbmciLCJvbGRGcmFtZWRGb1YiLCJhZGp1c3RlZEZvViIsImZyYW1lZEZvVkRlZyIsIm5ld0ZyYW1lZEZvViIsInNldEZpZWxkT2ZWaWV3IiwidXBkYXRlQ29tcGxldGUiLCJpbnRlcmFjdCIsImR1cmF0aW9uIiwiZmluZ2VyMCIsImZpbmdlcjEiLCJpbnB1dEVsZW1lbnQiLCJmaW5nZXJFbGVtZW50cyIsImNvbnNvbGUiLCJ3YXJuIiwieHkiLCJBcnJheSIsInB1c2giLCJwb3NpdGlvbnMiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIndpZHRoIiwiaGVpZ2h0IiwiZGlzcGF0Y2hUb3VjaGVzIiwicG9zaXRpb24iLCJlbnRyaWVzIiwidHJhbnNmb3JtIiwiaW5pdCIsInBvaW50ZXJJZCIsInBvaW50ZXJUeXBlIiwiY2xpZW50WCIsImNsaWVudFkiLCJhbHRLZXkiLCJQb2ludGVyRXZlbnQiLCJtb3ZlVG91Y2hlcyIsImNoYW5nZVNvdXJjZSIsIkFVVE9NQVRJQyIsImlzQ29ubmVjdGVkIiwiZmluZ2VyRWxlbWVudCIsImRvY3VtZW50Iiwib25WaXNpYmlsaXR5Q2hhbmdlIiwidGltZSIsIm1pbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVsYXBzZWQiLCJ2aXNpYmlsaXR5U3RhdGUiLCJzZXRPcmJpdCIsIm1pbmltdW1BemltdXRoYWxBbmdsZSIsIm1pbmltdW1Qb2xhckFuZ2xlIiwibWluaW11bVJhZGl1cyIsIm1heGltdW1BemltdXRoYWxBbmdsZSIsIm1heGltdW1Qb2xhckFuZ2xlIiwibWF4aW11bVJhZGl1cyIsImZvdiIsInNldFRhcmdldCIsInVwZGF0ZVRhcmdldCIsImRlbHRhIiwibG9hZGVkIiwiaXNGaW5pdGUiLCJhbmltYXRpb25UaW1lIiwib2Zmc2V0IiwieE9mZnNldCIsImRlbHRhVGhldGEiLCJhZGp1c3RPcmJpdCIsInVwZGF0ZSIsIm1heCIsIm5lYXIiLCJmYXIiLCJ1cGRhdGVOZWFyRmFyIiwiZ2V0Q2FtZXJhU3BoZXJpY2FsIiwiYXppbXV0aGFsUXVhZHJhbnQiLCJmbG9vciIsInBvbGFyVHJpZW50IiwiYXppbXV0aGFsUXVhZHJhbnRMYWJlbCIsInBvbGFyVHJpZW50TGFiZWwiLCJmb3ZSYXRpbyIsInVwZGF0ZUFzcGVjdCIsImFzcGVjdCIsIkJvb2xlYW4iLCJhdHRyaWJ1dGUiLCJwcm90b3R5cGUiLCJpbnRyaW5zaWNzIiwib2JzZXJ2ZUVmZmVjdHMiLCJ1cGRhdGVIYW5kbGVyIiwiU3RyaW5nIiwiaGFzQ2hhbmdlZCIsIk51bWJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/controls.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/environment.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $currentBackground: () => (/* binding */ $currentBackground),\n/* harmony export */   $currentEnvironmentMap: () => (/* binding */ $currentEnvironmentMap),\n/* harmony export */   $updateEnvironment: () => (/* binding */ $updateEnvironment),\n/* harmony export */   BASE_OPACITY: () => (/* binding */ BASE_OPACITY),\n/* harmony export */   EnvironmentMixin: () => (/* binding */ EnvironmentMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var __decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\nconst BASE_OPACITY = 0.5;\nconst DEFAULT_SHADOW_INTENSITY = 0.0;\nconst DEFAULT_SHADOW_SOFTNESS = 1.0;\nconst DEFAULT_EXPOSURE = 1.0;\nconst $currentEnvironmentMap = Symbol(\"currentEnvironmentMap\");\nconst $currentBackground = Symbol(\"currentBackground\");\nconst $updateEnvironment = Symbol(\"updateEnvironment\");\nconst $cancelEnvironmentUpdate = Symbol(\"cancelEnvironmentUpdate\");\nconst EnvironmentMixin = (ModelViewerElement)=>{\n    var _a, _b, _c;\n    class EnvironmentModelViewerElement extends ModelViewerElement {\n        constructor(){\n            super(...arguments);\n            this.environmentImage = null;\n            this.skyboxImage = null;\n            this.shadowIntensity = DEFAULT_SHADOW_INTENSITY;\n            this.shadowSoftness = DEFAULT_SHADOW_SOFTNESS;\n            this.exposure = DEFAULT_EXPOSURE;\n            this[_a] = null;\n            this[_b] = null;\n            this[_c] = null;\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has(\"shadowIntensity\")) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].setShadowIntensity(this.shadowIntensity * BASE_OPACITY);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n            if (changedProperties.has(\"shadowSoftness\")) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].setShadowSoftness(this.shadowSoftness);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n            if (changedProperties.has(\"exposure\")) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].exposure = this.exposure;\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n            if ((changedProperties.has(\"environmentImage\") || changedProperties.has(\"skyboxImage\")) && this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$shouldAttemptPreload]()) {\n                this[$updateEnvironment]();\n            }\n        }\n        hasBakedShadow() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].bakedShadows.size > 0;\n        }\n        async [(_a = $currentEnvironmentMap, _b = $currentBackground, _c = $cancelEnvironmentUpdate, $updateEnvironment)]() {\n            const { skyboxImage, environmentImage } = this;\n            if (this[$cancelEnvironmentUpdate] != null) {\n                this[$cancelEnvironmentUpdate]();\n                this[$cancelEnvironmentUpdate] = null;\n            }\n            const { textureUtils } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer];\n            if (textureUtils == null) {\n                return;\n            }\n            const updateEnvProgress = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$progressTracker].beginActivity();\n            try {\n                const { environmentMap, skybox } = await textureUtils.generateEnvironmentMapAndSkybox((0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.deserializeUrl)(skyboxImage), environmentImage, (progress)=>updateEnvProgress((0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.clamp)(progress, 0, 1)));\n                if (this[$currentEnvironmentMap] !== environmentMap) {\n                    this[$currentEnvironmentMap] = environmentMap;\n                    this.dispatchEvent(new CustomEvent(\"environment-change\"));\n                }\n                if (skybox != null) {\n                    // When using the same environment and skybox, use the environment as\n                    // it gives HDR filtering.\n                    this[$currentBackground] = skybox.name === environmentMap.name ? environmentMap : skybox;\n                } else {\n                    this[$currentBackground] = null;\n                }\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].setEnvironmentAndSkybox(this[$currentEnvironmentMap], this[$currentBackground]);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].dispatchEvent({\n                    type: \"envmap-update\"\n                });\n            } catch (errorOrPromise) {\n                if (errorOrPromise instanceof Error) {\n                    this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].setEnvironmentAndSkybox(null, null);\n                    throw errorOrPromise;\n                }\n            } finally{\n                updateEnvProgress(1.0);\n            }\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"environment-image\"\n        })\n    ], EnvironmentModelViewerElement.prototype, \"environmentImage\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"skybox-image\"\n        })\n    ], EnvironmentModelViewerElement.prototype, \"skyboxImage\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Number,\n            attribute: \"shadow-intensity\"\n        })\n    ], EnvironmentModelViewerElement.prototype, \"shadowIntensity\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Number,\n            attribute: \"shadow-softness\"\n        })\n    ], EnvironmentModelViewerElement.prototype, \"shadowSoftness\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Number\n        })\n    ], EnvironmentModelViewerElement.prototype, \"exposure\", void 0);\n    return EnvironmentModelViewerElement;\n}; //# sourceMappingURL=environment.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2Vudmlyb25tZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUNELElBQUlBLGFBQWEsU0FBSyxJQUFJLFNBQUksQ0FBQ0EsVUFBVSxJQUFLLFNBQVVDLFVBQVUsRUFBRUMsTUFBTSxFQUFFQyxHQUFHLEVBQUVDLElBQUk7SUFDakYsSUFBSUMsSUFBSUMsVUFBVUMsTUFBTSxFQUFFQyxJQUFJSCxJQUFJLElBQUlILFNBQVNFLFNBQVMsT0FBT0EsT0FBT0ssT0FBT0Msd0JBQXdCLENBQUNSLFFBQVFDLE9BQU9DLE1BQU1PO0lBQzNILElBQUksT0FBT0MsWUFBWSxZQUFZLE9BQU9BLFFBQVFDLFFBQVEsS0FBSyxZQUFZTCxJQUFJSSxRQUFRQyxRQUFRLENBQUNaLFlBQVlDLFFBQVFDLEtBQUtDO1NBQ3BILElBQUssSUFBSVUsSUFBSWIsV0FBV00sTUFBTSxHQUFHLEdBQUdPLEtBQUssR0FBR0EsSUFBSyxJQUFJSCxJQUFJVixVQUFVLENBQUNhLEVBQUUsRUFBRU4sSUFBSSxDQUFDSCxJQUFJLElBQUlNLEVBQUVILEtBQUtILElBQUksSUFBSU0sRUFBRVQsUUFBUUMsS0FBS0ssS0FBS0csRUFBRVQsUUFBUUMsSUFBRyxLQUFNSztJQUNoSixPQUFPSCxJQUFJLEtBQUtHLEtBQUtDLE9BQU9NLGNBQWMsQ0FBQ2IsUUFBUUMsS0FBS0ssSUFBSUE7QUFDaEU7QUFDNkM7QUFDc0U7QUFDM0Q7QUFDakQsTUFBTWdCLGVBQWUsSUFBSTtBQUNoQyxNQUFNQywyQkFBMkI7QUFDakMsTUFBTUMsMEJBQTBCO0FBQ2hDLE1BQU1DLG1CQUFtQjtBQUNsQixNQUFNQyx5QkFBeUJDLE9BQU8seUJBQXlCO0FBQy9ELE1BQU1DLHFCQUFxQkQsT0FBTyxxQkFBcUI7QUFDdkQsTUFBTUUscUJBQXFCRixPQUFPLHFCQUFxQjtBQUM5RCxNQUFNRywy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QjtBQUNYLEVBQUUsQ0FDRix1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9mZWF0dXJlcy9lbnZpcm9ubWVudC5qcz8yOWRlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgJG5lZWRzUmVuZGVyLCAkcHJvZ3Jlc3NUcmFja2VyLCAkcmVuZGVyZXIsICRzY2VuZSwgJHNob3VsZEF0dGVtcHRQcmVsb2FkIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgY2xhbXAsIGRlc2VyaWFsaXplVXJsIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJztcbmV4cG9ydCBjb25zdCBCQVNFX09QQUNJVFkgPSAwLjU7XG5jb25zdCBERUZBVUxUX1NIQURPV19JTlRFTlNJVFkgPSAwLjA7XG5jb25zdCBERUZBVUxUX1NIQURPV19TT0ZUTkVTUyA9IDEuMDtcbmNvbnN0IERFRkFVTFRfRVhQT1NVUkUgPSAxLjA7XG5leHBvcnQgY29uc3QgJGN1cnJlbnRFbnZpcm9ubWVudE1hcCA9IFN5bWJvbCgnY3VycmVudEVudmlyb25tZW50TWFwJyk7XG5leHBvcnQgY29uc3QgJGN1cnJlbnRCYWNrZ3JvdW5kID0gU3ltYm9sKCdjdXJyZW50QmFja2dyb3VuZCcpO1xuZXhwb3J0IGNvbnN0ICR1cGRhdGVFbnZpcm9ubWVudCA9IFN5bWJvbCgndXBkYXRlRW52aXJvbm1lbnQnKTtcbmNvbnN0ICRjYW5jZWxFbnZpcm9ubWVudFVwZGF0ZSA9IFN5bWJvbCgnY2FuY2VsRW52aXJvbm1lbnRVcGRhdGUnKTtcbmV4cG9ydCBjb25zdCBFbnZpcm9ubWVudE1peGluID0gKE1vZGVsVmlld2VyRWxlbWVudCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNsYXNzIEVudmlyb25tZW50TW9kZWxWaWV3ZXJFbGVtZW50IGV4dGVuZHMgTW9kZWxWaWV3ZXJFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudEltYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2t5Ym94SW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dJbnRlbnNpdHkgPSBERUZBVUxUX1NIQURPV19JTlRFTlNJVFk7XG4gICAgICAgICAgICB0aGlzLnNoYWRvd1NvZnRuZXNzID0gREVGQVVMVF9TSEFET1dfU09GVE5FU1M7XG4gICAgICAgICAgICB0aGlzLmV4cG9zdXJlID0gREVGQVVMVF9FWFBPU1VSRTtcbiAgICAgICAgICAgIHRoaXNbX2FdID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXNbX2JdID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXNbX2NdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3NoYWRvd0ludGVuc2l0eScpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLnNldFNoYWRvd0ludGVuc2l0eSh0aGlzLnNoYWRvd0ludGVuc2l0eSAqIEJBU0VfT1BBQ0lUWSk7XG4gICAgICAgICAgICAgICAgdGhpc1skbmVlZHNSZW5kZXJdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdzaGFkb3dTb2Z0bmVzcycpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLnNldFNoYWRvd1NvZnRuZXNzKHRoaXMuc2hhZG93U29mdG5lc3MpO1xuICAgICAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnZXhwb3N1cmUnKSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5leHBvc3VyZSA9IHRoaXMuZXhwb3N1cmU7XG4gICAgICAgICAgICAgICAgdGhpc1skbmVlZHNSZW5kZXJdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnZW52aXJvbm1lbnRJbWFnZScpIHx8XG4gICAgICAgICAgICAgICAgY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdza3lib3hJbWFnZScpKSAmJlxuICAgICAgICAgICAgICAgIHRoaXNbJHNob3VsZEF0dGVtcHRQcmVsb2FkXSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skdXBkYXRlRW52aXJvbm1lbnRdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaGFzQmFrZWRTaGFkb3coKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skc2NlbmVdLmJha2VkU2hhZG93cy5zaXplID4gMDtcbiAgICAgICAgfVxuICAgICAgICBhc3luYyBbKF9hID0gJGN1cnJlbnRFbnZpcm9ubWVudE1hcCwgX2IgPSAkY3VycmVudEJhY2tncm91bmQsIF9jID0gJGNhbmNlbEVudmlyb25tZW50VXBkYXRlLCAkdXBkYXRlRW52aXJvbm1lbnQpXSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2t5Ym94SW1hZ2UsIGVudmlyb25tZW50SW1hZ2UgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpc1skY2FuY2VsRW52aXJvbm1lbnRVcGRhdGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRjYW5jZWxFbnZpcm9ubWVudFVwZGF0ZV0oKTtcbiAgICAgICAgICAgICAgICB0aGlzWyRjYW5jZWxFbnZpcm9ubWVudFVwZGF0ZV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB0ZXh0dXJlVXRpbHMgfSA9IHRoaXNbJHJlbmRlcmVyXTtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlVXRpbHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUVudlByb2dyZXNzID0gdGhpc1skcHJvZ3Jlc3NUcmFja2VyXS5iZWdpbkFjdGl2aXR5KCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZW52aXJvbm1lbnRNYXAsIHNreWJveCB9ID0gYXdhaXQgdGV4dHVyZVV0aWxzLmdlbmVyYXRlRW52aXJvbm1lbnRNYXBBbmRTa3lib3goZGVzZXJpYWxpemVVcmwoc2t5Ym94SW1hZ2UpLCBlbnZpcm9ubWVudEltYWdlLCAocHJvZ3Jlc3MpID0+IHVwZGF0ZUVudlByb2dyZXNzKGNsYW1wKHByb2dyZXNzLCAwLCAxKSkpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzWyRjdXJyZW50RW52aXJvbm1lbnRNYXBdICE9PSBlbnZpcm9ubWVudE1hcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRjdXJyZW50RW52aXJvbm1lbnRNYXBdID0gZW52aXJvbm1lbnRNYXA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2Vudmlyb25tZW50LWNoYW5nZScpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNreWJveCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdXNpbmcgdGhlIHNhbWUgZW52aXJvbm1lbnQgYW5kIHNreWJveCwgdXNlIHRoZSBlbnZpcm9ubWVudCBhc1xuICAgICAgICAgICAgICAgICAgICAvLyBpdCBnaXZlcyBIRFIgZmlsdGVyaW5nLlxuICAgICAgICAgICAgICAgICAgICB0aGlzWyRjdXJyZW50QmFja2dyb3VuZF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgc2t5Ym94Lm5hbWUgPT09IGVudmlyb25tZW50TWFwLm5hbWUgPyBlbnZpcm9ubWVudE1hcCA6IHNreWJveDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJGN1cnJlbnRCYWNrZ3JvdW5kXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5zZXRFbnZpcm9ubWVudEFuZFNreWJveCh0aGlzWyRjdXJyZW50RW52aXJvbm1lbnRNYXBdLCB0aGlzWyRjdXJyZW50QmFja2dyb3VuZF0pO1xuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ2Vudm1hcC11cGRhdGUnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yT3JQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yT3JQcm9taXNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLnNldEVudmlyb25tZW50QW5kU2t5Ym94KG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvck9yUHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVFbnZQcm9ncmVzcygxLjApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnZW52aXJvbm1lbnQtaW1hZ2UnIH0pXG4gICAgXSwgRW52aXJvbm1lbnRNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImVudmlyb25tZW50SW1hZ2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NreWJveC1pbWFnZScgfSlcbiAgICBdLCBFbnZpcm9ubWVudE1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwic2t5Ym94SW1hZ2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ3NoYWRvdy1pbnRlbnNpdHknIH0pXG4gICAgXSwgRW52aXJvbm1lbnRNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcInNoYWRvd0ludGVuc2l0eVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciwgYXR0cmlidXRlOiAnc2hhZG93LXNvZnRuZXNzJyB9KVxuICAgIF0sIEVudmlyb25tZW50TW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJzaGFkb3dTb2Z0bmVzc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIH0pXG4gICAgXSwgRW52aXJvbm1lbnRNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImV4cG9zdXJlXCIsIHZvaWQgMCk7XG4gICAgcmV0dXJuIEVudmlyb25tZW50TW9kZWxWaWV3ZXJFbGVtZW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudmlyb25tZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJjIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImQiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJwcm9wZXJ0eSIsIiRuZWVkc1JlbmRlciIsIiRwcm9ncmVzc1RyYWNrZXIiLCIkcmVuZGVyZXIiLCIkc2NlbmUiLCIkc2hvdWxkQXR0ZW1wdFByZWxvYWQiLCJjbGFtcCIsImRlc2VyaWFsaXplVXJsIiwiQkFTRV9PUEFDSVRZIiwiREVGQVVMVF9TSEFET1dfSU5URU5TSVRZIiwiREVGQVVMVF9TSEFET1dfU09GVE5FU1MiLCJERUZBVUxUX0VYUE9TVVJFIiwiJGN1cnJlbnRFbnZpcm9ubWVudE1hcCIsIlN5bWJvbCIsIiRjdXJyZW50QmFja2dyb3VuZCIsIiR1cGRhdGVFbnZpcm9ubWVudCIsIiRjYW5jZWxFbnZpcm9ubWVudFVwZGF0ZSIsIkVudmlyb25tZW50TWl4aW4iLCJNb2RlbFZpZXdlckVsZW1lbnQiLCJfYSIsIl9iIiwiX2MiLCJFbnZpcm9ubWVudE1vZGVsVmlld2VyRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiZW52aXJvbm1lbnRJbWFnZSIsInNreWJveEltYWdlIiwic2hhZG93SW50ZW5zaXR5Iiwic2hhZG93U29mdG5lc3MiLCJleHBvc3VyZSIsInVwZGF0ZWQiLCJjaGFuZ2VkUHJvcGVydGllcyIsImhhcyIsInNldFNoYWRvd0ludGVuc2l0eSIsInNldFNoYWRvd1NvZnRuZXNzIiwiaGFzQmFrZWRTaGFkb3ciLCJiYWtlZFNoYWRvd3MiLCJzaXplIiwidGV4dHVyZVV0aWxzIiwidXBkYXRlRW52UHJvZ3Jlc3MiLCJiZWdpbkFjdGl2aXR5IiwiZW52aXJvbm1lbnRNYXAiLCJza3lib3giLCJnZW5lcmF0ZUVudmlyb25tZW50TWFwQW5kU2t5Ym94IiwicHJvZ3Jlc3MiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJuYW1lIiwic2V0RW52aXJvbm1lbnRBbmRTa3lib3giLCJ0eXBlIiwiZXJyb3JPclByb21pc2UiLCJFcnJvciIsIlN0cmluZyIsImF0dHJpYnV0ZSIsInByb3RvdHlwZSIsIk51bWJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/loading.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/loading.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $defaultPosterElement: () => (/* binding */ $defaultPosterElement),\n/* harmony export */   $defaultProgressBarElement: () => (/* binding */ $defaultProgressBarElement),\n/* harmony export */   $posterContainerElement: () => (/* binding */ $posterContainerElement),\n/* harmony export */   LoadingMixin: () => (/* binding */ LoadingMixin),\n/* harmony export */   POSTER_TRANSITION_TIME: () => (/* binding */ POSTER_TRANSITION_TIME),\n/* harmony export */   PROGRESS_BAR_UPDATE_THRESHOLD: () => (/* binding */ PROGRESS_BAR_UPDATE_THRESHOLD)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../three-components/CachingGLTFLoader.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js\");\n/* harmony import */ var _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../three-components/Renderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var __decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\nconst POSTER_TRANSITION_TIME = 300;\nconst PROGRESS_BAR_UPDATE_THRESHOLD = 100;\nconst DEFAULT_DRACO_DECODER_LOCATION = \"https://www.gstatic.com/draco/versioned/decoders/1.4.1/\";\nconst DEFAULT_KTX2_TRANSCODER_LOCATION = \"https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/\";\nconst RevealStrategy = {\n    AUTO: \"auto\",\n    MANUAL: \"manual\"\n};\nconst LoadingStrategy = {\n    AUTO: \"auto\",\n    LAZY: \"lazy\",\n    EAGER: \"eager\"\n};\nconst $defaultProgressBarElement = Symbol(\"defaultProgressBarElement\");\nconst $posterContainerElement = Symbol(\"posterContainerElement\");\nconst $defaultPosterElement = Symbol(\"defaultPosterElement\");\nconst $shouldDismissPoster = Symbol(\"shouldDismissPoster\");\nconst $hidePoster = Symbol(\"hidePoster\");\nconst $modelIsRevealed = Symbol(\"modelIsRevealed\");\nconst $updateProgressBar = Symbol(\"updateProgressBar\");\nconst $ariaLabelCallToAction = Symbol(\"ariaLabelCallToAction\");\nconst $onProgress = Symbol(\"onProgress\");\n/**\n * LoadingMixin implements features related to lazy loading, as well as\n * presentation details related to the pre-load / pre-render presentation of a\n * <model-viewer>\n *\n * This mixin implements support for models with DRACO-compressed meshes.\n * The DRACO decoder will be loaded on-demand if a glTF that uses the DRACO mesh\n * compression extension is encountered.\n *\n * By default, the DRACO decoder will be loaded from a Google CDN. It is\n * possible to customize where the decoder is loaded from by defining a global\n * configuration option for `<model-viewer>` like so:\n *\n * ```html\n * <script>\n * self.ModelViewerElement = self.ModelViewerElement || {};\n * self.ModelViewerElement.dracoDecoderLocation =\n *     'http://example.com/location/of/draco/decoder/files/';\n * </script>\n * ```\n *\n * Note that the above configuration strategy must be performed *before* the\n * first `<model-viewer>` element is created in the browser. The configuration\n * can be done anywhere, but the easiest way to ensure it is done at the right\n * time is to do it in the `<head>` of the HTML document. This is the\n * recommended way to set the location because it is most compatible with\n * scenarios where the `<model-viewer>` library is lazily loaded.\n *\n * If you absolutely have to set the DRACO decoder location *after* the first\n * `<model-viewer>` element is created, you can do it this way:\n *\n * ```html\n * <script>\n * const ModelViewerElement = customElements.get('model-viewer');\n * ModelViewerElement.dracoDecoderLocation =\n *     'http://example.com/location/of/draco/decoder/files/';\n * </script>\n * ```\n *\n * Note that the above configuration approach will not work until *after*\n * `<model-viewer>` is defined in the browser. Also note that this configuration\n * *must* be set *before* the first DRACO model is fully loaded.\n *\n * It is recommended that users who intend to take advantage of DRACO mesh\n * compression consider whether or not it is acceptable for their use case to\n * have code side-loaded from a Google CDN. If it is not acceptable, then the\n * location must be customized before loading any DRACO models in order to cause\n * the decoder to be loaded from an alternative, acceptable location.\n */ const LoadingMixin = (ModelViewerElement)=>{\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    class LoadingModelViewerElement extends ModelViewerElement {\n        constructor(...args){\n            super(...args);\n            /**\n             * A URL pointing to the image to use as a poster in scenarios where the\n             * <model-viewer> is not ready to reveal a rendered model to the viewer.\n             */ this.poster = null;\n            /**\n             * An enumerable attribute describing under what conditions the\n             * <model-viewer> should reveal a model to the viewer.\n             *\n             * The default value is \"auto\". The only supported alternative values is\n             * \"manual\".\n             */ this.reveal = RevealStrategy.AUTO;\n            /**\n             * An enumerable attribute describing under what conditions the\n             * <model-viewer> should preload a model.\n             *\n             * The default value is \"auto\". The only supported alternative values are\n             * \"lazy\" and \"eager\". Auto is equivalent to lazy, which loads the model\n             * when it is near the viewport for reveal = \"auto\", and when interacted\n             * with for reveal = \"interaction\". Eager loads the model immediately.\n             */ this.loading = LoadingStrategy.AUTO;\n            this[_a] = false;\n            this[_b] = false;\n            // TODO: Add this to the shadow root as part of this mixin's\n            // implementation:\n            this[_c] = this.shadowRoot.querySelector(\".slot.poster\");\n            this[_d] = this.shadowRoot.querySelector(\"#default-poster\");\n            this[_e] = this.shadowRoot.querySelector(\"#default-progress-bar > .bar\");\n            this[_f] = this[$defaultPosterElement].getAttribute(\"aria-label\");\n            this[_g] = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_4__.throttle)((progress)=>{\n                const parentNode = this[$defaultProgressBarElement].parentNode;\n                requestAnimationFrame(()=>{\n                    this[$defaultProgressBarElement].style.transform = `scaleX(${progress})`;\n                    if (progress === 0) {\n                        // NOTE(cdata): We remove and re-append the progress bar in this\n                        // condition so that the progress bar does not appear to\n                        // transition backwards from the right when we reset to 0 (or\n                        // otherwise <1) progress after having already reached 1 progress\n                        // previously.\n                        parentNode.removeChild(this[$defaultProgressBarElement]);\n                        parentNode.appendChild(this[$defaultProgressBarElement]);\n                    }\n                    // NOTE(cdata): IE11 does not properly respect the second parameter\n                    // of classList.toggle, which this implementation originally used.\n                    // @see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11865865/\n                    if (progress === 1.0) {\n                        this[$defaultProgressBarElement].classList.add(\"hide\");\n                    } else {\n                        this[$defaultProgressBarElement].classList.remove(\"hide\");\n                    }\n                });\n            }, PROGRESS_BAR_UPDATE_THRESHOLD);\n            this[_h] = (event)=>{\n                const progress = event.detail.totalProgress;\n                if (progress === 1.0) {\n                    this[$updateProgressBar].flush();\n                    if (this.loaded && (this[$shouldDismissPoster] || this.reveal === RevealStrategy.AUTO)) {\n                        this[$hidePoster]();\n                    }\n                }\n                this[$updateProgressBar](progress);\n                this.dispatchEvent(new CustomEvent(\"progress\", {\n                    detail: {\n                        totalProgress: progress\n                    }\n                }));\n            };\n            const ModelViewerElement = self.ModelViewerElement || {};\n            const dracoDecoderLocation = ModelViewerElement.dracoDecoderLocation || DEFAULT_DRACO_DECODER_LOCATION;\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setDRACODecoderLocation(dracoDecoderLocation);\n            const ktx2TranscoderLocation = ModelViewerElement.ktx2TranscoderLocation || DEFAULT_KTX2_TRANSCODER_LOCATION;\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setKTX2TranscoderLocation(ktx2TranscoderLocation);\n            if (ModelViewerElement.meshoptDecoderLocation) {\n                _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setMeshoptDecoderLocation(ModelViewerElement.meshoptDecoderLocation);\n            }\n        }\n        static set dracoDecoderLocation(value) {\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setDRACODecoderLocation(value);\n        }\n        static get dracoDecoderLocation() {\n            return _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.getDRACODecoderLocation();\n        }\n        static set ktx2TranscoderLocation(value) {\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setKTX2TranscoderLocation(value);\n        }\n        static get ktx2TranscoderLocation() {\n            return _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.getKTX2TranscoderLocation();\n        }\n        static set meshoptDecoderLocation(value) {\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setMeshoptDecoderLocation(value);\n        }\n        static get meshoptDecoderLocation() {\n            return _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.getMeshoptDecoderLocation();\n        }\n        /**\n         * If provided, the callback will be passed each resource URL before a\n         * request is sent. The callback may return the original URL, or a new URL\n         * to override loading behavior. This behavior can be used to load assets\n         * from .ZIP files, drag-and-drop APIs, and Data URIs.\n         */ static mapURLs(callback) {\n            _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_3__.Renderer.singleton.loader[_three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.$loader].manager.setURLModifier(callback);\n        }\n        /**\n         * Dismisses the poster, causing the model to load and render if\n         * necessary. This is currently effectively the same as interacting with\n         * the poster via user input.\n         */ dismissPoster() {\n            if (this.loaded) {\n                this[$hidePoster]();\n            } else {\n                this[$shouldDismissPoster] = true;\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$updateSource]();\n            }\n        }\n        /**\n         * Displays the poster, hiding the 3D model. If this is called after the 3D\n         * model has been revealed, then it must be dismissed by a call to\n         * dismissPoster().\n         */ showPoster() {\n            const posterContainerElement = this[$posterContainerElement];\n            if (posterContainerElement.classList.contains(\"show\")) {\n                return;\n            }\n            posterContainerElement.classList.add(\"show\");\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$userInputElement].classList.remove(\"show\");\n            const defaultPosterElement = this[$defaultPosterElement];\n            defaultPosterElement.removeAttribute(\"tabindex\");\n            defaultPosterElement.removeAttribute(\"aria-hidden\");\n            const oldVisibility = this.modelIsVisible;\n            this[$modelIsRevealed] = false;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$announceModelVisibility](oldVisibility);\n        }\n        /**\n         * Returns the model's bounding box dimensions in meters, independent of\n         * turntable rotation.\n         */ getDimensions() {\n            return (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.toVector3D)(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].size);\n        }\n        getBoundingBoxCenter() {\n            return (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.toVector3D)(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].boundingBox.getCenter(new three__WEBPACK_IMPORTED_MODULE_5__.Vector3()));\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this.showPoster();\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$progressTracker].addEventListener(\"progress\", this[$onProgress]);\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$progressTracker].removeEventListener(\"progress\", this[$onProgress]);\n        }\n        async updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has(\"poster\") && this.poster != null) {\n                this[$defaultPosterElement].style.backgroundImage = `url(${this.poster})`;\n            }\n            if (changedProperties.has(\"alt\")) {\n                this[$defaultPosterElement].setAttribute(\"aria-label\", this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$altDefaulted]);\n            }\n            if (changedProperties.has(\"reveal\") || changedProperties.has(\"loading\")) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$updateSource]();\n            }\n        }\n        [(_a = $modelIsRevealed, _b = $shouldDismissPoster, _c = $posterContainerElement, _d = $defaultPosterElement, _e = $defaultProgressBarElement, _f = $ariaLabelCallToAction, _g = $updateProgressBar, _h = $onProgress, _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$shouldAttemptPreload)]() {\n            return !!this.src && (this[$shouldDismissPoster] || this.loading === LoadingStrategy.EAGER || this.reveal === RevealStrategy.AUTO && this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$isElementInViewport]);\n        }\n        [$hidePoster]() {\n            this[$shouldDismissPoster] = false;\n            const posterContainerElement = this[$posterContainerElement];\n            if (!posterContainerElement.classList.contains(\"show\")) {\n                return;\n            }\n            posterContainerElement.classList.remove(\"show\");\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$userInputElement].classList.add(\"show\");\n            const oldVisibility = this.modelIsVisible;\n            this[$modelIsRevealed] = true;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$announceModelVisibility](oldVisibility);\n            const root = this.getRootNode();\n            // If the <model-viewer> is still focused, forward the focus to\n            // the canvas that has just been revealed\n            if (root && root.activeElement === this) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$userInputElement].focus();\n            }\n            // Ensure that the poster is no longer focusable or visible to\n            // screen readers\n            const defaultPosterElement = this[$defaultPosterElement];\n            defaultPosterElement.setAttribute(\"aria-hidden\", \"true\");\n            defaultPosterElement.tabIndex = -1;\n            this.dispatchEvent(new CustomEvent(\"poster-dismissed\"));\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$getModelIsVisible]() {\n            return super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$getModelIsVisible]() && this[$modelIsRevealed];\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String\n        })\n    ], LoadingModelViewerElement.prototype, \"poster\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String\n        })\n    ], LoadingModelViewerElement.prototype, \"reveal\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String\n        })\n    ], LoadingModelViewerElement.prototype, \"loading\", void 0);\n    return LoadingModelViewerElement;\n}; //# sourceMappingURL=loading.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2xvYWRpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUNELElBQUlBLGFBQWEsU0FBSyxJQUFJLFNBQUksQ0FBQ0EsVUFBVSxJQUFLLFNBQVVDLFVBQVUsRUFBRUMsTUFBTSxFQUFFQyxHQUFHLEVBQUVDLElBQUk7SUFDakYsSUFBSUMsSUFBSUMsVUFBVUMsTUFBTSxFQUFFQyxJQUFJSCxJQUFJLElBQUlILFNBQVNFLFNBQVMsT0FBT0EsT0FBT0ssT0FBT0Msd0JBQXdCLENBQUNSLFFBQVFDLE9BQU9DLE1BQU1PO0lBQzNILElBQUksT0FBT0MsWUFBWSxZQUFZLE9BQU9BLFFBQVFDLFFBQVEsS0FBSyxZQUFZTCxJQUFJSSxRQUFRQyxRQUFRLENBQUNaLFlBQVlDLFFBQVFDLEtBQUtDO1NBQ3BILElBQUssSUFBSVUsSUFBSWIsV0FBV00sTUFBTSxHQUFHLEdBQUdPLEtBQUssR0FBR0EsSUFBSyxJQUFJSCxJQUFJVixVQUFVLENBQUNhLEVBQUUsRUFBRU4sSUFBSSxDQUFDSCxJQUFJLElBQUlNLEVBQUVILEtBQUtILElBQUksSUFBSU0sRUFBRVQsUUFBUUMsS0FBS0ssS0FBS0csRUFBRVQsUUFBUUMsSUFBRyxLQUFNSztJQUNoSixPQUFPSCxJQUFJLEtBQUtHLEtBQUtDLE9BQU9NLGNBQWMsQ0FBQ2IsUUFBUUMsS0FBS0ssSUFBSUE7QUFDaEU7QUFDNkM7QUFDYjtBQUMyTDtBQUNySTtBQUMzQjtBQUNoQjtBQUNwQyxNQUFNd0IseUJBQXlCLElBQUk7QUFDbkMsTUFBTUMsZ0NBQWdDLElBQUk7QUFDakQsTUFBTUMsaUNBQWlDO0FBQ3ZDLE1BQU1DLG1DQUFtQztBQUN6QyxNQUFNQyxpQkFBaUI7SUFDbkJDLE1BQU07SUFDTkMsUUFBUTtBQUNaO0FBQ0EsTUFBTUMsa0JBQWtCO0lBQ3BCRixNQUFNO0lBQ05HLE1B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VztRQUNQZ0IsMkRBQVFBLENBQUM7WUFBRXFILE1BQU1DO1FBQU87S0FDM0IsRUFBRXhFLDBCQUEwQnlFLFNBQVMsRUFBRSxVQUFVLEtBQUs7SUFDdkR2SSxXQUFXO1FBQ1BnQiwyREFBUUEsQ0FBQztZQUFFcUgsTUFBTUM7UUFBTztLQUMzQixFQUFFeEUsMEJBQTBCeUUsU0FBUyxFQUFFLFdBQVcsS0FBSztJQUN4RCxPQUFPekU7QUFDWCxFQUFFLENBQ0YsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvbG9hZGluZy5qcz82MGZjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7ICRhbHREZWZhdWx0ZWQsICRhbm5vdW5jZU1vZGVsVmlzaWJpbGl0eSwgJGdldE1vZGVsSXNWaXNpYmxlLCAkaXNFbGVtZW50SW5WaWV3cG9ydCwgJHByb2dyZXNzVHJhY2tlciwgJHNjZW5lLCAkc2hvdWxkQXR0ZW1wdFByZWxvYWQsICR1cGRhdGVTb3VyY2UsICR1c2VySW5wdXRFbGVtZW50LCB0b1ZlY3RvcjNEIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgJGxvYWRlciwgQ2FjaGluZ0dMVEZMb2FkZXIgfSBmcm9tICcuLi90aHJlZS1jb21wb25lbnRzL0NhY2hpbmdHTFRGTG9hZGVyLmpzJztcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vdGhyZWUtY29tcG9uZW50cy9SZW5kZXJlci5qcyc7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uL3V0aWxpdGllcy5qcyc7XG5leHBvcnQgY29uc3QgUE9TVEVSX1RSQU5TSVRJT05fVElNRSA9IDMwMDtcbmV4cG9ydCBjb25zdCBQUk9HUkVTU19CQVJfVVBEQVRFX1RIUkVTSE9MRCA9IDEwMDtcbmNvbnN0IERFRkFVTFRfRFJBQ09fREVDT0RFUl9MT0NBVElPTiA9ICdodHRwczovL3d3dy5nc3RhdGljLmNvbS9kcmFjby92ZXJzaW9uZWQvZGVjb2RlcnMvMS40LjEvJztcbmNvbnN0IERFRkFVTFRfS1RYMl9UUkFOU0NPREVSX0xPQ0FUSU9OID0gJ2h0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2Jhc2lzLXVuaXZlcnNhbC92ZXJzaW9uZWQvMjAyMS0wNC0xNS1iYTFjM2U0Lyc7XG5jb25zdCBSZXZlYWxTdHJhdGVneSA9IHtcbiAgICBBVVRPOiAnYXV0bycsXG4gICAgTUFOVUFMOiAnbWFudWFsJ1xufTtcbmNvbnN0IExvYWRpbmdTdHJhdGVneSA9IHtcbiAgICBBVVRPOiAnYXV0bycsXG4gICAgTEFaWTogJ2xhenknLFxuICAgIEVBR0VSOiAnZWFnZXInXG59O1xuZXhwb3J0IGNvbnN0ICRkZWZhdWx0UHJvZ3Jlc3NCYXJFbGVtZW50ID0gU3ltYm9sKCdkZWZhdWx0UHJvZ3Jlc3NCYXJFbGVtZW50Jyk7XG5leHBvcnQgY29uc3QgJHBvc3RlckNvbnRhaW5lckVsZW1lbnQgPSBTeW1ib2woJ3Bvc3RlckNvbnRhaW5lckVsZW1lbnQnKTtcbmV4cG9ydCBjb25zdCAkZGVmYXVsdFBvc3RlckVsZW1lbnQgPSBTeW1ib2woJ2RlZmF1bHRQb3N0ZXJFbGVtZW50Jyk7XG5jb25zdCAkc2hvdWxkRGlzbWlzc1Bvc3RlciA9IFN5bWJvbCgnc2hvdWxkRGlzbWlzc1Bvc3RlcicpO1xuY29uc3QgJGhpZGVQb3N0ZXIgPSBTeW1ib2woJ2hpZGVQb3N0ZXInKTtcbmNvbnN0ICRtb2RlbElzUmV2ZWFsZWQgPSBTeW1ib2woJ21vZGVsSXNSZXZlYWxlZCcpO1xuY29uc3QgJHVwZGF0ZVByb2dyZXNzQmFyID0gU3ltYm9sKCd1cGRhdGVQcm9ncmVzc0JhcicpO1xuY29uc3QgJGFyaWFMYWJlbENhbGxUb0FjdGlvbiA9IFN5bWJvbCgnYXJpYUxhYmVsQ2FsbFRvQWN0aW9uJyk7XG5jb25zdCAkb25Qcm9ncmVzcyA9IFN5bWJvbCgnb25Qcm9ncmVzcycpO1xuLyoqXG4gKiBMb2FkaW5nTWl4aW4gaW1wbGVtZW50cyBmZWF0dXJlcyByZWxhdGVkIHRvIGxhenkgbG9hZGluZywgYXMgd2VsbCBhc1xuICogcHJlc2VudGF0aW9uIGRldGFpbHMgcmVsYXRlZCB0byB0aGUgcHJlLWxvYWQgLyBwcmUtcmVuZGVyIHByZXNlbnRhdGlvbiBvZiBhXG4gKiA8bW9kZWwtdmlld2VyPlxuICpcbiAqIFRoaXMgbWl4aW4gaW1wbGVtZW50cyBzdXBwb3J0IGZvciBtb2RlbHMgd2l0aCBEUkFDTy1jb21wcmVzc2VkIG1lc2hlcy5cbiAqIFRoZSBEUkFDTyBkZWNvZGVyIHdpbGwgYmUgbG9hZGVkIG9uLWRlbWFuZCBpZiBhIGdsVEYgdGhhdCB1c2VzIHRoZSBEUkFDTyBtZXNoXG4gKiBjb21wcmVzc2lvbiBleHRlbnNpb24gaXMgZW5jb3VudGVyZWQuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIERSQUNPIGRlY29kZXIgd2lsbCBiZSBsb2FkZWQgZnJvbSBhIEdvb2dsZSBDRE4uIEl0IGlzXG4gKiBwb3NzaWJsZSB0byBjdXN0b21pemUgd2hlcmUgdGhlIGRlY29kZXIgaXMgbG9hZGVkIGZyb20gYnkgZGVmaW5pbmcgYSBnbG9iYWxcbiAqIGNvbmZpZ3VyYXRpb24gb3B0aW9uIGZvciBgPG1vZGVsLXZpZXdlcj5gIGxpa2Ugc286XG4gKlxuICogYGBgaHRtbFxuICogPHNjcmlwdD5cbiAqIHNlbGYuTW9kZWxWaWV3ZXJFbGVtZW50ID0gc2VsZi5Nb2RlbFZpZXdlckVsZW1lbnQgfHwge307XG4gKiBzZWxmLk1vZGVsVmlld2VyRWxlbWVudC5kcmFjb0RlY29kZXJMb2NhdGlvbiA9XG4gKiAgICAgJ2h0dHA6Ly9leGFtcGxlLmNvbS9sb2NhdGlvbi9vZi9kcmFjby9kZWNvZGVyL2ZpbGVzLyc7XG4gKiA8L3NjcmlwdD5cbiAqIGBgYFxuICpcbiAqIE5vdGUgdGhhdCB0aGUgYWJvdmUgY29uZmlndXJhdGlvbiBzdHJhdGVneSBtdXN0IGJlIHBlcmZvcm1lZCAqYmVmb3JlKiB0aGVcbiAqIGZpcnN0IGA8bW9kZWwtdmlld2VyPmAgZWxlbWVudCBpcyBjcmVhdGVkIGluIHRoZSBicm93c2VyLiBUaGUgY29uZmlndXJhdGlvblxuICogY2FuIGJlIGRvbmUgYW55d2hlcmUsIGJ1dCB0aGUgZWFzaWVzdCB3YXkgdG8gZW5zdXJlIGl0IGlzIGRvbmUgYXQgdGhlIHJpZ2h0XG4gKiB0aW1lIGlzIHRvIGRvIGl0IGluIHRoZSBgPGhlYWQ+YCBvZiB0aGUgSFRNTCBkb2N1bWVudC4gVGhpcyBpcyB0aGVcbiAqIHJlY29tbWVuZGVkIHdheSB0byBzZXQgdGhlIGxvY2F0aW9uIGJlY2F1c2UgaXQgaXMgbW9zdCBjb21wYXRpYmxlIHdpdGhcbiAqIHNjZW5hcmlvcyB3aGVyZSB0aGUgYDxtb2RlbC12aWV3ZXI+YCBsaWJyYXJ5IGlzIGxhemlseSBsb2FkZWQuXG4gKlxuICogSWYgeW91IGFic29sdXRlbHkgaGF2ZSB0byBzZXQgdGhlIERSQUNPIGRlY29kZXIgbG9jYXRpb24gKmFmdGVyKiB0aGUgZmlyc3RcbiAqIGA8bW9kZWwtdmlld2VyPmAgZWxlbWVudCBpcyBjcmVhdGVkLCB5b3UgY2FuIGRvIGl0IHRoaXMgd2F5OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxzY3JpcHQ+XG4gKiBjb25zdCBNb2RlbFZpZXdlckVsZW1lbnQgPSBjdXN0b21FbGVtZW50cy5nZXQoJ21vZGVsLXZpZXdlcicpO1xuICogTW9kZWxWaWV3ZXJFbGVtZW50LmRyYWNvRGVjb2RlckxvY2F0aW9uID1cbiAqICAgICAnaHR0cDovL2V4YW1wbGUuY29tL2xvY2F0aW9uL29mL2RyYWNvL2RlY29kZXIvZmlsZXMvJztcbiAqIDwvc2NyaXB0PlxuICogYGBgXG4gKlxuICogTm90ZSB0aGF0IHRoZSBhYm92ZSBjb25maWd1cmF0aW9uIGFwcHJvYWNoIHdpbGwgbm90IHdvcmsgdW50aWwgKmFmdGVyKlxuICogYDxtb2RlbC12aWV3ZXI+YCBpcyBkZWZpbmVkIGluIHRoZSBicm93c2VyLiBBbHNvIG5vdGUgdGhhdCB0aGlzIGNvbmZpZ3VyYXRpb25cbiAqICptdXN0KiBiZSBzZXQgKmJlZm9yZSogdGhlIGZpcnN0IERSQUNPIG1vZGVsIGlzIGZ1bGx5IGxvYWRlZC5cbiAqXG4gKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHVzZXJzIHdobyBpbnRlbmQgdG8gdGFrZSBhZHZhbnRhZ2Ugb2YgRFJBQ08gbWVzaFxuICogY29tcHJlc3Npb24gY29uc2lkZXIgd2hldGhlciBvciBub3QgaXQgaXMgYWNjZXB0YWJsZSBmb3IgdGhlaXIgdXNlIGNhc2UgdG9cbiAqIGhhdmUgY29kZSBzaWRlLWxvYWRlZCBmcm9tIGEgR29vZ2xlIENETi4gSWYgaXQgaXMgbm90IGFjY2VwdGFibGUsIHRoZW4gdGhlXG4gKiBsb2NhdGlvbiBtdXN0IGJlIGN1c3RvbWl6ZWQgYmVmb3JlIGxvYWRpbmcgYW55IERSQUNPIG1vZGVscyBpbiBvcmRlciB0byBjYXVzZVxuICogdGhlIGRlY29kZXIgdG8gYmUgbG9hZGVkIGZyb20gYW4gYWx0ZXJuYXRpdmUsIGFjY2VwdGFibGUgbG9jYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBMb2FkaW5nTWl4aW4gPSAoTW9kZWxWaWV3ZXJFbGVtZW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICBjbGFzcyBMb2FkaW5nTW9kZWxWaWV3ZXJFbGVtZW50IGV4dGVuZHMgTW9kZWxWaWV3ZXJFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJncyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgVVJMIHBvaW50aW5nIHRvIHRoZSBpbWFnZSB0byB1c2UgYXMgYSBwb3N0ZXIgaW4gc2NlbmFyaW9zIHdoZXJlIHRoZVxuICAgICAgICAgICAgICogPG1vZGVsLXZpZXdlcj4gaXMgbm90IHJlYWR5IHRvIHJldmVhbCBhIHJlbmRlcmVkIG1vZGVsIHRvIHRoZSB2aWV3ZXIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMucG9zdGVyID0gbnVsbDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQW4gZW51bWVyYWJsZSBhdHRyaWJ1dGUgZGVzY3JpYmluZyB1bmRlciB3aGF0IGNvbmRpdGlvbnMgdGhlXG4gICAgICAgICAgICAgKiA8bW9kZWwtdmlld2VyPiBzaG91bGQgcmV2ZWFsIGEgbW9kZWwgdG8gdGhlIHZpZXdlci5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBcImF1dG9cIi4gVGhlIG9ubHkgc3VwcG9ydGVkIGFsdGVybmF0aXZlIHZhbHVlcyBpc1xuICAgICAgICAgICAgICogXCJtYW51YWxcIi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5yZXZlYWwgPSBSZXZlYWxTdHJhdGVneS5BVVRPO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbiBlbnVtZXJhYmxlIGF0dHJpYnV0ZSBkZXNjcmliaW5nIHVuZGVyIHdoYXQgY29uZGl0aW9ucyB0aGVcbiAgICAgICAgICAgICAqIDxtb2RlbC12aWV3ZXI+IHNob3VsZCBwcmVsb2FkIGEgbW9kZWwuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgXCJhdXRvXCIuIFRoZSBvbmx5IHN1cHBvcnRlZCBhbHRlcm5hdGl2ZSB2YWx1ZXMgYXJlXG4gICAgICAgICAgICAgKiBcImxhenlcIiBhbmQgXCJlYWdlclwiLiBBdXRvIGlzIGVxdWl2YWxlbnQgdG8gbGF6eSwgd2hpY2ggbG9hZHMgdGhlIG1vZGVsXG4gICAgICAgICAgICAgKiB3aGVuIGl0IGlzIG5lYXIgdGhlIHZpZXdwb3J0IGZvciByZXZlYWwgPSBcImF1dG9cIiwgYW5kIHdoZW4gaW50ZXJhY3RlZFxuICAgICAgICAgICAgICogd2l0aCBmb3IgcmV2ZWFsID0gXCJpbnRlcmFjdGlvblwiLiBFYWdlciBsb2FkcyB0aGUgbW9kZWwgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IExvYWRpbmdTdHJhdGVneS5BVVRPO1xuICAgICAgICAgICAgdGhpc1tfYV0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXNbX2JdID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBUT0RPOiBBZGQgdGhpcyB0byB0aGUgc2hhZG93IHJvb3QgYXMgcGFydCBvZiB0aGlzIG1peGluJ3NcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGF0aW9uOlxuICAgICAgICAgICAgdGhpc1tfY10gPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnNsb3QucG9zdGVyJyk7XG4gICAgICAgICAgICB0aGlzW19kXSA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjZGVmYXVsdC1wb3N0ZXInKTtcbiAgICAgICAgICAgIHRoaXNbX2VdID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJyNkZWZhdWx0LXByb2dyZXNzLWJhciA+IC5iYXInKTtcbiAgICAgICAgICAgIHRoaXNbX2ZdID0gdGhpc1skZGVmYXVsdFBvc3RlckVsZW1lbnRdLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgICAgICAgICAgdGhpc1tfZ10gPSB0aHJvdHRsZSgocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gdGhpc1skZGVmYXVsdFByb2dyZXNzQmFyRWxlbWVudF0ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRkZWZhdWx0UHJvZ3Jlc3NCYXJFbGVtZW50XS5zdHlsZS50cmFuc2Zvcm0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgYHNjYWxlWCgke3Byb2dyZXNzfSlgO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEUoY2RhdGEpOiBXZSByZW1vdmUgYW5kIHJlLWFwcGVuZCB0aGUgcHJvZ3Jlc3MgYmFyIGluIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbmRpdGlvbiBzbyB0aGF0IHRoZSBwcm9ncmVzcyBiYXIgZG9lcyBub3QgYXBwZWFyIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2l0aW9uIGJhY2t3YXJkcyBmcm9tIHRoZSByaWdodCB3aGVuIHdlIHJlc2V0IHRvIDAgKG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgPDEpIHByb2dyZXNzIGFmdGVyIGhhdmluZyBhbHJlYWR5IHJlYWNoZWQgMSBwcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmlvdXNseS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpc1skZGVmYXVsdFByb2dyZXNzQmFyRWxlbWVudF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzWyRkZWZhdWx0UHJvZ3Jlc3NCYXJFbGVtZW50XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URShjZGF0YSk6IElFMTEgZG9lcyBub3QgcHJvcGVybHkgcmVzcGVjdCB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgICAgICAgICAgICAgICAgICAvLyBvZiBjbGFzc0xpc3QudG9nZ2xlLCB3aGljaCB0aGlzIGltcGxlbWVudGF0aW9uIG9yaWdpbmFsbHkgdXNlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gQHNlZSBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMTg2NTg2NS9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID09PSAxLjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJGRlZmF1bHRQcm9ncmVzc0JhckVsZW1lbnRdLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJGRlZmF1bHRQcm9ncmVzc0JhckVsZW1lbnRdLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgUFJPR1JFU1NfQkFSX1VQREFURV9USFJFU0hPTEQpO1xuICAgICAgICAgICAgdGhpc1tfaF0gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGV2ZW50LmRldGFpbC50b3RhbFByb2dyZXNzO1xuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA9PT0gMS4wKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJHVwZGF0ZVByb2dyZXNzQmFyXS5mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2FkZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzWyRzaG91bGREaXNtaXNzUG9zdGVyXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZWFsID09PSBSZXZlYWxTdHJhdGVneS5BVVRPKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skaGlkZVBvc3Rlcl0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzWyR1cGRhdGVQcm9ncmVzc0Jhcl0ocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Byb2dyZXNzJywgeyBkZXRhaWw6IHsgdG90YWxQcm9ncmVzczogcHJvZ3Jlc3MgfSB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgTW9kZWxWaWV3ZXJFbGVtZW50ID0gc2VsZi5Nb2RlbFZpZXdlckVsZW1lbnQgfHwge307XG4gICAgICAgICAgICBjb25zdCBkcmFjb0RlY29kZXJMb2NhdGlvbiA9IE1vZGVsVmlld2VyRWxlbWVudC5kcmFjb0RlY29kZXJMb2NhdGlvbiB8fFxuICAgICAgICAgICAgICAgIERFRkFVTFRfRFJBQ09fREVDT0RFUl9MT0NBVElPTjtcbiAgICAgICAgICAgIENhY2hpbmdHTFRGTG9hZGVyLnNldERSQUNPRGVjb2RlckxvY2F0aW9uKGRyYWNvRGVjb2RlckxvY2F0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGt0eDJUcmFuc2NvZGVyTG9jYXRpb24gPSBNb2RlbFZpZXdlckVsZW1lbnQua3R4MlRyYW5zY29kZXJMb2NhdGlvbiB8fFxuICAgICAgICAgICAgICAgIERFRkFVTFRfS1RYMl9UUkFOU0NPREVSX0xPQ0FUSU9OO1xuICAgICAgICAgICAgQ2FjaGluZ0dMVEZMb2FkZXIuc2V0S1RYMlRyYW5zY29kZXJMb2NhdGlvbihrdHgyVHJhbnNjb2RlckxvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChNb2RlbFZpZXdlckVsZW1lbnQubWVzaG9wdERlY29kZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIENhY2hpbmdHTFRGTG9hZGVyLnNldE1lc2hvcHREZWNvZGVyTG9jYXRpb24oTW9kZWxWaWV3ZXJFbGVtZW50Lm1lc2hvcHREZWNvZGVyTG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBzZXQgZHJhY29EZWNvZGVyTG9jYXRpb24odmFsdWUpIHtcbiAgICAgICAgICAgIENhY2hpbmdHTFRGTG9hZGVyLnNldERSQUNPRGVjb2RlckxvY2F0aW9uKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgZ2V0IGRyYWNvRGVjb2RlckxvY2F0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIENhY2hpbmdHTFRGTG9hZGVyLmdldERSQUNPRGVjb2RlckxvY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIHNldCBrdHgyVHJhbnNjb2RlckxvY2F0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBDYWNoaW5nR0xURkxvYWRlci5zZXRLVFgyVHJhbnNjb2RlckxvY2F0aW9uKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgZ2V0IGt0eDJUcmFuc2NvZGVyTG9jYXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gQ2FjaGluZ0dMVEZMb2FkZXIuZ2V0S1RYMlRyYW5zY29kZXJMb2NhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBzZXQgbWVzaG9wdERlY29kZXJMb2NhdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgQ2FjaGluZ0dMVEZMb2FkZXIuc2V0TWVzaG9wdERlY29kZXJMb2NhdGlvbih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIGdldCBtZXNob3B0RGVjb2RlckxvY2F0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIENhY2hpbmdHTFRGTG9hZGVyLmdldE1lc2hvcHREZWNvZGVyTG9jYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcHJvdmlkZWQsIHRoZSBjYWxsYmFjayB3aWxsIGJlIHBhc3NlZCBlYWNoIHJlc291cmNlIFVSTCBiZWZvcmUgYVxuICAgICAgICAgKiByZXF1ZXN0IGlzIHNlbnQuIFRoZSBjYWxsYmFjayBtYXkgcmV0dXJuIHRoZSBvcmlnaW5hbCBVUkwsIG9yIGEgbmV3IFVSTFxuICAgICAgICAgKiB0byBvdmVycmlkZSBsb2FkaW5nIGJlaGF2aW9yLiBUaGlzIGJlaGF2aW9yIGNhbiBiZSB1c2VkIHRvIGxvYWQgYXNzZXRzXG4gICAgICAgICAqIGZyb20gLlpJUCBmaWxlcywgZHJhZy1hbmQtZHJvcCBBUElzLCBhbmQgRGF0YSBVUklzLlxuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGljIG1hcFVSTHMoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIFJlbmRlcmVyLnNpbmdsZXRvbi5sb2FkZXJbJGxvYWRlcl0ubWFuYWdlci5zZXRVUkxNb2RpZmllcihjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc21pc3NlcyB0aGUgcG9zdGVyLCBjYXVzaW5nIHRoZSBtb2RlbCB0byBsb2FkIGFuZCByZW5kZXIgaWZcbiAgICAgICAgICogbmVjZXNzYXJ5LiBUaGlzIGlzIGN1cnJlbnRseSBlZmZlY3RpdmVseSB0aGUgc2FtZSBhcyBpbnRlcmFjdGluZyB3aXRoXG4gICAgICAgICAqIHRoZSBwb3N0ZXIgdmlhIHVzZXIgaW5wdXQuXG4gICAgICAgICAqL1xuICAgICAgICBkaXNtaXNzUG9zdGVyKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skaGlkZVBvc3Rlcl0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbJHNob3VsZERpc21pc3NQb3N0ZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzWyR1cGRhdGVTb3VyY2VdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BsYXlzIHRoZSBwb3N0ZXIsIGhpZGluZyB0aGUgM0QgbW9kZWwuIElmIHRoaXMgaXMgY2FsbGVkIGFmdGVyIHRoZSAzRFxuICAgICAgICAgKiBtb2RlbCBoYXMgYmVlbiByZXZlYWxlZCwgdGhlbiBpdCBtdXN0IGJlIGRpc21pc3NlZCBieSBhIGNhbGwgdG9cbiAgICAgICAgICogZGlzbWlzc1Bvc3RlcigpLlxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd1Bvc3RlcigpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc3RlckNvbnRhaW5lckVsZW1lbnQgPSB0aGlzWyRwb3N0ZXJDb250YWluZXJFbGVtZW50XTtcbiAgICAgICAgICAgIGlmIChwb3N0ZXJDb250YWluZXJFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zdGVyQ29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgICAgICAgICB0aGlzWyR1c2VySW5wdXRFbGVtZW50XS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0UG9zdGVyRWxlbWVudCA9IHRoaXNbJGRlZmF1bHRQb3N0ZXJFbGVtZW50XTtcbiAgICAgICAgICAgIGRlZmF1bHRQb3N0ZXJFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICAgICAgICAgIGRlZmF1bHRQb3N0ZXJFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAgICAgICAgIGNvbnN0IG9sZFZpc2liaWxpdHkgPSB0aGlzLm1vZGVsSXNWaXNpYmxlO1xuICAgICAgICAgICAgdGhpc1skbW9kZWxJc1JldmVhbGVkXSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpc1skYW5ub3VuY2VNb2RlbFZpc2liaWxpdHldKG9sZFZpc2liaWxpdHkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBtb2RlbCdzIGJvdW5kaW5nIGJveCBkaW1lbnNpb25zIGluIG1ldGVycywgaW5kZXBlbmRlbnQgb2ZcbiAgICAgICAgICogdHVybnRhYmxlIHJvdGF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RGltZW5zaW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB0b1ZlY3RvcjNEKHRoaXNbJHNjZW5lXS5zaXplKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRCb3VuZGluZ0JveENlbnRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiB0b1ZlY3RvcjNEKHRoaXNbJHNjZW5lXS5ib3VuZGluZ0JveC5nZXRDZW50ZXIobmV3IFZlY3RvcjMoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd1Bvc3RlcigpO1xuICAgICAgICAgICAgdGhpc1skcHJvZ3Jlc3NUcmFja2VyXS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXNbJG9uUHJvZ3Jlc3NdKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzWyRwcm9ncmVzc1RyYWNrZXJdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpc1skb25Qcm9ncmVzc10pO1xuICAgICAgICB9XG4gICAgICAgIGFzeW5jIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygncG9zdGVyJykgJiYgdGhpcy5wb3N0ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGRlZmF1bHRQb3N0ZXJFbGVtZW50XS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPVxuICAgICAgICAgICAgICAgICAgICBgdXJsKCR7dGhpcy5wb3N0ZXJ9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdhbHQnKSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGRlZmF1bHRQb3N0ZXJFbGVtZW50XS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzWyRhbHREZWZhdWx0ZWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3JldmVhbCcpIHx8IGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnbG9hZGluZycpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skdXBkYXRlU291cmNlXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFsoX2EgPSAkbW9kZWxJc1JldmVhbGVkLCBfYiA9ICRzaG91bGREaXNtaXNzUG9zdGVyLCBfYyA9ICRwb3N0ZXJDb250YWluZXJFbGVtZW50LCBfZCA9ICRkZWZhdWx0UG9zdGVyRWxlbWVudCwgX2UgPSAkZGVmYXVsdFByb2dyZXNzQmFyRWxlbWVudCwgX2YgPSAkYXJpYUxhYmVsQ2FsbFRvQWN0aW9uLCBfZyA9ICR1cGRhdGVQcm9ncmVzc0JhciwgX2ggPSAkb25Qcm9ncmVzcywgJHNob3VsZEF0dGVtcHRQcmVsb2FkKV0oKSB7XG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLnNyYyAmJlxuICAgICAgICAgICAgICAgICh0aGlzWyRzaG91bGREaXNtaXNzUG9zdGVyXSB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPT09IExvYWRpbmdTdHJhdGVneS5FQUdFUiB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5yZXZlYWwgPT09IFJldmVhbFN0cmF0ZWd5LkFVVE8gJiYgdGhpc1skaXNFbGVtZW50SW5WaWV3cG9ydF0pKTtcbiAgICAgICAgfVxuICAgICAgICBbJGhpZGVQb3N0ZXJdKCkge1xuICAgICAgICAgICAgdGhpc1skc2hvdWxkRGlzbWlzc1Bvc3Rlcl0gPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHBvc3RlckNvbnRhaW5lckVsZW1lbnQgPSB0aGlzWyRwb3N0ZXJDb250YWluZXJFbGVtZW50XTtcbiAgICAgICAgICAgIGlmICghcG9zdGVyQ29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc3RlckNvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICAgICAgdGhpc1skdXNlcklucHV0RWxlbWVudF0uY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgICAgICAgICAgY29uc3Qgb2xkVmlzaWJpbGl0eSA9IHRoaXMubW9kZWxJc1Zpc2libGU7XG4gICAgICAgICAgICB0aGlzWyRtb2RlbElzUmV2ZWFsZWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXNbJGFubm91bmNlTW9kZWxWaXNpYmlsaXR5XShvbGRWaXNpYmlsaXR5KTtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLmdldFJvb3ROb2RlKCk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgPG1vZGVsLXZpZXdlcj4gaXMgc3RpbGwgZm9jdXNlZCwgZm9yd2FyZCB0aGUgZm9jdXMgdG9cbiAgICAgICAgICAgIC8vIHRoZSBjYW52YXMgdGhhdCBoYXMganVzdCBiZWVuIHJldmVhbGVkXG4gICAgICAgICAgICBpZiAocm9vdCAmJiByb290LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyR1c2VySW5wdXRFbGVtZW50XS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIHBvc3RlciBpcyBubyBsb25nZXIgZm9jdXNhYmxlIG9yIHZpc2libGUgdG9cbiAgICAgICAgICAgIC8vIHNjcmVlbiByZWFkZXJzXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0UG9zdGVyRWxlbWVudCA9IHRoaXNbJGRlZmF1bHRQb3N0ZXJFbGVtZW50XTtcbiAgICAgICAgICAgIGRlZmF1bHRQb3N0ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICAgICAgZGVmYXVsdFBvc3RlckVsZW1lbnQudGFiSW5kZXggPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Bvc3Rlci1kaXNtaXNzZWQnKSk7XG4gICAgICAgIH1cbiAgICAgICAgWyRnZXRNb2RlbElzVmlzaWJsZV0oKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXJbJGdldE1vZGVsSXNWaXNpYmxlXSgpICYmIHRoaXNbJG1vZGVsSXNSZXZlYWxlZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG4gICAgXSwgTG9hZGluZ01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwicG9zdGVyXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG4gICAgXSwgTG9hZGluZ01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwicmV2ZWFsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG4gICAgXSwgTG9hZGluZ01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwibG9hZGluZ1wiLCB2b2lkIDApO1xuICAgIHJldHVybiBMb2FkaW5nTW9kZWxWaWV3ZXJFbGVtZW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRpbmcuanMubWFwIl0sIm5hbWVzIjpbIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZCIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImkiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3BlcnR5IiwiVmVjdG9yMyIsIiRhbHREZWZhdWx0ZWQiLCIkYW5ub3VuY2VNb2RlbFZpc2liaWxpdHkiLCIkZ2V0TW9kZWxJc1Zpc2libGUiLCIkaXNFbGVtZW50SW5WaWV3cG9ydCIsIiRwcm9ncmVzc1RyYWNrZXIiLCIkc2NlbmUiLCIkc2hvdWxkQXR0ZW1wdFByZWxvYWQiLCIkdXBkYXRlU291cmNlIiwiJHVzZXJJbnB1dEVsZW1lbnQiLCJ0b1ZlY3RvcjNEIiwiJGxvYWRlciIsIkNhY2hpbmdHTFRGTG9hZGVyIiwiUmVuZGVyZXIiLCJ0aHJvdHRsZSIsIlBPU1RFUl9UUkFOU0lUSU9OX1RJTUUiLCJQUk9HUkVTU19CQVJfVVBEQVRFX1RIUkVTSE9MRCIsIkRFRkFVTFRfRFJBQ09fREVDT0RFUl9MT0NBVElPTiIsIkRFRkFVTFRfS1RYMl9UUkFOU0NPREVSX0xPQ0FUSU9OIiwiUmV2ZWFsU3RyYXRlZ3kiLCJBVVRPIiwiTUFOVUFMIiwiTG9hZGluZ1N0cmF0ZWd5IiwiTEFaWSIsIkVBR0VSIiwiJGRlZmF1bHRQcm9ncmVzc0JhckVsZW1lbnQiLCJTeW1ib2wiLCIkcG9zdGVyQ29udGFpbmVyRWxlbWVudCIsIiRkZWZhdWx0UG9zdGVyRWxlbWVudCIsIiRzaG91bGREaXNtaXNzUG9zdGVyIiwiJGhpZGVQb3N0ZXIiLCIkbW9kZWxJc1JldmVhbGVkIiwiJHVwZGF0ZVByb2dyZXNzQmFyIiwiJGFyaWFMYWJlbENhbGxUb0FjdGlvbiIsIiRvblByb2dyZXNzIiwiTG9hZGluZ01peGluIiwiTW9kZWxWaWV3ZXJFbGVtZW50IiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJfaCIsIkxvYWRpbmdNb2RlbFZpZXdlckVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsImFyZ3MiLCJwb3N0ZXIiLCJyZXZlYWwiLCJsb2FkaW5nIiwic2hhZG93Um9vdCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJwcm9ncmVzcyIsInBhcmVudE5vZGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdHlsZSIsInRyYW5zZm9ybSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJldmVudCIsImRldGFpbCIsInRvdGFsUHJvZ3Jlc3MiLCJmbHVzaCIsImxvYWRlZCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsInNlbGYiLCJkcmFjb0RlY29kZXJMb2NhdGlvbiIsInNldERSQUNPRGVjb2RlckxvY2F0aW9uIiwia3R4MlRyYW5zY29kZXJMb2NhdGlvbiIsInNldEtUWDJUcmFuc2NvZGVyTG9jYXRpb24iLCJtZXNob3B0RGVjb2RlckxvY2F0aW9uIiwic2V0TWVzaG9wdERlY29kZXJMb2NhdGlvbiIsInZhbHVlIiwiZ2V0RFJBQ09EZWNvZGVyTG9jYXRpb24iLCJnZXRLVFgyVHJhbnNjb2RlckxvY2F0aW9uIiwiZ2V0TWVzaG9wdERlY29kZXJMb2NhdGlvbiIsIm1hcFVSTHMiLCJjYWxsYmFjayIsInNpbmdsZXRvbiIsImxvYWRlciIsIm1hbmFnZXIiLCJzZXRVUkxNb2RpZmllciIsImRpc21pc3NQb3N0ZXIiLCJzaG93UG9zdGVyIiwicG9zdGVyQ29udGFpbmVyRWxlbWVudCIsImNvbnRhaW5zIiwiZGVmYXVsdFBvc3RlckVsZW1lbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJvbGRWaXNpYmlsaXR5IiwibW9kZWxJc1Zpc2libGUiLCJnZXREaW1lbnNpb25zIiwic2l6ZSIsImdldEJvdW5kaW5nQm94Q2VudGVyIiwiYm91bmRpbmdCb3giLCJnZXRDZW50ZXIiLCJjb25uZWN0ZWRDYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVkIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJoYXMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJzZXRBdHRyaWJ1dGUiLCJzcmMiLCJyb290IiwiZ2V0Um9vdE5vZGUiLCJhY3RpdmVFbGVtZW50IiwiZm9jdXMiLCJ0YWJJbmRleCIsInR5cGUiLCJTdHJpbmciLCJwcm90b3R5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/loading.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $currentGLTF: () => (/* binding */ $currentGLTF),\n/* harmony export */   $model: () => (/* binding */ $model),\n/* harmony export */   $originalGltfJson: () => (/* binding */ $originalGltfJson),\n/* harmony export */   SceneGraphMixin: () => (/* binding */ SceneGraphMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_exporters_GLTFExporter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/exporters/GLTFExporter.js */ \"(ssr)/./node_modules/three/examples/jsm/exporters/GLTFExporter.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _three_components_gltf_instance_VariantMaterialExporterPlugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../three-components/gltf-instance/VariantMaterialExporterPlugin */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialExporterPlugin.js\");\n/* harmony import */ var _scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scene-graph/model.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/model.js\");\n/* harmony import */ var _scene_graph_texture__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scene-graph/texture */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var __decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\nconst $currentGLTF = Symbol(\"currentGLTF\");\nconst $originalGltfJson = Symbol(\"originalGltfJson\");\nconst $model = Symbol(\"model\");\nconst $getOnUpdateMethod = Symbol(\"getOnUpdateMethod\");\nconst $textureLoader = Symbol(\"textureLoader\");\n/**\n * SceneGraphMixin manages exposes a model API in order to support operations on\n * the <model-viewer> scene graph.\n */ const SceneGraphMixin = (ModelViewerElement)=>{\n    var _a, _b, _c, _d;\n    class SceneGraphModelViewerElement extends ModelViewerElement {\n        constructor(){\n            super(...arguments);\n            this[_a] = undefined;\n            this[_b] = null;\n            this[_c] = new three__WEBPACK_IMPORTED_MODULE_5__.TextureLoader();\n            this[_d] = null;\n            this.variantName = null;\n            this.orientation = \"0 0 0\";\n            this.scale = \"1 1 1\";\n        }\n        // Scene-graph API:\n        /** @export */ get model() {\n            return this[$model];\n        }\n        get availableVariants() {\n            return this.model ? this.model[_scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.$availableVariants]() : [];\n        }\n        /**\n         * Returns a deep copy of the gltf JSON as loaded. It will not reflect\n         * changes to the scene-graph, nor will editing it have any effect.\n         */ get originalGltfJson() {\n            return this[$originalGltfJson];\n        }\n        [(_a = $model, _b = $currentGLTF, _c = $textureLoader, _d = $originalGltfJson, $getOnUpdateMethod)]() {\n            return ()=>{\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            };\n        }\n        async createTexture(uri, type = \"image/png\") {\n            const currentGLTF = this[$currentGLTF];\n            const texture = await new Promise((resolve)=>this[$textureLoader].load(uri, resolve));\n            if (!currentGLTF || !texture) {\n                return null;\n            }\n            // Applies default settings.\n            texture.encoding = three__WEBPACK_IMPORTED_MODULE_5__.sRGBEncoding;\n            texture.wrapS = three__WEBPACK_IMPORTED_MODULE_5__.RepeatWrapping;\n            texture.wrapT = three__WEBPACK_IMPORTED_MODULE_5__.RepeatWrapping;\n            texture.flipY = false;\n            texture.userData.mimeType = type;\n            return new _scene_graph_texture__WEBPACK_IMPORTED_MODULE_4__.Texture(this[$getOnUpdateMethod](), texture);\n        }\n        async updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has(\"variantName\")) {\n                const updateVariantProgress = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$progressTracker].beginActivity();\n                updateVariantProgress(0.1);\n                const model = this[$model];\n                const { variantName } = this;\n                if (model != null) {\n                    await model[_scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.$switchVariant](variantName);\n                    this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n                    this.dispatchEvent(new CustomEvent(\"variant-applied\"));\n                }\n                updateVariantProgress(1.0);\n            }\n            if (changedProperties.has(\"orientation\") || changedProperties.has(\"scale\")) {\n                if (!this.loaded) {\n                    return;\n                }\n                const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene];\n                scene.applyTransform();\n                scene.updateBoundingBox();\n                scene.updateShadow();\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer].arRenderer.onUpdateScene();\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onModelLoad]() {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onModelLoad]();\n            const { currentGLTF } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene];\n            if (currentGLTF != null) {\n                const { correlatedSceneGraph } = currentGLTF;\n                if (correlatedSceneGraph != null && currentGLTF !== this[$currentGLTF]) {\n                    this[$model] = new _scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.Model(correlatedSceneGraph, this[$getOnUpdateMethod]());\n                    this[$originalGltfJson] = JSON.parse(JSON.stringify(correlatedSceneGraph.gltf));\n                }\n                // KHR_materials_variants extension spec:\n                // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_variants\n                if (\"variants\" in currentGLTF.userData) {\n                    this.requestUpdate(\"variantName\");\n                }\n            }\n            this[$currentGLTF] = currentGLTF;\n        }\n        /** @export */ async exportScene(options) {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene];\n            return new Promise(async (resolve, reject)=>{\n                // Defaults\n                const opts = {\n                    binary: true,\n                    onlyVisible: true,\n                    maxTextureSize: Infinity,\n                    includeCustomExtensions: false,\n                    forceIndices: false\n                };\n                Object.assign(opts, options);\n                // Not configurable\n                opts.animations = scene.animations;\n                opts.truncateDrawRange = true;\n                const shadow = scene.shadow;\n                let visible = false;\n                // Remove shadow from export\n                if (shadow != null) {\n                    visible = shadow.visible;\n                    shadow.visible = false;\n                }\n                await this[$model][_scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.$prepareVariantsForExport]();\n                const exporter = new three_examples_jsm_exporters_GLTFExporter_js__WEBPACK_IMPORTED_MODULE_6__.GLTFExporter().register((writer)=>new _three_components_gltf_instance_VariantMaterialExporterPlugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"](writer));\n                exporter.parse(scene.model, (gltf)=>{\n                    return resolve(new Blob([\n                        opts.binary ? gltf : JSON.stringify(gltf)\n                    ], {\n                        type: opts.binary ? \"application/octet-stream\" : \"application/json\"\n                    }));\n                }, ()=>{\n                    return reject(\"glTF export failed\");\n                }, opts);\n                if (shadow != null) {\n                    shadow.visible = visible;\n                }\n            });\n        }\n        materialFromPoint(pixelX, pixelY) {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene];\n            const ndcCoords = scene.getNDC(pixelX, pixelY);\n            scene.raycaster.setFromCamera(ndcCoords, scene.getCamera());\n            return this[$model][_scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.$materialFromPoint](scene.raycaster);\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"variant-name\"\n        })\n    ], SceneGraphModelViewerElement.prototype, \"variantName\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"orientation\"\n        })\n    ], SceneGraphModelViewerElement.prototype, \"orientation\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"scale\"\n        })\n    ], SceneGraphModelViewerElement.prototype, \"scale\", void 0);\n    return SceneGraphModelViewerElement;\n}; //# sourceMappingURL=scene-graph.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUNELElBQUlBLGFBQWEsU0FBSyxJQUFJLFNBQUksQ0FBQ0EsVUFBVSxJQUFLLFNBQVVDLFVBQVUsRUFBRUMsTUFBTSxFQUFFQyxHQUFHLEVBQUVDLElBQUk7SUFDakYsSUFBSUMsSUFBSUMsVUFBVUMsTUFBTSxFQUFFQyxJQUFJSCxJQUFJLElBQUlILFNBQVNFLFNBQVMsT0FBT0EsT0FBT0ssT0FBT0Msd0JBQXdCLENBQUNSLFFBQVFDLE9BQU9DLE1BQU1PO0lBQzNILElBQUksT0FBT0MsWUFBWSxZQUFZLE9BQU9BLFFBQVFDLFFBQVEsS0FBSyxZQUFZTCxJQUFJSSxRQUFRQyxRQUFRLENBQUNaLFlBQVlDLFFBQVFDLEtBQUtDO1NBQ3BILElBQUssSUFBSVUsSUFBSWIsV0FBV00sTUFBTSxHQUFHLEdBQUdPLEtBQUssR0FBR0EsSUFBSyxJQUFJSCxJQUFJVixVQUFVLENBQUNhLEVBQUUsRUFBRU4sSUFBSSxDQUFDSCxJQUFJLElBQUlNLEVBQUVILEtBQUtILElBQUksSUFBSU0sRUFBRVQsUUFBUUMsS0FBS0ssS0FBS0csRUFBRVQsUUFBUUMsSUFBRyxLQUFNSztJQUNoSixPQUFPSCxJQUFJLEtBQUtHLEtBQUtDLE9BQU9NLGNBQWMsQ0FBQ2IsUUFBUUMsS0FBS0ssSUFBSUE7QUFDaEU7QUFDNkM7QUFDdUI7QUFDUTtBQUM4QjtBQUNXO0FBQ2E7QUFDNUQ7QUFDL0QsTUFBTTBCLGVBQWVDLE9BQU8sZUFBZTtBQUMzQyxNQUFNQyxvQkFBb0JELE9BQU8sb0JBQW9CO0FBQ3JELE1BQU1FLFNBQVNGLE9BQU8sU0FBUztBQUN0QyxNQUFNRyxxQkFBcUJILE9BQU87QUFDbEMsTUFBTUksaUJBQWlCSixPQUFPO0FBQzlCOzs7Q0FHQyxHQUNNLE1BQU1LLGtC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QUFLO0lBQy9EdEgsV0FBVztRQUNQZ0IsMkRBQVFBLENBQUM7WUFBRXlDLE1BQU0yRDtZQUFRQyxXQUFXO1FBQWM7S0FDckQsRUFBRXZFLDZCQUE2QndFLFNBQVMsRUFBRSxlQUFlLEtBQUs7SUFDL0R0SCxXQUFXO1FBQ1BnQiwyREFBUUEsQ0FBQztZQUFFeUMsTUFBTTJEO1lBQVFDLFdBQVc7UUFBUTtLQUMvQyxFQUFFdkUsNkJBQTZCd0UsU0FBUyxFQUFFLFNBQVMsS0FBSztJQUN6RCxPQUFPeEU7QUFDWCxFQUFFLENBQ0YsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvc2NlbmUtZ3JhcGguanM/ZGVjNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IFJlcGVhdFdyYXBwaW5nLCBzUkdCRW5jb2RpbmcsIFRleHR1cmVMb2FkZXIgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBHTFRGRXhwb3J0ZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vZXhwb3J0ZXJzL0dMVEZFeHBvcnRlci5qcyc7XG5pbXBvcnQgeyAkbmVlZHNSZW5kZXIsICRvbk1vZGVsTG9hZCwgJHByb2dyZXNzVHJhY2tlciwgJHJlbmRlcmVyLCAkc2NlbmUgfSBmcm9tICcuLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgR0xURkV4cG9ydGVyTWF0ZXJpYWxzVmFyaWFudHNFeHRlbnNpb24gZnJvbSAnLi4vdGhyZWUtY29tcG9uZW50cy9nbHRmLWluc3RhbmNlL1ZhcmlhbnRNYXRlcmlhbEV4cG9ydGVyUGx1Z2luJztcbmltcG9ydCB7ICRhdmFpbGFibGVWYXJpYW50cywgJG1hdGVyaWFsRnJvbVBvaW50LCAkcHJlcGFyZVZhcmlhbnRzRm9yRXhwb3J0LCAkc3dpdGNoVmFyaWFudCwgTW9kZWwgfSBmcm9tICcuL3NjZW5lLWdyYXBoL21vZGVsLmpzJztcbmltcG9ydCB7IFRleHR1cmUgYXMgTW9kZWxWaWV3ZXJUZXh0dXJlIH0gZnJvbSAnLi9zY2VuZS1ncmFwaC90ZXh0dXJlJztcbmV4cG9ydCBjb25zdCAkY3VycmVudEdMVEYgPSBTeW1ib2woJ2N1cnJlbnRHTFRGJyk7XG5leHBvcnQgY29uc3QgJG9yaWdpbmFsR2x0Zkpzb24gPSBTeW1ib2woJ29yaWdpbmFsR2x0Zkpzb24nKTtcbmV4cG9ydCBjb25zdCAkbW9kZWwgPSBTeW1ib2woJ21vZGVsJyk7XG5jb25zdCAkZ2V0T25VcGRhdGVNZXRob2QgPSBTeW1ib2woJ2dldE9uVXBkYXRlTWV0aG9kJyk7XG5jb25zdCAkdGV4dHVyZUxvYWRlciA9IFN5bWJvbCgndGV4dHVyZUxvYWRlcicpO1xuLyoqXG4gKiBTY2VuZUdyYXBoTWl4aW4gbWFuYWdlcyBleHBvc2VzIGEgbW9kZWwgQVBJIGluIG9yZGVyIHRvIHN1cHBvcnQgb3BlcmF0aW9ucyBvblxuICogdGhlIDxtb2RlbC12aWV3ZXI+IHNjZW5lIGdyYXBoLlxuICovXG5leHBvcnQgY29uc3QgU2NlbmVHcmFwaE1peGluID0gKE1vZGVsVmlld2VyRWxlbWVudCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjbGFzcyBTY2VuZUdyYXBoTW9kZWxWaWV3ZXJFbGVtZW50IGV4dGVuZHMgTW9kZWxWaWV3ZXJFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgdGhpc1tfYV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzW19iXSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzW19jXSA9IG5ldyBUZXh0dXJlTG9hZGVyKCk7XG4gICAgICAgICAgICB0aGlzW19kXSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnZhcmlhbnROYW1lID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb24gPSAnMCAwIDAnO1xuICAgICAgICAgICAgdGhpcy5zY2FsZSA9ICcxIDEgMSc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2NlbmUtZ3JhcGggQVBJOlxuICAgICAgICAvKiogQGV4cG9ydCAqL1xuICAgICAgICBnZXQgbW9kZWwoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skbW9kZWxdO1xuICAgICAgICB9XG4gICAgICAgIGdldCBhdmFpbGFibGVWYXJpYW50cygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsID8gdGhpcy5tb2RlbFskYXZhaWxhYmxlVmFyaWFudHNdKCkgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIGRlZXAgY29weSBvZiB0aGUgZ2x0ZiBKU09OIGFzIGxvYWRlZC4gSXQgd2lsbCBub3QgcmVmbGVjdFxuICAgICAgICAgKiBjaGFuZ2VzIHRvIHRoZSBzY2VuZS1ncmFwaCwgbm9yIHdpbGwgZWRpdGluZyBpdCBoYXZlIGFueSBlZmZlY3QuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgb3JpZ2luYWxHbHRmSnNvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRvcmlnaW5hbEdsdGZKc29uXTtcbiAgICAgICAgfVxuICAgICAgICBbKF9hID0gJG1vZGVsLCBfYiA9ICRjdXJyZW50R0xURiwgX2MgPSAkdGV4dHVyZUxvYWRlciwgX2QgPSAkb3JpZ2luYWxHbHRmSnNvbiwgJGdldE9uVXBkYXRlTWV0aG9kKV0oKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBhc3luYyBjcmVhdGVUZXh0dXJlKHVyaSwgdHlwZSA9ICdpbWFnZS9wbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50R0xURiA9IHRoaXNbJGN1cnJlbnRHTFRGXTtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gdGhpc1skdGV4dHVyZUxvYWRlcl0ubG9hZCh1cmksIHJlc29sdmUpKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudEdMVEYgfHwgIXRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFwcGxpZXMgZGVmYXVsdCBzZXR0aW5ncy5cbiAgICAgICAgICAgIHRleHR1cmUuZW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XG4gICAgICAgICAgICB0ZXh0dXJlLndyYXBTID0gUmVwZWF0V3JhcHBpbmc7XG4gICAgICAgICAgICB0ZXh0dXJlLndyYXBUID0gUmVwZWF0V3JhcHBpbmc7XG4gICAgICAgICAgICB0ZXh0dXJlLmZsaXBZID0gZmFsc2U7XG4gICAgICAgICAgICB0ZXh0dXJlLnVzZXJEYXRhLm1pbWVUeXBlID0gdHlwZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTW9kZWxWaWV3ZXJUZXh0dXJlKHRoaXNbJGdldE9uVXBkYXRlTWV0aG9kXSgpLCB0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBhc3luYyB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3ZhcmlhbnROYW1lJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVWYXJpYW50UHJvZ3Jlc3MgPSB0aGlzWyRwcm9ncmVzc1RyYWNrZXJdLmJlZ2luQWN0aXZpdHkoKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVWYXJpYW50UHJvZ3Jlc3MoMC4xKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXNbJG1vZGVsXTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhcmlhbnROYW1lIH0gPSB0aGlzO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVsWyRzd2l0Y2hWYXJpYW50XSh2YXJpYW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd2YXJpYW50LWFwcGxpZWQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZVZhcmlhbnRQcm9ncmVzcygxLjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnb3JpZW50YXRpb24nKSB8fFxuICAgICAgICAgICAgICAgIGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnc2NhbGUnKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgICAgICBzY2VuZS5hcHBseVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHNjZW5lLnVwZGF0ZUJvdW5kaW5nQm94KCk7XG4gICAgICAgICAgICAgICAgc2NlbmUudXBkYXRlU2hhZG93KCk7XG4gICAgICAgICAgICAgICAgdGhpc1skcmVuZGVyZXJdLmFyUmVuZGVyZXIub25VcGRhdGVTY2VuZSgpO1xuICAgICAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFskb25Nb2RlbExvYWRdKCkge1xuICAgICAgICAgICAgc3VwZXJbJG9uTW9kZWxMb2FkXSgpO1xuICAgICAgICAgICAgY29uc3QgeyBjdXJyZW50R0xURiB9ID0gdGhpc1skc2NlbmVdO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRHTFRGICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvcnJlbGF0ZWRTY2VuZUdyYXBoIH0gPSBjdXJyZW50R0xURjtcbiAgICAgICAgICAgICAgICBpZiAoY29ycmVsYXRlZFNjZW5lR3JhcGggIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R0xURiAhPT0gdGhpc1skY3VycmVudEdMVEZdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJG1vZGVsXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTW9kZWwoY29ycmVsYXRlZFNjZW5lR3JhcGgsIHRoaXNbJGdldE9uVXBkYXRlTWV0aG9kXSgpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skb3JpZ2luYWxHbHRmSnNvbl0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb3JyZWxhdGVkU2NlbmVHcmFwaC5nbHRmKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEtIUl9tYXRlcmlhbHNfdmFyaWFudHMgZXh0ZW5zaW9uIHNwZWM6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc192YXJpYW50c1xuICAgICAgICAgICAgICAgIGlmICgndmFyaWFudHMnIGluIGN1cnJlbnRHTFRGLnVzZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgndmFyaWFudE5hbWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzWyRjdXJyZW50R0xURl0gPSBjdXJyZW50R0xURjtcbiAgICAgICAgfVxuICAgICAgICAvKiogQGV4cG9ydCAqL1xuICAgICAgICBhc3luYyBleHBvcnRTY2VuZShvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdHNcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBiaW5hcnk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG9ubHlWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtYXhUZXh0dXJlU2l6ZTogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGVDdXN0b21FeHRlbnNpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VJbmRpY2VzOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAvLyBOb3QgY29uZmlndXJhYmxlXG4gICAgICAgICAgICAgICAgb3B0cy5hbmltYXRpb25zID0gc2NlbmUuYW5pbWF0aW9ucztcbiAgICAgICAgICAgICAgICBvcHRzLnRydW5jYXRlRHJhd1JhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaGFkb3cgPSBzY2VuZS5zaGFkb3c7XG4gICAgICAgICAgICAgICAgbGV0IHZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgc2hhZG93IGZyb20gZXhwb3J0XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSBzaGFkb3cudmlzaWJsZTtcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpc1skbW9kZWxdWyRwcmVwYXJlVmFyaWFudHNGb3JFeHBvcnRdKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwb3J0ZXIgPSBuZXcgR0xURkV4cG9ydGVyKClcbiAgICAgICAgICAgICAgICAgICAgLnJlZ2lzdGVyKCh3cml0ZXIpID0+IG5ldyBHTFRGRXhwb3J0ZXJNYXRlcmlhbHNWYXJpYW50c0V4dGVuc2lvbih3cml0ZXIpKTtcbiAgICAgICAgICAgICAgICBleHBvcnRlci5wYXJzZShzY2VuZS5tb2RlbCwgKGdsdGYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobmV3IEJsb2IoW29wdHMuYmluYXJ5ID8gZ2x0ZiA6IEpTT04uc3RyaW5naWZ5KGdsdGYpXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogb3B0cy5iaW5hcnkgPyAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoJ2dsVEYgZXhwb3J0IGZhaWxlZCcpO1xuICAgICAgICAgICAgICAgIH0sIG9wdHMpO1xuICAgICAgICAgICAgICAgIGlmIChzaGFkb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkb3cudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF0ZXJpYWxGcm9tUG9pbnQocGl4ZWxYLCBwaXhlbFkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lID0gdGhpc1skc2NlbmVdO1xuICAgICAgICAgICAgY29uc3QgbmRjQ29vcmRzID0gc2NlbmUuZ2V0TkRDKHBpeGVsWCwgcGl4ZWxZKTtcbiAgICAgICAgICAgIHNjZW5lLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKG5kY0Nvb3Jkcywgc2NlbmUuZ2V0Q2FtZXJhKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJG1vZGVsXVskbWF0ZXJpYWxGcm9tUG9pbnRdKHNjZW5lLnJheWNhc3Rlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICd2YXJpYW50LW5hbWUnIH0pXG4gICAgXSwgU2NlbmVHcmFwaE1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwidmFyaWFudE5hbWVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ29yaWVudGF0aW9uJyB9KVxuICAgIF0sIFNjZW5lR3JhcGhNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcIm9yaWVudGF0aW9uXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzY2FsZScgfSlcbiAgICBdLCBTY2VuZUdyYXBoTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJzY2FsZVwiLCB2b2lkIDApO1xuICAgIHJldHVybiBTY2VuZUdyYXBoTW9kZWxWaWV3ZXJFbGVtZW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjZW5lLWdyYXBoLmpzLm1hcCJdLCJuYW1lcyI6WyJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJjIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImQiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJwcm9wZXJ0eSIsIlJlcGVhdFdyYXBwaW5nIiwic1JHQkVuY29kaW5nIiwiVGV4dHVyZUxvYWRlciIsIkdMVEZFeHBvcnRlciIsIiRuZWVkc1JlbmRlciIsIiRvbk1vZGVsTG9hZCIsIiRwcm9ncmVzc1RyYWNrZXIiLCIkcmVuZGVyZXIiLCIkc2NlbmUiLCJHTFRGRXhwb3J0ZXJNYXRlcmlhbHNWYXJpYW50c0V4dGVuc2lvbiIsIiRhdmFpbGFibGVWYXJpYW50cyIsIiRtYXRlcmlhbEZyb21Qb2ludCIsIiRwcmVwYXJlVmFyaWFudHNGb3JFeHBvcnQiLCIkc3dpdGNoVmFyaWFudCIsIk1vZGVsIiwiVGV4dHVyZSIsIk1vZGVsVmlld2VyVGV4dHVyZSIsIiRjdXJyZW50R0xURiIsIlN5bWJvbCIsIiRvcmlnaW5hbEdsdGZKc29uIiwiJG1vZGVsIiwiJGdldE9uVXBkYXRlTWV0aG9kIiwiJHRleHR1cmVMb2FkZXIiLCJTY2VuZUdyYXBoTWl4aW4iLCJNb2RlbFZpZXdlckVsZW1lbnQiLCJfYSIsIl9iIiwiX2MiLCJfZCIsIlNjZW5lR3JhcGhNb2RlbFZpZXdlckVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsInVuZGVmaW5lZCIsInZhcmlhbnROYW1lIiwib3JpZW50YXRpb24iLCJzY2FsZSIsIm1vZGVsIiwiYXZhaWxhYmxlVmFyaWFudHMiLCJvcmlnaW5hbEdsdGZKc29uIiwiY3JlYXRlVGV4dHVyZSIsInVyaSIsInR5cGUiLCJjdXJyZW50R0xURiIsInRleHR1cmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImxvYWQiLCJlbmNvZGluZyIsIndyYXBTIiwid3JhcFQiLCJmbGlwWSIsInVzZXJEYXRhIiwibWltZVR5cGUiLCJ1cGRhdGVkIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJoYXMiLCJ1cGRhdGVWYXJpYW50UHJvZ3Jlc3MiLCJiZWdpbkFjdGl2aXR5IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwibG9hZGVkIiwic2NlbmUiLCJhcHBseVRyYW5zZm9ybSIsInVwZGF0ZUJvdW5kaW5nQm94IiwidXBkYXRlU2hhZG93IiwiYXJSZW5kZXJlciIsIm9uVXBkYXRlU2NlbmUiLCJjb3JyZWxhdGVkU2NlbmVHcmFwaCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImdsdGYiLCJyZXF1ZXN0VXBkYXRlIiwiZXhwb3J0U2NlbmUiLCJvcHRpb25zIiwicmVqZWN0Iiwib3B0cyIsImJpbmFyeSIsIm9ubHlWaXNpYmxlIiwibWF4VGV4dHVyZVNpemUiLCJJbmZpbml0eSIsImluY2x1ZGVDdXN0b21FeHRlbnNpb25zIiwiZm9yY2VJbmRpY2VzIiwiYXNzaWduIiwiYW5pbWF0aW9ucyIsInRydW5jYXRlRHJhd1JhbmdlIiwic2hhZG93IiwidmlzaWJsZSIsImV4cG9ydGVyIiwicmVnaXN0ZXIiLCJ3cml0ZXIiLCJCbG9iIiwibWF0ZXJpYWxGcm9tUG9pbnQiLCJwaXhlbFgiLCJwaXhlbFkiLCJuZGNDb29yZHMiLCJnZXROREMiLCJyYXljYXN0ZXIiLCJzZXRGcm9tQ2FtZXJhIiwiZ2V0Q2FtZXJhIiwiU3RyaW5nIiwiYXR0cmlidXRlIiwicHJvdG90eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/image.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/image.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $applyTexture: () => (/* binding */ $applyTexture),\n/* harmony export */   $threeTexture: () => (/* binding */ $threeTexture),\n/* harmony export */   Image: () => (/* binding */ Image)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../three-components/Renderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\nconst quadMaterial = new three__WEBPACK_IMPORTED_MODULE_3__.MeshBasicMaterial();\nconst quad = new three__WEBPACK_IMPORTED_MODULE_3__.PlaneGeometry(2, 2);\nlet adhocNum = 0;\nconst $threeTexture = Symbol(\"threeTexture\");\nconst $applyTexture = Symbol(\"applyTexture\");\n/**\n * Image facade implementation for Three.js textures\n */ class Image extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.ThreeDOMElement {\n    get [$threeTexture]() {\n        var _a;\n        console.assert(this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects] != null && this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects].size > 0, \"Image correlated object is undefined\");\n        return (_a = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]) === null || _a === void 0 ? void 0 : _a.values().next().value;\n    }\n    constructor(onUpdate, texture, gltfImage){\n        gltfImage = gltfImage !== null && gltfImage !== void 0 ? gltfImage : {\n            name: texture && texture.image && texture.image.src ? texture.image.src.split(\"/\").pop() : \"adhoc_image\",\n            uri: texture && texture.image && texture.image.src ? texture.image.src : \"adhoc_image\" + adhocNum++\n        };\n        super(onUpdate, gltfImage, new Set(texture ? [\n            texture\n        ] : []));\n    }\n    get name() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name || \"\";\n    }\n    get uri() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].uri;\n    }\n    get bufferView() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].bufferView;\n    }\n    get type() {\n        return this.uri != null ? \"external\" : \"embedded\";\n    }\n    set name(name) {\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name = name;\n    }\n    async createThumbnail(width, height) {\n        const scene = new three__WEBPACK_IMPORTED_MODULE_3__.Scene();\n        quadMaterial.map = this[$threeTexture];\n        const mesh = new three__WEBPACK_IMPORTED_MODULE_3__.Mesh(quad, quadMaterial);\n        scene.add(mesh);\n        const camera = new three__WEBPACK_IMPORTED_MODULE_3__.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n        const { threeRenderer } = _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_1__.Renderer.singleton;\n        const renderTarget = new three__WEBPACK_IMPORTED_MODULE_3__.WebGLRenderTarget(width, height);\n        threeRenderer.setRenderTarget(renderTarget);\n        threeRenderer.render(scene, camera);\n        threeRenderer.setRenderTarget(null);\n        const buffer = new Uint8Array(width * height * 4);\n        threeRenderer.readRenderTargetPixels(renderTarget, 0, 0, width, height, buffer);\n        _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.blobCanvas.width = width;\n        _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.blobCanvas.height = height;\n        const blobContext = _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.blobCanvas.getContext(\"2d\");\n        const imageData = blobContext.createImageData(width, height);\n        imageData.data.set(buffer);\n        blobContext.putImageData(imageData, 0, 0);\n        return new Promise(async (resolve, reject)=>{\n            _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.blobCanvas.toBlob((blob)=>{\n                if (!blob) {\n                    return reject(\"Failed to capture thumbnail.\");\n                }\n                resolve(URL.createObjectURL(blob));\n            }, \"image/png\");\n        });\n    }\n} //# sourceMappingURL=image.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL2ltYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQzRHO0FBQ3JEO0FBQ007QUFDOEI7QUFDNUYsTUFBTVcsZUFBZSxJQUFJVixvREFBaUJBO0FBQzFDLE1BQU1XLE9BQU8sSUFBSVQsZ0RBQWFBLENBQUMsR0FBRztBQUNsQyxJQUFJVSxXQUFXO0FBQ1IsTUFBTUMsZ0JBQWdCQyxPQUFPLGdCQUFnQjtBQUM3QyxNQUFNQyxnQkFBZ0JELE9BQU8sZ0JBQWdCO0FBQ3BEOztDQUVDLEdBQ00sTUFBTUUsY0FBY1Asa0VBQWVBO0lBQ3RDLElBQUksQ0FBQ0ksY0FBYyxHQUFHO1FBQ2xCLElBQUlJO1FBQ0pDLFFBQVFDLE1BQU0sQ0FBQyxJQUFJLENBQUNaLHFFQUFrQkEsQ0FBQyxJQUFJLFFBQVEsSUFBSSxDQUFDQSxxRUFBa0JBLENBQUMsQ0FBQ2EsSUFBSSxHQUFHLEdBQUc7UUFDdEYsT0FBTyxDQUFDSCxLQUFLLElBQUksQ0FBQ1YscUVBQWtCQSxDQUFDLE1BQU0sUUFBUVUsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHSSxNQUFNLEdBQUdDLElBQUksR0FBR0MsS0FBSztJQUN4RztJQUNBQyxZQUFZQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxDQUFFO1FBQ3RDQSxZQUFZQSxjQUFjLFFBQVFBLGNBQWMsS0FBSyxJQUFJQSxZQUFZO1lBQ2pFQyxNQUFNLFdBQVlGLFFBQVFHLEtBQUssSUFBSUgsUUFBUUcsS0FBSyxDQUFDQyxHQUFHLEdBQ2hESixRQUFRRyxLQUFLLENBQUNDLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDLEtBQUtDLEdBQUcsS0FDaEM7WUFDSkMsS0FBSyxXQUFZUCxRQUFRRyxLQUFLLElBQUlILFFBQVFHLEtBQUssQ0FBQ0MsR0FBRyxHQUMvQ0osUUFBUUcsS0FBSyxDQUFDQyxHQUFHLEdBQ2pCLGdCQUFnQmxCO1FBQ3hCO1FBQ0EsS0FBSyxDQUFDYSxVQUFVRSxXQUFXLElBQUlPLElBQUlSLFVBQVU7WUFBQ0E7U0FBUSxHQUFHLEVBQUU7SUFDL0Q7SUFDQSxJQUFJRSxPQUFPO1FBQ1AsT0FBTyxJQUFJLENBQUNwQixnRUFBYUEsQ0FBQyxDQUFDb0IsSUFBSSxJQUFJO0lBQ3ZDO0lBQ0EsSUFBSUssTUFBTTtRQUNOLE9BQU8sSUFBSSxDQUFDekIsZ0VBQWFBLENBQUMsQ0FBQ3lCLEdBQUc7SUFDbEM7SUFDQSxJQUFJRSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUMzQixnRUFBYUEsQ0FBQyxDQUFDMkIsVUFBVTtJQUN6QztJQUNBLElBQUlDLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQ0gsR0FBRyxJQUFJLE9BQU8sYUFBYTtJQUMzQztJQUNBLElBQUlMLEtBQUtBLElBQUksRUFBRTtRQUNYLElBQUksQ0FBQ3BCLGdFQUFhQSxDQUFDLENBQUNvQixJQUFJLEdBQUdBO0lBQy9CO0lBQ0EsTUFBTVMsZ0JBQWdCQyxLQUFLLEVBQUVDLE1BQU0sRUFBRTtRQUNqQyxNQUFNQyxRQUFRLElBQUlyQyx3Q0FBS0E7UUFDdkJPLGFBQWErQixHQUFHLEdBQUcsSUFBSSxDQUFDNUIsY0FBYztRQUN0QyxNQUFNNkIsT0FBTyxJQUFJM0MsdUNBQUlBLENBQUNZLE1BQU1EO1FBQzVCOEIsTUFBTUcsR0FBRyxDQUFDRDtRQUNWLE1BQU1FLFNBQVMsSUFBSTNDLHFEQUFrQkEsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHO1FBQ3ZELE1BQU0sRUFBRTRDLGFBQWEsRUFBRSxHQUFHdkMsbUVBQVFBLENBQUN3QyxTQUFTO1FBQzVDLE1BQU1DLGVBQWUsSUFBSTNDLG9EQUFpQkEsQ0FBQ2tDLE9BQU9DO1FBQ2xETSxjQUFjRyxlQUFlLENBQUNEO1FBQzlCRixjQUFjSSxNQUFNLENBQUNULE9BQU9JO1FBQzVCQyxjQUFjRyxlQUFlLENBQUM7UUFDOUIsTUFBTUUsU0FBUyxJQUFJQyxXQUFXYixRQUFRQyxTQUFTO1FBQy9DTSxjQUFjTyxzQkFBc0IsQ0FBQ0wsY0FBYyxHQUFHLEdBQUdULE9BQU9DLFFBQVFXO1FBQ3hFN0MsNkRBQVVBLENBQUNpQyxLQUFLLEdBQUdBO1FBQ25CakMsNkRBQVVBLENBQUNrQyxNQUFNLEdBQUdBO1FBQ3BCLE1BQU1jLGNBQWNoRCw2REFBVUEsQ0FBQ2lELFVBQVUsQ0FBQztRQUMxQyxNQUFNQyxZQUFZRixZQUFZRyxlQUFlLENBQUNsQixPQUFPQztRQUNyRGdCLFVBQVVFLElBQUksQ0FBQ0MsR0FBRyxDQUFDUjtRQUNuQkcsWUFBWU0sWUFBWSxDQUFDSixXQUFXLEdBQUc7UUFDdkMsT0FBTyxJQUFJSyxRQUFRLE9BQU9DLFNBQVNDO1lBQy9CekQsNkRBQVVBLENBQUMwRCxNQUFNLENBQUNDLENBQUFBO2dCQUNkLElBQUksQ0FBQ0EsTUFBTTtvQkFDUCxPQUFPRixPQUFPO2dCQUNsQjtnQkFDQUQsUUFBUUksSUFBSUMsZUFBZSxDQUFDRjtZQUNoQyxHQUFHO1FBQ1A7SUFDSjtBQUNKLEVBQ0EsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvc2NlbmUtZ3JhcGgvaW1hZ2UuanM/OGJkMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBNZXNoLCBNZXNoQmFzaWNNYXRlcmlhbCwgT3J0aG9ncmFwaGljQ2FtZXJhLCBQbGFuZUdlb21ldHJ5LCBTY2VuZSwgV2ViR0xSZW5kZXJUYXJnZXQgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBibG9iQ2FudmFzIH0gZnJvbSAnLi4vLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi8uLi90aHJlZS1jb21wb25lbnRzL1JlbmRlcmVyLmpzJztcbmltcG9ydCB7ICRjb3JyZWxhdGVkT2JqZWN0cywgJHNvdXJjZU9iamVjdCwgVGhyZWVET01FbGVtZW50IH0gZnJvbSAnLi90aHJlZS1kb20tZWxlbWVudC5qcyc7XG5jb25zdCBxdWFkTWF0ZXJpYWwgPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoKTtcbmNvbnN0IHF1YWQgPSBuZXcgUGxhbmVHZW9tZXRyeSgyLCAyKTtcbmxldCBhZGhvY051bSA9IDA7XG5leHBvcnQgY29uc3QgJHRocmVlVGV4dHVyZSA9IFN5bWJvbCgndGhyZWVUZXh0dXJlJyk7XG5leHBvcnQgY29uc3QgJGFwcGx5VGV4dHVyZSA9IFN5bWJvbCgnYXBwbHlUZXh0dXJlJyk7XG4vKipcbiAqIEltYWdlIGZhY2FkZSBpbXBsZW1lbnRhdGlvbiBmb3IgVGhyZWUuanMgdGV4dHVyZXNcbiAqL1xuZXhwb3J0IGNsYXNzIEltYWdlIGV4dGVuZHMgVGhyZWVET01FbGVtZW50IHtcbiAgICBnZXQgWyR0aHJlZVRleHR1cmVdKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXSAhPSBudWxsICYmIHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXS5zaXplID4gMCwgJ0ltYWdlIGNvcnJlbGF0ZWQgb2JqZWN0IGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpc1skY29ycmVsYXRlZE9iamVjdHNdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvblVwZGF0ZSwgdGV4dHVyZSwgZ2x0ZkltYWdlKSB7XG4gICAgICAgIGdsdGZJbWFnZSA9IGdsdGZJbWFnZSAhPT0gbnVsbCAmJiBnbHRmSW1hZ2UgIT09IHZvaWQgMCA/IGdsdGZJbWFnZSA6IHtcbiAgICAgICAgICAgIG5hbWU6ICh0ZXh0dXJlICYmIHRleHR1cmUuaW1hZ2UgJiYgdGV4dHVyZS5pbWFnZS5zcmMpID9cbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmltYWdlLnNyYy5zcGxpdCgnLycpLnBvcCgpIDpcbiAgICAgICAgICAgICAgICAnYWRob2NfaW1hZ2UnLFxuICAgICAgICAgICAgdXJpOiAodGV4dHVyZSAmJiB0ZXh0dXJlLmltYWdlICYmIHRleHR1cmUuaW1hZ2Uuc3JjKSA/XG4gICAgICAgICAgICAgICAgdGV4dHVyZS5pbWFnZS5zcmMgOlxuICAgICAgICAgICAgICAgICdhZGhvY19pbWFnZScgKyBhZGhvY051bSsrXG4gICAgICAgIH07XG4gICAgICAgIHN1cGVyKG9uVXBkYXRlLCBnbHRmSW1hZ2UsIG5ldyBTZXQodGV4dHVyZSA/IFt0ZXh0dXJlXSA6IFtdKSk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XS5uYW1lIHx8ICcnO1xuICAgIH1cbiAgICBnZXQgdXJpKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XS51cmk7XG4gICAgfVxuICAgIGdldCBidWZmZXJWaWV3KCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XS5idWZmZXJWaWV3O1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJpICE9IG51bGwgPyAnZXh0ZXJuYWwnIDogJ2VtYmVkZGVkJztcbiAgICB9XG4gICAgc2V0IG5hbWUobmFtZSkge1xuICAgICAgICB0aGlzWyRzb3VyY2VPYmplY3RdLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVUaHVtYm5haWwod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBjb25zdCBzY2VuZSA9IG5ldyBTY2VuZSgpO1xuICAgICAgICBxdWFkTWF0ZXJpYWwubWFwID0gdGhpc1skdGhyZWVUZXh0dXJlXTtcbiAgICAgICAgY29uc3QgbWVzaCA9IG5ldyBNZXNoKHF1YWQsIHF1YWRNYXRlcmlhbCk7XG4gICAgICAgIHNjZW5lLmFkZChtZXNoKTtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gbmV3IE9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAsIDEpO1xuICAgICAgICBjb25zdCB7IHRocmVlUmVuZGVyZXIgfSA9IFJlbmRlcmVyLnNpbmdsZXRvbjtcbiAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gbmV3IFdlYkdMUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aHJlZVJlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICB0aHJlZVJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICAgICAgdGhyZWVSZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQobnVsbCk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgIHRocmVlUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVscyhyZW5kZXJUYXJnZXQsIDAsIDAsIHdpZHRoLCBoZWlnaHQsIGJ1ZmZlcik7XG4gICAgICAgIGJsb2JDYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgYmxvYkNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNvbnN0IGJsb2JDb250ZXh0ID0gYmxvYkNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBibG9iQ29udGV4dC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGltYWdlRGF0YS5kYXRhLnNldChidWZmZXIpO1xuICAgICAgICBibG9iQ29udGV4dC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGJsb2JDYW52YXMudG9CbG9iKGJsb2IgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghYmxvYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KCdGYWlsZWQgdG8gY2FwdHVyZSB0aHVtYm5haWwuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgICAgICAgICB9LCAnaW1hZ2UvcG5nJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltYWdlLmpzLm1hcCJdLCJuYW1lcyI6WyJNZXNoIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJQbGFuZUdlb21ldHJ5IiwiU2NlbmUiLCJXZWJHTFJlbmRlclRhcmdldCIsImJsb2JDYW52YXMiLCJSZW5kZXJlciIsIiRjb3JyZWxhdGVkT2JqZWN0cyIsIiRzb3VyY2VPYmplY3QiLCJUaHJlZURPTUVsZW1lbnQiLCJxdWFkTWF0ZXJpYWwiLCJxdWFkIiwiYWRob2NOdW0iLCIkdGhyZWVUZXh0dXJlIiwiU3ltYm9sIiwiJGFwcGx5VGV4dHVyZSIsIkltYWdlIiwiX2EiLCJjb25zb2xlIiwiYXNzZXJ0Iiwic2l6ZSIsInZhbHVlcyIsIm5leHQiLCJ2YWx1ZSIsImNvbnN0cnVjdG9yIiwib25VcGRhdGUiLCJ0ZXh0dXJlIiwiZ2x0ZkltYWdlIiwibmFtZSIsImltYWdlIiwic3JjIiwic3BsaXQiLCJwb3AiLCJ1cmkiLCJTZXQiLCJidWZmZXJWaWV3IiwidHlwZSIsImNyZWF0ZVRodW1ibmFpbCIsIndpZHRoIiwiaGVpZ2h0Iiwic2NlbmUiLCJtYXAiLCJtZXNoIiwiYWRkIiwiY2FtZXJhIiwidGhyZWVSZW5kZXJlciIsInNpbmdsZXRvbiIsInJlbmRlclRhcmdldCIsInNldFJlbmRlclRhcmdldCIsInJlbmRlciIsImJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJyZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzIiwiYmxvYkNvbnRleHQiLCJnZXRDb250ZXh0IiwiaW1hZ2VEYXRhIiwiY3JlYXRlSW1hZ2VEYXRhIiwiZGF0YSIsInNldCIsInB1dEltYWdlRGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidG9CbG9iIiwiYmxvYiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/image.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/material.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/material.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $ensureMaterialIsLoaded: () => (/* binding */ $ensureMaterialIsLoaded),\n/* harmony export */   $getLoadedMaterial: () => (/* binding */ $getLoadedMaterial),\n/* harmony export */   $gltfIndex: () => (/* binding */ $gltfIndex),\n/* harmony export */   $lazyLoadGLTFInfo: () => (/* binding */ $lazyLoadGLTFInfo),\n/* harmony export */   $setActive: () => (/* binding */ $setActive),\n/* harmony export */   $variantIndices: () => (/* binding */ $variantIndices),\n/* harmony export */   $variantSet: () => (/* binding */ $variantSet),\n/* harmony export */   Material: () => (/* binding */ Material)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _pbr_metallic_roughness_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pbr-metallic-roughness.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/pbr-metallic-roughness.js\");\n/* harmony import */ var _texture_info_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./texture-info.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var _a;\n\n\n\n\nconst $pbrMetallicRoughness = Symbol(\"pbrMetallicRoughness\");\nconst $normalTexture = Symbol(\"normalTexture\");\nconst $occlusionTexture = Symbol(\"occlusionTexture\");\nconst $emissiveTexture = Symbol(\"emissiveTexture\");\nconst $backingThreeMaterial = Symbol(\"backingThreeMaterial\");\nconst $applyAlphaCutoff = Symbol(\"applyAlphaCutoff\");\nconst $lazyLoadGLTFInfo = Symbol(\"lazyLoadGLTFInfo\");\nconst $initialize = Symbol(\"initialize\");\nconst $getLoadedMaterial = Symbol(\"getLoadedMaterial\");\nconst $ensureMaterialIsLoaded = Symbol(\"ensureMaterialIsLoaded\");\nconst $gltfIndex = Symbol(\"gltfIndex\");\nconst $setActive = Symbol(\"setActive\");\nconst $variantIndices = Symbol(\"variantIndices\");\nconst $isActive = Symbol(\"isActive\");\nconst $variantSet = Symbol(\"variantSet\");\nconst $modelVariants = Symbol(\"modelVariants\");\n/**\n * Material facade implementation for Three.js materials\n */ class Material extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.ThreeDOMElement {\n    constructor(onUpdate, gltf, gltfMaterial, gltfIndex, isActive, modelVariants, correlatedMaterials, lazyLoadInfo = undefined){\n        super(onUpdate, gltfMaterial, correlatedMaterials);\n        this[_a] = new Set();\n        this[$gltfIndex] = gltfIndex;\n        this[$isActive] = isActive;\n        this[$modelVariants] = modelVariants;\n        if (lazyLoadInfo == null) {\n            this[$initialize](gltf);\n        } else {\n            this[$lazyLoadGLTFInfo] = lazyLoadInfo;\n        }\n    }\n    get [(_a = $variantSet, $backingThreeMaterial)]() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects].values().next().value;\n    }\n    [$initialize](gltf) {\n        const onUpdate = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate];\n        const gltfMaterial = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject];\n        const correlatedMaterials = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects];\n        if (gltfMaterial.extensions && gltfMaterial.extensions[\"KHR_materials_pbrSpecularGlossiness\"]) {\n            console.warn(`Material ${gltfMaterial.name} uses a deprecated extension\n          \"KHR_materials_pbrSpecularGlossiness\", please use\n          \"pbrMetallicRoughness\" instead. Specular Glossiness materials are\n          currently supported for rendering, but not for our scene-graph API,\n          nor for auto-generation of USDZ for Quick Look.`);\n        }\n        if (gltfMaterial.pbrMetallicRoughness == null) {\n            gltfMaterial.pbrMetallicRoughness = {};\n        }\n        this[$pbrMetallicRoughness] = new _pbr_metallic_roughness_js__WEBPACK_IMPORTED_MODULE_0__.PBRMetallicRoughness(onUpdate, gltf, gltfMaterial.pbrMetallicRoughness, correlatedMaterials);\n        if (gltfMaterial.emissiveFactor == null) {\n            gltfMaterial.emissiveFactor = [\n                0,\n                0,\n                0\n            ];\n        }\n        if (gltfMaterial.doubleSided == null) {\n            gltfMaterial.doubleSided = false;\n        }\n        if (gltfMaterial.alphaMode == null) {\n            gltfMaterial.alphaMode = \"OPAQUE\";\n        }\n        if (gltfMaterial.alphaCutoff == null) {\n            gltfMaterial.alphaCutoff = 0.5;\n        }\n        const { normalTexture: gltfNormalTexture, occlusionTexture: gltfOcclusionTexture, emissiveTexture: gltfEmissiveTexture } = gltfMaterial;\n        const { normalMap, aoMap, emissiveMap } = correlatedMaterials.values().next().value;\n        this[$normalTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureUsage.Normal, normalMap, correlatedMaterials, gltf, gltfNormalTexture ? gltfNormalTexture : null);\n        this[$occlusionTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureUsage.Occlusion, aoMap, correlatedMaterials, gltf, gltfOcclusionTexture ? gltfOcclusionTexture : null);\n        this[$emissiveTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureUsage.Emissive, emissiveMap, correlatedMaterials, gltf, gltfEmissiveTexture ? gltfEmissiveTexture : null);\n    }\n    async [$getLoadedMaterial]() {\n        if (this[$lazyLoadGLTFInfo] != null) {\n            const { set, material } = await this[$lazyLoadGLTFInfo].doLazyLoad();\n            // Fills in the missing data.\n            this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects] = set;\n            this[$initialize](this[$lazyLoadGLTFInfo].gltf);\n            // Releases lazy load info.\n            this[$lazyLoadGLTFInfo] = undefined;\n            // Redefines the method as a noop method.\n            this.ensureLoaded = async ()=>{};\n            return material;\n        }\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects].values().next().value;\n    }\n    [$ensureMaterialIsLoaded]() {\n        if (this[$lazyLoadGLTFInfo] == null) {\n            return;\n        }\n        throw new Error(`Material \"${this.name}\" has not been loaded, call 'await\n    myMaterial.ensureLoaded()' before using an unloaded material.`);\n    }\n    async ensureLoaded() {\n        await this[$getLoadedMaterial]();\n    }\n    get isLoaded() {\n        return this[$lazyLoadGLTFInfo] == null;\n    }\n    get isActive() {\n        return this[$isActive];\n    }\n    [$setActive](isActive) {\n        this[$isActive] = isActive;\n    }\n    get name() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name;\n    }\n    set name(name) {\n        const sourceMaterial = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject];\n        if (sourceMaterial != null) {\n            sourceMaterial.name = name;\n        }\n        if (this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects] != null) {\n            for (const threeMaterial of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]){\n                threeMaterial.name = name;\n            }\n        }\n    }\n    get pbrMetallicRoughness() {\n        this[$ensureMaterialIsLoaded]();\n        return this[$pbrMetallicRoughness];\n    }\n    get normalTexture() {\n        this[$ensureMaterialIsLoaded]();\n        return this[$normalTexture];\n    }\n    get occlusionTexture() {\n        this[$ensureMaterialIsLoaded]();\n        return this[$occlusionTexture];\n    }\n    get emissiveTexture() {\n        this[$ensureMaterialIsLoaded]();\n        return this[$emissiveTexture];\n    }\n    get emissiveFactor() {\n        this[$ensureMaterialIsLoaded]();\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].emissiveFactor;\n    }\n    get index() {\n        return this[$gltfIndex];\n    }\n    [$variantIndices]() {\n        return this[$variantSet];\n    }\n    hasVariant(name) {\n        const variantData = this[$modelVariants].get(name);\n        return variantData != null && this[$variantSet].has(variantData.index);\n    }\n    setEmissiveFactor(rgb) {\n        this[$ensureMaterialIsLoaded]();\n        const color = new three__WEBPACK_IMPORTED_MODULE_3__.Color();\n        if (rgb instanceof Array) {\n            color.fromArray(rgb);\n        } else {\n            color.set(rgb).convertSRGBToLinear();\n        }\n        for (const material of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]){\n            material.emissive.set(color);\n        }\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].emissiveFactor = color.toArray();\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate]();\n    }\n    [$applyAlphaCutoff]() {\n        this[$ensureMaterialIsLoaded]();\n        const gltfMaterial = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject];\n        for (const material of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]){\n            if (this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaMode === \"MASK\") {\n                material.alphaTest = gltfMaterial.alphaCutoff;\n            } else {\n                material.alphaTest = undefined;\n            }\n            material.needsUpdate = true;\n        }\n    }\n    setAlphaCutoff(cutoff) {\n        this[$ensureMaterialIsLoaded]();\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaCutoff = cutoff;\n        this[$applyAlphaCutoff]();\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate]();\n    }\n    getAlphaCutoff() {\n        this[$ensureMaterialIsLoaded]();\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaCutoff;\n    }\n    setDoubleSided(doubleSided) {\n        this[$ensureMaterialIsLoaded]();\n        for (const material of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]){\n            // When double-sided is disabled gltf spec dictates that Back-Face culling\n            // must be disabled, in three.js parlance that would mean FrontSide\n            // rendering only.\n            // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#double-sided\n            material.side = doubleSided ? three__WEBPACK_IMPORTED_MODULE_3__.DoubleSide : three__WEBPACK_IMPORTED_MODULE_3__.FrontSide;\n            material.needsUpdate = true;\n        }\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].doubleSided = doubleSided;\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate]();\n    }\n    getDoubleSided() {\n        this[$ensureMaterialIsLoaded]();\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].doubleSided;\n    }\n    setAlphaMode(alphaMode) {\n        this[$ensureMaterialIsLoaded]();\n        const enableTransparency = (material, enabled)=>{\n            material.transparent = enabled;\n            material.depthWrite = !enabled;\n        };\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaMode = alphaMode;\n        for (const material of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]){\n            enableTransparency(material, alphaMode === \"BLEND\");\n            this[$applyAlphaCutoff]();\n            material.needsUpdate = true;\n        }\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate]();\n    }\n    getAlphaMode() {\n        this[$ensureMaterialIsLoaded]();\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaMode;\n    }\n} //# sourceMappingURL=material.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL21hdGVyaWFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRCxJQUFJQTtBQUNpRDtBQUNjO0FBQ0w7QUFDeUM7QUFDdkcsTUFBTVcsd0JBQXdCQyxPQUFPO0FBQ3JDLE1BQU1DLGlCQUFpQkQsT0FBTztBQUM5QixNQUFNRSxvQkFBb0JGLE9BQU87QUFDakMsTUFBTUcsbUJBQW1CSCxPQUFPO0FBQ2hDLE1BQU1JLHdCQUF3QkosT0FBTztBQUNyQyxNQUFNSyxvQkFBb0JMLE9BQU87QUFDMUIsTUFBTU0sb0JBQW9CTixPQUFPLG9CQUFvQjtBQUM1RCxNQUFNTyxjQUFjUCxPQUFPO0FBQ3BCLE1BQU1RLHFCQUFxQlIsT0FBTyxxQkFBcUI7QUFDdkQsTUFBTVMsMEJBQTBCVCxPQUFPLDBCQUEwQjtBQUNqRSxNQUFNVSxhQUFhVixPQUFPLGFBQWE7QUFDdkMsTUFBTVcsYUFBYVgsT0FBTyxhQUFhO0FBQ3ZDLE1BQU1ZLGtCQUFrQlosT0FBTyxrQkFBa0I7QUFDeEQsTUFBTWEsWUFBWWIsT0FBTztBQUNsQixNQUFNYyxjQUFjZCxPQUFPLGNBQWM7QUFDaEQsTUFBTWUsaUJBQWlCZixPQUFPO0FBQzlCOztDQUVDLEdBQ00sTUFBTWdCLGlCQUFpQmxCLGtFQUFlQTtJQUN6Q21CLFlBQVlDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxZQUFZLEVBQUVDLFNBQVMsRUFBRUMsUUFBUSxFQUFFQyxhQUFhLEVBQUVDLG1CQUFtQixFQUFFQyxlQUFlQyxTQUFTLENBQUU7UUFDekgsS0FBSyxDQUFDUixVQUFVRSxjQUFjSTtRQUM5QixJQUFJLENBQUNwQyxHQUFHLEdBQUcsSUFBSXVDO1FBQ2YsSUFBSSxDQUFDakIsV0FBVyxHQUFHVztRQUNuQixJQUFJLENBQUNSLFVBQVUsR0FBR1M7UUFDbEIsSUFBSSxDQUFD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O1FBQ0EsSUFBSSxDQUFDN0UsZ0VBQWFBLENBQUMsQ0FBQ3dDLFdBQVcsR0FBR0E7UUFDbEMsSUFBSSxDQUFDekMsNERBQVNBLENBQUM7SUFDbkI7SUFDQW9GLGlCQUFpQjtRQUNiLElBQUksQ0FBQ3ZFLHdCQUF3QjtRQUM3QixPQUFPLElBQUksQ0FBQ1osZ0VBQWFBLENBQUMsQ0FBQ3dDLFdBQVc7SUFDMUM7SUFDQTRDLGFBQWEzQyxTQUFTLEVBQUU7UUFDcEIsSUFBSSxDQUFDN0Isd0JBQXdCO1FBQzdCLE1BQU15RSxxQkFBcUIsQ0FBQzdCLFVBQVU4QjtZQUNsQzlCLFNBQVMrQixXQUFXLEdBQUdEO1lBQ3ZCOUIsU0FBU2dDLFVBQVUsR0FBRyxDQUFDRjtRQUMzQjtRQUNBLElBQUksQ0FBQ3RGLGdFQUFhQSxDQUFDLENBQUN5QyxTQUFTLEdBQUdBO1FBQ2hDLEtBQUssTUFBTWUsWUFBWSxJQUFJLENBQUMxRCxxRUFBa0JBLENBQUMsQ0FBRTtZQUM3Q3VGLG1CQUFtQjdCLFVBQVVmLGNBQWM7WUFDM0MsSUFBSSxDQUFDakMsa0JBQWtCO1lBQ3ZCZ0QsU0FBU3FCLFdBQVcsR0FBRztRQUMzQjtRQUNBLElBQUksQ0FBQzlFLDREQUFTQSxDQUFDO0lBQ25CO0lBQ0EwRixlQUFlO1FBQ1gsSUFBSSxDQUFDN0Usd0JBQXdCO1FBQzdCLE9BQU8sSUFBSSxDQUFDWixnRUFBYUEsQ0FBQyxDQUFDeUMsU0FBUztJQUN4QztBQUNKLEVBQ0Esb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvc2NlbmUtZ3JhcGgvbWF0ZXJpYWwuanM/ZGU0MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX2E7XG5pbXBvcnQgeyBDb2xvciwgRG91YmxlU2lkZSwgRnJvbnRTaWRlIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUEJSTWV0YWxsaWNSb3VnaG5lc3MgfSBmcm9tICcuL3Bici1tZXRhbGxpYy1yb3VnaG5lc3MuanMnO1xuaW1wb3J0IHsgVGV4dHVyZUluZm8sIFRleHR1cmVVc2FnZSB9IGZyb20gJy4vdGV4dHVyZS1pbmZvLmpzJztcbmltcG9ydCB7ICRjb3JyZWxhdGVkT2JqZWN0cywgJG9uVXBkYXRlLCAkc291cmNlT2JqZWN0LCBUaHJlZURPTUVsZW1lbnQgfSBmcm9tICcuL3RocmVlLWRvbS1lbGVtZW50LmpzJztcbmNvbnN0ICRwYnJNZXRhbGxpY1JvdWdobmVzcyA9IFN5bWJvbCgncGJyTWV0YWxsaWNSb3VnaG5lc3MnKTtcbmNvbnN0ICRub3JtYWxUZXh0dXJlID0gU3ltYm9sKCdub3JtYWxUZXh0dXJlJyk7XG5jb25zdCAkb2NjbHVzaW9uVGV4dHVyZSA9IFN5bWJvbCgnb2NjbHVzaW9uVGV4dHVyZScpO1xuY29uc3QgJGVtaXNzaXZlVGV4dHVyZSA9IFN5bWJvbCgnZW1pc3NpdmVUZXh0dXJlJyk7XG5jb25zdCAkYmFja2luZ1RocmVlTWF0ZXJpYWwgPSBTeW1ib2woJ2JhY2tpbmdUaHJlZU1hdGVyaWFsJyk7XG5jb25zdCAkYXBwbHlBbHBoYUN1dG9mZiA9IFN5bWJvbCgnYXBwbHlBbHBoYUN1dG9mZicpO1xuZXhwb3J0IGNvbnN0ICRsYXp5TG9hZEdMVEZJbmZvID0gU3ltYm9sKCdsYXp5TG9hZEdMVEZJbmZvJyk7XG5jb25zdCAkaW5pdGlhbGl6ZSA9IFN5bWJvbCgnaW5pdGlhbGl6ZScpO1xuZXhwb3J0IGNvbnN0ICRnZXRMb2FkZWRNYXRlcmlhbCA9IFN5bWJvbCgnZ2V0TG9hZGVkTWF0ZXJpYWwnKTtcbmV4cG9ydCBjb25zdCAkZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZCA9IFN5bWJvbCgnZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZCcpO1xuZXhwb3J0IGNvbnN0ICRnbHRmSW5kZXggPSBTeW1ib2woJ2dsdGZJbmRleCcpO1xuZXhwb3J0IGNvbnN0ICRzZXRBY3RpdmUgPSBTeW1ib2woJ3NldEFjdGl2ZScpO1xuZXhwb3J0IGNvbnN0ICR2YXJpYW50SW5kaWNlcyA9IFN5bWJvbCgndmFyaWFudEluZGljZXMnKTtcbmNvbnN0ICRpc0FjdGl2ZSA9IFN5bWJvbCgnaXNBY3RpdmUnKTtcbmV4cG9ydCBjb25zdCAkdmFyaWFudFNldCA9IFN5bWJvbCgndmFyaWFudFNldCcpO1xuY29uc3QgJG1vZGVsVmFyaWFudHMgPSBTeW1ib2woJ21vZGVsVmFyaWFudHMnKTtcbi8qKlxuICogTWF0ZXJpYWwgZmFjYWRlIGltcGxlbWVudGF0aW9uIGZvciBUaHJlZS5qcyBtYXRlcmlhbHNcbiAqL1xuZXhwb3J0IGNsYXNzIE1hdGVyaWFsIGV4dGVuZHMgVGhyZWVET01FbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvblVwZGF0ZSwgZ2x0ZiwgZ2x0Zk1hdGVyaWFsLCBnbHRmSW5kZXgsIGlzQWN0aXZlLCBtb2RlbFZhcmlhbnRzLCBjb3JyZWxhdGVkTWF0ZXJpYWxzLCBsYXp5TG9hZEluZm8gPSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXIob25VcGRhdGUsIGdsdGZNYXRlcmlhbCwgY29ycmVsYXRlZE1hdGVyaWFscyk7XG4gICAgICAgIHRoaXNbX2FdID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzWyRnbHRmSW5kZXhdID0gZ2x0ZkluZGV4O1xuICAgICAgICB0aGlzWyRpc0FjdGl2ZV0gPSBpc0FjdGl2ZTtcbiAgICAgICAgdGhpc1skbW9kZWxWYXJpYW50c10gPSBtb2RlbFZhcmlhbnRzO1xuICAgICAgICBpZiAobGF6eUxvYWRJbmZvID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXNbJGluaXRpYWxpemVdKGdsdGYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpc1skbGF6eUxvYWRHTFRGSW5mb10gPSBsYXp5TG9hZEluZm87XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IFsoX2EgPSAkdmFyaWFudFNldCwgJGJhY2tpbmdUaHJlZU1hdGVyaWFsKV0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRjb3JyZWxhdGVkT2JqZWN0c11cbiAgICAgICAgICAgIC52YWx1ZXMoKVxuICAgICAgICAgICAgLm5leHQoKVxuICAgICAgICAgICAgLnZhbHVlO1xuICAgIH1cbiAgICBbJGluaXRpYWxpemVdKGdsdGYpIHtcbiAgICAgICAgY29uc3Qgb25VcGRhdGUgPSB0aGlzWyRvblVwZGF0ZV07XG4gICAgICAgIGNvbnN0IGdsdGZNYXRlcmlhbCA9IHRoaXNbJHNvdXJjZU9iamVjdF07XG4gICAgICAgIGNvbnN0IGNvcnJlbGF0ZWRNYXRlcmlhbHMgPSB0aGlzWyRjb3JyZWxhdGVkT2JqZWN0c107XG4gICAgICAgIGlmIChnbHRmTWF0ZXJpYWwuZXh0ZW5zaW9ucyAmJlxuICAgICAgICAgICAgZ2x0Zk1hdGVyaWFsLmV4dGVuc2lvbnNbJ0tIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzJ10pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTWF0ZXJpYWwgJHtnbHRmTWF0ZXJpYWwubmFtZX0gdXNlcyBhIGRlcHJlY2F0ZWQgZXh0ZW5zaW9uXG4gICAgICAgICAgXCJLSFJfbWF0ZXJpYWxzX3BiclNwZWN1bGFyR2xvc3NpbmVzc1wiLCBwbGVhc2UgdXNlXG4gICAgICAgICAgXCJwYnJNZXRhbGxpY1JvdWdobmVzc1wiIGluc3RlYWQuIFNwZWN1bGFyIEdsb3NzaW5lc3MgbWF0ZXJpYWxzIGFyZVxuICAgICAgICAgIGN1cnJlbnRseSBzdXBwb3J0ZWQgZm9yIHJlbmRlcmluZywgYnV0IG5vdCBmb3Igb3VyIHNjZW5lLWdyYXBoIEFQSSxcbiAgICAgICAgICBub3IgZm9yIGF1dG8tZ2VuZXJhdGlvbiBvZiBVU0RaIGZvciBRdWljayBMb29rLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbHRmTWF0ZXJpYWwucGJyTWV0YWxsaWNSb3VnaG5lc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgZ2x0Zk1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1skcGJyTWV0YWxsaWNSb3VnaG5lc3NdID0gbmV3IFBCUk1ldGFsbGljUm91Z2huZXNzKG9uVXBkYXRlLCBnbHRmLCBnbHRmTWF0ZXJpYWwucGJyTWV0YWxsaWNSb3VnaG5lc3MsIGNvcnJlbGF0ZWRNYXRlcmlhbHMpO1xuICAgICAgICBpZiAoZ2x0Zk1hdGVyaWFsLmVtaXNzaXZlRmFjdG9yID09IG51bGwpIHtcbiAgICAgICAgICAgIGdsdGZNYXRlcmlhbC5lbWlzc2l2ZUZhY3RvciA9IFswLCAwLCAwXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2x0Zk1hdGVyaWFsLmRvdWJsZVNpZGVkID09IG51bGwpIHtcbiAgICAgICAgICAgIGdsdGZNYXRlcmlhbC5kb3VibGVTaWRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbHRmTWF0ZXJpYWwuYWxwaGFNb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIGdsdGZNYXRlcmlhbC5hbHBoYU1vZGUgPSAnT1BBUVVFJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2x0Zk1hdGVyaWFsLmFscGhhQ3V0b2ZmID09IG51bGwpIHtcbiAgICAgICAgICAgIGdsdGZNYXRlcmlhbC5hbHBoYUN1dG9mZiA9IDAuNTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG5vcm1hbFRleHR1cmU6IGdsdGZOb3JtYWxUZXh0dXJlLCBvY2NsdXNpb25UZXh0dXJlOiBnbHRmT2NjbHVzaW9uVGV4dHVyZSwgZW1pc3NpdmVUZXh0dXJlOiBnbHRmRW1pc3NpdmVUZXh0dXJlIH0gPSBnbHRmTWF0ZXJpYWw7XG4gICAgICAgIGNvbnN0IHsgbm9ybWFsTWFwLCBhb01hcCwgZW1pc3NpdmVNYXAgfSA9IGNvcnJlbGF0ZWRNYXRlcmlhbHMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICB0aGlzWyRub3JtYWxUZXh0dXJlXSA9IG5ldyBUZXh0dXJlSW5mbyhvblVwZGF0ZSwgVGV4dHVyZVVzYWdlLk5vcm1hbCwgbm9ybWFsTWFwLCBjb3JyZWxhdGVkTWF0ZXJpYWxzLCBnbHRmLCBnbHRmTm9ybWFsVGV4dHVyZSA/IGdsdGZOb3JtYWxUZXh0dXJlIDogbnVsbCk7XG4gICAgICAgIHRoaXNbJG9jY2x1c2lvblRleHR1cmVdID0gbmV3IFRleHR1cmVJbmZvKG9uVXBkYXRlLCBUZXh0dXJlVXNhZ2UuT2NjbHVzaW9uLCBhb01hcCwgY29ycmVsYXRlZE1hdGVyaWFscywgZ2x0ZiwgZ2x0Zk9jY2x1c2lvblRleHR1cmUgPyBnbHRmT2NjbHVzaW9uVGV4dHVyZSA6IG51bGwpO1xuICAgICAgICB0aGlzWyRlbWlzc2l2ZVRleHR1cmVdID0gbmV3IFRleHR1cmVJbmZvKG9uVXBkYXRlLCBUZXh0dXJlVXNhZ2UuRW1pc3NpdmUsIGVtaXNzaXZlTWFwLCBjb3JyZWxhdGVkTWF0ZXJpYWxzLCBnbHRmLCBnbHRmRW1pc3NpdmVUZXh0dXJlID8gZ2x0ZkVtaXNzaXZlVGV4dHVyZSA6IG51bGwpO1xuICAgIH1cbiAgICBhc3luYyBbJGdldExvYWRlZE1hdGVyaWFsXSgpIHtcbiAgICAgICAgaWYgKHRoaXNbJGxhenlMb2FkR0xURkluZm9dICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2V0LCBtYXRlcmlhbCB9ID0gYXdhaXQgdGhpc1skbGF6eUxvYWRHTFRGSW5mb10uZG9MYXp5TG9hZCgpO1xuICAgICAgICAgICAgLy8gRmlsbHMgaW4gdGhlIG1pc3NpbmcgZGF0YS5cbiAgICAgICAgICAgIHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXSA9IHNldDtcbiAgICAgICAgICAgIHRoaXNbJGluaXRpYWxpemVdKHRoaXNbJGxhenlMb2FkR0xURkluZm9dLmdsdGYpO1xuICAgICAgICAgICAgLy8gUmVsZWFzZXMgbGF6eSBsb2FkIGluZm8uXG4gICAgICAgICAgICB0aGlzWyRsYXp5TG9hZEdMVEZJbmZvXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vIFJlZGVmaW5lcyB0aGUgbWV0aG9kIGFzIGEgbm9vcCBtZXRob2QuXG4gICAgICAgICAgICB0aGlzLmVuc3VyZUxvYWRlZCA9IGFzeW5jICgpID0+IHsgfTtcbiAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1skY29ycmVsYXRlZE9iamVjdHNdLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICB9XG4gICAgWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpIHtcbiAgICAgICAgaWYgKHRoaXNbJGxhenlMb2FkR0xURkluZm9dID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hdGVyaWFsIFwiJHt0aGlzLm5hbWV9XCIgaGFzIG5vdCBiZWVuIGxvYWRlZCwgY2FsbCAnYXdhaXRcbiAgICBteU1hdGVyaWFsLmVuc3VyZUxvYWRlZCgpJyBiZWZvcmUgdXNpbmcgYW4gdW5sb2FkZWQgbWF0ZXJpYWwuYCk7XG4gICAgfVxuICAgIGFzeW5jIGVuc3VyZUxvYWRlZCgpIHtcbiAgICAgICAgYXdhaXQgdGhpc1skZ2V0TG9hZGVkTWF0ZXJpYWxdKCk7XG4gICAgfVxuICAgIGdldCBpc0xvYWRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGxhenlMb2FkR0xURkluZm9dID09IG51bGw7XG4gICAgfVxuICAgIGdldCBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGlzQWN0aXZlXTtcbiAgICB9XG4gICAgWyRzZXRBY3RpdmVdKGlzQWN0aXZlKSB7XG4gICAgICAgIHRoaXNbJGlzQWN0aXZlXSA9IGlzQWN0aXZlO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZU9iamVjdF0ubmFtZTtcbiAgICB9XG4gICAgc2V0IG5hbWUobmFtZSkge1xuICAgICAgICBjb25zdCBzb3VyY2VNYXRlcmlhbCA9IHRoaXNbJHNvdXJjZU9iamVjdF07XG4gICAgICAgIGlmIChzb3VyY2VNYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzb3VyY2VNYXRlcmlhbC5uYW1lID0gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpc1skY29ycmVsYXRlZE9iamVjdHNdICE9IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGhyZWVNYXRlcmlhbCBvZiB0aGlzWyRjb3JyZWxhdGVkT2JqZWN0c10pIHtcbiAgICAgICAgICAgICAgICB0aHJlZU1hdGVyaWFsLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBwYnJNZXRhbGxpY1JvdWdobmVzcygpIHtcbiAgICAgICAgdGhpc1skZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZF0oKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHBick1ldGFsbGljUm91Z2huZXNzXTtcbiAgICB9XG4gICAgZ2V0IG5vcm1hbFRleHR1cmUoKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIHJldHVybiB0aGlzWyRub3JtYWxUZXh0dXJlXTtcbiAgICB9XG4gICAgZ2V0IG9jY2x1c2lvblRleHR1cmUoKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIHJldHVybiB0aGlzWyRvY2NsdXNpb25UZXh0dXJlXTtcbiAgICB9XG4gICAgZ2V0IGVtaXNzaXZlVGV4dHVyZSgpIHtcbiAgICAgICAgdGhpc1skZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZF0oKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGVtaXNzaXZlVGV4dHVyZV07XG4gICAgfVxuICAgIGdldCBlbWlzc2l2ZUZhY3RvcigpIHtcbiAgICAgICAgdGhpc1skZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZF0oKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZU9iamVjdF0uZW1pc3NpdmVGYWN0b3I7XG4gICAgfVxuICAgIGdldCBpbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGdsdGZJbmRleF07XG4gICAgfVxuICAgIFskdmFyaWFudEluZGljZXNdKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skdmFyaWFudFNldF07XG4gICAgfVxuICAgIGhhc1ZhcmlhbnQobmFtZSkge1xuICAgICAgICBjb25zdCB2YXJpYW50RGF0YSA9IHRoaXNbJG1vZGVsVmFyaWFudHNdLmdldChuYW1lKTtcbiAgICAgICAgcmV0dXJuIHZhcmlhbnREYXRhICE9IG51bGwgJiYgdGhpc1skdmFyaWFudFNldF0uaGFzKHZhcmlhbnREYXRhLmluZGV4KTtcbiAgICB9XG4gICAgc2V0RW1pc3NpdmVGYWN0b3IocmdiKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gbmV3IENvbG9yKCk7XG4gICAgICAgIGlmIChyZ2IgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgY29sb3IuZnJvbUFycmF5KHJnYik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2xvci5zZXQocmdiKS5jb252ZXJ0U1JHQlRvTGluZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiB0aGlzWyRjb3JyZWxhdGVkT2JqZWN0c10pIHtcbiAgICAgICAgICAgIG1hdGVyaWFsLmVtaXNzaXZlLnNldChjb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1skc291cmNlT2JqZWN0XS5lbWlzc2l2ZUZhY3RvciA9XG4gICAgICAgICAgICBjb2xvci50b0FycmF5KCk7XG4gICAgICAgIHRoaXNbJG9uVXBkYXRlXSgpO1xuICAgIH1cbiAgICBbJGFwcGx5QWxwaGFDdXRvZmZdKCkge1xuICAgICAgICB0aGlzWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpO1xuICAgICAgICBjb25zdCBnbHRmTWF0ZXJpYWwgPSB0aGlzWyRzb3VyY2VPYmplY3RdO1xuICAgICAgICBmb3IgKGNvbnN0IG1hdGVyaWFsIG9mIHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXSkge1xuICAgICAgICAgICAgaWYgKHRoaXNbJHNvdXJjZU9iamVjdF0uYWxwaGFNb2RlID09PSAnTUFTSycpIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5hbHBoYVRlc3QgPSBnbHRmTWF0ZXJpYWwuYWxwaGFDdXRvZmY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5hbHBoYVRlc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0QWxwaGFDdXRvZmYoY3V0b2ZmKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIHRoaXNbJHNvdXJjZU9iamVjdF0uYWxwaGFDdXRvZmYgPSBjdXRvZmY7XG4gICAgICAgIHRoaXNbJGFwcGx5QWxwaGFDdXRvZmZdKCk7XG4gICAgICAgIHRoaXNbJG9uVXBkYXRlXSgpO1xuICAgIH1cbiAgICBnZXRBbHBoYUN1dG9mZigpIHtcbiAgICAgICAgdGhpc1skZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZF0oKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZU9iamVjdF0uYWxwaGFDdXRvZmY7XG4gICAgfVxuICAgIHNldERvdWJsZVNpZGVkKGRvdWJsZVNpZGVkKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgdGhpc1skY29ycmVsYXRlZE9iamVjdHNdKSB7XG4gICAgICAgICAgICAvLyBXaGVuIGRvdWJsZS1zaWRlZCBpcyBkaXNhYmxlZCBnbHRmIHNwZWMgZGljdGF0ZXMgdGhhdCBCYWNrLUZhY2UgY3VsbGluZ1xuICAgICAgICAgICAgLy8gbXVzdCBiZSBkaXNhYmxlZCwgaW4gdGhyZWUuanMgcGFybGFuY2UgdGhhdCB3b3VsZCBtZWFuIEZyb250U2lkZVxuICAgICAgICAgICAgLy8gcmVuZGVyaW5nIG9ubHkuXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjZG91YmxlLXNpZGVkXG4gICAgICAgICAgICBtYXRlcmlhbC5zaWRlID0gZG91YmxlU2lkZWQgPyBEb3VibGVTaWRlIDogRnJvbnRTaWRlO1xuICAgICAgICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJHNvdXJjZU9iamVjdF0uZG91YmxlU2lkZWQgPSBkb3VibGVTaWRlZDtcbiAgICAgICAgdGhpc1skb25VcGRhdGVdKCk7XG4gICAgfVxuICAgIGdldERvdWJsZVNpZGVkKCkge1xuICAgICAgICB0aGlzWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpO1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XS5kb3VibGVTaWRlZDtcbiAgICB9XG4gICAgc2V0QWxwaGFNb2RlKGFscGhhTW9kZSkge1xuICAgICAgICB0aGlzWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpO1xuICAgICAgICBjb25zdCBlbmFibGVUcmFuc3BhcmVuY3kgPSAobWF0ZXJpYWwsIGVuYWJsZWQpID0+IHtcbiAgICAgICAgICAgIG1hdGVyaWFsLnRyYW5zcGFyZW50ID0gZW5hYmxlZDtcbiAgICAgICAgICAgIG1hdGVyaWFsLmRlcHRoV3JpdGUgPSAhZW5hYmxlZDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpc1skc291cmNlT2JqZWN0XS5hbHBoYU1vZGUgPSBhbHBoYU1vZGU7XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgdGhpc1skY29ycmVsYXRlZE9iamVjdHNdKSB7XG4gICAgICAgICAgICBlbmFibGVUcmFuc3BhcmVuY3kobWF0ZXJpYWwsIGFscGhhTW9kZSA9PT0gJ0JMRU5EJyk7XG4gICAgICAgICAgICB0aGlzWyRhcHBseUFscGhhQ3V0b2ZmXSgpO1xuICAgICAgICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJG9uVXBkYXRlXSgpO1xuICAgIH1cbiAgICBnZXRBbHBoYU1vZGUoKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIHJldHVybiB0aGlzWyRzb3VyY2VPYmplY3RdLmFscGhhTW9kZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRlcmlhbC5qcy5tYXAiXSwibmFtZXMiOlsiX2EiLCJDb2xvciIsIkRvdWJsZVNpZGUiLCJGcm9udFNpZGUiLCJQQlJNZXRhbGxpY1JvdWdobmVzcyIsIlRleHR1cmVJbmZvIiwiVGV4dHVyZVVzYWdlIiwiJGNvcnJlbGF0ZWRPYmplY3RzIiwiJG9uVXBkYXRlIiwiJHNvdXJjZU9iamVjdCIsIlRocmVlRE9NRWxlbWVudCIsIiRwYnJNZXRhbGxpY1JvdWdobmVzcyIsIlN5bWJvbCIsIiRub3JtYWxUZXh0dXJlIiwiJG9jY2x1c2lvblRleHR1cmUiLCIkZW1pc3NpdmVUZXh0dXJlIiwiJGJhY2tpbmdUaHJlZU1hdGVyaWFsIiwiJGFwcGx5QWxwaGFDdXRvZmYiLCIkbGF6eUxvYWRHTFRGSW5mbyIsIiRpbml0aWFsaXplIiwiJGdldExvYWRlZE1hdGVyaWFsIiwiJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWQiLCIkZ2x0ZkluZGV4IiwiJHNldEFjdGl2ZSIsIiR2YXJpYW50SW5kaWNlcyIsIiRpc0FjdGl2ZSIsIiR2YXJpYW50U2V0IiwiJG1vZGVsVmFyaWFudHMiLCJNYXRlcmlhbCIsImNvbnN0cnVjdG9yIiwib25VcGRhdGUiLCJnbHRmIiwiZ2x0Zk1hdGVyaWFsIiwiZ2x0ZkluZGV4IiwiaXNBY3RpdmUiLCJtb2RlbFZhcmlhbnRzIiwiY29ycmVsYXRlZE1hdGVyaWFscyIsImxhenlMb2FkSW5mbyIsInVuZGVmaW5lZCIsIlNldCIsInZhbHVlcyIsIm5leHQiLCJ2YWx1ZSIsImV4dGVuc2lvbnMiLCJjb25zb2xlIiwid2FybiIsIm5hbWUiLCJwYnJNZXRhbGxpY1JvdWdobmVzcyIsImVtaXNzaXZlRmFjdG9yIiwiZG91YmxlU2lkZWQiLCJhbHBoYU1vZGUiLCJhbHBoYUN1dG9mZiIsIm5vcm1hbFRleHR1cmUiLCJnbHRmTm9ybWFsVGV4dHVyZSIsIm9jY2x1c2lvblRleHR1cmUiLCJnbHRmT2NjbHVzaW9uVGV4dHVyZSIsImVtaXNzaXZlVGV4dHVyZSIsImdsdGZFbWlzc2l2ZVRleHR1cmUiLCJub3JtYWxNYXAiLCJhb01hcCIsImVtaXNzaXZlTWFwIiwiTm9ybWFsIiwiT2NjbHVzaW9uIiwiRW1pc3NpdmUiLCJzZXQiLCJtYXRlcmlhbCIsImRvTGF6eUxvYWQiLCJlbnN1cmVMb2FkZWQiLCJFcnJvciIsImlzTG9hZGVkIiwic291cmNlTWF0ZXJpYWwiLCJ0aHJlZU1hdGVyaWFsIiwiaW5kZXgiLCJoYXNWYXJpYW50IiwidmFyaWFudERhdGEiLCJnZXQiLCJoYXMiLCJzZXRFbWlzc2l2ZUZhY3RvciIsInJnYiIsImNvbG9yIiwiQXJyYXkiLCJmcm9tQXJyYXkiLCJjb252ZXJ0U1JHQlRvTGluZWFyIiwiZW1pc3NpdmUiLCJ0b0FycmF5IiwiYWxwaGFUZXN0IiwibmVlZHNVcGRhdGUiLCJzZXRBbHBoYUN1dG9mZiIsImN1dG9mZiIsImdldEFscGhhQ3V0b2ZmIiwic2V0RG91YmxlU2lkZWQiLCJzaWRlIiwiZ2V0RG91YmxlU2lkZWQiLCJzZXRBbHBoYU1vZGUiLCJlbmFibGVUcmFuc3BhcmVuY3kiLCJlbmFibGVkIiwidHJhbnNwYXJlbnQiLCJkZXB0aFdyaXRlIiwiZ2V0QWxwaGFNb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/material.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/model.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/model.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $availableVariants: () => (/* binding */ $availableVariants),\n/* harmony export */   $correlatedSceneGraph: () => (/* binding */ $correlatedSceneGraph),\n/* harmony export */   $loadVariant: () => (/* binding */ $loadVariant),\n/* harmony export */   $materialFromPoint: () => (/* binding */ $materialFromPoint),\n/* harmony export */   $materials: () => (/* binding */ $materials),\n/* harmony export */   $materialsFromPoint: () => (/* binding */ $materialsFromPoint),\n/* harmony export */   $prepareVariantsForExport: () => (/* binding */ $prepareVariantsForExport),\n/* harmony export */   $primitivesList: () => (/* binding */ $primitivesList),\n/* harmony export */   $switchVariant: () => (/* binding */ $switchVariant),\n/* harmony export */   $threeScene: () => (/* binding */ $threeScene),\n/* harmony export */   $variantData: () => (/* binding */ $variantData),\n/* harmony export */   LazyLoader: () => (/* binding */ LazyLoader),\n/* harmony export */   Model: () => (/* binding */ Model)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _material_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./material.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/material.js\");\n/* harmony import */ var _nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nodes/primitive-node.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/nodes/primitive-node.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var _a, _b, _c, _d, _e, _f;\n\n\n\n\nconst $materials = Symbol(\"materials\");\nconst $hierarchy = Symbol(\"hierarchy\");\nconst $roots = Symbol(\"roots\");\nconst $primitivesList = Symbol(\"primitives\");\nconst $loadVariant = Symbol(\"loadVariant\");\nconst $correlatedSceneGraph = Symbol(\"correlatedSceneGraph\");\nconst $prepareVariantsForExport = Symbol(\"prepareVariantsForExport\");\nconst $switchVariant = Symbol(\"switchVariant\");\nconst $threeScene = Symbol(\"threeScene\");\nconst $materialsFromPoint = Symbol(\"materialsFromPoint\");\nconst $materialFromPoint = Symbol(\"materialFromPoint\");\nconst $variantData = Symbol(\"variantData\");\nconst $availableVariants = Symbol(\"availableVariants\");\nconst $modelOnUpdate = Symbol(\"modelOnUpdate\");\nconst $cloneMaterial = Symbol(\"cloneMaterial\");\n// Holds onto temporary scene context information needed to perform lazy loading\n// of a resource.\nclass LazyLoader {\n    constructor(gltf, gltfElementMap, mapKey, doLazyLoad){\n        this.gltf = gltf;\n        this.gltfElementMap = gltfElementMap;\n        this.mapKey = mapKey;\n        this.doLazyLoad = doLazyLoad;\n    }\n}\n/**\n * A Model facades the top-level GLTF object returned by Three.js' GLTFLoader.\n * Currently, the model only bothers itself with the materials in the Three.js\n * scene graph.\n */ class Model {\n    constructor(correlatedSceneGraph, onUpdate = ()=>{}){\n        this[_a] = new Array();\n        this[_b] = new Array();\n        this[_c] = new Array();\n        this[_d] = new Array();\n        this[_e] = ()=>{};\n        this[_f] = new Map();\n        this[$modelOnUpdate] = onUpdate;\n        this[$correlatedSceneGraph] = correlatedSceneGraph;\n        const { gltf, threeGLTF, gltfElementMap } = correlatedSceneGraph;\n        this[$threeScene] = threeGLTF.scene;\n        for (const [i, material] of gltf.materials.entries()){\n            const correlatedMaterial = gltfElementMap.get(material);\n            if (correlatedMaterial != null) {\n                this[$materials].push(new _material_js__WEBPACK_IMPORTED_MODULE_0__.Material(onUpdate, gltf, material, i, true, this[$variantData], correlatedMaterial));\n            } else {\n                const elementArray = gltf[\"materials\"] || [];\n                const gltfMaterialDef = elementArray[i];\n                // Loads the three.js material.\n                const capturedMatIndex = i;\n                const materialLoadCallback = async ()=>{\n                    const threeMaterial = await threeGLTF.parser.getDependency(\"material\", capturedMatIndex);\n                    // Adds correlation, maps the variant gltf-def to the\n                    // three material set containing the variant material.\n                    const threeMaterialSet = new Set();\n                    gltfElementMap.set(gltfMaterialDef, threeMaterialSet);\n                    threeMaterialSet.add(threeMaterial);\n                    return {\n                        set: threeMaterialSet,\n                        material: threeMaterial\n                    };\n                };\n                // Configures the material for lazy loading.\n                this[$materials].push(new _material_js__WEBPACK_IMPORTED_MODULE_0__.Material(onUpdate, gltf, gltfMaterialDef, i, false, this[$variantData], correlatedMaterial, new LazyLoader(gltf, gltfElementMap, gltfMaterialDef, materialLoadCallback)));\n            }\n        }\n        // Creates a hierarchy of Nodes. Allows not just for switching which\n        // material is applied to a mesh but also exposes a way to provide API\n        // for switching materials and general assignment/modification.\n        // Prepares for scene iteration.\n        const parentMap = new Map();\n        const nodeStack = new Array();\n        for (const object of threeGLTF.scene.children){\n            nodeStack.push(object);\n        }\n        // Walks the hierarchy and creates a node tree.\n        while(nodeStack.length > 0){\n            const object = nodeStack.pop();\n            let node = null;\n            if (object instanceof three__WEBPACK_IMPORTED_MODULE_3__.Mesh) {\n                node = new _nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveNode(object, this.materials, this[$variantData], correlatedSceneGraph);\n                this[$primitivesList].push(node);\n            } else {\n                node = new _nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__.Node(object.name);\n            }\n            const parent = parentMap.get(object);\n            if (parent != null) {\n                parent[_nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__.$children].push(node);\n            } else {\n                this[$roots].push(node);\n            }\n            this[$hierarchy].push(node);\n            for (const child of object.children){\n                nodeStack.push(child);\n                parentMap.set(object, node);\n            }\n        }\n    }\n    /**\n     * Materials are listed in the order of the GLTF materials array, plus a\n     * default material at the end if one is used.\n     *\n     * TODO(#1003): How do we handle non-active scenes?\n     */ get materials() {\n        return this[$materials];\n    }\n    [(_a = $materials, _b = $hierarchy, _c = $roots, _d = $primitivesList, _e = $modelOnUpdate, _f = $variantData, $availableVariants)]() {\n        const variants = Array.from(this[$variantData].values());\n        variants.sort((a, b)=>{\n            return a.index - b.index;\n        });\n        return variants.map((data)=>{\n            return data.name;\n        });\n    }\n    getMaterialByName(name) {\n        const matches = this[$materials].filter((material)=>{\n            return material.name === name;\n        });\n        if (matches.length > 0) {\n            return matches[0];\n        }\n        return null;\n    }\n    /**\n     * Intersects a ray with the Model and returns a list of materials whose\n     * objects were intersected.\n     */ [$materialsFromPoint](raycaster) {\n        const hits = raycaster.intersectObject(this[$threeScene], true);\n        // Map the object hits to primitives and then to the active material of\n        // the primitive.\n        return hits.map((hit)=>{\n            const found = this[$hierarchy].find((node)=>{\n                if (node instanceof _nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveNode) {\n                    const primitive = node;\n                    if (primitive.mesh === hit.object) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n            if (found != null) {\n                return found.getActiveMaterial();\n            }\n            return null;\n        });\n    }\n    /**\n     * Intersects a ray with the Model and returns the first material whose\n     * object was intersected.\n     */ [$materialFromPoint](raycaster) {\n        const materials = this[$materialsFromPoint](raycaster);\n        if (materials.length > 0) {\n            return materials[0];\n        }\n        return null;\n    }\n    /**\n     * Switches model variant to the variant name provided, or switches to\n     * default/initial materials if 'null' is provided.\n     */ async [$switchVariant](variantName) {\n        for (const primitive of this[$primitivesList]){\n            await primitive.enableVariant(variantName);\n        }\n        for (const material of this.materials){\n            material[_material_js__WEBPACK_IMPORTED_MODULE_0__.$setActive](false);\n        }\n        // Marks the materials that are now in use after the variant switch.\n        for (const primitive of this[$primitivesList]){\n            this.materials[primitive.getActiveMaterial().index][_material_js__WEBPACK_IMPORTED_MODULE_0__.$setActive](true);\n        }\n    }\n    async [$prepareVariantsForExport]() {\n        const promises = new Array();\n        for (const primitive of this[$primitivesList]){\n            promises.push(primitive.instantiateVariants());\n        }\n        await Promise.all(promises);\n    }\n    [$cloneMaterial](index, newMaterialName) {\n        const material = this.materials[index];\n        if (!material.isLoaded) {\n            console.error(`Cloning an unloaded material,\n           call 'material.ensureLoaded() before cloning the material.`);\n        }\n        const threeMaterialSet = material[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects];\n        // clones the gltf material data and updates the material name.\n        const gltfSourceMaterial = JSON.parse(JSON.stringify(material[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject]));\n        gltfSourceMaterial.name = newMaterialName;\n        // Adds the source material clone to the gltf def.\n        const gltf = this[$correlatedSceneGraph].gltf;\n        gltf.materials.push(gltfSourceMaterial);\n        const clonedSet = new Set();\n        for (const [i, threeMaterial] of threeMaterialSet.entries()){\n            const clone = threeMaterial.clone();\n            clone.name = newMaterialName + (threeMaterialSet.size > 1 ? \"_inst\" + i : \"\");\n            clonedSet.add(clone);\n        }\n        const clonedMaterial = new _material_js__WEBPACK_IMPORTED_MODULE_0__.Material(this[$modelOnUpdate], this[$correlatedSceneGraph].gltf, gltfSourceMaterial, this[$materials].length, false, this[$variantData], clonedSet);\n        this[$materials].push(clonedMaterial);\n        return clonedMaterial;\n    }\n    createMaterialInstanceForVariant(originalMaterialIndex, newMaterialName, variantName, activateVariant = true) {\n        let variantMaterialInstance = null;\n        for (const primitive of this[$primitivesList]){\n            const variantData = this[$variantData].get(variantName);\n            // Skips the primitive if the variant already exists.\n            if (variantData != null && primitive.variantInfo.has(variantData.index)) {\n                continue;\n            }\n            // Skips the primitive if the source/original material does not exist.\n            if (primitive.getMaterial(originalMaterialIndex) == null) {\n                continue;\n            }\n            if (!this.hasVariant(variantName)) {\n                this.createVariant(variantName);\n            }\n            if (variantMaterialInstance == null) {\n                variantMaterialInstance = this[$cloneMaterial](originalMaterialIndex, newMaterialName);\n            }\n            primitive.addVariant(variantMaterialInstance, variantName);\n        }\n        if (activateVariant && variantMaterialInstance != null) {\n            variantMaterialInstance[_material_js__WEBPACK_IMPORTED_MODULE_0__.$setActive](true);\n            this.materials[originalMaterialIndex][_material_js__WEBPACK_IMPORTED_MODULE_0__.$setActive](false);\n            for (const primitive of this[$primitivesList]){\n                primitive.enableVariant(variantName);\n            }\n        }\n        return variantMaterialInstance;\n    }\n    createVariant(variantName) {\n        if (!this[$variantData].has(variantName)) {\n            // Adds the name if it's not already in the list.\n            this[$variantData].set(variantName, {\n                name: variantName,\n                index: this[$variantData].size\n            });\n        } else {\n            console.warn(`Variant '${variantName}'' already exists`);\n        }\n    }\n    hasVariant(variantName) {\n        return this[$variantData].has(variantName);\n    }\n    setMaterialToVariant(materialIndex, targetVariantName) {\n        if (this[$availableVariants]().find((name)=>name === targetVariantName) == null) {\n            console.warn(`Can't add material to '${targetVariantName}', the variant does not exist.'`);\n            return;\n        }\n        if (materialIndex < 0 || materialIndex >= this.materials.length) {\n            console.error(`setMaterialToVariant(): materialIndex is out of bounds.`);\n            return;\n        }\n        for (const primitive of this[$primitivesList]){\n            const material = primitive.getMaterial(materialIndex);\n            // Ensures the material exists on the primitive before setting it to a\n            // variant.\n            if (material != null) {\n                primitive.addVariant(material, targetVariantName);\n            }\n        }\n    }\n    updateVariantName(currentName, newName) {\n        const variantData = this[$variantData].get(currentName);\n        if (variantData == null) {\n            return;\n        }\n        variantData.name = newName;\n        this[$variantData].set(newName, variantData);\n        this[$variantData].delete(currentName);\n    }\n    deleteVariant(variantName) {\n        const variant = this[$variantData].get(variantName);\n        if (variant == null) {\n            return;\n        }\n        for (const material of this.materials){\n            if (material.hasVariant(variantName)) {\n                material[_material_js__WEBPACK_IMPORTED_MODULE_0__.$variantSet].delete(variant.index);\n            }\n        }\n        for (const primitive of this[$primitivesList]){\n            primitive.deleteVariant(variant.index);\n        }\n        this[$variantData].delete(variantName);\n    }\n} //# sourceMappingURL=model.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL21vZGVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUNELElBQUlBLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDO0FBQ0s7QUFDcUM7QUFDUztBQUNBO0FBQ3BFLE1BQU1VLGFBQWFDLE9BQU8sYUFBYTtBQUM5QyxNQUFNQyxhQUFhRCxPQUFPO0FBQzFCLE1BQU1FLFNBQVNGLE9BQU87QUFDZixNQUFNRyxrQkFBa0JILE9BQU8sY0FBYztBQUM3QyxNQUFNSSxlQUFlSixPQUFPLGVBQWU7QUFDM0MsTUFBTUssd0JBQXdCTCxPQUFPLHdCQUF3QjtBQUM3RCxNQUFNTSw0QkFBNEJOLE9BQU8sNEJBQTRCO0FBQ3JFLE1BQU1PLGlCQUFpQlAsT0FBTyxpQkFBaUI7QUFDL0MsTUFBTVEsY0FBY1IsT0FBTyxjQUFjO0FBQ3pDLE1BQU1TLHNCQUFzQlQsT0FBTyxzQkFBc0I7QUFDekQsTUFBTVUscUJBQXFCVixPQUFPLHFCQUFxQjtBQUN2RCxNQUFNVyxlQUFlWCxPQUFPLGVBQWU7QUFDM0MsTUFBTVkscUJBQXFCWixPQUFPLHFCQUFxQjtBQUM5RCxNQUFNYSxpQkFBaUJiLE9BQU87QUFDOUIsTUFBTWMsaUJBQWlCZCxPQUFPO0FBQzlCLGdGQUFnRjtBQUNoRixpQkFBaUI7QUFDVixNQUFNZTtJQUNUQyxZQUFZQyxJQUFJLEVBQUVDLGNBQWMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLENBQUU7UUFDbEQsSUFBSSxDQUFDSCxJQUFJLEdBQUdBO1FBQ1osSUFBSSxDQUFDQyxjQUFjLEdBQUdBO1FBQ3RCLElBQUksQ0FBQ0MsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsVUFBVSxHQUFHQTtJQUN0QjtBQUNKO0FBQ0E7Ozs7Q0FJQyxHQUNNLE1BQU1DO0lBQ1RMLFlBQVlNLG9CQUFvQixF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UUFDcEMsTUFBTWIsY0FBYyxJQUFJLENBQUN4RixhQUFhLENBQUNzQixHQUFHLENBQUM4RTtRQUMzQyxJQUFJWixlQUFlLE1BQU07WUFDckI7UUFDSjtRQUNBQSxZQUFZOUMsSUFBSSxHQUFHMkQ7UUFDbkIsSUFBSSxDQUFDckcsYUFBYSxDQUFDaUMsR0FBRyxDQUFDb0UsU0FBU2I7UUFDaEMsSUFBSSxDQUFDeEYsYUFBYSxDQUFDc0csTUFBTSxDQUFDRjtJQUM5QjtJQUNBRyxjQUFjckMsV0FBVyxFQUFFO1FBQ3ZCLE1BQU1zQyxVQUFVLElBQUksQ0FBQ3hHLGFBQWEsQ0FBQ3NCLEdBQUcsQ0FBQzRDO1FBQ3ZDLElBQUlzQyxXQUFXLE1BQU07WUFDakI7UUFDSjtRQUNBLEtBQUssTUFBTXRGLFlBQVksSUFBSSxDQUFDQyxTQUFTLENBQUU7WUFDbkMsSUFBSUQsU0FBUzBFLFVBQVUsQ0FBQzFCLGNBQWM7Z0JBQ2xDaEQsUUFBUSxDQUFDckMscURBQVdBLENBQUMsQ0FBQ3lILE1BQU0sQ0FBQ0UsUUFBUXJELEtBQUs7WUFDOUM7UUFDSjtRQUNBLEtBQUssTUFBTVksYUFBYSxJQUFJLENBQUN2RSxnQkFBZ0IsQ0FBRTtZQUMzQ3VFLFVBQVV3QyxhQUFhLENBQUNDLFFBQVFyRCxLQUFLO1FBQ3pDO1FBQ0EsSUFBSSxDQUFDbkQsYUFBYSxDQUFDc0csTUFBTSxDQUFDcEM7SUFDOUI7QUFDSixFQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL21vZGVsLmpzP2YxNjIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG5pbXBvcnQgeyBNZXNoIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgJHNldEFjdGl2ZSwgJHZhcmlhbnRTZXQsIE1hdGVyaWFsIH0gZnJvbSAnLi9tYXRlcmlhbC5qcyc7XG5pbXBvcnQgeyAkY2hpbGRyZW4sIE5vZGUsIFByaW1pdGl2ZU5vZGUgfSBmcm9tICcuL25vZGVzL3ByaW1pdGl2ZS1ub2RlLmpzJztcbmltcG9ydCB7ICRjb3JyZWxhdGVkT2JqZWN0cywgJHNvdXJjZU9iamVjdCB9IGZyb20gJy4vdGhyZWUtZG9tLWVsZW1lbnQuanMnO1xuZXhwb3J0IGNvbnN0ICRtYXRlcmlhbHMgPSBTeW1ib2woJ21hdGVyaWFscycpO1xuY29uc3QgJGhpZXJhcmNoeSA9IFN5bWJvbCgnaGllcmFyY2h5Jyk7XG5jb25zdCAkcm9vdHMgPSBTeW1ib2woJ3Jvb3RzJyk7XG5leHBvcnQgY29uc3QgJHByaW1pdGl2ZXNMaXN0ID0gU3ltYm9sKCdwcmltaXRpdmVzJyk7XG5leHBvcnQgY29uc3QgJGxvYWRWYXJpYW50ID0gU3ltYm9sKCdsb2FkVmFyaWFudCcpO1xuZXhwb3J0IGNvbnN0ICRjb3JyZWxhdGVkU2NlbmVHcmFwaCA9IFN5bWJvbCgnY29ycmVsYXRlZFNjZW5lR3JhcGgnKTtcbmV4cG9ydCBjb25zdCAkcHJlcGFyZVZhcmlhbnRzRm9yRXhwb3J0ID0gU3ltYm9sKCdwcmVwYXJlVmFyaWFudHNGb3JFeHBvcnQnKTtcbmV4cG9ydCBjb25zdCAkc3dpdGNoVmFyaWFudCA9IFN5bWJvbCgnc3dpdGNoVmFyaWFudCcpO1xuZXhwb3J0IGNvbnN0ICR0aHJlZVNjZW5lID0gU3ltYm9sKCd0aHJlZVNjZW5lJyk7XG5leHBvcnQgY29uc3QgJG1hdGVyaWFsc0Zyb21Qb2ludCA9IFN5bWJvbCgnbWF0ZXJpYWxzRnJvbVBvaW50Jyk7XG5leHBvcnQgY29uc3QgJG1hdGVyaWFsRnJvbVBvaW50ID0gU3ltYm9sKCdtYXRlcmlhbEZyb21Qb2ludCcpO1xuZXhwb3J0IGNvbnN0ICR2YXJpYW50RGF0YSA9IFN5bWJvbCgndmFyaWFudERhdGEnKTtcbmV4cG9ydCBjb25zdCAkYXZhaWxhYmxlVmFyaWFudHMgPSBTeW1ib2woJ2F2YWlsYWJsZVZhcmlhbnRzJyk7XG5jb25zdCAkbW9kZWxPblVwZGF0ZSA9IFN5bWJvbCgnbW9kZWxPblVwZGF0ZScpO1xuY29uc3QgJGNsb25lTWF0ZXJpYWwgPSBTeW1ib2woJ2Nsb25lTWF0ZXJpYWwnKTtcbi8vIEhvbGRzIG9udG8gdGVtcG9yYXJ5IHNjZW5lIGNvbnRleHQgaW5mb3JtYXRpb24gbmVlZGVkIHRvIHBlcmZvcm0gbGF6eSBsb2FkaW5nXG4vLyBvZiBhIHJlc291cmNlLlxuZXhwb3J0IGNsYXNzIExhenlMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKGdsdGYsIGdsdGZFbGVtZW50TWFwLCBtYXBLZXksIGRvTGF6eUxvYWQpIHtcbiAgICAgICAgdGhpcy5nbHRmID0gZ2x0ZjtcbiAgICAgICAgdGhpcy5nbHRmRWxlbWVudE1hcCA9IGdsdGZFbGVtZW50TWFwO1xuICAgICAgICB0aGlzLm1hcEtleSA9IG1hcEtleTtcbiAgICAgICAgdGhpcy5kb0xhenlMb2FkID0gZG9MYXp5TG9hZDtcbiAgICB9XG59XG4vKipcbiAqIEEgTW9kZWwgZmFjYWRlcyB0aGUgdG9wLWxldmVsIEdMVEYgb2JqZWN0IHJldHVybmVkIGJ5IFRocmVlLmpzJyBHTFRGTG9hZGVyLlxuICogQ3VycmVudGx5LCB0aGUgbW9kZWwgb25seSBib3RoZXJzIGl0c2VsZiB3aXRoIHRoZSBtYXRlcmlhbHMgaW4gdGhlIFRocmVlLmpzXG4gKiBzY2VuZSBncmFwaC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsIHtcbiAgICBjb25zdHJ1Y3Rvcihjb3JyZWxhdGVkU2NlbmVHcmFwaCwgb25VcGRhdGUgPSAoKSA9PiB7IH0pIHtcbiAgICAgICAgdGhpc1tfYV0gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpc1tfYl0gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpc1tfY10gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpc1tfZF0gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpc1tfZV0gPSAoKSA9PiB7IH07XG4gICAgICAgIHRoaXNbX2ZdID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzWyRtb2RlbE9uVXBkYXRlXSA9IG9uVXBkYXRlO1xuICAgICAgICB0aGlzWyRjb3JyZWxhdGVkU2NlbmVHcmFwaF0gPSBjb3JyZWxhdGVkU2NlbmVHcmFwaDtcbiAgICAgICAgY29uc3QgeyBnbHRmLCB0aHJlZUdMVEYsIGdsdGZFbGVtZW50TWFwIH0gPSBjb3JyZWxhdGVkU2NlbmVHcmFwaDtcbiAgICAgICAgdGhpc1skdGhyZWVTY2VuZV0gPSB0aHJlZUdMVEYuc2NlbmU7XG4gICAgICAgIGZvciAoY29uc3QgW2ksIG1hdGVyaWFsXSBvZiBnbHRmLm1hdGVyaWFscy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlbGF0ZWRNYXRlcmlhbCA9IGdsdGZFbGVtZW50TWFwLmdldChtYXRlcmlhbCk7XG4gICAgICAgICAgICBpZiAoY29ycmVsYXRlZE1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRtYXRlcmlhbHNdLnB1c2gobmV3IE1hdGVyaWFsKG9uVXBkYXRlLCBnbHRmLCBtYXRlcmlhbCwgaSwgdHJ1ZSwgdGhpc1skdmFyaWFudERhdGFdLCBjb3JyZWxhdGVkTWF0ZXJpYWwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRBcnJheSA9IGdsdGZbJ21hdGVyaWFscyddIHx8IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsdGZNYXRlcmlhbERlZiA9IGVsZW1lbnRBcnJheVtpXTtcbiAgICAgICAgICAgICAgICAvLyBMb2FkcyB0aGUgdGhyZWUuanMgbWF0ZXJpYWwuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FwdHVyZWRNYXRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxMb2FkQ2FsbGJhY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRocmVlTWF0ZXJpYWwgPSBhd2FpdCB0aHJlZUdMVEYucGFyc2VyLmdldERlcGVuZGVuY3koJ21hdGVyaWFsJywgY2FwdHVyZWRNYXRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZHMgY29ycmVsYXRpb24sIG1hcHMgdGhlIHZhcmlhbnQgZ2x0Zi1kZWYgdG8gdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocmVlIG1hdGVyaWFsIHNldCBjb250YWluaW5nIHRoZSB2YXJpYW50IG1hdGVyaWFsLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aHJlZU1hdGVyaWFsU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgICAgICBnbHRmRWxlbWVudE1hcC5zZXQoZ2x0Zk1hdGVyaWFsRGVmLCB0aHJlZU1hdGVyaWFsU2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyZWVNYXRlcmlhbFNldC5hZGQodGhyZWVNYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHNldDogdGhyZWVNYXRlcmlhbFNldCwgbWF0ZXJpYWw6IHRocmVlTWF0ZXJpYWwgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIENvbmZpZ3VyZXMgdGhlIG1hdGVyaWFsIGZvciBsYXp5IGxvYWRpbmcuXG4gICAgICAgICAgICAgICAgdGhpc1skbWF0ZXJpYWxzXS5wdXNoKG5ldyBNYXRlcmlhbChvblVwZGF0ZSwgZ2x0ZiwgZ2x0Zk1hdGVyaWFsRGVmLCBpLCBmYWxzZSwgdGhpc1skdmFyaWFudERhdGFdLCBjb3JyZWxhdGVkTWF0ZXJpYWwsIG5ldyBMYXp5TG9hZGVyKGdsdGYsIGdsdGZFbGVtZW50TWFwLCBnbHRmTWF0ZXJpYWxEZWYsIG1hdGVyaWFsTG9hZENhbGxiYWNrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZXMgYSBoaWVyYXJjaHkgb2YgTm9kZXMuIEFsbG93cyBub3QganVzdCBmb3Igc3dpdGNoaW5nIHdoaWNoXG4gICAgICAgIC8vIG1hdGVyaWFsIGlzIGFwcGxpZWQgdG8gYSBtZXNoIGJ1dCBhbHNvIGV4cG9zZXMgYSB3YXkgdG8gcHJvdmlkZSBBUElcbiAgICAgICAgLy8gZm9yIHN3aXRjaGluZyBtYXRlcmlhbHMgYW5kIGdlbmVyYWwgYXNzaWdubWVudC9tb2RpZmljYXRpb24uXG4gICAgICAgIC8vIFByZXBhcmVzIGZvciBzY2VuZSBpdGVyYXRpb24uXG4gICAgICAgIGNvbnN0IHBhcmVudE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3Qgbm9kZVN0YWNrID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRocmVlR0xURi5zY2VuZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgbm9kZVN0YWNrLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXYWxrcyB0aGUgaGllcmFyY2h5IGFuZCBjcmVhdGVzIGEgbm9kZSB0cmVlLlxuICAgICAgICB3aGlsZSAobm9kZVN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdCA9IG5vZGVTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGxldCBub2RlID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBNZXNoKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5ldyBQcmltaXRpdmVOb2RlKG9iamVjdCwgdGhpcy5tYXRlcmlhbHMsIHRoaXNbJHZhcmlhbnREYXRhXSwgY29ycmVsYXRlZFNjZW5lR3JhcGgpO1xuICAgICAgICAgICAgICAgIHRoaXNbJHByaW1pdGl2ZXNMaXN0XS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5ldyBOb2RlKG9iamVjdC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHBhcmVudE1hcC5nZXQob2JqZWN0KTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcmVudFskY2hpbGRyZW5dLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRyb290c10ucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbJGhpZXJhcmNoeV0ucHVzaChub2RlKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgbm9kZVN0YWNrLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIHBhcmVudE1hcC5zZXQob2JqZWN0LCBub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRlcmlhbHMgYXJlIGxpc3RlZCBpbiB0aGUgb3JkZXIgb2YgdGhlIEdMVEYgbWF0ZXJpYWxzIGFycmF5LCBwbHVzIGFcbiAgICAgKiBkZWZhdWx0IG1hdGVyaWFsIGF0IHRoZSBlbmQgaWYgb25lIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBUT0RPKCMxMDAzKTogSG93IGRvIHdlIGhhbmRsZSBub24tYWN0aXZlIHNjZW5lcz9cbiAgICAgKi9cbiAgICBnZXQgbWF0ZXJpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skbWF0ZXJpYWxzXTtcbiAgICB9XG4gICAgWyhfYSA9ICRtYXRlcmlhbHMsIF9iID0gJGhpZXJhcmNoeSwgX2MgPSAkcm9vdHMsIF9kID0gJHByaW1pdGl2ZXNMaXN0LCBfZSA9ICRtb2RlbE9uVXBkYXRlLCBfZiA9ICR2YXJpYW50RGF0YSwgJGF2YWlsYWJsZVZhcmlhbnRzKV0oKSB7XG4gICAgICAgIGNvbnN0IHZhcmlhbnRzID0gQXJyYXkuZnJvbSh0aGlzWyR2YXJpYW50RGF0YV0udmFsdWVzKCkpO1xuICAgICAgICB2YXJpYW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFyaWFudHMubWFwKChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TWF0ZXJpYWxCeU5hbWUobmFtZSkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpc1skbWF0ZXJpYWxzXS5maWx0ZXIobWF0ZXJpYWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGVyaWFsLm5hbWUgPT09IG5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJzZWN0cyBhIHJheSB3aXRoIHRoZSBNb2RlbCBhbmQgcmV0dXJucyBhIGxpc3Qgb2YgbWF0ZXJpYWxzIHdob3NlXG4gICAgICogb2JqZWN0cyB3ZXJlIGludGVyc2VjdGVkLlxuICAgICAqL1xuICAgIFskbWF0ZXJpYWxzRnJvbVBvaW50XShyYXljYXN0ZXIpIHtcbiAgICAgICAgY29uc3QgaGl0cyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3QodGhpc1skdGhyZWVTY2VuZV0sIHRydWUpO1xuICAgICAgICAvLyBNYXAgdGhlIG9iamVjdCBoaXRzIHRvIHByaW1pdGl2ZXMgYW5kIHRoZW4gdG8gdGhlIGFjdGl2ZSBtYXRlcmlhbCBvZlxuICAgICAgICAvLyB0aGUgcHJpbWl0aXZlLlxuICAgICAgICByZXR1cm4gaGl0cy5tYXAoKGhpdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzWyRoaWVyYXJjaHldLmZpbmQoKG5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFByaW1pdGl2ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpbWl0aXZlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1pdGl2ZS5tZXNoID09PSBoaXQub2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmb3VuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kLmdldEFjdGl2ZU1hdGVyaWFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVyc2VjdHMgYSByYXkgd2l0aCB0aGUgTW9kZWwgYW5kIHJldHVybnMgdGhlIGZpcnN0IG1hdGVyaWFsIHdob3NlXG4gICAgICogb2JqZWN0IHdhcyBpbnRlcnNlY3RlZC5cbiAgICAgKi9cbiAgICBbJG1hdGVyaWFsRnJvbVBvaW50XShyYXljYXN0ZXIpIHtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxzID0gdGhpc1skbWF0ZXJpYWxzRnJvbVBvaW50XShyYXljYXN0ZXIpO1xuICAgICAgICBpZiAobWF0ZXJpYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN3aXRjaGVzIG1vZGVsIHZhcmlhbnQgdG8gdGhlIHZhcmlhbnQgbmFtZSBwcm92aWRlZCwgb3Igc3dpdGNoZXMgdG9cbiAgICAgKiBkZWZhdWx0L2luaXRpYWwgbWF0ZXJpYWxzIGlmICdudWxsJyBpcyBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBhc3luYyBbJHN3aXRjaFZhcmlhbnRdKHZhcmlhbnROYW1lKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIHRoaXNbJHByaW1pdGl2ZXNMaXN0XSkge1xuICAgICAgICAgICAgYXdhaXQgcHJpbWl0aXZlLmVuYWJsZVZhcmlhbnQodmFyaWFudE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgdGhpcy5tYXRlcmlhbHMpIHtcbiAgICAgICAgICAgIG1hdGVyaWFsWyRzZXRBY3RpdmVdKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYXJrcyB0aGUgbWF0ZXJpYWxzIHRoYXQgYXJlIG5vdyBpbiB1c2UgYWZ0ZXIgdGhlIHZhcmlhbnQgc3dpdGNoLlxuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiB0aGlzWyRwcmltaXRpdmVzTGlzdF0pIHtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxzW3ByaW1pdGl2ZS5nZXRBY3RpdmVNYXRlcmlhbCgpLmluZGV4XVskc2V0QWN0aXZlXSh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBbJHByZXBhcmVWYXJpYW50c0ZvckV4cG9ydF0oKSB7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIHRoaXNbJHByaW1pdGl2ZXNMaXN0XSkge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChwcmltaXRpdmUuaW5zdGFudGlhdGVWYXJpYW50cygpKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgfVxuICAgIFskY2xvbmVNYXRlcmlhbF0oaW5kZXgsIG5ld01hdGVyaWFsTmFtZSkge1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWxzW2luZGV4XTtcbiAgICAgICAgaWYgKCFtYXRlcmlhbC5pc0xvYWRlZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ2xvbmluZyBhbiB1bmxvYWRlZCBtYXRlcmlhbCxcbiAgICAgICAgICAgY2FsbCAnbWF0ZXJpYWwuZW5zdXJlTG9hZGVkKCkgYmVmb3JlIGNsb25pbmcgdGhlIG1hdGVyaWFsLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRocmVlTWF0ZXJpYWxTZXQgPSBtYXRlcmlhbFskY29ycmVsYXRlZE9iamVjdHNdO1xuICAgICAgICAvLyBjbG9uZXMgdGhlIGdsdGYgbWF0ZXJpYWwgZGF0YSBhbmQgdXBkYXRlcyB0aGUgbWF0ZXJpYWwgbmFtZS5cbiAgICAgICAgY29uc3QgZ2x0ZlNvdXJjZU1hdGVyaWFsID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtYXRlcmlhbFskc291cmNlT2JqZWN0XSkpO1xuICAgICAgICBnbHRmU291cmNlTWF0ZXJpYWwubmFtZSA9IG5ld01hdGVyaWFsTmFtZTtcbiAgICAgICAgLy8gQWRkcyB0aGUgc291cmNlIG1hdGVyaWFsIGNsb25lIHRvIHRoZSBnbHRmIGRlZi5cbiAgICAgICAgY29uc3QgZ2x0ZiA9IHRoaXNbJGNvcnJlbGF0ZWRTY2VuZUdyYXBoXS5nbHRmO1xuICAgICAgICBnbHRmLm1hdGVyaWFscy5wdXNoKGdsdGZTb3VyY2VNYXRlcmlhbCk7XG4gICAgICAgIGNvbnN0IGNsb25lZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBbaSwgdGhyZWVNYXRlcmlhbF0gb2YgdGhyZWVNYXRlcmlhbFNldC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0gdGhyZWVNYXRlcmlhbC5jbG9uZSgpO1xuICAgICAgICAgICAgY2xvbmUubmFtZSA9XG4gICAgICAgICAgICAgICAgbmV3TWF0ZXJpYWxOYW1lICsgKHRocmVlTWF0ZXJpYWxTZXQuc2l6ZSA+IDEgPyAnX2luc3QnICsgaSA6ICcnKTtcbiAgICAgICAgICAgIGNsb25lZFNldC5hZGQoY2xvbmUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNsb25lZE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKHRoaXNbJG1vZGVsT25VcGRhdGVdLCB0aGlzWyRjb3JyZWxhdGVkU2NlbmVHcmFwaF0uZ2x0ZiwgZ2x0ZlNvdXJjZU1hdGVyaWFsLCB0aGlzWyRtYXRlcmlhbHNdLmxlbmd0aCwgZmFsc2UsIC8vIENsb25lZCBhcyBpbmFjdGl2ZS5cbiAgICAgICAgdGhpc1skdmFyaWFudERhdGFdLCBjbG9uZWRTZXQpO1xuICAgICAgICB0aGlzWyRtYXRlcmlhbHNdLnB1c2goY2xvbmVkTWF0ZXJpYWwpO1xuICAgICAgICByZXR1cm4gY2xvbmVkTWF0ZXJpYWw7XG4gICAgfVxuICAgIGNyZWF0ZU1hdGVyaWFsSW5zdGFuY2VGb3JWYXJpYW50KG9yaWdpbmFsTWF0ZXJpYWxJbmRleCwgbmV3TWF0ZXJpYWxOYW1lLCB2YXJpYW50TmFtZSwgYWN0aXZhdGVWYXJpYW50ID0gdHJ1ZSkge1xuICAgICAgICBsZXQgdmFyaWFudE1hdGVyaWFsSW5zdGFuY2UgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiB0aGlzWyRwcmltaXRpdmVzTGlzdF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhbnREYXRhID0gdGhpc1skdmFyaWFudERhdGFdLmdldCh2YXJpYW50TmFtZSk7XG4gICAgICAgICAgICAvLyBTa2lwcyB0aGUgcHJpbWl0aXZlIGlmIHRoZSB2YXJpYW50IGFscmVhZHkgZXhpc3RzLlxuICAgICAgICAgICAgaWYgKHZhcmlhbnREYXRhICE9IG51bGwgJiYgcHJpbWl0aXZlLnZhcmlhbnRJbmZvLmhhcyh2YXJpYW50RGF0YS5pbmRleCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNraXBzIHRoZSBwcmltaXRpdmUgaWYgdGhlIHNvdXJjZS9vcmlnaW5hbCBtYXRlcmlhbCBkb2VzIG5vdCBleGlzdC5cbiAgICAgICAgICAgIGlmIChwcmltaXRpdmUuZ2V0TWF0ZXJpYWwob3JpZ2luYWxNYXRlcmlhbEluZGV4KSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzVmFyaWFudCh2YXJpYW50TmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVZhcmlhbnQodmFyaWFudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhcmlhbnRNYXRlcmlhbEluc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50TWF0ZXJpYWxJbnN0YW5jZSA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJGNsb25lTWF0ZXJpYWxdKG9yaWdpbmFsTWF0ZXJpYWxJbmRleCwgbmV3TWF0ZXJpYWxOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByaW1pdGl2ZS5hZGRWYXJpYW50KHZhcmlhbnRNYXRlcmlhbEluc3RhbmNlLCB2YXJpYW50TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2YXRlVmFyaWFudCAmJiB2YXJpYW50TWF0ZXJpYWxJbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXJpYW50TWF0ZXJpYWxJbnN0YW5jZVskc2V0QWN0aXZlXSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxzW29yaWdpbmFsTWF0ZXJpYWxJbmRleF1bJHNldEFjdGl2ZV0oZmFsc2UpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcmltaXRpdmUgb2YgdGhpc1skcHJpbWl0aXZlc0xpc3RdKSB7XG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLmVuYWJsZVZhcmlhbnQodmFyaWFudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXJpYW50TWF0ZXJpYWxJbnN0YW5jZTtcbiAgICB9XG4gICAgY3JlYXRlVmFyaWFudCh2YXJpYW50TmFtZSkge1xuICAgICAgICBpZiAoIXRoaXNbJHZhcmlhbnREYXRhXS5oYXModmFyaWFudE5hbWUpKSB7XG4gICAgICAgICAgICAvLyBBZGRzIHRoZSBuYW1lIGlmIGl0J3Mgbm90IGFscmVhZHkgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgICB0aGlzWyR2YXJpYW50RGF0YV0uc2V0KHZhcmlhbnROYW1lLCB7IG5hbWU6IHZhcmlhbnROYW1lLCBpbmRleDogdGhpc1skdmFyaWFudERhdGFdLnNpemUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFZhcmlhbnQgJyR7dmFyaWFudE5hbWV9JycgYWxyZWFkeSBleGlzdHNgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNWYXJpYW50KHZhcmlhbnROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyR2YXJpYW50RGF0YV0uaGFzKHZhcmlhbnROYW1lKTtcbiAgICB9XG4gICAgc2V0TWF0ZXJpYWxUb1ZhcmlhbnQobWF0ZXJpYWxJbmRleCwgdGFyZ2V0VmFyaWFudE5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXNbJGF2YWlsYWJsZVZhcmlhbnRzXSgpLmZpbmQobmFtZSA9PiBuYW1lID09PSB0YXJnZXRWYXJpYW50TmFtZSkgPT1cbiAgICAgICAgICAgIG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ2FuJ3QgYWRkIG1hdGVyaWFsIHRvICcke3RhcmdldFZhcmlhbnROYW1lfScsIHRoZSB2YXJpYW50IGRvZXMgbm90IGV4aXN0LidgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0ZXJpYWxJbmRleCA8IDAgfHwgbWF0ZXJpYWxJbmRleCA+PSB0aGlzLm1hdGVyaWFscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYHNldE1hdGVyaWFsVG9WYXJpYW50KCk6IG1hdGVyaWFsSW5kZXggaXMgb3V0IG9mIGJvdW5kcy5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiB0aGlzWyRwcmltaXRpdmVzTGlzdF0pIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gcHJpbWl0aXZlLmdldE1hdGVyaWFsKG1hdGVyaWFsSW5kZXgpO1xuICAgICAgICAgICAgLy8gRW5zdXJlcyB0aGUgbWF0ZXJpYWwgZXhpc3RzIG9uIHRoZSBwcmltaXRpdmUgYmVmb3JlIHNldHRpbmcgaXQgdG8gYVxuICAgICAgICAgICAgLy8gdmFyaWFudC5cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLmFkZFZhcmlhbnQobWF0ZXJpYWwsIHRhcmdldFZhcmlhbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVWYXJpYW50TmFtZShjdXJyZW50TmFtZSwgbmV3TmFtZSkge1xuICAgICAgICBjb25zdCB2YXJpYW50RGF0YSA9IHRoaXNbJHZhcmlhbnREYXRhXS5nZXQoY3VycmVudE5hbWUpO1xuICAgICAgICBpZiAodmFyaWFudERhdGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhcmlhbnREYXRhLm5hbWUgPSBuZXdOYW1lO1xuICAgICAgICB0aGlzWyR2YXJpYW50RGF0YV0uc2V0KG5ld05hbWUsIHZhcmlhbnREYXRhKTtcbiAgICAgICAgdGhpc1skdmFyaWFudERhdGFdLmRlbGV0ZShjdXJyZW50TmFtZSk7XG4gICAgfVxuICAgIGRlbGV0ZVZhcmlhbnQodmFyaWFudE5hbWUpIHtcbiAgICAgICAgY29uc3QgdmFyaWFudCA9IHRoaXNbJHZhcmlhbnREYXRhXS5nZXQodmFyaWFudE5hbWUpO1xuICAgICAgICBpZiAodmFyaWFudCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiB0aGlzLm1hdGVyaWFscykge1xuICAgICAgICAgICAgaWYgKG1hdGVyaWFsLmhhc1ZhcmlhbnQodmFyaWFudE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxbJHZhcmlhbnRTZXRdLmRlbGV0ZSh2YXJpYW50LmluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiB0aGlzWyRwcmltaXRpdmVzTGlzdF0pIHtcbiAgICAgICAgICAgIHByaW1pdGl2ZS5kZWxldGVWYXJpYW50KHZhcmlhbnQuaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJHZhcmlhbnREYXRhXS5kZWxldGUodmFyaWFudE5hbWUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGVsLmpzLm1hcCJdLCJuYW1lcyI6WyJfYSIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJNZXNoIiwiJHNldEFjdGl2ZSIsIiR2YXJpYW50U2V0IiwiTWF0ZXJpYWwiLCIkY2hpbGRyZW4iLCJOb2RlIiwiUHJpbWl0aXZlTm9kZSIsIiRjb3JyZWxhdGVkT2JqZWN0cyIsIiRzb3VyY2VPYmplY3QiLCIkbWF0ZXJpYWxzIiwiU3ltYm9sIiwiJGhpZXJhcmNoeSIsIiRyb290cyIsIiRwcmltaXRpdmVzTGlzdCIsIiRsb2FkVmFyaWFudCIsIiRjb3JyZWxhdGVkU2NlbmVHcmFwaCIsIiRwcmVwYXJlVmFyaWFudHNGb3JFeHBvcnQiLCIkc3dpdGNoVmFyaWFudCIsIiR0aHJlZVNjZW5lIiwiJG1hdGVyaWFsc0Zyb21Qb2ludCIsIiRtYXRlcmlhbEZyb21Qb2ludCIsIiR2YXJpYW50RGF0YSIsIiRhdmFpbGFibGVWYXJpYW50cyIsIiRtb2RlbE9uVXBkYXRlIiwiJGNsb25lTWF0ZXJpYWwiLCJMYXp5TG9hZGVyIiwiY29uc3RydWN0b3IiLCJnbHRmIiwiZ2x0ZkVsZW1lbnRNYXAiLCJtYXBLZXkiLCJkb0xhenlMb2FkIiwiTW9kZWwiLCJjb3JyZWxhdGVkU2NlbmVHcmFwaCIsIm9uVXBkYXRlIiwiQXJyYXkiLCJNYXAiLCJ0aHJlZUdMVEYiLCJzY2VuZSIsImkiLCJtYXRlcmlhbCIsIm1hdGVyaWFscyIsImVudHJpZXMiLCJjb3JyZWxhdGVkTWF0ZXJpYWwiLCJnZXQiLCJwdXNoIiwiZWxlbWVudEFycmF5IiwiZ2x0Zk1hdGVyaWFsRGVmIiwiY2FwdHVyZWRNYXRJbmRleCIsIm1hdGVyaWFsTG9hZENhbGxiYWNrIiwidGhyZWVNYXRlcmlhbCIsInBhcnNlciIsImdldERlcGVuZGVuY3kiLCJ0aHJlZU1hdGVyaWFsU2V0IiwiU2V0Iiwic2V0IiwiYWRkIiwicGFyZW50TWFwIiwibm9kZVN0YWNrIiwib2JqZWN0IiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJwb3AiLCJub2RlIiwibmFtZSIsInBhcmVudCIsImNoaWxkIiwidmFyaWFudHMiLCJmcm9tIiwidmFsdWVzIiwic29ydCIsImEiLCJiIiwiaW5kZXgiLCJtYXAiLCJkYXRhIiwiZ2V0TWF0ZXJpYWxCeU5hbWUiLCJtYXRjaGVzIiwiZmlsdGVyIiwicmF5Y2FzdGVyIiwiaGl0cyIsImludGVyc2VjdE9iamVjdCIsImhpdCIsImZvdW5kIiwiZmluZCIsInByaW1pdGl2ZSIsIm1lc2giLCJnZXRBY3RpdmVNYXRlcmlhbCIsInZhcmlhbnROYW1lIiwiZW5hYmxlVmFyaWFudCIsInByb21pc2VzIiwiaW5zdGFudGlhdGVWYXJpYW50cyIsIlByb21pc2UiLCJhbGwiLCJuZXdNYXRlcmlhbE5hbWUiLCJpc0xvYWRlZCIsImNvbnNvbGUiLCJlcnJvciIsImdsdGZTb3VyY2VNYXRlcmlhbCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImNsb25lZFNldCIsImNsb25lIiwic2l6ZSIsImNsb25lZE1hdGVyaWFsIiwiY3JlYXRlTWF0ZXJpYWxJbnN0YW5jZUZvclZhcmlhbnQiLCJvcmlnaW5hbE1hdGVyaWFsSW5kZXgiLCJhY3RpdmF0ZVZhcmlhbnQiLCJ2YXJpYW50TWF0ZXJpYWxJbnN0YW5jZSIsInZhcmlhbnREYXRhIiwidmFyaWFudEluZm8iLCJoYXMiLCJnZXRNYXRlcmlhbCIsImhhc1ZhcmlhbnQiLCJjcmVhdGVWYXJpYW50IiwiYWRkVmFyaWFudCIsIndhcm4iLCJzZXRNYXRlcmlhbFRvVmFyaWFudCIsIm1hdGVyaWFsSW5kZXgiLCJ0YXJnZXRWYXJpYW50TmFtZSIsInVwZGF0ZVZhcmlhbnROYW1lIiwiY3VycmVudE5hbWUiLCJuZXdOYW1lIiwiZGVsZXRlIiwiZGVsZXRlVmFyaWFudCIsInZhcmlhbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/model.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/nodes/primitive-node.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/nodes/primitive-node.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $activeMaterialIdx: () => (/* binding */ $activeMaterialIdx),\n/* harmony export */   $children: () => (/* binding */ $children),\n/* harmony export */   $initialMaterialIdx: () => (/* binding */ $initialMaterialIdx),\n/* harmony export */   $loadVariant: () => (/* binding */ $loadVariant),\n/* harmony export */   $prepareVariantsForExport: () => (/* binding */ $prepareVariantsForExport),\n/* harmony export */   $primitives: () => (/* binding */ $primitives),\n/* harmony export */   $switchVariant: () => (/* binding */ $switchVariant),\n/* harmony export */   Node: () => (/* binding */ Node),\n/* harmony export */   PrimitiveNode: () => (/* binding */ PrimitiveNode)\n/* harmony export */ });\n/* harmony import */ var _material_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../material.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/material.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\nvar _a, _b, _c, _d, _e;\n\n\nconst $materials = Symbol(\"materials\");\nconst $variantToMaterialMap = Symbol(\"variantToMaterialMap\");\nconst $modelVariants = Symbol(\"modelVariants\");\nconst $mesh = Symbol(\"mesh\");\nconst $primitives = Symbol(\"primitives\");\nconst $loadVariant = Symbol(\"loadVariant\");\nconst $prepareVariantsForExport = Symbol(\"prepareVariantsForExport\");\nconst $switchVariant = Symbol(\"switchVariant\");\nconst $children = Symbol(\"children\");\nconst $initialMaterialIdx = Symbol(\"initialMaterialIdx\");\nconst $activeMaterialIdx = Symbol(\"activeMaterialIdx\");\n// Defines the base level node methods and data.\nclass Node {\n    constructor(name){\n        this.name = \"\";\n        this[_a] = new Array();\n        this.name = name;\n    }\n}\n_a = $children;\n// Represents a primitive in a glTF mesh.\nclass PrimitiveNode extends Node {\n    constructor(mesh, mvMaterials, modelVariants, correlatedSceneGraph){\n        super(mesh.name);\n        // Maps glTF material index number to a material that this primitive supports.\n        this[_b] = new Map();\n        // Maps variant index to material.\n        this[_c] = new Map();\n        this[_d] = 0;\n        this[_e] = 0;\n        this[$mesh] = mesh;\n        const { gltf, threeGLTF, threeObjectMap } = correlatedSceneGraph;\n        this[$modelVariants] = modelVariants;\n        this.mesh.userData.variantData = modelVariants;\n        // Captures the primitive's initial material.\n        const materialMappings = threeObjectMap.get(mesh.material);\n        if (materialMappings.materials != null) {\n            this[$initialMaterialIdx] = this[$activeMaterialIdx] = materialMappings.materials;\n        } else {\n            console.error(`Primitive (${mesh.name}) missing initial material reference.`);\n        }\n        // Gets the mesh index from the node.\n        const associations = mesh.userData.associations || {};\n        if (associations.meshes == null) {\n            console.error(\"Mesh is missing primitive index association\");\n            return;\n        }\n        // The gltf mesh array to sample from.\n        const meshElementArray = gltf[\"meshes\"] || [];\n        // List of primitives under the mesh.\n        const gltfPrimitives = meshElementArray[associations.meshes].primitives || [];\n        const gltfPrimitive = gltfPrimitives[associations.primitives];\n        if (gltfPrimitive == null) {\n            console.error(\"Mesh primitive definition is missing.\");\n            return;\n        }\n        // Maps the gltfPrimitive default to a material.\n        if (gltfPrimitive.material != null) {\n            this[$materials].set(gltfPrimitive.material, mvMaterials[gltfPrimitive.material]);\n        } else {\n            const defaultIdx = mvMaterials.findIndex((mat)=>{\n                return mat.name === \"Default\";\n            });\n            if (defaultIdx >= 0) {\n                this[$materials].set(defaultIdx, mvMaterials[defaultIdx]);\n            } else {\n                console.warn(\"gltfPrimitive has no material!\");\n            }\n        }\n        if (gltfPrimitive.extensions && gltfPrimitive.extensions[\"KHR_materials_variants\"]) {\n            const variantsExtension = gltfPrimitive.extensions[\"KHR_materials_variants\"];\n            const extensions = threeGLTF.parser.json.extensions;\n            const variantNames = extensions[\"KHR_materials_variants\"].variants;\n            // Provides definition now that we know there are variants to\n            // support.\n            for (const mapping of variantsExtension.mappings){\n                const mvMaterial = mvMaterials[mapping.material];\n                // Maps variant indices to Materials.\n                this[$materials].set(mapping.material, mvMaterial);\n                for (const variant of mapping.variants){\n                    const { name } = variantNames[variant];\n                    this[$variantToMaterialMap].set(variant, mvMaterial);\n                    // Provides variant info for material self lookup.\n                    mvMaterial[_material_js__WEBPACK_IMPORTED_MODULE_0__.$variantIndices]().add(variant);\n                    // Updates the models variant data.\n                    if (!modelVariants.has(name)) {\n                        modelVariants.set(name, {\n                            name,\n                            index: variant\n                        });\n                    }\n                }\n            }\n        }\n    }\n    get mesh() {\n        return this[$mesh];\n    }\n    async setActiveMaterial(material) {\n        const mvMaterial = this[$materials].get(material);\n        if (mvMaterial != null) {\n            this.mesh.material = await mvMaterial[_material_js__WEBPACK_IMPORTED_MODULE_0__.$getLoadedMaterial]();\n            this[$activeMaterialIdx] = material;\n        }\n        return this.mesh.material;\n    }\n    getActiveMaterial() {\n        return this[$materials].get(this[$activeMaterialIdx]);\n    }\n    getMaterial(index) {\n        return this[$materials].get(index);\n    }\n    async enableVariant(name) {\n        if (name == null) {\n            return this.setActiveMaterial(this[$initialMaterialIdx]);\n        }\n        if (this[$variantToMaterialMap] != null && this[$modelVariants].has(name)) {\n            const modelVariants = this[$modelVariants].get(name);\n            return this.enableVariantHelper(modelVariants.index);\n        }\n        return null;\n    }\n    async enableVariantHelper(index) {\n        if (this[$variantToMaterialMap] != null && index != null) {\n            const material = this[$variantToMaterialMap].get(index);\n            if (material != null) {\n                return this.setActiveMaterial(material.index);\n            }\n        }\n        return null;\n    }\n    async instantiateVariants() {\n        if (this[$variantToMaterialMap] == null) {\n            return;\n        }\n        for (const index of this[$variantToMaterialMap].keys()){\n            const variantMaterial = this.mesh.userData.variantMaterials.get(index);\n            if (variantMaterial.material != null) {\n                continue;\n            }\n            const threeMaterial = await this.enableVariantHelper(index);\n            if (threeMaterial != null) {\n                variantMaterial.material = threeMaterial;\n            }\n        }\n    }\n    get variantInfo() {\n        return this[$variantToMaterialMap];\n    }\n    addVariant(materialVariant, variantName) {\n        if (!this.ensureVariantIsUnused(variantName)) {\n            return false;\n        }\n        // Adds the variant to the model variants if needed.\n        if (!this[$modelVariants].has(variantName)) {\n            this[$modelVariants].set(variantName, {\n                name: variantName,\n                index: this[$modelVariants].size\n            });\n        }\n        const modelVariantData = this[$modelVariants].get(variantName);\n        const variantIndex = modelVariantData.index;\n        // Updates materials mapped to the variant.\n        materialVariant[_material_js__WEBPACK_IMPORTED_MODULE_0__.$variantIndices]().add(variantIndex);\n        // Updates internal mappings.\n        this[$variantToMaterialMap].set(variantIndex, materialVariant);\n        this[$materials].set(materialVariant.index, materialVariant);\n        this.updateVariantUserData(variantIndex, materialVariant);\n        return true;\n    }\n    deleteVariant(variantIndex) {\n        if (this.variantInfo.has(variantIndex)) {\n            this.variantInfo.delete(variantIndex);\n            const userDataMap = this.mesh.userData.variantMaterials;\n            if (userDataMap != null) {\n                userDataMap.delete(variantIndex);\n            }\n        }\n    }\n    updateVariantUserData(variantIndex, materialVariant) {\n        // Adds variants name to material variants set.\n        materialVariant[_material_js__WEBPACK_IMPORTED_MODULE_0__.$variantIndices]().add(variantIndex);\n        this.mesh.userData.variantData = this[$modelVariants];\n        // Updates import data (see VariantMaterialLoaderPlugin.ts).\n        this.mesh.userData.variantMaterials = this.mesh.userData.variantMaterials || new Map();\n        const map = this.mesh.userData.variantMaterials;\n        map.set(variantIndex, {\n            material: materialVariant[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects].values().next().value,\n            gltfMaterialIndex: materialVariant.index\n        });\n    }\n    ensureVariantIsUnused(variantName) {\n        const modelVariants = this[$modelVariants].get(variantName);\n        if (modelVariants != null && this.variantInfo.has(modelVariants.index)) {\n            console.warn(`Primitive cannot add variant '${variantName}' for this material, it already exists.`);\n            return false;\n        }\n        return true;\n    }\n}\n_b = $materials, _c = $variantToMaterialMap, _d = $initialMaterialIdx, _e = $activeMaterialIdx; //# sourceMappingURL=primitive-node.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL25vZGVzL3ByaW1pdGl2ZS1ub2RlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUM7QUFDaUQ7QUFDUjtBQUM3RCxNQUFNSSxhQUFhQyxPQUFPO0FBQzFCLE1BQU1DLHdCQUF3QkQsT0FBTztBQUNyQyxNQUFNRSxpQkFBaUJGLE9BQU87QUFDOUIsTUFBTUcsUUFBUUgsT0FBTztBQUNkLE1BQU1JLGNBQWNKLE9BQU8sY0FBYztBQUN6QyxNQUFNSyxlQUFlTCxPQUFPLGVBQWU7QUFDM0MsTUFBTU0sNEJBQTRCTixPQUFPLDRCQUE0QjtBQUNyRSxNQUFNTyxpQkFBaUJQLE9BQU8saUJBQWlCO0FBQy9DLE1BQU1RLFlBQVlSLE9BQU8sWUFBWTtBQUNyQyxNQUFNUyxzQkFBc0JULE9BQU8sc0JBQXNCO0FBQ3pELE1BQU1VLHFCQUFxQlYsT0FBTyxxQkFBcUI7QUFDOUQsZ0RBQWdEO0FBQ3pDLE1BQU1XO0lBQ1RDLFlBQVlDLElBQUksQ0FBRTtRQUNkLElBQUksQ0FBQ0EsSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDdEIsR0FBRyxHQUFHLElBQUl1QjtRQUNmLElBQUksQ0FBQ0QsSUFBSSxHQUFHQTtJQUNoQjtBQUNKO0FBQ0F0QixLQUFLaUI7QUFDTCx5Q0FBeUM7QUFDbEMsTUFBTU8sc0JBQXNCSjtJQUMvQkMsWUFBWUksSUFBSSxFQUFFQyxXQUFXLEVBQUVDLGFBQWEsRUFBRUMsb0JBQW9CLENBQUU7UUFDaEUsS0FBSyxDQUFDSCxLQUFLSCxJQUFJO1FBQ2YsOEVBQThFO1FBQzlFLElBQUksQ0FBQ3JCLEdBQUcsR0FBRyxJQUFJNEI7UUFDZixrQ0FBa0M7UUFDbEMsSUFBSSxDQUFDM0IsR0FBRyxHQUFHLElBQUkyQjtRQUNmLElBQUksQ0FBQzFCLEdBQUcsR0FBRztRQUNYLElBQUksQ0FBQ0MsR0FBRyxHQUFHO1FBQ1gsSUFBSSxDQUFDUSxNQUFNLEdBQUdhO1FBQ2QsTUFBTSxFQUFFSyxJQUFJLEVBQUVDLFNBQVMsRUFBRUMsY0FBYyxFQUFFLEdBQUdKO1FBQzVDLElBQUksQ0FBQ2pCLGVBQWUsR0FBR2dCO1FBQ3ZCLElBQUksQ0FBQ0YsSUFBSSxDQUFDUSxRQUFRLENBQUNDLFdBQVcsR0FBR1A7UUFDakMsNkNBQTZDO1FBQzdDLE1BQU1RLG1CQUFtQkgsZUFBZUksR0FBRyxDQUFDWCxLQUFLWSxRQUFRO1FBQ3pELElBQUlGLGlCQUFpQkcsU0FBUyxJQUFJLE1BQU07WUFDcEMsSUFBSSxDQUFDcEIsb0JBQW9CLEdBQUcsSUFBSSxDQUFDQyxtQkFBbUIsR0FDaERnQixpQkFBaUJHLFNBQVM7UUFDbEMsT0FDSztZQUNEQyxRQUFRQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUVmLEtBQUtILElBQUksQ0FBQyxxQ0FBcUMsQ0FBQztRQUNoRjtRQUNBLHFDQUFxQztRQUNyQyxNQUFNbUIsZUFBZWhCLEtBQUtRLFFBQVEsQ0FBQ1EsWUFBWSxJQUMzQyxDQUFDO1FBQ0wsSUFBSUEsYUFBYUMsTUFBTSxJQUFJLE1BQU07WUFDN0JILFFBQVFDLEtBQUssQ0FBQztZQUNkO1FBQ0o7UUFDQSxzQ0FBc0M7UUFDdEMsTUFBTUcsbUJBQW1CYixJQUFJLENBQUMsU0FBUyxJQUFJLEVBQUU7UUFDN0MscUNBQXFDO1FBQ3JDLE1BQU1jLGlCQUFrQkQsZ0JBQWdCLENBQUNGLGFBQWFDLE1BQU0sQ0FBQyxDQUFDRyxVQUFVLElBQUksRUFBRTtRQUM5RSxNQUFNQyxnQkFBZ0JGLGNBQWMsQ0FBQ0gsYUFBYUksVUFBVSxDQUFDO1FBQzdELElBQUlDLGlCQUFpQixNQUFNO1lBQ3ZCUCxRQUFRQyxLQUFLLENBQUM7WUFDZDtRQUNKO1FBQ0EsZ0RBQWdEO1FBQ2hELElBQUlNLGNBQWNULFFBQVEsSUFBSSxNQUFNO1lBQ2hDLElBQUksQ0FBQzdCLFdBQVcsQ0FBQ3VDLEdBQUcsQ0FBQ0QsY0FBY1QsUUFBUSxFQUFFWCxXQUFXLENBQUNvQixjQUFjVCxRQUFRLENBQUM7UUFDcEYsT0FDSztZQUNELE1BQU1XLGFBQWF0QixZQUFZdUIsU0FBUyxDQUFDLENBQUNDO2dCQUN0QyxPQUFPQSxJQUFJNUIsSUFBSSxLQUFLO1lBQ3hCO1lBQ0EsSUFBSTBCLGNBQWMsR0FBRztnQkFDakIsSUFBSSxDQUFDeEMsV0FBVyxDQUFDdUMsR0FBRyxDQUFDQyxZQUFZdEIsV0FBVyxDQUFDc0IsV0FBVztZQUM1RCxPQUNLO2dCQUNEVCxRQUFRWSxJQUFJLENBQUM7WUFDakI7UUFDSjtRQUNBLElBQUlMLGNBQWNNLFVBQVUsSUFDeEJOLGNBQWNNLFVBQVUsQ0FBQyx5QkFBeUIsRUFBRTtZQUNwRCxNQUFNQyxvQkFBb0JQLGNBQWNNLFVBQVUsQ0FBQyx5QkFBeUI7WUFDNUUsTUFBTUEsYUFBYXJCLFVBQVV1QixNQUFNLENBQUNDLElBQUksQ0FBQ0gsVUFBVTtZQUNuRCxNQUFNSSxlQUFlSixVQUFVLENBQUMseUJBQXlCLENBQUNLLFFBQVE7WUFDbEUsNkRBQTZEO1lBQzdELFdBQVc7WUFDWCxLQUFLLE1BQU1DLFdBQVdMLGtCQUFrQk0sUUFBUSxDQUFFO2dCQUM5QyxNQUFNQyxhQUFhbEMsV0FBVyxDQUFDZ0MsUUFBUXJCLFFBQVEsQ0FBQztnQkFDaEQscUNBQXFDO2dCQUNyQyxJQUFJLENBQUM3QixXQUFXLENBQUN1QyxHQUFHLENBQUNXLFFBQVFyQixRQUFRLEVBQUV1QjtnQkFDdkMsS0FBSyxNQUFNQyxXQUFXSCxRQUFRRCxRQUFRLENBQUU7b0JBQ3BDLE1BQU0sRUFBRW5DLElBQUksRUFBRSxHQUFHa0MsWUFBWSxDQUFDSyxRQUFRO29CQUN0QyxJQUFJLENBQUNuRCxzQkFBc0IsQ0FBQ3FDLEdBQUcsQ0FBQ2MsU0FBU0Q7b0JBQ3pDLGtEQUFrRDtvQkFDbERBLFVBQVUsQ0FBQ3RELHlEQUFlQSxDQUFDLEdBQUd3RCxHQUFHLENBQUNEO29CQUNsQyxtQ0FBbUM7b0JBQ25DLElBQUksQ0FBQ2xDLGNBQWNvQyxHQUFHLENBQUN6QyxPQUFPO3dCQUMxQkssY0FBY29CLEdBQUcsQ0FBQ3pCLE1BQU07NEJBQUVBOzRCQUFNMEMsT0FBT0g7d0JBQVE7b0JBQ25EO2dCQUNKO1lBQ0o7UUFDSjtJQUNKO0lBQ0EsSUFBSXBDLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQ2IsTUFBTTtJQUN0QjtJQUNBLE1BQU1xRCxrQkFBa0I1QixRQUFRLEVBQUU7UUFDOUIsTUFBTXVCLGFBQWEsSUFBSSxDQUFDcEQsV0FBVyxDQUFDNEIsR0FBRyxDQUFDQztRQUN4QyxJQUFJdUIsY0FBYyxNQUFNO1lBQ3BCLElBQUksQ0FBQ25DLElBQUksQ0FBQ1ksUUFBUSxHQUFHLE1BQU11QixVQUFVLENBQUN2RCw0REFBa0JBLENBQUM7WUFDekQsSUFBSSxDQUFDYyxtQkFBbUIsR0FBR2tCO1FBQy9CO1FBQ0EsT0FBTyxJQUFJLENBQUNaLElBQUksQ0FBQ1ksUUFBUTtJQUM3QjtJQUNBNkIsb0JBQW9CO1FBQ2hCLE9BQU8sSUFBSSxDQUFDMUQsV0FBVyxDQUFDNEIsR0FBRyxDQUFDLElBQUksQ0FBQ2pCLG1CQUFtQjtJQUN4RDtJQUNBZ0QsWUFBWUgsS0FBSyxFQUFFO1FBQ2YsT0FBTyxJQUFJLENBQUN4RCxXQUFXLENBQUM0QixHQUFHLENBQUM0QjtJQUNoQztJQUNBLE1BQU1JLGNBQWM5QyxJQUFJLEVBQUU7UUFDdEIsSUFBSUEsUUFBUSxNQUFNO1lBQ2QsT0FBTyxJQUFJLENBQUMyQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMvQyxvQkFBb0I7UUFDM0Q7UUFDQSxJQUFJLElBQUksQ0FBQ1Isc0JBQXNCLElBQUksUUFBUSxJQUFJLENBQUNDLGVBQWUsQ0FBQ29ELEdBQUcsQ0FBQ3pDLE9BQU87WUFDdkUsTUFBTUssZ0JBQWdCLElBQUksQ0FBQ2hCLGVBQWUsQ0FBQ3lCLEdBQUcsQ0FBQ2Q7WUFDL0MsT0FBTyxJQUFJLENBQUMrQyxtQkFBbUIsQ0FBQzFDLGNBQWNxQyxLQUFLO1FBQ3ZEO1FBQ0EsT0FBTztJQUNYO0lBQ0EsTUFBTUssb0JBQW9CTCxLQUFLLEVBQUU7UUFDN0IsSUFBSSxJQUFJLENBQUN0RCxzQkFBc0IsSUFBSSxRQUFRc0QsU0FBUyxNQUFNO1lBQ3RELE1BQU0zQixXQUFXLElBQUksQ0FBQzNCLHNCQUFzQixDQUFDMEIsR0FBRyxDQUFDNEI7WUFDakQsSUFBSTNCLFlBQVksTUFBTTtnQkFDbEIsT0FBTyxJQUFJLENBQUM0QixpQkFBaUIsQ0FBQzVCLFNBQVMyQixLQUFLO1lBQ2hEO1FBQ0o7UUFDQSxPQUFPO0lBQ1g7SUFDQSxNQUFNTSxzQkFBc0I7UUFDeEIsSUFBSSxJQUFJLENBQUM1RCxzQkFBc0IsSUFBSSxNQUFNO1lBQ3JDO1FBQ0o7UUFDQSxLQUFLLE1BQU1zRCxTQUFTLElBQUksQ0FBQ3RELHNCQUFzQixDQUFDNkQsSUFBSSxHQUFJO1lBQ3BELE1BQU1DLGtCQUFrQixJQUFJLENBQUMvQyxJQUFJLENBQUNRLFFBQVEsQ0FBQ3dDLGdCQUFnQixDQUFDckMsR0FBRyxDQUFDNEI7WUFDaEUsSUFBSVEsZ0JBQWdCbkMsUUFBUSxJQUFJLE1BQU07Z0JBQ2xDO1lBQ0o7WUFDQSxNQUFNcUMsZ0JBQWdCLE1BQU0sSUFBSSxDQUFDTCxtQkFBbUIsQ0FBQ0w7WUFDckQsSUFBSVUsaUJBQWlCLE1BQU07Z0JBQ3ZCRixnQkFBZ0JuQyxRQUFRLEdBQUdxQztZQUMvQjtRQUNKO0lBQ0o7SUFDQSxJQUFJQyxjQUFjO1FBQ2QsT0FBTyxJQUFJLENBQUNqRSxzQkFBc0I7SUFDdEM7SUFDQWtFLFdBQVdDLGVBQWUsRUFBRUMsV0FBVyxFQUFFO1FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUNDLHFCQUFxQixDQUFDRCxjQUFjO1lBQzFDLE9BQU87UUFDWDtRQUNBLG9EQUFvRDtRQUNwRCxJQUFJLENBQUMsSUFBSSxDQUFDbkUsZUFBZSxDQUFDb0QsR0FBRyxDQUFDZSxjQUFjO1lBQ3hDLElBQUksQ0FBQ25FLGVBQWUsQ0FBQ29DLEdBQUcsQ0FBQytCLGFBQWE7Z0JBQUV4RCxNQUFNd0Q7Z0JBQWFkLE9BQU8sSUFBSSxDQUFDckQsZUFBZSxDQUFDcUUsSUFBSTtZQUFDO1FBQ2hHO1FBQ0EsTUFBTUMsbUJBQW1CLElBQUksQ0FBQ3RFLGVBQWUsQ0FBQ3lCLEdBQUcsQ0FBQzBDO1FBQ2xELE1BQU1JLGVBQWVELGlCQUFpQmpCLEtBQUs7UUFDM0MsMkNBQTJDO1FBQzNDYSxlQUFlLENBQUN2RSx5REFBZUEsQ0FBQyxHQUFHd0QsR0FBRyxDQUFDb0I7UUFDdkMsNkJBQTZCO1FBQzdCLElBQUksQ0FBQ3hFLHNCQUFzQixDQUFDcUMsR0FBRyxDQUFDbUMsY0FBY0w7UUFDOUMsSUFBSSxDQUFDckUsV0FBVyxDQUFDdUMsR0FBRyxDQUFDOEIsZ0JBQWdCYixLQUFLLEVBQUVhO1FBQzVDLElBQUksQ0FBQ00scUJBQXFCLENBQUNELGNBQWNMO1FBQ3pDLE9BQU87SUFDWDtJQUNBTyxjQUFjRixZQUFZLEVBQUU7UUFDeEIsSUFBSSxJQUFJLENBQUNQLFdBQVcsQ0FBQ1osR0FBRyxDQUFDbUIsZUFBZTtZQUNwQyxJQUFJLENBQUNQLFdBQVcsQ0FBQ1UsTUFBTSxDQUFDSDtZQUN4QixNQUFNSSxjQUFjLElBQUksQ0FBQzdELElBQUksQ0FBQ1EsUUFBUSxDQUFDd0MsZ0JBQWdCO1lBQ3ZELElBQUlhLGVBQWUsTUFBTTtnQkFDckJBLFlBQVlELE1BQU0sQ0FBQ0g7WUFDdkI7UUFDSjtJQUNKO0lBQ0FDLHNCQUFzQkQsWUFBWSxFQUFFTCxlQUFlLEVBQUU7UUFDakQsK0NBQStDO1FBQy9DQSxlQUFlLENBQUN2RSx5REFBZUEsQ0FBQyxHQUFHd0QsR0FBRyxDQUFDb0I7UUFDdkMsSUFBSSxDQUFDekQsSUFBSSxDQUFDUSxRQUFRLENBQUNDLFdBQVcsR0FBRyxJQUFJLENBQUN2QixlQUFlO1FBQ3JELDREQUE0RDtRQUM1RCxJQUFJLENBQUNjLElBQUksQ0FBQ1EsUUFBUSxDQUFDd0MsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDaEQsSUFBSSxDQUFDUSxRQUFRLENBQUN3QyxnQkFBZ0IsSUFDckUsSUFBSTVDO1FBQ1IsTUFBTTBELE1BQU0sSUFBSSxDQUFDOUQsSUFBSSxDQUFDUSxRQUFRLENBQUN3QyxnQkFBZ0I7UUFDL0NjLElBQUl4QyxHQUFHLENBQUNtQyxjQUFjO1lBQ2xCN0MsVUFBVXdDLGVBQWUsQ0FBQ3RFLHFFQUFrQkEsQ0FBQyxDQUFDaUYsTUFBTSxHQUFHQyxJQUFJLEdBQUdDLEtBQUs7WUFDbkVDLG1CQUFtQmQsZ0JBQWdCYixLQUFLO1FBQzVDO0lBQ0o7SUFDQWUsc0JBQXNCRCxXQUFXLEVBQUU7UUFDL0IsTUFBTW5ELGdCQUFnQixJQUFJLENBQUNoQixlQUFlLENBQUN5QixHQUFHLENBQUMwQztRQUMvQyxJQUFJbkQsaUJBQWlCLFFBQVEsSUFBSSxDQUFDZ0QsV0FBVyxDQUFDWixHQUFHLENBQUNwQyxjQUFjcUMsS0FBSyxHQUFHO1lBQ3BFekIsUUFBUVksSUFBSSxDQUFDLENBQUMsOEJBQThCLEVBQUUyQixZQUFZLHVDQUF1QyxDQUFDO1lBQ2xHLE9BQU87UUFDWDtRQUNBLE9BQU87SUFDWDtBQUNKO0FBQ0E3RSxLQUFLTyxZQUFZTixLQUFLUSx1QkFBdUJQLEtBQUtlLHFCQUFxQmQsS0FBS2Usb0JBQzVFLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL25vZGVzL3ByaW1pdGl2ZS1ub2RlLmpzPzYzMjMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbmltcG9ydCB7ICRnZXRMb2FkZWRNYXRlcmlhbCwgJHZhcmlhbnRJbmRpY2VzIH0gZnJvbSAnLi4vbWF0ZXJpYWwuanMnO1xuaW1wb3J0IHsgJGNvcnJlbGF0ZWRPYmplY3RzIH0gZnJvbSAnLi4vdGhyZWUtZG9tLWVsZW1lbnQuanMnO1xuY29uc3QgJG1hdGVyaWFscyA9IFN5bWJvbCgnbWF0ZXJpYWxzJyk7XG5jb25zdCAkdmFyaWFudFRvTWF0ZXJpYWxNYXAgPSBTeW1ib2woJ3ZhcmlhbnRUb01hdGVyaWFsTWFwJyk7XG5jb25zdCAkbW9kZWxWYXJpYW50cyA9IFN5bWJvbCgnbW9kZWxWYXJpYW50cycpO1xuY29uc3QgJG1lc2ggPSBTeW1ib2woJ21lc2gnKTtcbmV4cG9ydCBjb25zdCAkcHJpbWl0aXZlcyA9IFN5bWJvbCgncHJpbWl0aXZlcycpO1xuZXhwb3J0IGNvbnN0ICRsb2FkVmFyaWFudCA9IFN5bWJvbCgnbG9hZFZhcmlhbnQnKTtcbmV4cG9ydCBjb25zdCAkcHJlcGFyZVZhcmlhbnRzRm9yRXhwb3J0ID0gU3ltYm9sKCdwcmVwYXJlVmFyaWFudHNGb3JFeHBvcnQnKTtcbmV4cG9ydCBjb25zdCAkc3dpdGNoVmFyaWFudCA9IFN5bWJvbCgnc3dpdGNoVmFyaWFudCcpO1xuZXhwb3J0IGNvbnN0ICRjaGlsZHJlbiA9IFN5bWJvbCgnY2hpbGRyZW4nKTtcbmV4cG9ydCBjb25zdCAkaW5pdGlhbE1hdGVyaWFsSWR4ID0gU3ltYm9sKCdpbml0aWFsTWF0ZXJpYWxJZHgnKTtcbmV4cG9ydCBjb25zdCAkYWN0aXZlTWF0ZXJpYWxJZHggPSBTeW1ib2woJ2FjdGl2ZU1hdGVyaWFsSWR4Jyk7XG4vLyBEZWZpbmVzIHRoZSBiYXNlIGxldmVsIG5vZGUgbWV0aG9kcyBhbmQgZGF0YS5cbmV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9ICcnO1xuICAgICAgICB0aGlzW19hXSA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbn1cbl9hID0gJGNoaWxkcmVuO1xuLy8gUmVwcmVzZW50cyBhIHByaW1pdGl2ZSBpbiBhIGdsVEYgbWVzaC5cbmV4cG9ydCBjbGFzcyBQcmltaXRpdmVOb2RlIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3IobWVzaCwgbXZNYXRlcmlhbHMsIG1vZGVsVmFyaWFudHMsIGNvcnJlbGF0ZWRTY2VuZUdyYXBoKSB7XG4gICAgICAgIHN1cGVyKG1lc2gubmFtZSk7XG4gICAgICAgIC8vIE1hcHMgZ2xURiBtYXRlcmlhbCBpbmRleCBudW1iZXIgdG8gYSBtYXRlcmlhbCB0aGF0IHRoaXMgcHJpbWl0aXZlIHN1cHBvcnRzLlxuICAgICAgICB0aGlzW19iXSA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gTWFwcyB2YXJpYW50IGluZGV4IHRvIG1hdGVyaWFsLlxuICAgICAgICB0aGlzW19jXSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpc1tfZF0gPSAwO1xuICAgICAgICB0aGlzW19lXSA9IDA7XG4gICAgICAgIHRoaXNbJG1lc2hdID0gbWVzaDtcbiAgICAgICAgY29uc3QgeyBnbHRmLCB0aHJlZUdMVEYsIHRocmVlT2JqZWN0TWFwIH0gPSBjb3JyZWxhdGVkU2NlbmVHcmFwaDtcbiAgICAgICAgdGhpc1skbW9kZWxWYXJpYW50c10gPSBtb2RlbFZhcmlhbnRzO1xuICAgICAgICB0aGlzLm1lc2gudXNlckRhdGEudmFyaWFudERhdGEgPSBtb2RlbFZhcmlhbnRzO1xuICAgICAgICAvLyBDYXB0dXJlcyB0aGUgcHJpbWl0aXZlJ3MgaW5pdGlhbCBtYXRlcmlhbC5cbiAgICAgICAgY29uc3QgbWF0ZXJpYWxNYXBwaW5ncyA9IHRocmVlT2JqZWN0TWFwLmdldChtZXNoLm1hdGVyaWFsKTtcbiAgICAgICAgaWYgKG1hdGVyaWFsTWFwcGluZ3MubWF0ZXJpYWxzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXNbJGluaXRpYWxNYXRlcmlhbElkeF0gPSB0aGlzWyRhY3RpdmVNYXRlcmlhbElkeF0gPVxuICAgICAgICAgICAgICAgIG1hdGVyaWFsTWFwcGluZ3MubWF0ZXJpYWxzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgUHJpbWl0aXZlICgke21lc2gubmFtZX0pIG1pc3NpbmcgaW5pdGlhbCBtYXRlcmlhbCByZWZlcmVuY2UuYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0cyB0aGUgbWVzaCBpbmRleCBmcm9tIHRoZSBub2RlLlxuICAgICAgICBjb25zdCBhc3NvY2lhdGlvbnMgPSBtZXNoLnVzZXJEYXRhLmFzc29jaWF0aW9ucyB8fFxuICAgICAgICAgICAge307XG4gICAgICAgIGlmIChhc3NvY2lhdGlvbnMubWVzaGVzID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01lc2ggaXMgbWlzc2luZyBwcmltaXRpdmUgaW5kZXggYXNzb2NpYXRpb24nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgZ2x0ZiBtZXNoIGFycmF5IHRvIHNhbXBsZSBmcm9tLlxuICAgICAgICBjb25zdCBtZXNoRWxlbWVudEFycmF5ID0gZ2x0ZlsnbWVzaGVzJ10gfHwgW107XG4gICAgICAgIC8vIExpc3Qgb2YgcHJpbWl0aXZlcyB1bmRlciB0aGUgbWVzaC5cbiAgICAgICAgY29uc3QgZ2x0ZlByaW1pdGl2ZXMgPSAobWVzaEVsZW1lbnRBcnJheVthc3NvY2lhdGlvbnMubWVzaGVzXS5wcmltaXRpdmVzIHx8IFtdKTtcbiAgICAgICAgY29uc3QgZ2x0ZlByaW1pdGl2ZSA9IGdsdGZQcmltaXRpdmVzW2Fzc29jaWF0aW9ucy5wcmltaXRpdmVzXTtcbiAgICAgICAgaWYgKGdsdGZQcmltaXRpdmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWVzaCBwcmltaXRpdmUgZGVmaW5pdGlvbiBpcyBtaXNzaW5nLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1hcHMgdGhlIGdsdGZQcmltaXRpdmUgZGVmYXVsdCB0byBhIG1hdGVyaWFsLlxuICAgICAgICBpZiAoZ2x0ZlByaW1pdGl2ZS5tYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzWyRtYXRlcmlhbHNdLnNldChnbHRmUHJpbWl0aXZlLm1hdGVyaWFsLCBtdk1hdGVyaWFsc1tnbHRmUHJpbWl0aXZlLm1hdGVyaWFsXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0SWR4ID0gbXZNYXRlcmlhbHMuZmluZEluZGV4KChtYXQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Lm5hbWUgPT09ICdEZWZhdWx0JztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRJZHggPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJG1hdGVyaWFsc10uc2V0KGRlZmF1bHRJZHgsIG12TWF0ZXJpYWxzW2RlZmF1bHRJZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignZ2x0ZlByaW1pdGl2ZSBoYXMgbm8gbWF0ZXJpYWwhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsdGZQcmltaXRpdmUuZXh0ZW5zaW9ucyAmJlxuICAgICAgICAgICAgZ2x0ZlByaW1pdGl2ZS5leHRlbnNpb25zWydLSFJfbWF0ZXJpYWxzX3ZhcmlhbnRzJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRzRXh0ZW5zaW9uID0gZ2x0ZlByaW1pdGl2ZS5leHRlbnNpb25zWydLSFJfbWF0ZXJpYWxzX3ZhcmlhbnRzJ107XG4gICAgICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdGhyZWVHTFRGLnBhcnNlci5qc29uLmV4dGVuc2lvbnM7XG4gICAgICAgICAgICBjb25zdCB2YXJpYW50TmFtZXMgPSBleHRlbnNpb25zWydLSFJfbWF0ZXJpYWxzX3ZhcmlhbnRzJ10udmFyaWFudHM7XG4gICAgICAgICAgICAvLyBQcm92aWRlcyBkZWZpbml0aW9uIG5vdyB0aGF0IHdlIGtub3cgdGhlcmUgYXJlIHZhcmlhbnRzIHRvXG4gICAgICAgICAgICAvLyBzdXBwb3J0LlxuICAgICAgICAgICAgZm9yIChjb25zdCBtYXBwaW5nIG9mIHZhcmlhbnRzRXh0ZW5zaW9uLm1hcHBpbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXZNYXRlcmlhbCA9IG12TWF0ZXJpYWxzW21hcHBpbmcubWF0ZXJpYWxdO1xuICAgICAgICAgICAgICAgIC8vIE1hcHMgdmFyaWFudCBpbmRpY2VzIHRvIE1hdGVyaWFscy5cbiAgICAgICAgICAgICAgICB0aGlzWyRtYXRlcmlhbHNdLnNldChtYXBwaW5nLm1hdGVyaWFsLCBtdk1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnQgb2YgbWFwcGluZy52YXJpYW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IHZhcmlhbnROYW1lc1t2YXJpYW50XTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skdmFyaWFudFRvTWF0ZXJpYWxNYXBdLnNldCh2YXJpYW50LCBtdk1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvdmlkZXMgdmFyaWFudCBpbmZvIGZvciBtYXRlcmlhbCBzZWxmIGxvb2t1cC5cbiAgICAgICAgICAgICAgICAgICAgbXZNYXRlcmlhbFskdmFyaWFudEluZGljZXNdKCkuYWRkKHZhcmlhbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGVzIHRoZSBtb2RlbHMgdmFyaWFudCBkYXRhLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGVsVmFyaWFudHMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZhcmlhbnRzLnNldChuYW1lLCB7IG5hbWUsIGluZGV4OiB2YXJpYW50IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBtZXNoKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skbWVzaF07XG4gICAgfVxuICAgIGFzeW5jIHNldEFjdGl2ZU1hdGVyaWFsKG1hdGVyaWFsKSB7XG4gICAgICAgIGNvbnN0IG12TWF0ZXJpYWwgPSB0aGlzWyRtYXRlcmlhbHNdLmdldChtYXRlcmlhbCk7XG4gICAgICAgIGlmIChtdk1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbCA9IGF3YWl0IG12TWF0ZXJpYWxbJGdldExvYWRlZE1hdGVyaWFsXSgpO1xuICAgICAgICAgICAgdGhpc1skYWN0aXZlTWF0ZXJpYWxJZHhdID0gbWF0ZXJpYWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubWVzaC5tYXRlcmlhbDtcbiAgICB9XG4gICAgZ2V0QWN0aXZlTWF0ZXJpYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRtYXRlcmlhbHNdLmdldCh0aGlzWyRhY3RpdmVNYXRlcmlhbElkeF0pO1xuICAgIH1cbiAgICBnZXRNYXRlcmlhbChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpc1skbWF0ZXJpYWxzXS5nZXQoaW5kZXgpO1xuICAgIH1cbiAgICBhc3luYyBlbmFibGVWYXJpYW50KG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0QWN0aXZlTWF0ZXJpYWwodGhpc1skaW5pdGlhbE1hdGVyaWFsSWR4XSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXNbJHZhcmlhbnRUb01hdGVyaWFsTWFwXSAhPSBudWxsICYmIHRoaXNbJG1vZGVsVmFyaWFudHNdLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgbW9kZWxWYXJpYW50cyA9IHRoaXNbJG1vZGVsVmFyaWFudHNdLmdldChuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVuYWJsZVZhcmlhbnRIZWxwZXIobW9kZWxWYXJpYW50cy5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGFzeW5jIGVuYWJsZVZhcmlhbnRIZWxwZXIoaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXNbJHZhcmlhbnRUb01hdGVyaWFsTWFwXSAhPSBudWxsICYmIGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gdGhpc1skdmFyaWFudFRvTWF0ZXJpYWxNYXBdLmdldChpbmRleCk7XG4gICAgICAgICAgICBpZiAobWF0ZXJpYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEFjdGl2ZU1hdGVyaWFsKG1hdGVyaWFsLmluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgaW5zdGFudGlhdGVWYXJpYW50cygpIHtcbiAgICAgICAgaWYgKHRoaXNbJHZhcmlhbnRUb01hdGVyaWFsTWFwXSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiB0aGlzWyR2YXJpYW50VG9NYXRlcmlhbE1hcF0ua2V5cygpKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYW50TWF0ZXJpYWwgPSB0aGlzLm1lc2gudXNlckRhdGEudmFyaWFudE1hdGVyaWFscy5nZXQoaW5kZXgpO1xuICAgICAgICAgICAgaWYgKHZhcmlhbnRNYXRlcmlhbC5tYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0aHJlZU1hdGVyaWFsID0gYXdhaXQgdGhpcy5lbmFibGVWYXJpYW50SGVscGVyKGluZGV4KTtcbiAgICAgICAgICAgIGlmICh0aHJlZU1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50TWF0ZXJpYWwubWF0ZXJpYWwgPSB0aHJlZU1hdGVyaWFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB2YXJpYW50SW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHZhcmlhbnRUb01hdGVyaWFsTWFwXTtcbiAgICB9XG4gICAgYWRkVmFyaWFudChtYXRlcmlhbFZhcmlhbnQsIHZhcmlhbnROYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5lbnN1cmVWYXJpYW50SXNVbnVzZWQodmFyaWFudE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkcyB0aGUgdmFyaWFudCB0byB0aGUgbW9kZWwgdmFyaWFudHMgaWYgbmVlZGVkLlxuICAgICAgICBpZiAoIXRoaXNbJG1vZGVsVmFyaWFudHNdLmhhcyh2YXJpYW50TmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXNbJG1vZGVsVmFyaWFudHNdLnNldCh2YXJpYW50TmFtZSwgeyBuYW1lOiB2YXJpYW50TmFtZSwgaW5kZXg6IHRoaXNbJG1vZGVsVmFyaWFudHNdLnNpemUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZWxWYXJpYW50RGF0YSA9IHRoaXNbJG1vZGVsVmFyaWFudHNdLmdldCh2YXJpYW50TmFtZSk7XG4gICAgICAgIGNvbnN0IHZhcmlhbnRJbmRleCA9IG1vZGVsVmFyaWFudERhdGEuaW5kZXg7XG4gICAgICAgIC8vIFVwZGF0ZXMgbWF0ZXJpYWxzIG1hcHBlZCB0byB0aGUgdmFyaWFudC5cbiAgICAgICAgbWF0ZXJpYWxWYXJpYW50WyR2YXJpYW50SW5kaWNlc10oKS5hZGQodmFyaWFudEluZGV4KTtcbiAgICAgICAgLy8gVXBkYXRlcyBpbnRlcm5hbCBtYXBwaW5ncy5cbiAgICAgICAgdGhpc1skdmFyaWFudFRvTWF0ZXJpYWxNYXBdLnNldCh2YXJpYW50SW5kZXgsIG1hdGVyaWFsVmFyaWFudCk7XG4gICAgICAgIHRoaXNbJG1hdGVyaWFsc10uc2V0KG1hdGVyaWFsVmFyaWFudC5pbmRleCwgbWF0ZXJpYWxWYXJpYW50KTtcbiAgICAgICAgdGhpcy51cGRhdGVWYXJpYW50VXNlckRhdGEodmFyaWFudEluZGV4LCBtYXRlcmlhbFZhcmlhbnQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZGVsZXRlVmFyaWFudCh2YXJpYW50SW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFyaWFudEluZm8uaGFzKHZhcmlhbnRJbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFudEluZm8uZGVsZXRlKHZhcmlhbnRJbmRleCk7XG4gICAgICAgICAgICBjb25zdCB1c2VyRGF0YU1hcCA9IHRoaXMubWVzaC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzO1xuICAgICAgICAgICAgaWYgKHVzZXJEYXRhTWFwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB1c2VyRGF0YU1hcC5kZWxldGUodmFyaWFudEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVWYXJpYW50VXNlckRhdGEodmFyaWFudEluZGV4LCBtYXRlcmlhbFZhcmlhbnQpIHtcbiAgICAgICAgLy8gQWRkcyB2YXJpYW50cyBuYW1lIHRvIG1hdGVyaWFsIHZhcmlhbnRzIHNldC5cbiAgICAgICAgbWF0ZXJpYWxWYXJpYW50WyR2YXJpYW50SW5kaWNlc10oKS5hZGQodmFyaWFudEluZGV4KTtcbiAgICAgICAgdGhpcy5tZXNoLnVzZXJEYXRhLnZhcmlhbnREYXRhID0gdGhpc1skbW9kZWxWYXJpYW50c107XG4gICAgICAgIC8vIFVwZGF0ZXMgaW1wb3J0IGRhdGEgKHNlZSBWYXJpYW50TWF0ZXJpYWxMb2FkZXJQbHVnaW4udHMpLlxuICAgICAgICB0aGlzLm1lc2gudXNlckRhdGEudmFyaWFudE1hdGVyaWFscyA9IHRoaXMubWVzaC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzIHx8XG4gICAgICAgICAgICBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMubWVzaC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzO1xuICAgICAgICBtYXAuc2V0KHZhcmlhbnRJbmRleCwge1xuICAgICAgICAgICAgbWF0ZXJpYWw6IG1hdGVyaWFsVmFyaWFudFskY29ycmVsYXRlZE9iamVjdHNdLnZhbHVlcygpLm5leHQoKS52YWx1ZSxcbiAgICAgICAgICAgIGdsdGZNYXRlcmlhbEluZGV4OiBtYXRlcmlhbFZhcmlhbnQuaW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbnN1cmVWYXJpYW50SXNVbnVzZWQodmFyaWFudE5hbWUpIHtcbiAgICAgICAgY29uc3QgbW9kZWxWYXJpYW50cyA9IHRoaXNbJG1vZGVsVmFyaWFudHNdLmdldCh2YXJpYW50TmFtZSk7XG4gICAgICAgIGlmIChtb2RlbFZhcmlhbnRzICE9IG51bGwgJiYgdGhpcy52YXJpYW50SW5mby5oYXMobW9kZWxWYXJpYW50cy5pbmRleCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgUHJpbWl0aXZlIGNhbm5vdCBhZGQgdmFyaWFudCAnJHt2YXJpYW50TmFtZX0nIGZvciB0aGlzIG1hdGVyaWFsLCBpdCBhbHJlYWR5IGV4aXN0cy5gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5fYiA9ICRtYXRlcmlhbHMsIF9jID0gJHZhcmlhbnRUb01hdGVyaWFsTWFwLCBfZCA9ICRpbml0aWFsTWF0ZXJpYWxJZHgsIF9lID0gJGFjdGl2ZU1hdGVyaWFsSWR4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJpbWl0aXZlLW5vZGUuanMubWFwIl0sIm5hbWVzIjpbIl9hIiwiX2IiLCJfYyIsIl9kIiwiX2UiLCIkZ2V0TG9hZGVkTWF0ZXJpYWwiLCIkdmFyaWFudEluZGljZXMiLCIkY29ycmVsYXRlZE9iamVjdHMiLCIkbWF0ZXJpYWxzIiwiU3ltYm9sIiwiJHZhcmlhbnRUb01hdGVyaWFsTWFwIiwiJG1vZGVsVmFyaWFudHMiLCIkbWVzaCIsIiRwcmltaXRpdmVzIiwiJGxvYWRWYXJpYW50IiwiJHByZXBhcmVWYXJpYW50c0ZvckV4cG9ydCIsIiRzd2l0Y2hWYXJpYW50IiwiJGNoaWxkcmVuIiwiJGluaXRpYWxNYXRlcmlhbElkeCIsIiRhY3RpdmVNYXRlcmlhbElkeCIsIk5vZGUiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsIlByaW1pdGl2ZU5vZGUiLCJtZXNoIiwibXZNYXRlcmlhbHMiLCJtb2RlbFZhcmlhbnRzIiwiY29ycmVsYXRlZFNjZW5lR3JhcGgiLCJNYXAiLCJnbHRmIiwidGhyZWVHTFRGIiwidGhyZWVPYmplY3RNYXAiLCJ1c2VyRGF0YSIsInZhcmlhbnREYXRhIiwibWF0ZXJpYWxNYXBwaW5ncyIsImdldCIsIm1hdGVyaWFsIiwibWF0ZXJpYWxzIiwiY29uc29sZSIsImVycm9yIiwiYXNzb2NpYXRpb25zIiwibWVzaGVzIiwibWVzaEVsZW1lbnRBcnJheSIsImdsdGZQcmltaXRpdmVzIiwicHJpbWl0aXZlcyIsImdsdGZQcmltaXRpdmUiLCJzZXQiLCJkZWZhdWx0SWR4IiwiZmluZEluZGV4IiwibWF0Iiwid2FybiIsImV4dGVuc2lvbnMiLCJ2YXJpYW50c0V4dGVuc2lvbiIsInBhcnNlciIsImpzb24iLCJ2YXJpYW50TmFtZXMiLCJ2YXJpYW50cyIsIm1hcHBpbmciLCJtYXBwaW5ncyIsIm12TWF0ZXJpYWwiLCJ2YXJpYW50IiwiYWRkIiwiaGFzIiwiaW5kZXgiLCJzZXRBY3RpdmVNYXRlcmlhbCIsImdldEFjdGl2ZU1hdGVyaWFsIiwiZ2V0TWF0ZXJpYWwiLCJlbmFibGVWYXJpYW50IiwiZW5hYmxlVmFyaWFudEhlbHBlciIsImluc3RhbnRpYXRlVmFyaWFudHMiLCJrZXlzIiwidmFyaWFudE1hdGVyaWFsIiwidmFyaWFudE1hdGVyaWFscyIsInRocmVlTWF0ZXJpYWwiLCJ2YXJpYW50SW5mbyIsImFkZFZhcmlhbnQiLCJtYXRlcmlhbFZhcmlhbnQiLCJ2YXJpYW50TmFtZSIsImVuc3VyZVZhcmlhbnRJc1VudXNlZCIsInNpemUiLCJtb2RlbFZhcmlhbnREYXRhIiwidmFyaWFudEluZGV4IiwidXBkYXRlVmFyaWFudFVzZXJEYXRhIiwiZGVsZXRlVmFyaWFudCIsImRlbGV0ZSIsInVzZXJEYXRhTWFwIiwibWFwIiwidmFsdWVzIiwibmV4dCIsInZhbHVlIiwiZ2x0Zk1hdGVyaWFsSW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/nodes/primitive-node.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/pbr-metallic-roughness.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/pbr-metallic-roughness.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PBRMetallicRoughness: () => (/* binding */ PBRMetallicRoughness)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _texture_info_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./texture-info.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\nconst $threeMaterials = Symbol(\"threeMaterials\");\nconst $baseColorTexture = Symbol(\"baseColorTexture\");\nconst $metallicRoughnessTexture = Symbol(\"metallicRoughnessTexture\");\n/**\n * PBR material properties facade implementation for Three.js materials\n */ class PBRMetallicRoughness extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.ThreeDOMElement {\n    constructor(onUpdate, gltf, pbrMetallicRoughness, correlatedMaterials){\n        super(onUpdate, pbrMetallicRoughness, correlatedMaterials);\n        // Assign glTF default values\n        if (pbrMetallicRoughness.baseColorFactor == null) {\n            pbrMetallicRoughness.baseColorFactor = [\n                1,\n                1,\n                1,\n                1\n            ];\n        }\n        if (pbrMetallicRoughness.roughnessFactor == null) {\n            pbrMetallicRoughness.roughnessFactor = 1;\n        }\n        if (pbrMetallicRoughness.metallicFactor == null) {\n            pbrMetallicRoughness.metallicFactor = 1;\n        }\n        const { baseColorTexture: gltfBaseColorTexture, metallicRoughnessTexture: gltfMetallicRoughnessTexture } = pbrMetallicRoughness;\n        const { map, metalnessMap } = correlatedMaterials.values().next().value;\n        this[$baseColorTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_0__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_0__.TextureUsage.Base, map, correlatedMaterials, gltf, gltfBaseColorTexture ? gltfBaseColorTexture : null);\n        this[$metallicRoughnessTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_0__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_0__.TextureUsage.MetallicRoughness, metalnessMap, correlatedMaterials, gltf, gltfMetallicRoughnessTexture ? gltfMetallicRoughnessTexture : null);\n    }\n    get [$threeMaterials]() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects];\n    }\n    get baseColorFactor() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject].baseColorFactor;\n    }\n    get metallicFactor() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject].metallicFactor;\n    }\n    get roughnessFactor() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject].roughnessFactor;\n    }\n    get baseColorTexture() {\n        return this[$baseColorTexture];\n    }\n    get metallicRoughnessTexture() {\n        return this[$metallicRoughnessTexture];\n    }\n    setBaseColorFactor(rgba) {\n        const color = new three__WEBPACK_IMPORTED_MODULE_2__.Color();\n        if (rgba instanceof Array) {\n            color.fromArray(rgba);\n        } else {\n            color.set(rgba).convertSRGBToLinear();\n        }\n        for (const material of this[$threeMaterials]){\n            material.color.set(color);\n            if (rgba instanceof Array) {\n                material.opacity = rgba[3];\n            } else {\n                rgba = [\n                    0,\n                    0,\n                    0,\n                    material.opacity\n                ];\n                color.toArray(rgba);\n            }\n        }\n        const pbrMetallicRoughness = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject];\n        pbrMetallicRoughness.baseColorFactor = rgba;\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$onUpdate]();\n    }\n    setMetallicFactor(value) {\n        for (const material of this[$threeMaterials]){\n            material.metalness = value;\n        }\n        const pbrMetallicRoughness = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject];\n        pbrMetallicRoughness.metallicFactor = value;\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$onUpdate]();\n    }\n    setRoughnessFactor(value) {\n        for (const material of this[$threeMaterials]){\n            material.roughness = value;\n        }\n        const pbrMetallicRoughness = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject];\n        pbrMetallicRoughness.roughnessFactor = value;\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$onUpdate]();\n    }\n} //# sourceMappingURL=pbr-metallic-roughness.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3Bici1tZXRhbGxpYy1yb3VnaG5lc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDNkI7QUFDZ0M7QUFDeUM7QUFDdkcsTUFBTU8sa0JBQWtCQyxPQUFPO0FBQy9CLE1BQU1DLG9CQUFvQkQsT0FBTztBQUNqQyxNQUFNRSw0QkFBNEJGLE9BQU87QUFDekM7O0NBRUMsR0FDTSxNQUFNRyw2QkFBNkJMLGtFQUFlQTtJQUNyRE0sWUFBWUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLG9CQUFvQixFQUFFQyxtQkFBbUIsQ0FBRTtRQUNuRSxLQUFLLENBQUNILFVBQVVFLHNCQUFzQkM7UUFDdEMsNkJBQTZCO1FBQzdCLElBQUlELHFCQUFxQkUsZUFBZSxJQUFJLE1BQU07WUFDOUNGLHFCQUFxQkUsZUFBZSxHQUFHO2dCQUFDO2dCQUFHO2dCQUFHO2dCQUFHO2FBQUU7UUFDdkQ7UUFDQSxJQUFJRixxQkFBcUJHLGVBQWUsSUFBSSxNQUFNO1lBQzlDSCxxQkFBcUJHLGVBQWUsR0FBRztRQUMzQztRQUNBLElBQUlILHFCQUFxQkksY0FBYyxJQUFJLE1BQU07WUFDN0NKLHFCQUFxQkksY0FBYyxHQUFHO1FBQzFDO1FBQ0EsTUFBTSxFQUFFQyxrQkFBa0JDLG9CQUFvQixFQUFFQywwQkFBMEJDLDRCQUE0QixFQUFFLEdBQUdSO1FBQzNHLE1BQU0sRUFBRVMsR0FBRyxFQUFFQyxZQUFZLEVBQUUsR0FBR1Qsb0JBQW9CVSxNQUFNLEdBQUdDLElBQUksR0FBR0MsS0FBSztRQUN2RSxJQUFJLENBQUNuQixrQkFBa0IsR0FBRyxJQUFJUix5REFBV0EsQ0FBQ1ksVUFBVVgsMERBQVlBLENBQUMyQixJQUFJLEVBQUVMLEtBQUtSLHFCQUFxQkYsTUFBTU8sdUJBQXVCQSx1QkFBdUI7UUFDckosSUFBSSxDQUFDWCwwQkFBMEIsR0FBRyxJQUFJVCx5REFBV0EsQ0FBQ1ksVUFBVVgsMERBQVlBLENBQUM0QixpQkFBaUIsRUFBRUwsY0FBY1QscUJBQXFCRixNQUFNUywrQkFBK0JBLCtCQUErQjtJQUN2TTtJQUNBLElBQUksQ0FBQ2hCLGdCQUFnQixHQUFHO1FBQ3BCLE9BQU8sSUFBSSxDQUFDSixxRUFBa0JBLENBQUM7SUFDbkM7SUFDQSxJQUFJYyxrQkFBa0I7UUFDbEIsT0FBTyxJQUFJLENBQUNaLGdFQUFhQSxDQUFDLENBQ3JCWSxlQUFlO0lBQ3hCO0lBQ0EsSUFBSUUsaUJBQWlCO1FBQ2pCLE9BQU8sSUFBSSxDQUFDZCxnRUFBYUEsQ0FBQyxDQUNyQmMsY0FBYztJQUN2QjtJQUNBLElBQUlELGtCQUFrQjtRQUNsQixPQUFPLElBQUksQ0FBQ2IsZ0VBQWFBLENBQUMsQ0FDckJhLGVBQWU7SUFDeEI7SUFDQSxJQUFJRSxtQkFBbUI7UUFDbkIsT0FBTyxJQUFJLENBQUNYLGtCQUFrQjtJQUNsQztJQUNBLElBQUlhLDJCQUEyQjtRQUMzQixPQUFPLElBQUksQ0FBQ1osMEJBQTBCO0lBQzFDO0lBQ0FxQixtQkFBbUJDLElBQUksRUFBRTtRQUNyQixNQUFNQyxRQUFRLElBQUlqQyx3Q0FBS0E7UUFDdkIsSUFBSWdDLGdCQUFnQkUsT0FBTztZQUN2QkQsTUFBTUUsU0FBUyxDQUFDSDtRQUNwQixPQUNLO1lBQ0RDLE1BQU1HLEdBQUcsQ0FBQ0osTUFBTUssbUJBQW1CO1FBQ3ZDO1FBQ0EsS0FBSyxNQUFNQyxZQUFZLElBQUksQ0FBQy9CLGdCQUFnQixDQUFFO1lBQzFDK0IsU0FBU0wsS0FBSyxDQUFDRyxHQUFHLENBQUNIO1lBQ25CLElBQUlELGdCQUFnQkUsT0FBTztnQkFDdkJJLFNBQVNDLE9BQU8sR0FBRyxJQUFNLENBQUMsRUFBRTtZQUNoQyxPQUNLO2dCQUNEUCxPQUFPO29CQUFDO29CQUFHO29CQUFHO29CQUFHTSxTQUFTQyxPQUFPO2lCQUFDO2dCQUNsQ04sTUFBTU8sT0FBTyxDQUFDUjtZQUNsQjtRQUNKO1FBQ0EsTUFBTWpCLHVCQUF1QixJQUFJLENBQUNWLGdFQUFhQSxDQUFDO1FBQ2hEVSxxQkFBcUJFLGVBQWUsR0FBR2U7UUFDdkMsSUFBSSxDQUFDNUIsNERBQVNBLENBQUM7SUFDbkI7SUFDQXFDLGtCQUFrQmIsS0FBSyxFQUFFO1FBQ3JCLEtBQUssTUFBTVUsWUFBWSxJQUFJLENBQUMvQixnQkFBZ0IsQ0FBRTtZQUMxQytCLFNBQVNJLFNBQVMsR0FBR2Q7UUFDekI7UUFDQSxNQUFNYix1QkFBdUIsSUFBSSxDQUFDVixnRUFBYUEsQ0FBQztRQUNoRFUscUJBQXFCSSxjQUFjLEdBQUdTO1FBQ3RDLElBQUksQ0FBQ3hCLDREQUFTQSxDQUFDO0lBQ25CO0lBQ0F1QyxtQkFBbUJmLEtBQUssRUFBRTtRQUN0QixLQUFLLE1BQU1VLFlBQVksSUFBSSxDQUFDL0IsZ0JBQWdCLENBQUU7WUFDMUMrQixTQUFTTSxTQUFTLEdBQUdoQjtRQUN6QjtRQUNBLE1BQU1iLHVCQUF1QixJQUFJLENBQUNWLGdFQUFhQSxDQUFDO1FBQ2hEVSxxQkFBcUJHLGVBQWUsR0FBR1U7UUFDdkMsSUFBSSxDQUFDeEIsNERBQVNBLENBQUM7SUFDbkI7QUFDSixFQUNBLGtEQUFrRCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3Bici1tZXRhbGxpYy1yb3VnaG5lc3MuanM/MTFmNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFRleHR1cmVJbmZvLCBUZXh0dXJlVXNhZ2UgfSBmcm9tICcuL3RleHR1cmUtaW5mby5qcyc7XG5pbXBvcnQgeyAkY29ycmVsYXRlZE9iamVjdHMsICRvblVwZGF0ZSwgJHNvdXJjZU9iamVjdCwgVGhyZWVET01FbGVtZW50IH0gZnJvbSAnLi90aHJlZS1kb20tZWxlbWVudC5qcyc7XG5jb25zdCAkdGhyZWVNYXRlcmlhbHMgPSBTeW1ib2woJ3RocmVlTWF0ZXJpYWxzJyk7XG5jb25zdCAkYmFzZUNvbG9yVGV4dHVyZSA9IFN5bWJvbCgnYmFzZUNvbG9yVGV4dHVyZScpO1xuY29uc3QgJG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSA9IFN5bWJvbCgnbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlJyk7XG4vKipcbiAqIFBCUiBtYXRlcmlhbCBwcm9wZXJ0aWVzIGZhY2FkZSBpbXBsZW1lbnRhdGlvbiBmb3IgVGhyZWUuanMgbWF0ZXJpYWxzXG4gKi9cbmV4cG9ydCBjbGFzcyBQQlJNZXRhbGxpY1JvdWdobmVzcyBleHRlbmRzIFRocmVlRE9NRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob25VcGRhdGUsIGdsdGYsIHBick1ldGFsbGljUm91Z2huZXNzLCBjb3JyZWxhdGVkTWF0ZXJpYWxzKSB7XG4gICAgICAgIHN1cGVyKG9uVXBkYXRlLCBwYnJNZXRhbGxpY1JvdWdobmVzcywgY29ycmVsYXRlZE1hdGVyaWFscyk7XG4gICAgICAgIC8vIEFzc2lnbiBnbFRGIGRlZmF1bHQgdmFsdWVzXG4gICAgICAgIGlmIChwYnJNZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgcGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yID0gWzEsIDEsIDEsIDFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYnJNZXRhbGxpY1JvdWdobmVzcy5yb3VnaG5lc3NGYWN0b3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgcGJyTWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yID0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgcGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYmFzZUNvbG9yVGV4dHVyZTogZ2x0ZkJhc2VDb2xvclRleHR1cmUsIG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZTogZ2x0Zk1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSB9ID0gcGJyTWV0YWxsaWNSb3VnaG5lc3M7XG4gICAgICAgIGNvbnN0IHsgbWFwLCBtZXRhbG5lc3NNYXAgfSA9IGNvcnJlbGF0ZWRNYXRlcmlhbHMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICB0aGlzWyRiYXNlQ29sb3JUZXh0dXJlXSA9IG5ldyBUZXh0dXJlSW5mbyhvblVwZGF0ZSwgVGV4dHVyZVVzYWdlLkJhc2UsIG1hcCwgY29ycmVsYXRlZE1hdGVyaWFscywgZ2x0ZiwgZ2x0ZkJhc2VDb2xvclRleHR1cmUgPyBnbHRmQmFzZUNvbG9yVGV4dHVyZSA6IG51bGwpO1xuICAgICAgICB0aGlzWyRtZXRhbGxpY1JvdWdobmVzc1RleHR1cmVdID0gbmV3IFRleHR1cmVJbmZvKG9uVXBkYXRlLCBUZXh0dXJlVXNhZ2UuTWV0YWxsaWNSb3VnaG5lc3MsIG1ldGFsbmVzc01hcCwgY29ycmVsYXRlZE1hdGVyaWFscywgZ2x0ZiwgZ2x0Zk1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSA/IGdsdGZNZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgOiBudWxsKTtcbiAgICB9XG4gICAgZ2V0IFskdGhyZWVNYXRlcmlhbHNdKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skY29ycmVsYXRlZE9iamVjdHNdO1xuICAgIH1cbiAgICBnZXQgYmFzZUNvbG9yRmFjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XVxuICAgICAgICAgICAgLmJhc2VDb2xvckZhY3RvcjtcbiAgICB9XG4gICAgZ2V0IG1ldGFsbGljRmFjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XVxuICAgICAgICAgICAgLm1ldGFsbGljRmFjdG9yO1xuICAgIH1cbiAgICBnZXQgcm91Z2huZXNzRmFjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XVxuICAgICAgICAgICAgLnJvdWdobmVzc0ZhY3RvcjtcbiAgICB9XG4gICAgZ2V0IGJhc2VDb2xvclRleHR1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRiYXNlQ29sb3JUZXh0dXJlXTtcbiAgICB9XG4gICAgZ2V0IG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZV07XG4gICAgfVxuICAgIHNldEJhc2VDb2xvckZhY3RvcihyZ2JhKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gbmV3IENvbG9yKCk7XG4gICAgICAgIGlmIChyZ2JhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGNvbG9yLmZyb21BcnJheShyZ2JhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yLnNldChyZ2JhKS5jb252ZXJ0U1JHQlRvTGluZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiB0aGlzWyR0aHJlZU1hdGVyaWFsc10pIHtcbiAgICAgICAgICAgIG1hdGVyaWFsLmNvbG9yLnNldChjb2xvcik7XG4gICAgICAgICAgICBpZiAocmdiYSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9IChyZ2JhKVszXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJnYmEgPSBbMCwgMCwgMCwgbWF0ZXJpYWwub3BhY2l0eV07XG4gICAgICAgICAgICAgICAgY29sb3IudG9BcnJheShyZ2JhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYnJNZXRhbGxpY1JvdWdobmVzcyA9IHRoaXNbJHNvdXJjZU9iamVjdF07XG4gICAgICAgIHBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvciA9IHJnYmE7XG4gICAgICAgIHRoaXNbJG9uVXBkYXRlXSgpO1xuICAgIH1cbiAgICBzZXRNZXRhbGxpY0ZhY3Rvcih2YWx1ZSkge1xuICAgICAgICBmb3IgKGNvbnN0IG1hdGVyaWFsIG9mIHRoaXNbJHRocmVlTWF0ZXJpYWxzXSkge1xuICAgICAgICAgICAgbWF0ZXJpYWwubWV0YWxuZXNzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGJyTWV0YWxsaWNSb3VnaG5lc3MgPSB0aGlzWyRzb3VyY2VPYmplY3RdO1xuICAgICAgICBwYnJNZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvciA9IHZhbHVlO1xuICAgICAgICB0aGlzWyRvblVwZGF0ZV0oKTtcbiAgICB9XG4gICAgc2V0Um91Z2huZXNzRmFjdG9yKHZhbHVlKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgdGhpc1skdGhyZWVNYXRlcmlhbHNdKSB7XG4gICAgICAgICAgICBtYXRlcmlhbC5yb3VnaG5lc3MgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYnJNZXRhbGxpY1JvdWdobmVzcyA9IHRoaXNbJHNvdXJjZU9iamVjdF07XG4gICAgICAgIHBick1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvciA9IHZhbHVlO1xuICAgICAgICB0aGlzWyRvblVwZGF0ZV0oKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYnItbWV0YWxsaWMtcm91Z2huZXNzLmpzLm1hcCJdLCJuYW1lcyI6WyJDb2xvciIsIlRleHR1cmVJbmZvIiwiVGV4dHVyZVVzYWdlIiwiJGNvcnJlbGF0ZWRPYmplY3RzIiwiJG9uVXBkYXRlIiwiJHNvdXJjZU9iamVjdCIsIlRocmVlRE9NRWxlbWVudCIsIiR0aHJlZU1hdGVyaWFscyIsIlN5bWJvbCIsIiRiYXNlQ29sb3JUZXh0dXJlIiwiJG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSIsIlBCUk1ldGFsbGljUm91Z2huZXNzIiwiY29uc3RydWN0b3IiLCJvblVwZGF0ZSIsImdsdGYiLCJwYnJNZXRhbGxpY1JvdWdobmVzcyIsImNvcnJlbGF0ZWRNYXRlcmlhbHMiLCJiYXNlQ29sb3JGYWN0b3IiLCJyb3VnaG5lc3NGYWN0b3IiLCJtZXRhbGxpY0ZhY3RvciIsImJhc2VDb2xvclRleHR1cmUiLCJnbHRmQmFzZUNvbG9yVGV4dHVyZSIsIm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSIsImdsdGZNZXRhbGxpY1JvdWdobmVzc1RleHR1cmUiLCJtYXAiLCJtZXRhbG5lc3NNYXAiLCJ2YWx1ZXMiLCJuZXh0IiwidmFsdWUiLCJCYXNlIiwiTWV0YWxsaWNSb3VnaG5lc3MiLCJzZXRCYXNlQ29sb3JGYWN0b3IiLCJyZ2JhIiwiY29sb3IiLCJBcnJheSIsImZyb21BcnJheSIsInNldCIsImNvbnZlcnRTUkdCVG9MaW5lYXIiLCJtYXRlcmlhbCIsIm9wYWNpdHkiLCJ0b0FycmF5Iiwic2V0TWV0YWxsaWNGYWN0b3IiLCJtZXRhbG5lc3MiLCJzZXRSb3VnaG5lc3NGYWN0b3IiLCJyb3VnaG5lc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/pbr-metallic-roughness.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/sampler.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/sampler.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sampler: () => (/* binding */ Sampler)\n/* harmony export */ });\n/* harmony import */ var _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../three-components/gltf-instance/gltf-2.0.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/gltf-2.0.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\nconst isMinFilter = (()=>{\n    const minFilterValues = [\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Nearest,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Linear,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.NearestMipmapNearest,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.LinearMipmapLinear,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.NearestMipmapLinear,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.LinearMipmapLinear\n    ];\n    return (value)=>minFilterValues.indexOf(value) > -1;\n})();\nconst isMagFilter = (()=>{\n    const magFilterValues = [\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Nearest,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Linear\n    ];\n    return (value)=>magFilterValues.indexOf(value) > -1;\n})();\nconst isWrapMode = (()=>{\n    const wrapModes = [\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.ClampToEdge,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.MirroredRepeat,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.Repeat\n    ];\n    return (value)=>wrapModes.indexOf(value) > -1;\n})();\nconst isValidSamplerValue = (property, value)=>{\n    switch(property){\n        case \"minFilter\":\n            return isMinFilter(value);\n        case \"magFilter\":\n            return isMagFilter(value);\n        case \"wrapS\":\n        case \"wrapT\":\n            return isWrapMode(value);\n        default:\n            throw new Error(`Cannot configure property \"${property}\" on Sampler`);\n    }\n};\nconst $threeTextures = Symbol(\"threeTextures\");\nconst $setProperty = Symbol(\"setProperty\");\nconst $sourceSampler = Symbol(\"sourceSampler\");\n/**\n * Sampler facade implementation for Three.js textures\n */ class Sampler extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.ThreeDOMElement {\n    get [$threeTextures]() {\n        console.assert(this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects] != null && this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects].size > 0, \"Sampler correlated object is undefined\");\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects];\n    }\n    get [$sourceSampler]() {\n        console.assert(this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject] != null, \"Sampler source is undefined\");\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject];\n    }\n    constructor(onUpdate, texture, gltfSampler){\n        gltfSampler = gltfSampler !== null && gltfSampler !== void 0 ? gltfSampler : {};\n        // These defaults represent a convergence of glTF defaults for wrap mode and\n        // Three.js defaults for filters. Per glTF 2.0 spec, a renderer may choose\n        // its own defaults for filters.\n        // @see https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#reference-sampler\n        // @see https://threejs.org/docs/#api/en/textures/Texture\n        if (gltfSampler.minFilter == null) {\n            gltfSampler.minFilter = texture ? texture.minFilter : _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.LinearMipmapLinear;\n        }\n        if (gltfSampler.magFilter == null) {\n            gltfSampler.magFilter = texture ? texture.magFilter : _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Linear;\n        }\n        if (gltfSampler.wrapS == null) {\n            gltfSampler.wrapS = texture ? texture.wrapS : _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.Repeat;\n        }\n        if (gltfSampler.wrapT == null) {\n            gltfSampler.wrapT = texture ? texture.wrapT : _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.Repeat;\n        }\n        super(onUpdate, gltfSampler, new Set(texture ? [\n            texture\n        ] : []));\n    }\n    get name() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject].name || \"\";\n    }\n    get minFilter() {\n        return this[$sourceSampler].minFilter;\n    }\n    get magFilter() {\n        return this[$sourceSampler].magFilter;\n    }\n    get wrapS() {\n        return this[$sourceSampler].wrapS;\n    }\n    get wrapT() {\n        return this[$sourceSampler].wrapT;\n    }\n    setMinFilter(filter) {\n        this[$setProperty](\"minFilter\", filter);\n    }\n    setMagFilter(filter) {\n        this[$setProperty](\"magFilter\", filter);\n    }\n    setWrapS(mode) {\n        this[$setProperty](\"wrapS\", mode);\n    }\n    setWrapT(mode) {\n        this[$setProperty](\"wrapT\", mode);\n    }\n    [$setProperty](property, value) {\n        const sampler = this[$sourceSampler];\n        if (sampler != null) {\n            if (isValidSamplerValue(property, value)) {\n                sampler[property] = value;\n                for (const texture of this[$threeTextures]){\n                    texture[property] = value;\n                    texture.needsUpdate = true;\n                }\n            }\n            this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$onUpdate]();\n        }\n    }\n} //# sourceMappingURL=sampler.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3NhbXBsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUMrRTtBQUN1QjtBQUN2RyxNQUFNTSxjQUFjLENBQUM7SUFDakIsTUFBTUMsa0JBQWtCO1FBQ3BCUCwrRUFBTUEsQ0FBQ1EsT0FBTztRQUNkUiwrRUFBTUEsQ0FBQ1MsTUFBTTtRQUNiVCwrRUFBTUEsQ0FBQ1Usb0JBQW9CO1FBQzNCViwrRUFBTUEsQ0FBQ1csa0JBQWtCO1FBQ3pCWCwrRUFBTUEsQ0FBQ1ksbUJBQW1CO1FBQzFCWiwrRUFBTUEsQ0FBQ1csa0JBQWtCO0tBQzVCO0lBQ0QsT0FBTyxDQUFDRSxRQUFVTixnQkFBZ0JPLE9BQU8sQ0FBQ0QsU0FBUyxDQUFDO0FBQ3hEO0FBQ0EsTUFBTUUsY0FBYyxDQUFDO0lBQ2pCLE1BQU1DLGtCQUFrQjtRQUFDaEIsK0VBQU1BLENBQUNRLE9BQU87UUFBRVIsK0VBQU1BLENBQUNTLE1BQU07S0FBQztJQUN2RCxPQUFPLENBQUNJLFFBQVVHLGdCQUFnQkYsT0FBTyxDQUFDRCxTQUFTLENBQUM7QUFDeEQ7QUFDQSxNQUFNSSxhQUFhLENBQUM7SUFDaEIsTUFBTUMsWUFBWTtRQUFDakIsNkVBQUlBLENBQUNrQixXQUFXO1FBQUVsQiw2RUFBSUEsQ0FBQ21CLGNBQWM7UUFBRW5CLDZFQUFJQSxDQUFDb0IsTUFBTTtLQUFDO0lBQ3RFLE9BQU8sQ0FBQ1IsUUFBVUssVUFBVUosT0FBTyxDQUFDRCxTQUFTLENBQUM7QUFDbEQ7QUFDQSxNQUFNUyxzQkFBc0IsQ0FBQ0MsVUFBVVY7SUFDbkMsT0FBUVU7UUFDSixLQUFLO1lBQ0QsT0FBT2pCLFlBQVlPO1FBQ3ZCLEtBQUs7WUFDRCxPQUFPRSxZQUFZRjtRQUN2QixLQUFLO1FBQ0wsS0FBSztZQUNELE9BQU9JLFdBQVdKO1FBQ3RCO1lBQ0ksTUFBTSxJQUFJVyxN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QUFVVixRQUFRO2dCQUN0Q29DLE9BQU8sQ0FBQzFCLFNBQVMsR0FBR1Y7Z0JBQ3BCLEtBQUssTUFBTXNCLFdBQVcsSUFBSSxDQUFDVixlQUFlLENBQUU7b0JBQ3hDVSxPQUFPLENBQUNaLFNBQVMsR0FBR1Y7b0JBQ3BCc0IsUUFBUWUsV0FBVyxHQUFHO2dCQUMxQjtZQUNKO1lBQ0EsSUFBSSxDQUFDL0MsNERBQVNBLENBQUM7UUFDbkI7SUFDSjtBQUNKLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvc2NlbmUtZ3JhcGgvc2FtcGxlci5qcz83NWIwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEZpbHRlciwgV3JhcCB9IGZyb20gJy4uLy4uL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9nbHRmLTIuMC5qcyc7XG5pbXBvcnQgeyAkY29ycmVsYXRlZE9iamVjdHMsICRvblVwZGF0ZSwgJHNvdXJjZU9iamVjdCwgVGhyZWVET01FbGVtZW50IH0gZnJvbSAnLi90aHJlZS1kb20tZWxlbWVudC5qcyc7XG5jb25zdCBpc01pbkZpbHRlciA9ICgoKSA9PiB7XG4gICAgY29uc3QgbWluRmlsdGVyVmFsdWVzID0gW1xuICAgICAgICBGaWx0ZXIuTmVhcmVzdCxcbiAgICAgICAgRmlsdGVyLkxpbmVhcixcbiAgICAgICAgRmlsdGVyLk5lYXJlc3RNaXBtYXBOZWFyZXN0LFxuICAgICAgICBGaWx0ZXIuTGluZWFyTWlwbWFwTGluZWFyLFxuICAgICAgICBGaWx0ZXIuTmVhcmVzdE1pcG1hcExpbmVhcixcbiAgICAgICAgRmlsdGVyLkxpbmVhck1pcG1hcExpbmVhclxuICAgIF07XG4gICAgcmV0dXJuICh2YWx1ZSkgPT4gbWluRmlsdGVyVmFsdWVzLmluZGV4T2YodmFsdWUpID4gLTE7XG59KSgpO1xuY29uc3QgaXNNYWdGaWx0ZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IG1hZ0ZpbHRlclZhbHVlcyA9IFtGaWx0ZXIuTmVhcmVzdCwgRmlsdGVyLkxpbmVhcl07XG4gICAgcmV0dXJuICh2YWx1ZSkgPT4gbWFnRmlsdGVyVmFsdWVzLmluZGV4T2YodmFsdWUpID4gLTE7XG59KSgpO1xuY29uc3QgaXNXcmFwTW9kZSA9ICgoKSA9PiB7XG4gICAgY29uc3Qgd3JhcE1vZGVzID0gW1dyYXAuQ2xhbXBUb0VkZ2UsIFdyYXAuTWlycm9yZWRSZXBlYXQsIFdyYXAuUmVwZWF0XTtcbiAgICByZXR1cm4gKHZhbHVlKSA9PiB3cmFwTW9kZXMuaW5kZXhPZih2YWx1ZSkgPiAtMTtcbn0pKCk7XG5jb25zdCBpc1ZhbGlkU2FtcGxlclZhbHVlID0gKHByb3BlcnR5LCB2YWx1ZSkgPT4ge1xuICAgIHN3aXRjaCAocHJvcGVydHkpIHtcbiAgICAgICAgY2FzZSAnbWluRmlsdGVyJzpcbiAgICAgICAgICAgIHJldHVybiBpc01pbkZpbHRlcih2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ21hZ0ZpbHRlcic6XG4gICAgICAgICAgICByZXR1cm4gaXNNYWdGaWx0ZXIodmFsdWUpO1xuICAgICAgICBjYXNlICd3cmFwUyc6XG4gICAgICAgIGNhc2UgJ3dyYXBUJzpcbiAgICAgICAgICAgIHJldHVybiBpc1dyYXBNb2RlKHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbmZpZ3VyZSBwcm9wZXJ0eSBcIiR7cHJvcGVydHl9XCIgb24gU2FtcGxlcmApO1xuICAgIH1cbn07XG5jb25zdCAkdGhyZWVUZXh0dXJlcyA9IFN5bWJvbCgndGhyZWVUZXh0dXJlcycpO1xuY29uc3QgJHNldFByb3BlcnR5ID0gU3ltYm9sKCdzZXRQcm9wZXJ0eScpO1xuY29uc3QgJHNvdXJjZVNhbXBsZXIgPSBTeW1ib2woJ3NvdXJjZVNhbXBsZXInKTtcbi8qKlxuICogU2FtcGxlciBmYWNhZGUgaW1wbGVtZW50YXRpb24gZm9yIFRocmVlLmpzIHRleHR1cmVzXG4gKi9cbmV4cG9ydCBjbGFzcyBTYW1wbGVyIGV4dGVuZHMgVGhyZWVET01FbGVtZW50IHtcbiAgICBnZXQgWyR0aHJlZVRleHR1cmVzXSgpIHtcbiAgICAgICAgY29uc29sZS5hc3NlcnQodGhpc1skY29ycmVsYXRlZE9iamVjdHNdICE9IG51bGwgJiYgdGhpc1skY29ycmVsYXRlZE9iamVjdHNdLnNpemUgPiAwLCAnU2FtcGxlciBjb3JyZWxhdGVkIG9iamVjdCBpcyB1bmRlZmluZWQnKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXTtcbiAgICB9XG4gICAgZ2V0IFskc291cmNlU2FtcGxlcl0oKSB7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHRoaXNbJHNvdXJjZU9iamVjdF0gIT0gbnVsbCwgJ1NhbXBsZXIgc291cmNlIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob25VcGRhdGUsIHRleHR1cmUsIGdsdGZTYW1wbGVyKSB7XG4gICAgICAgIGdsdGZTYW1wbGVyID0gZ2x0ZlNhbXBsZXIgIT09IG51bGwgJiYgZ2x0ZlNhbXBsZXIgIT09IHZvaWQgMCA/IGdsdGZTYW1wbGVyIDoge307XG4gICAgICAgIC8vIFRoZXNlIGRlZmF1bHRzIHJlcHJlc2VudCBhIGNvbnZlcmdlbmNlIG9mIGdsVEYgZGVmYXVsdHMgZm9yIHdyYXAgbW9kZSBhbmRcbiAgICAgICAgLy8gVGhyZWUuanMgZGVmYXVsdHMgZm9yIGZpbHRlcnMuIFBlciBnbFRGIDIuMCBzcGVjLCBhIHJlbmRlcmVyIG1heSBjaG9vc2VcbiAgICAgICAgLy8gaXRzIG93biBkZWZhdWx0cyBmb3IgZmlsdGVycy5cbiAgICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjcmVmZXJlbmNlLXNhbXBsZXJcbiAgICAgICAgLy8gQHNlZSBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi90ZXh0dXJlcy9UZXh0dXJlXG4gICAgICAgIGlmIChnbHRmU2FtcGxlci5taW5GaWx0ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgZ2x0ZlNhbXBsZXIubWluRmlsdGVyID1cbiAgICAgICAgICAgICAgICB0ZXh0dXJlID8gdGV4dHVyZS5taW5GaWx0ZXIgOiBGaWx0ZXIuTGluZWFyTWlwbWFwTGluZWFyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbHRmU2FtcGxlci5tYWdGaWx0ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgZ2x0ZlNhbXBsZXIubWFnRmlsdGVyID1cbiAgICAgICAgICAgICAgICB0ZXh0dXJlID8gdGV4dHVyZS5tYWdGaWx0ZXIgOiBGaWx0ZXIuTGluZWFyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbHRmU2FtcGxlci53cmFwUyA9PSBudWxsKSB7XG4gICAgICAgICAgICBnbHRmU2FtcGxlci53cmFwUyA9IHRleHR1cmUgPyB0ZXh0dXJlLndyYXBTIDogV3JhcC5SZXBlYXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsdGZTYW1wbGVyLndyYXBUID09IG51bGwpIHtcbiAgICAgICAgICAgIGdsdGZTYW1wbGVyLndyYXBUID0gdGV4dHVyZSA/IHRleHR1cmUud3JhcFQgOiBXcmFwLlJlcGVhdDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihvblVwZGF0ZSwgZ2x0ZlNhbXBsZXIsIG5ldyBTZXQodGV4dHVyZSA/IFt0ZXh0dXJlXSA6IFtdKSk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XS5uYW1lIHx8ICcnO1xuICAgIH1cbiAgICBnZXQgbWluRmlsdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlU2FtcGxlcl0ubWluRmlsdGVyO1xuICAgIH1cbiAgICBnZXQgbWFnRmlsdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlU2FtcGxlcl0ubWFnRmlsdGVyO1xuICAgIH1cbiAgICBnZXQgd3JhcFMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRzb3VyY2VTYW1wbGVyXS53cmFwUztcbiAgICB9XG4gICAgZ2V0IHdyYXBUKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlU2FtcGxlcl0ud3JhcFQ7XG4gICAgfVxuICAgIHNldE1pbkZpbHRlcihmaWx0ZXIpIHtcbiAgICAgICAgdGhpc1skc2V0UHJvcGVydHldKCdtaW5GaWx0ZXInLCBmaWx0ZXIpO1xuICAgIH1cbiAgICBzZXRNYWdGaWx0ZXIoZmlsdGVyKSB7XG4gICAgICAgIHRoaXNbJHNldFByb3BlcnR5XSgnbWFnRmlsdGVyJywgZmlsdGVyKTtcbiAgICB9XG4gICAgc2V0V3JhcFMobW9kZSkge1xuICAgICAgICB0aGlzWyRzZXRQcm9wZXJ0eV0oJ3dyYXBTJywgbW9kZSk7XG4gICAgfVxuICAgIHNldFdyYXBUKG1vZGUpIHtcbiAgICAgICAgdGhpc1skc2V0UHJvcGVydHldKCd3cmFwVCcsIG1vZGUpO1xuICAgIH1cbiAgICBbJHNldFByb3BlcnR5XShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc2FtcGxlciA9IHRoaXNbJHNvdXJjZVNhbXBsZXJdO1xuICAgICAgICBpZiAoc2FtcGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZFNhbXBsZXJWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgc2FtcGxlcltwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRleHR1cmUgb2YgdGhpc1skdGhyZWVUZXh0dXJlc10pIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpc1skb25VcGRhdGVdKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW1wbGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJGaWx0ZXIiLCJXcmFwIiwiJGNvcnJlbGF0ZWRPYmplY3RzIiwiJG9uVXBkYXRlIiwiJHNvdXJjZU9iamVjdCIsIlRocmVlRE9NRWxlbWVudCIsImlzTWluRmlsdGVyIiwibWluRmlsdGVyVmFsdWVzIiwiTmVhcmVzdCIsIkxpbmVhciIsIk5lYXJlc3RNaXBtYXBOZWFyZXN0IiwiTGluZWFyTWlwbWFwTGluZWFyIiwiTmVhcmVzdE1pcG1hcExpbmVhciIsInZhbHVlIiwiaW5kZXhPZiIsImlzTWFnRmlsdGVyIiwibWFnRmlsdGVyVmFsdWVzIiwiaXNXcmFwTW9kZSIsIndyYXBNb2RlcyIsIkNsYW1wVG9FZGdlIiwiTWlycm9yZWRSZXBlYXQiLCJSZXBlYXQiLCJpc1ZhbGlkU2FtcGxlclZhbHVlIiwicHJvcGVydHkiLCJFcnJvciIsIiR0aHJlZVRleHR1cmVzIiwiU3ltYm9sIiwiJHNldFByb3BlcnR5IiwiJHNvdXJjZVNhbXBsZXIiLCJTYW1wbGVyIiwiY29uc29sZSIsImFzc2VydCIsInNpemUiLCJjb25zdHJ1Y3RvciIsIm9uVXBkYXRlIiwidGV4dHVyZSIsImdsdGZTYW1wbGVyIiwibWluRmlsdGVyIiwibWFnRmlsdGVyIiwid3JhcFMiLCJ3cmFwVCIsIlNldCIsIm5hbWUiLCJzZXRNaW5GaWx0ZXIiLCJmaWx0ZXIiLCJzZXRNYWdGaWx0ZXIiLCJzZXRXcmFwUyIsIm1vZGUiLCJzZXRXcmFwVCIsInNhbXBsZXIiLCJuZWVkc1VwZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/sampler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $materials: () => (/* binding */ $materials),\n/* harmony export */   $usage: () => (/* binding */ $usage),\n/* harmony export */   TextureInfo: () => (/* binding */ TextureInfo),\n/* harmony export */   TextureUsage: () => (/* binding */ TextureUsage)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _image_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./image.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/image.js\");\n/* harmony import */ var _texture_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./texture.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var _a, _b;\n\n\n\nconst $texture = Symbol(\"texture\");\nconst $transform = Symbol(\"transform\");\nconst $materials = Symbol(\"materials\");\nconst $usage = Symbol(\"usage\");\n// Defines what a texture will be used for.\nvar TextureUsage;\n(function(TextureUsage) {\n    TextureUsage[TextureUsage[\"Base\"] = 0] = \"Base\";\n    TextureUsage[TextureUsage[\"MetallicRoughness\"] = 1] = \"MetallicRoughness\";\n    TextureUsage[TextureUsage[\"Normal\"] = 2] = \"Normal\";\n    TextureUsage[TextureUsage[\"Occlusion\"] = 3] = \"Occlusion\";\n    TextureUsage[TextureUsage[\"Emissive\"] = 4] = \"Emissive\";\n})(TextureUsage || (TextureUsage = {}));\n/**\n * TextureInfo facade implementation for Three.js materials\n */ class TextureInfo {\n    constructor(onUpdate, usage, threeTexture, material, gltf, gltfTextureInfo){\n        this[_a] = null;\n        this[_b] = {\n            rotation: 0,\n            scale: new three__WEBPACK_IMPORTED_MODULE_2__.Vector2(1, 1),\n            offset: new three__WEBPACK_IMPORTED_MODULE_2__.Vector2(0, 0)\n        };\n        // Creates image, sampler, and texture if valid texture info is provided.\n        if (gltfTextureInfo && threeTexture) {\n            const gltfTexture = gltf.textures ? gltf.textures[gltfTextureInfo.index] : null;\n            const sampler = gltfTexture ? gltf.samplers ? gltf.samplers[gltfTexture.sampler] : null : null;\n            const image = gltfTexture ? gltf.images ? gltf.images[gltfTexture.source] : null : null;\n            this[$transform].rotation = threeTexture.rotation;\n            this[$transform].scale.copy(threeTexture.repeat);\n            this[$transform].offset.copy(threeTexture.offset);\n            this[$texture] = new _texture_js__WEBPACK_IMPORTED_MODULE_1__.Texture(onUpdate, threeTexture, gltfTexture, sampler, image);\n        }\n        this.onUpdate = onUpdate;\n        this[$materials] = material;\n        this[$usage] = usage;\n    }\n    get texture() {\n        return this[$texture];\n    }\n    setTexture(texture) {\n        const threeTexture = texture != null ? texture.source[_image_js__WEBPACK_IMPORTED_MODULE_0__.$threeTexture] : null;\n        let encoding = three__WEBPACK_IMPORTED_MODULE_2__.sRGBEncoding;\n        this[$texture] = texture;\n        if (this[$materials]) {\n            for (const material of this[$materials]){\n                switch(this[$usage]){\n                    case TextureUsage.Base:\n                        material.map = threeTexture;\n                        break;\n                    case TextureUsage.MetallicRoughness:\n                        encoding = three__WEBPACK_IMPORTED_MODULE_2__.LinearEncoding;\n                        material.metalnessMap = threeTexture;\n                        material.roughnessMap = threeTexture;\n                        break;\n                    case TextureUsage.Normal:\n                        encoding = three__WEBPACK_IMPORTED_MODULE_2__.LinearEncoding;\n                        material.normalMap = threeTexture;\n                        break;\n                    case TextureUsage.Occlusion:\n                        encoding = three__WEBPACK_IMPORTED_MODULE_2__.LinearEncoding;\n                        material.aoMap = threeTexture;\n                        break;\n                    case TextureUsage.Emissive:\n                        material.emissiveMap = threeTexture;\n                        break;\n                    default:\n                }\n                material.needsUpdate = true;\n            }\n        }\n        if (threeTexture) {\n            // Updates the encoding for the texture, affects all references.\n            threeTexture.encoding = encoding;\n            threeTexture.rotation = this[$transform].rotation;\n            threeTexture.repeat = this[$transform].scale;\n            threeTexture.offset = this[$transform].offset;\n        }\n        this.onUpdate();\n    }\n}\n_a = $texture, _b = $transform; //# sourceMappingURL=texture-info.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3RleHR1cmUtaW5mby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUNELElBQUlBLElBQUlDO0FBQ3NEO0FBQ25CO0FBQ0o7QUFDdkMsTUFBTU0sV0FBV0MsT0FBTztBQUN4QixNQUFNQyxhQUFhRCxPQUFPO0FBQ25CLE1BQU1FLGFBQWFGLE9BQU8sYUFBYTtBQUN2QyxNQUFNRyxTQUFTSCxPQUFPLFNBQVM7QUFDdEMsMkNBQTJDO0FBQ3BDLElBQUlJLGFBQWE7QUFDdkIsVUFBVUEsWUFBWTtJQUNuQkEsWUFBWSxDQUFDQSxZQUFZLENBQUMsT0FBTyxHQUFHLEVBQUUsR0FBRztJQUN6Q0EsWUFBWSxDQUFDQSxZQUFZLENBQUMsb0JBQW9CLEdBQUcsRUFBRSxHQUFHO0lBQ3REQSxZQUFZLENBQUNBLFlBQVksQ0FBQyxTQUFTLEdBQUcsRUFBRSxHQUFHO0lBQzNDQSxZQUFZLENBQUNBLFlBQVksQ0FBQyxZQUFZLEdBQUcsRUFBRSxHQUFHO0lBQzlDQSxZQUFZLENBQUNBLFlBQVksQ0FBQyxXQUFXLEdBQUcsRUFBRSxHQUFHO0FBQ2pELEdBQUdBLGdCQUFpQkEsQ0FBQUEsZUFBZSxDQUFDO0FBQ3BDOztDQUVDLEdBQ00sTUFBTUM7SUFDVEMsWUFBWUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLFlBQVksRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLGVBQWUsQ0FBRTtRQUN4RSxJQUFJLENBQUNwQixHQUFHLEdBQUc7UUFDWCxJQUFJLENBQUNDLEdBQUcsR0FBRztZQUNQb0IsVUFBVTtZQUNWQyxPQUFPLElBQUlsQiwwQ0FBT0EsQ0FBQyxHQUFHO1lBQ3RCbUIsUUFBUSxJQUFJbkIsMENBQU9BLENBQUMsR0FBRztRQUMzQjtRQUNBLHlFQUF5RTtRQUN6RSxJQUFJZ0IsbUJBQW1CSCxjQUFjO1lBQ2pDLE1BQU1PLGNBQWNMLEtBQUtNLFFBQVEsR0FBR04sS0FBS00sUUFBUSxDQUFDTCxnQkFBZ0JNLEtBQUssQ0FBQyxHQUFHO1lBQzNFLE1BQU1DLFVBQVVILGNBQ1hMLEtBQUtTLFFBQVEsR0FBR1QsS0FBS1MsUUFBUSxDQUFDSixZQUFZRyxPQUFPLENBQUMsR0FBRyxPQUN0RDtZQUNKLE1BQU1FLFFBQVFMLGNBQ1RMLEtBQUtXLE1BQU0sR0FBR1gsS0FBS1csTUFBTSxDQUFDTixZQUFZTyxNQUFNLENBQUMsR0FBRyxPQUNqRDtZQUNKLElBQUksQ0FBQ3RCLFdBQVcsQ0FBQ1ksUUFBUSxHQUFHSixhQUFhSSxRQUFRO1lBQ2pELElBQUksQ0FBQ1osV0FBVyxDQUFDYSxLQUFLLENBQUNVLElBQUksQ0FBQ2YsYUFBYWdCLE1BQU07WUFDL0MsSUFBSSxDQUFDeEIsV0FBVyxDQUFDYyxNQUFNLENBQUNTLElBQUksQ0FBQ2YsYUFBYU0sTUFBTTtZQUNoRCxJQUFJLENBQUNoQixTQUFTLEdBQ1YsSUFBSUQsZ0RBQU9BLENBQUNTLFVBQVVFLGNBQWNPLGFBQWFHLFNBQVNFO1FBQ2xFO1FBQ0EsSUFBSSxDQUFDZCxRQUFRLEdBQUdBO1FBQ2hCLElBQUksQ0FBQ0wsV0FBVyxHQUFHUTtRQUNuQixJQUFJLENBQUNQLE9BQU8sR0FBR0s7SUFDbkI7SUFDQSxJQUFJa0IsVUFBVTtRQUNWLE9BQU8sSUFBSSxDQUFDM0IsU0FBUztJQUN6QjtJQUNBNEIsV0FBV0QsT0FBTyxFQUFFO1FBQ2hCLE1BQU1qQixlQUFlaUIsV0FBVyxPQUFPQSxRQUFRSCxNQUFNLENBQUMxQixvREFBYUEsQ0FBQyxHQUFHO1FBQ3ZFLElBQUkrQixXQUFXakMsK0NBQVlBO1FBQzNCLElBQUksQ0FBQ0ksU0FBUyxHQUFHMkI7UUFDakIsSUFBSSxJQUFJLENBQUN4QixXQUFXLEVBQUU7WUFDbEIsS0FBSyxNQUFNUSxZQUFZLElBQUksQ0FBQ1IsV0FBVyxDQUFFO2dCQUNyQyxPQUFRLElBQUksQ0FBQ0MsT0FBTztvQkFDaEIsS0FBS0MsYUFBYXlCLElBQUk7d0JBQ2xCbkIsU0FBU29CLEdBQUcsR0FBR3JCO3dCQUNmO29CQUNKLEtBQUtMLGFBQWEyQixpQkFBaUI7d0JBQy9CSCxXQUFXbEMsaURBQWNBO3dCQUN6QmdCLFNBQVNzQixZQUFZLEdBQUd2Qjt3QkFDeEJDLFNBQVN1QixZQUFZLEdBQUd4Qjt3QkFDeEI7b0JBQ0osS0FBS0wsYUFBYThCLE1BQU07d0JBQ3BCTixXQUFXbEMsaURBQWNBO3dCQUN6QmdCLFNBQVN5QixTQUFTLEdBQUcxQjt3QkFDckI7b0JBQ0osS0FBS0wsYUFBYWdDLFNBQVM7d0JBQ3ZCUixXQUFXbEMsaURBQWNBO3dCQUN6QmdCLFNBQVMyQixLQUFLLEdBQUc1Qjt3QkFDakI7b0JBQ0osS0FBS0wsYUFBYWtDLFFBQVE7d0JBQ3RCNUIsU0FBUzZCLFdBQVcsR0FBRzlCO3dCQUN2QjtvQkFDSjtnQkFDSjtnQkFDQUMsU0FBUzhCLFdBQVcsR0FBRztZQUMzQjtRQUNKO1FBQ0EsSUFBSS9CLGNBQWM7WUFDZCxnRUFBZ0U7WUFDaEVBLGFBQWFtQixRQUFRLEdBQUdBO1lBQ3hCbkIsYUFBYUksUUFBUSxHQUFHLElBQUksQ0FBQ1osV0FBVyxDQUFDWSxRQUFRO1lBQ2pESixhQUFhZ0IsTUFBTSxHQUFHLElBQUksQ0FBQ3hCLFdBQVcsQ0FBQ2EsS0FBSztZQUM1Q0wsYUFBYU0sTUFBTSxHQUFHLElBQUksQ0FBQ2QsV0FBVyxDQUFDYyxNQUFNO1FBQ2pEO1FBQ0EsSUFBSSxDQUFDUixRQUFRO0lBQ2pCO0FBQ0o7QUFDQWYsS0FBS08sVUFBVU4sS0FBS1EsWUFDcEIsd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvc2NlbmUtZ3JhcGgvdGV4dHVyZS1pbmZvLmpzP2E2MWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hLCBfYjtcbmltcG9ydCB7IExpbmVhckVuY29kaW5nLCBzUkdCRW5jb2RpbmcsIFZlY3RvcjIgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyAkdGhyZWVUZXh0dXJlIH0gZnJvbSAnLi9pbWFnZS5qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi90ZXh0dXJlLmpzJztcbmNvbnN0ICR0ZXh0dXJlID0gU3ltYm9sKCd0ZXh0dXJlJyk7XG5jb25zdCAkdHJhbnNmb3JtID0gU3ltYm9sKCd0cmFuc2Zvcm0nKTtcbmV4cG9ydCBjb25zdCAkbWF0ZXJpYWxzID0gU3ltYm9sKCdtYXRlcmlhbHMnKTtcbmV4cG9ydCBjb25zdCAkdXNhZ2UgPSBTeW1ib2woJ3VzYWdlJyk7XG4vLyBEZWZpbmVzIHdoYXQgYSB0ZXh0dXJlIHdpbGwgYmUgdXNlZCBmb3IuXG5leHBvcnQgdmFyIFRleHR1cmVVc2FnZTtcbihmdW5jdGlvbiAoVGV4dHVyZVVzYWdlKSB7XG4gICAgVGV4dHVyZVVzYWdlW1RleHR1cmVVc2FnZVtcIkJhc2VcIl0gPSAwXSA9IFwiQmFzZVwiO1xuICAgIFRleHR1cmVVc2FnZVtUZXh0dXJlVXNhZ2VbXCJNZXRhbGxpY1JvdWdobmVzc1wiXSA9IDFdID0gXCJNZXRhbGxpY1JvdWdobmVzc1wiO1xuICAgIFRleHR1cmVVc2FnZVtUZXh0dXJlVXNhZ2VbXCJOb3JtYWxcIl0gPSAyXSA9IFwiTm9ybWFsXCI7XG4gICAgVGV4dHVyZVVzYWdlW1RleHR1cmVVc2FnZVtcIk9jY2x1c2lvblwiXSA9IDNdID0gXCJPY2NsdXNpb25cIjtcbiAgICBUZXh0dXJlVXNhZ2VbVGV4dHVyZVVzYWdlW1wiRW1pc3NpdmVcIl0gPSA0XSA9IFwiRW1pc3NpdmVcIjtcbn0pKFRleHR1cmVVc2FnZSB8fCAoVGV4dHVyZVVzYWdlID0ge30pKTtcbi8qKlxuICogVGV4dHVyZUluZm8gZmFjYWRlIGltcGxlbWVudGF0aW9uIGZvciBUaHJlZS5qcyBtYXRlcmlhbHNcbiAqL1xuZXhwb3J0IGNsYXNzIFRleHR1cmVJbmZvIHtcbiAgICBjb25zdHJ1Y3RvcihvblVwZGF0ZSwgdXNhZ2UsIHRocmVlVGV4dHVyZSwgbWF0ZXJpYWwsIGdsdGYsIGdsdGZUZXh0dXJlSW5mbykge1xuICAgICAgICB0aGlzW19hXSA9IG51bGw7XG4gICAgICAgIHRoaXNbX2JdID0ge1xuICAgICAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjIoMSwgMSksXG4gICAgICAgICAgICBvZmZzZXQ6IG5ldyBWZWN0b3IyKDAsIDApXG4gICAgICAgIH07XG4gICAgICAgIC8vIENyZWF0ZXMgaW1hZ2UsIHNhbXBsZXIsIGFuZCB0ZXh0dXJlIGlmIHZhbGlkIHRleHR1cmUgaW5mbyBpcyBwcm92aWRlZC5cbiAgICAgICAgaWYgKGdsdGZUZXh0dXJlSW5mbyAmJiB0aHJlZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsdGZUZXh0dXJlID0gZ2x0Zi50ZXh0dXJlcyA/IGdsdGYudGV4dHVyZXNbZ2x0ZlRleHR1cmVJbmZvLmluZGV4XSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzYW1wbGVyID0gZ2x0ZlRleHR1cmUgP1xuICAgICAgICAgICAgICAgIChnbHRmLnNhbXBsZXJzID8gZ2x0Zi5zYW1wbGVyc1tnbHRmVGV4dHVyZS5zYW1wbGVyXSA6IG51bGwpIDpcbiAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBnbHRmVGV4dHVyZSA/XG4gICAgICAgICAgICAgICAgKGdsdGYuaW1hZ2VzID8gZ2x0Zi5pbWFnZXNbZ2x0ZlRleHR1cmUuc291cmNlXSA6IG51bGwpIDpcbiAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICAgICAgdGhpc1skdHJhbnNmb3JtXS5yb3RhdGlvbiA9IHRocmVlVGV4dHVyZS5yb3RhdGlvbjtcbiAgICAgICAgICAgIHRoaXNbJHRyYW5zZm9ybV0uc2NhbGUuY29weSh0aHJlZVRleHR1cmUucmVwZWF0KTtcbiAgICAgICAgICAgIHRoaXNbJHRyYW5zZm9ybV0ub2Zmc2V0LmNvcHkodGhyZWVUZXh0dXJlLm9mZnNldCk7XG4gICAgICAgICAgICB0aGlzWyR0ZXh0dXJlXSA9XG4gICAgICAgICAgICAgICAgbmV3IFRleHR1cmUob25VcGRhdGUsIHRocmVlVGV4dHVyZSwgZ2x0ZlRleHR1cmUsIHNhbXBsZXIsIGltYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uVXBkYXRlID0gb25VcGRhdGU7XG4gICAgICAgIHRoaXNbJG1hdGVyaWFsc10gPSBtYXRlcmlhbDtcbiAgICAgICAgdGhpc1skdXNhZ2VdID0gdXNhZ2U7XG4gICAgfVxuICAgIGdldCB0ZXh0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skdGV4dHVyZV07XG4gICAgfVxuICAgIHNldFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICBjb25zdCB0aHJlZVRleHR1cmUgPSB0ZXh0dXJlICE9IG51bGwgPyB0ZXh0dXJlLnNvdXJjZVskdGhyZWVUZXh0dXJlXSA6IG51bGw7XG4gICAgICAgIGxldCBlbmNvZGluZyA9IHNSR0JFbmNvZGluZztcbiAgICAgICAgdGhpc1skdGV4dHVyZV0gPSB0ZXh0dXJlO1xuICAgICAgICBpZiAodGhpc1skbWF0ZXJpYWxzXSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiB0aGlzWyRtYXRlcmlhbHNdKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzWyR1c2FnZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0dXJlVXNhZ2UuQmFzZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLm1hcCA9IHRocmVlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFRleHR1cmVVc2FnZS5NZXRhbGxpY1JvdWdobmVzczpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kaW5nID0gTGluZWFyRW5jb2Rpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC5tZXRhbG5lc3NNYXAgPSB0aHJlZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC5yb3VnaG5lc3NNYXAgPSB0aHJlZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0dXJlVXNhZ2UuTm9ybWFsOlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RpbmcgPSBMaW5lYXJFbmNvZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLm5vcm1hbE1hcCA9IHRocmVlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFRleHR1cmVVc2FnZS5PY2NsdXNpb246XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGluZyA9IExpbmVhckVuY29kaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwuYW9NYXAgPSB0aHJlZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0dXJlVXNhZ2UuRW1pc3NpdmU6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC5lbWlzc2l2ZU1hcCA9IHRocmVlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRocmVlVGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gVXBkYXRlcyB0aGUgZW5jb2RpbmcgZm9yIHRoZSB0ZXh0dXJlLCBhZmZlY3RzIGFsbCByZWZlcmVuY2VzLlxuICAgICAgICAgICAgdGhyZWVUZXh0dXJlLmVuY29kaW5nID0gZW5jb2Rpbmc7XG4gICAgICAgICAgICB0aHJlZVRleHR1cmUucm90YXRpb24gPSB0aGlzWyR0cmFuc2Zvcm1dLnJvdGF0aW9uO1xuICAgICAgICAgICAgdGhyZWVUZXh0dXJlLnJlcGVhdCA9IHRoaXNbJHRyYW5zZm9ybV0uc2NhbGU7XG4gICAgICAgICAgICB0aHJlZVRleHR1cmUub2Zmc2V0ID0gdGhpc1skdHJhbnNmb3JtXS5vZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblVwZGF0ZSgpO1xuICAgIH1cbn1cbl9hID0gJHRleHR1cmUsIF9iID0gJHRyYW5zZm9ybTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHR1cmUtaW5mby5qcy5tYXAiXSwibmFtZXMiOlsiX2EiLCJfYiIsIkxpbmVhckVuY29kaW5nIiwic1JHQkVuY29kaW5nIiwiVmVjdG9yMiIsIiR0aHJlZVRleHR1cmUiLCJUZXh0dXJlIiwiJHRleHR1cmUiLCJTeW1ib2wiLCIkdHJhbnNmb3JtIiwiJG1hdGVyaWFscyIsIiR1c2FnZSIsIlRleHR1cmVVc2FnZSIsIlRleHR1cmVJbmZvIiwiY29uc3RydWN0b3IiLCJvblVwZGF0ZSIsInVzYWdlIiwidGhyZWVUZXh0dXJlIiwibWF0ZXJpYWwiLCJnbHRmIiwiZ2x0ZlRleHR1cmVJbmZvIiwicm90YXRpb24iLCJzY2FsZSIsIm9mZnNldCIsImdsdGZUZXh0dXJlIiwidGV4dHVyZXMiLCJpbmRleCIsInNhbXBsZXIiLCJzYW1wbGVycyIsImltYWdlIiwiaW1hZ2VzIiwic291cmNlIiwiY29weSIsInJlcGVhdCIsInRleHR1cmUiLCJzZXRUZXh0dXJlIiwiZW5jb2RpbmciLCJCYXNlIiwibWFwIiwiTWV0YWxsaWNSb3VnaG5lc3MiLCJtZXRhbG5lc3NNYXAiLCJyb3VnaG5lc3NNYXAiLCJOb3JtYWwiLCJub3JtYWxNYXAiLCJPY2NsdXNpb24iLCJhb01hcCIsIkVtaXNzaXZlIiwiZW1pc3NpdmVNYXAiLCJuZWVkc1VwZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Texture: () => (/* binding */ Texture)\n/* harmony export */ });\n/* harmony import */ var _image_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./image.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/image.js\");\n/* harmony import */ var _sampler_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sampler.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/sampler.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\nconst $image = Symbol(\"image\");\nconst $sampler = Symbol(\"sampler\");\n/**\n * Material facade implementation for Three.js materials\n */ class Texture extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.ThreeDOMElement {\n    constructor(onUpdate, threeTexture, gltfTexture = null, gltfSampler = null, gltfImage = null){\n        super(onUpdate, gltfTexture ? gltfTexture : {}, new Set(threeTexture ? [\n            threeTexture\n        ] : []));\n        this[$sampler] = new _sampler_js__WEBPACK_IMPORTED_MODULE_1__.Sampler(onUpdate, threeTexture, gltfSampler);\n        this[$image] = new _image_js__WEBPACK_IMPORTED_MODULE_0__.Image(onUpdate, threeTexture, gltfImage);\n    }\n    get name() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name || \"\";\n    }\n    set name(name) {\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name = name;\n    }\n    get sampler() {\n        return this[$sampler];\n    }\n    get source() {\n        return this[$image];\n    }\n} //# sourceMappingURL=texture.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3RleHR1cmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDa0M7QUFDSTtBQUNpQztBQUN4RSxNQUFNSSxTQUFTQyxPQUFPO0FBQ3RCLE1BQU1DLFdBQVdELE9BQU87QUFDeEI7O0NBRUMsR0FDTSxNQUFNRSxnQkFBZ0JKLGtFQUFlQTtJQUN4Q0ssWUFBWUMsUUFBUSxFQUFFQyxZQUFZLEVBQUVDLGNBQWMsSUFBSSxFQUFFQyxjQUFjLElBQUksRUFBRUMsWUFBWSxJQUFJLENBQUU7UUFDMUYsS0FBSyxDQUFDSixVQUFVRSxjQUFjQSxjQUFjLENBQUMsR0FBRyxJQUFJRyxJQUFJSixlQUFlO1lBQUNBO1NBQWEsR0FBRyxFQUFFO1FBQzFGLElBQUksQ0FBQ0osU0FBUyxHQUFHLElBQUlMLGdEQUFPQSxDQUFDUSxVQUFVQyxjQUFjRTtRQUNyRCxJQUFJLENBQUNSLE9BQU8sR0FBRyxJQUFJSiw0Q0FBS0EsQ0FBQ1MsVUFBVUMsY0FBY0c7SUFDckQ7SUFDQSxJQUFJRSxPQUFPO1FBQ1AsT0FBTyxJQUFJLENBQUNiLGdFQUFhQSxDQUFDLENBQUNhLElBQUksSUFBSTtJQUN2QztJQUNBLElBQUlBLEtBQUtBLElBQUksRUFBRTtRQUNYLElBQUksQ0FBQ2IsZ0VBQWFBLENBQUMsQ0FBQ2EsSUFBSSxHQUFHQTtJQUMvQjtJQUNBLElBQUlDLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQ1YsU0FBUztJQUN6QjtJQUNBLElBQUlXLFNBQVM7UUFDVCxPQUFPLElBQUksQ0FBQ2IsT0FBTztJQUN2QjtBQUNKLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvc2NlbmUtZ3JhcGgvdGV4dHVyZS5qcz8yYjM5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEltYWdlIH0gZnJvbSAnLi9pbWFnZS5qcyc7XG5pbXBvcnQgeyBTYW1wbGVyIH0gZnJvbSAnLi9zYW1wbGVyLmpzJztcbmltcG9ydCB7ICRzb3VyY2VPYmplY3QsIFRocmVlRE9NRWxlbWVudCB9IGZyb20gJy4vdGhyZWUtZG9tLWVsZW1lbnQuanMnO1xuY29uc3QgJGltYWdlID0gU3ltYm9sKCdpbWFnZScpO1xuY29uc3QgJHNhbXBsZXIgPSBTeW1ib2woJ3NhbXBsZXInKTtcbi8qKlxuICogTWF0ZXJpYWwgZmFjYWRlIGltcGxlbWVudGF0aW9uIGZvciBUaHJlZS5qcyBtYXRlcmlhbHNcbiAqL1xuZXhwb3J0IGNsYXNzIFRleHR1cmUgZXh0ZW5kcyBUaHJlZURPTUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9uVXBkYXRlLCB0aHJlZVRleHR1cmUsIGdsdGZUZXh0dXJlID0gbnVsbCwgZ2x0ZlNhbXBsZXIgPSBudWxsLCBnbHRmSW1hZ2UgPSBudWxsKSB7XG4gICAgICAgIHN1cGVyKG9uVXBkYXRlLCBnbHRmVGV4dHVyZSA/IGdsdGZUZXh0dXJlIDoge30sIG5ldyBTZXQodGhyZWVUZXh0dXJlID8gW3RocmVlVGV4dHVyZV0gOiBbXSkpO1xuICAgICAgICB0aGlzWyRzYW1wbGVyXSA9IG5ldyBTYW1wbGVyKG9uVXBkYXRlLCB0aHJlZVRleHR1cmUsIGdsdGZTYW1wbGVyKTtcbiAgICAgICAgdGhpc1skaW1hZ2VdID0gbmV3IEltYWdlKG9uVXBkYXRlLCB0aHJlZVRleHR1cmUsIGdsdGZJbWFnZSk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XS5uYW1lIHx8ICcnO1xuICAgIH1cbiAgICBzZXQgbmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXNbJHNvdXJjZU9iamVjdF0ubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIGdldCBzYW1wbGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc2FtcGxlcl07XG4gICAgfVxuICAgIGdldCBzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRpbWFnZV07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHVyZS5qcy5tYXAiXSwibmFtZXMiOlsiSW1hZ2UiLCJTYW1wbGVyIiwiJHNvdXJjZU9iamVjdCIsIlRocmVlRE9NRWxlbWVudCIsIiRpbWFnZSIsIlN5bWJvbCIsIiRzYW1wbGVyIiwiVGV4dHVyZSIsImNvbnN0cnVjdG9yIiwib25VcGRhdGUiLCJ0aHJlZVRleHR1cmUiLCJnbHRmVGV4dHVyZSIsImdsdGZTYW1wbGVyIiwiZ2x0ZkltYWdlIiwiU2V0IiwibmFtZSIsInNhbXBsZXIiLCJzb3VyY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $correlatedObjects: () => (/* binding */ $correlatedObjects),\n/* harmony export */   $onUpdate: () => (/* binding */ $onUpdate),\n/* harmony export */   $sourceObject: () => (/* binding */ $sourceObject),\n/* harmony export */   ThreeDOMElement: () => (/* binding */ ThreeDOMElement)\n/* harmony export */ });\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const $correlatedObjects = Symbol(\"correlatedObjects\");\nconst $sourceObject = Symbol(\"sourceObject\");\nconst $onUpdate = Symbol(\"onUpdate\");\n/**\n * A SerializableThreeDOMElement is the common primitive of all scene graph\n * elements that have been facaded in the host execution context. It adds\n * a common interface to these elements in support of convenient\n * serializability.\n */ class ThreeDOMElement {\n    constructor(onUpdate, element, correlatedObjects = null){\n        this[$onUpdate] = onUpdate;\n        this[$sourceObject] = element;\n        this[$correlatedObjects] = correlatedObjects;\n    }\n} //# sourceMappingURL=three-dom-element.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3RocmVlLWRvbS1lbGVtZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQ00sTUFBTUEscUJBQXFCQyxPQUFPLHFCQUFxQjtBQUN2RCxNQUFNQyxnQkFBZ0JELE9BQU8sZ0JBQWdCO0FBQzdDLE1BQU1FLFlBQVlGLE9BQU8sWUFBWTtBQUM1Qzs7Ozs7Q0FLQyxHQUNNLE1BQU1HO0lBQ1RDLFlBQVlDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxvQkFBb0IsSUFBSSxDQUFFO1FBQ3JELElBQUksQ0FBQ0wsVUFBVSxHQUFHRztRQUNsQixJQUFJLENBQUNKLGNBQWMsR0FBR0s7UUFDdEIsSUFBSSxDQUFDUCxtQkFBbUIsR0FBR1E7SUFDL0I7QUFDSixFQUNBLDZDQUE2QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3RocmVlLWRvbS1lbGVtZW50LmpzP2RkNTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGNvbnN0ICRjb3JyZWxhdGVkT2JqZWN0cyA9IFN5bWJvbCgnY29ycmVsYXRlZE9iamVjdHMnKTtcbmV4cG9ydCBjb25zdCAkc291cmNlT2JqZWN0ID0gU3ltYm9sKCdzb3VyY2VPYmplY3QnKTtcbmV4cG9ydCBjb25zdCAkb25VcGRhdGUgPSBTeW1ib2woJ29uVXBkYXRlJyk7XG4vKipcbiAqIEEgU2VyaWFsaXphYmxlVGhyZWVET01FbGVtZW50IGlzIHRoZSBjb21tb24gcHJpbWl0aXZlIG9mIGFsbCBzY2VuZSBncmFwaFxuICogZWxlbWVudHMgdGhhdCBoYXZlIGJlZW4gZmFjYWRlZCBpbiB0aGUgaG9zdCBleGVjdXRpb24gY29udGV4dC4gSXQgYWRkc1xuICogYSBjb21tb24gaW50ZXJmYWNlIHRvIHRoZXNlIGVsZW1lbnRzIGluIHN1cHBvcnQgb2YgY29udmVuaWVudFxuICogc2VyaWFsaXphYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgVGhyZWVET01FbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvblVwZGF0ZSwgZWxlbWVudCwgY29ycmVsYXRlZE9iamVjdHMgPSBudWxsKSB7XG4gICAgICAgIHRoaXNbJG9uVXBkYXRlXSA9IG9uVXBkYXRlO1xuICAgICAgICB0aGlzWyRzb3VyY2VPYmplY3RdID0gZWxlbWVudDtcbiAgICAgICAgdGhpc1skY29ycmVsYXRlZE9iamVjdHNdID0gY29ycmVsYXRlZE9iamVjdHM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyZWUtZG9tLWVsZW1lbnQuanMubWFwIl0sIm5hbWVzIjpbIiRjb3JyZWxhdGVkT2JqZWN0cyIsIlN5bWJvbCIsIiRzb3VyY2VPYmplY3QiLCIkb25VcGRhdGUiLCJUaHJlZURPTUVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsIm9uVXBkYXRlIiwiZWxlbWVudCIsImNvcnJlbGF0ZWRPYmplY3RzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/staging.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/staging.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTO_ROTATE_DELAY_DEFAULT: () => (/* binding */ AUTO_ROTATE_DELAY_DEFAULT),\n/* harmony export */   StagingMixin: () => (/* binding */ StagingMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var _decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../decorators.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/decorators.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/conversions.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _styles_parsers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var __decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n// How much the model will rotate per\n// second in radians:\nconst DEFAULT_ROTATION_SPEED = Math.PI / 32;\nconst AUTO_ROTATE_DELAY_DEFAULT = 3000;\nconst rotationRateIntrinsics = {\n    basis: [\n        (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.degreesToRadians)((0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_4__.numberNode)(DEFAULT_ROTATION_SPEED, \"rad\"))\n    ],\n    keywords: {\n        auto: [\n            null\n        ]\n    }\n};\nconst $autoRotateStartTime = Symbol(\"autoRotateStartTime\");\nconst $radiansPerSecond = Symbol(\"radiansPerSecond\");\nconst $syncRotationRate = Symbol(\"syncRotationRate\");\nconst $onCameraChange = Symbol(\"onCameraChange\");\nconst StagingMixin = (ModelViewerElement)=>{\n    var _a, _b, _c;\n    class StagingModelViewerElement extends ModelViewerElement {\n        constructor(){\n            super(...arguments);\n            this.autoRotate = false;\n            this.autoRotateDelay = AUTO_ROTATE_DELAY_DEFAULT;\n            this.rotationPerSecond = \"auto\";\n            this[_a] = performance.now();\n            this[_b] = 0;\n            this[_c] = (event)=>{\n                if (!this.autoRotate) {\n                    return;\n                }\n                if (event.detail.source === \"user-interaction\") {\n                    this[$autoRotateStartTime] = performance.now();\n                }\n            };\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this.addEventListener(\"camera-change\", this[$onCameraChange]);\n            this[$autoRotateStartTime] = performance.now();\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            this.removeEventListener(\"camera-change\", this[$onCameraChange]);\n            this[$autoRotateStartTime] = performance.now();\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has(\"autoRotate\")) {\n                this[$autoRotateStartTime] = performance.now();\n            }\n        }\n        [(_a = $autoRotateStartTime, _b = $radiansPerSecond, $syncRotationRate)](style) {\n            this[$radiansPerSecond] = style[0];\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$tick](time, delta) {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$tick](time, delta);\n            if (!this.autoRotate || !this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$getModelIsVisible]() || this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].isPresenting) {\n                return;\n            }\n            const rotationDelta = Math.min(delta, time - this[$autoRotateStartTime] - this.autoRotateDelay);\n            if (rotationDelta > 0) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].yaw = this.turntableRotation + this[$radiansPerSecond] * rotationDelta * 0.001;\n            }\n        }\n        get turntableRotation() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].yaw;\n        }\n        resetTurntableRotation(theta = 0) {\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].yaw = theta;\n        }\n    }\n    _c = $onCameraChange;\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Boolean,\n            attribute: \"auto-rotate\"\n        })\n    ], StagingModelViewerElement.prototype, \"autoRotate\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Number,\n            attribute: \"auto-rotate-delay\"\n        })\n    ], StagingModelViewerElement.prototype, \"autoRotateDelay\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: rotationRateIntrinsics,\n            updateHandler: $syncRotationRate\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: String,\n            attribute: \"rotation-per-second\"\n        })\n    ], StagingModelViewerElement.prototype, \"rotationPerSecond\", void 0);\n    return StagingModelViewerElement;\n}; //# sourceMappingURL=staging.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3N0YWdpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRCxJQUFJQSxhQUFhLFNBQUssSUFBSSxTQUFJLENBQUNBLFVBQVUsSUFBSyxTQUFVQyxVQUFVLEVBQUVDLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxJQUFJO0lBQ2pGLElBQUlDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUMsSUFBSUgsSUFBSSxJQUFJSCxTQUFTRSxTQUFTLE9BQU9BLE9BQU9LLE9BQU9DLHdCQUF3QixDQUFDUixRQUFRQyxPQUFPQyxNQUFNTztJQUMzSCxJQUFJLE9BQU9DLFlBQVksWUFBWSxPQUFPQSxRQUFRQyxRQUFRLEtBQUssWUFBWUwsSUFBSUksUUFBUUMsUUFBUSxDQUFDWixZQUFZQyxRQUFRQyxLQUFLQztTQUNwSCxJQUFLLElBQUlVLElBQUliLFdBQVdNLE1BQU0sR0FBRyxHQUFHTyxLQUFLLEdBQUdBLElBQUssSUFBSUgsSUFBSVYsVUFBVSxDQUFDYSxFQUFFLEVBQUVOLElBQUksQ0FBQ0gsSUFBSSxJQUFJTSxFQUFFSCxLQUFLSCxJQUFJLElBQUlNLEVBQUVULFFBQVFDLEtBQUtLLEtBQUtHLEVBQUVULFFBQVFDLElBQUcsS0FBTUs7SUFDaEosT0FBT0gsSUFBSSxLQUFLRyxLQUFLQyxPQUFPTSxjQUFjLENBQUNiLFFBQVFDLEtBQUtLLElBQUlBO0FBQ2hFO0FBQzZDO0FBQ0o7QUFDOEM7QUFDM0I7QUFDVjtBQUNsRCxxQ0FBcUM7QUFDckMscUJBQXFCO0FBQ3JCLE1BQU1nQix5QkFBeUJDLEtBQUtDLEVBQUUsR0FBRztBQUNsQyxNQUFNQyw0QkFBNEIsS0FBSztBQUM5QyxNQUFNQyx5QkFBeUI7SUFDM0JDLE9BQU87UUFBQ1Asd0VBQWdCQSxDQUFDQyw4REFBVUEsQ0FBQ0Msd0JBQXdCO0tBQVE7SUFDcEVNLFVBQVU7UUFBRUMsTUFB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S0FBSztJQUMzRHZFLFdBQVc7UUFDUGdCLDJEQUFRQSxDQUFDO1lBQUVvRCxNQUFNSTtZQUFRRixXQUFXO1FBQW9CO0tBQzNELEVBQUU1QiwwQkFBMEI2QixTQUFTLEVBQUUsbUJBQW1CLEtBQUs7SUFDaEV2RSxXQUFXO1FBQ1BpQixxREFBS0EsQ0FBQztZQUFFd0QsWUFBWTdDO1lBQXdCOEMsZUFBZXZDO1FBQWtCO1FBQzdFbkIsMkRBQVFBLENBQUM7WUFBRW9ELE1BQU1PO1lBQVFMLFdBQVc7UUFBc0I7S0FDN0QsRUFBRTVCLDBCQUEwQjZCLFNBQVMsRUFBRSxxQkFBcUIsS0FBSztJQUNsRSxPQUFPN0I7QUFDWCxFQUFFLENBQ0YsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvc3RhZ2luZy5qcz9mMDA2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgc3R5bGUgfSBmcm9tICcuLi9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7ICRnZXRNb2RlbElzVmlzaWJsZSwgJHJlbmRlcmVyLCAkc2NlbmUsICR0aWNrIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgZGVncmVlc1RvUmFkaWFucyB9IGZyb20gJy4uL3N0eWxlcy9jb252ZXJzaW9ucy5qcyc7XG5pbXBvcnQgeyBudW1iZXJOb2RlIH0gZnJvbSAnLi4vc3R5bGVzL3BhcnNlcnMuanMnO1xuLy8gSG93IG11Y2ggdGhlIG1vZGVsIHdpbGwgcm90YXRlIHBlclxuLy8gc2Vjb25kIGluIHJhZGlhbnM6XG5jb25zdCBERUZBVUxUX1JPVEFUSU9OX1NQRUVEID0gTWF0aC5QSSAvIDMyO1xuZXhwb3J0IGNvbnN0IEFVVE9fUk9UQVRFX0RFTEFZX0RFRkFVTFQgPSAzMDAwO1xuY29uc3Qgcm90YXRpb25SYXRlSW50cmluc2ljcyA9IHtcbiAgICBiYXNpczogW2RlZ3JlZXNUb1JhZGlhbnMobnVtYmVyTm9kZShERUZBVUxUX1JPVEFUSU9OX1NQRUVELCAncmFkJykpXSxcbiAgICBrZXl3b3JkczogeyBhdXRvOiBbbnVsbF0gfVxufTtcbmNvbnN0ICRhdXRvUm90YXRlU3RhcnRUaW1lID0gU3ltYm9sKCdhdXRvUm90YXRlU3RhcnRUaW1lJyk7XG5jb25zdCAkcmFkaWFuc1BlclNlY29uZCA9IFN5bWJvbCgncmFkaWFuc1BlclNlY29uZCcpO1xuY29uc3QgJHN5bmNSb3RhdGlvblJhdGUgPSBTeW1ib2woJ3N5bmNSb3RhdGlvblJhdGUnKTtcbmNvbnN0ICRvbkNhbWVyYUNoYW5nZSA9IFN5bWJvbCgnb25DYW1lcmFDaGFuZ2UnKTtcbmV4cG9ydCBjb25zdCBTdGFnaW5nTWl4aW4gPSAoTW9kZWxWaWV3ZXJFbGVtZW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY2xhc3MgU3RhZ2luZ01vZGVsVmlld2VyRWxlbWVudCBleHRlbmRzIE1vZGVsVmlld2VyRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHRoaXMuYXV0b1JvdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hdXRvUm90YXRlRGVsYXkgPSBBVVRPX1JPVEFURV9ERUxBWV9ERUZBVUxUO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblBlclNlY29uZCA9ICdhdXRvJztcbiAgICAgICAgICAgIHRoaXNbX2FdID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzW19iXSA9IDA7XG4gICAgICAgICAgICB0aGlzW19jXSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hdXRvUm90YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5zb3VyY2UgPT09ICd1c2VyLWludGVyYWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRhdXRvUm90YXRlU3RhcnRUaW1lXSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjYW1lcmEtY2hhbmdlJywgdGhpc1skb25DYW1lcmFDaGFuZ2VdKTtcbiAgICAgICAgICAgIHRoaXNbJGF1dG9Sb3RhdGVTdGFydFRpbWVdID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIH1cbiAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW1lcmEtY2hhbmdlJywgdGhpc1skb25DYW1lcmFDaGFuZ2VdKTtcbiAgICAgICAgICAgIHRoaXNbJGF1dG9Sb3RhdGVTdGFydFRpbWVdID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICAgICAgc3VwZXIudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdhdXRvUm90YXRlJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRhdXRvUm90YXRlU3RhcnRUaW1lXSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFsoX2EgPSAkYXV0b1JvdGF0ZVN0YXJ0VGltZSwgX2IgPSAkcmFkaWFuc1BlclNlY29uZCwgJHN5bmNSb3RhdGlvblJhdGUpXShzdHlsZSkge1xuICAgICAgICAgICAgdGhpc1skcmFkaWFuc1BlclNlY29uZF0gPSBzdHlsZVswXTtcbiAgICAgICAgfVxuICAgICAgICBbJHRpY2tdKHRpbWUsIGRlbHRhKSB7XG4gICAgICAgICAgICBzdXBlclskdGlja10odGltZSwgZGVsdGEpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF1dG9Sb3RhdGUgfHwgIXRoaXNbJGdldE1vZGVsSXNWaXNpYmxlXSgpIHx8XG4gICAgICAgICAgICAgICAgdGhpc1skcmVuZGVyZXJdLmlzUHJlc2VudGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uRGVsdGEgPSBNYXRoLm1pbihkZWx0YSwgdGltZSAtIHRoaXNbJGF1dG9Sb3RhdGVTdGFydFRpbWVdIC0gdGhpcy5hdXRvUm90YXRlRGVsYXkpO1xuICAgICAgICAgICAgaWYgKHJvdGF0aW9uRGVsdGEgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLnlhdyA9IHRoaXMudHVybnRhYmxlUm90YXRpb24gK1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRyYWRpYW5zUGVyU2Vjb25kXSAqIHJvdGF0aW9uRGVsdGEgKiAwLjAwMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXQgdHVybnRhYmxlUm90YXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skc2NlbmVdLnlhdztcbiAgICAgICAgfVxuICAgICAgICByZXNldFR1cm50YWJsZVJvdGF0aW9uKHRoZXRhID0gMCkge1xuICAgICAgICAgICAgdGhpc1skc2NlbmVdLnlhdyA9IHRoZXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jID0gJG9uQ2FtZXJhQ2hhbmdlO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogJ2F1dG8tcm90YXRlJyB9KVxuICAgIF0sIFN0YWdpbmdNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImF1dG9Sb3RhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ2F1dG8tcm90YXRlLWRlbGF5JyB9KVxuICAgIF0sIFN0YWdpbmdNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImF1dG9Sb3RhdGVEZWxheVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBzdHlsZSh7IGludHJpbnNpY3M6IHJvdGF0aW9uUmF0ZUludHJpbnNpY3MsIHVwZGF0ZUhhbmRsZXI6ICRzeW5jUm90YXRpb25SYXRlIH0pLFxuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAncm90YXRpb24tcGVyLXNlY29uZCcgfSlcbiAgICBdLCBTdGFnaW5nTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJyb3RhdGlvblBlclNlY29uZFwiLCB2b2lkIDApO1xuICAgIHJldHVybiBTdGFnaW5nTW9kZWxWaWV3ZXJFbGVtZW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YWdpbmcuanMubWFwIl0sIm5hbWVzIjpbIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZCIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImkiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3BlcnR5Iiwic3R5bGUiLCIkZ2V0TW9kZWxJc1Zpc2libGUiLCIkcmVuZGVyZXIiLCIkc2NlbmUiLCIkdGljayIsImRlZ3JlZXNUb1JhZGlhbnMiLCJudW1iZXJOb2RlIiwiREVGQVVMVF9ST1RBVElPTl9TUEVFRCIsIk1hdGgiLCJQSSIsIkFVVE9fUk9UQVRFX0RFTEFZX0RFRkFVTFQiLCJyb3RhdGlvblJhdGVJbnRyaW5zaWNzIiwiYmFzaXMiLCJrZXl3b3JkcyIsImF1dG8iLCIkYXV0b1JvdGF0ZVN0YXJ0VGltZSIsIlN5bWJvbCIsIiRyYWRpYW5zUGVyU2Vjb25kIiwiJHN5bmNSb3RhdGlvblJhdGUiLCIkb25DYW1lcmFDaGFuZ2UiLCJTdGFnaW5nTWl4aW4iLCJNb2RlbFZpZXdlckVsZW1lbnQiLCJfYSIsIl9iIiwiX2MiLCJTdGFnaW5nTW9kZWxWaWV3ZXJFbGVtZW50IiwiY29uc3RydWN0b3IiLCJhdXRvUm90YXRlIiwiYXV0b1JvdGF0ZURlbGF5Iiwicm90YXRpb25QZXJTZWNvbmQiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImV2ZW50IiwiZGV0YWlsIiwic291cmNlIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlZCIsImNoYW5nZWRQcm9wZXJ0aWVzIiwiaGFzIiwidGltZSIsImRlbHRhIiwiaXNQcmVzZW50aW5nIiwicm90YXRpb25EZWx0YSIsIm1pbiIsInlhdyIsInR1cm50YWJsZVJvdGF0aW9uIiwicmVzZXRUdXJudGFibGVSb3RhdGlvbiIsInRoZXRhIiwidHlwZSIsIkJvb2xlYW4iLCJhdHRyaWJ1dGUiLCJwcm90b3R5cGUiLCJOdW1iZXIiLCJpbnRyaW5zaWNzIiwidXBkYXRlSGFuZGxlciIsIlN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/staging.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js":
/*!********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/model-viewer-base.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $altDefaulted: () => (/* binding */ $altDefaulted),\n/* harmony export */   $announceModelVisibility: () => (/* binding */ $announceModelVisibility),\n/* harmony export */   $ariaLabel: () => (/* binding */ $ariaLabel),\n/* harmony export */   $canvas: () => (/* binding */ $canvas),\n/* harmony export */   $container: () => (/* binding */ $container),\n/* harmony export */   $getLoaded: () => (/* binding */ $getLoaded),\n/* harmony export */   $getModelIsVisible: () => (/* binding */ $getModelIsVisible),\n/* harmony export */   $intersectionObserver: () => (/* binding */ $intersectionObserver),\n/* harmony export */   $isElementInViewport: () => (/* binding */ $isElementInViewport),\n/* harmony export */   $loadedTime: () => (/* binding */ $loadedTime),\n/* harmony export */   $markLoaded: () => (/* binding */ $markLoaded),\n/* harmony export */   $needsRender: () => (/* binding */ $needsRender),\n/* harmony export */   $onModelLoad: () => (/* binding */ $onModelLoad),\n/* harmony export */   $onResize: () => (/* binding */ $onResize),\n/* harmony export */   $progressTracker: () => (/* binding */ $progressTracker),\n/* harmony export */   $renderer: () => (/* binding */ $renderer),\n/* harmony export */   $scene: () => (/* binding */ $scene),\n/* harmony export */   $shouldAttemptPreload: () => (/* binding */ $shouldAttemptPreload),\n/* harmony export */   $statusElement: () => (/* binding */ $statusElement),\n/* harmony export */   $tick: () => (/* binding */ $tick),\n/* harmony export */   $updateSize: () => (/* binding */ $updateSize),\n/* harmony export */   $updateSource: () => (/* binding */ $updateSource),\n/* harmony export */   $updateStatus: () => (/* binding */ $updateStatus),\n/* harmony export */   $userInputElement: () => (/* binding */ $userInputElement),\n/* harmony export */   blobCanvas: () => (/* binding */ blobCanvas),\n/* harmony export */   \"default\": () => (/* binding */ ModelViewerElementBase),\n/* harmony export */   toVector2D: () => (/* binding */ toVector2D),\n/* harmony export */   toVector3D: () => (/* binding */ toVector3D)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/constants.js\");\n/* harmony import */ var _features_environment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./features/environment.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./template.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/template.js\");\n/* harmony import */ var _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./three-components/CachingGLTFLoader.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js\");\n/* harmony import */ var _three_components_ModelScene_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./three-components/ModelScene.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelScene.js\");\n/* harmony import */ var _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./three-components/Renderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _utilities_data_conversion_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utilities/data-conversion.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/data-conversion.js\");\n/* harmony import */ var _utilities_progress_tracker_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utilities/progress-tracker.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/progress-tracker.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var __decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n\n\n\n\n\n\n\n\n\n\n\nconst CLEAR_MODEL_TIMEOUT_MS = 1000;\nconst FALLBACK_SIZE_UPDATE_THRESHOLD_MS = 50;\nconst ANNOUNCE_MODEL_VISIBILITY_DEBOUNCE_THRESHOLD = 0;\nconst UNSIZED_MEDIA_WIDTH = 300;\nconst UNSIZED_MEDIA_HEIGHT = 150;\nconst blobCanvas = document.createElement(\"canvas\");\nconst $fallbackResizeHandler = Symbol(\"fallbackResizeHandler\");\nconst $defaultAriaLabel = Symbol(\"defaultAriaLabel\");\nconst $resizeObserver = Symbol(\"resizeObserver\");\nconst $clearModelTimeout = Symbol(\"clearModelTimeout\");\nconst $onContextLost = Symbol(\"onContextLost\");\nconst $loaded = Symbol(\"loaded\");\nconst $status = Symbol(\"status\");\nconst $onFocus = Symbol(\"onFocus\");\nconst $onBlur = Symbol(\"onBlur\");\nconst $updateSize = Symbol(\"updateSize\");\nconst $intersectionObserver = Symbol(\"intersectionObserver\");\nconst $isElementInViewport = Symbol(\"isElementInViewport\");\nconst $announceModelVisibility = Symbol(\"announceModelVisibility\");\nconst $ariaLabel = Symbol(\"ariaLabel\");\nconst $altDefaulted = Symbol(\"altDefaulted\");\nconst $statusElement = Symbol(\"statusElement\");\nconst $updateStatus = Symbol(\"updateStatus\");\nconst $loadedTime = Symbol(\"loadedTime\");\nconst $updateSource = Symbol(\"updateSource\");\nconst $markLoaded = Symbol(\"markLoaded\");\nconst $container = Symbol(\"container\");\nconst $userInputElement = Symbol(\"input\");\nconst $canvas = Symbol(\"canvas\");\nconst $scene = Symbol(\"scene\");\nconst $needsRender = Symbol(\"needsRender\");\nconst $tick = Symbol(\"tick\");\nconst $onModelLoad = Symbol(\"onModelLoad\");\nconst $onResize = Symbol(\"onResize\");\nconst $renderer = Symbol(\"renderer\");\nconst $progressTracker = Symbol(\"progressTracker\");\nconst $getLoaded = Symbol(\"getLoaded\");\nconst $getModelIsVisible = Symbol(\"getModelIsVisible\");\nconst $shouldAttemptPreload = Symbol(\"shouldAttemptPreload\");\nconst toVector3D = (v)=>{\n    return {\n        x: v.x,\n        y: v.y,\n        z: v.z,\n        toString () {\n            return `${this.x}m ${this.y}m ${this.z}m`;\n        }\n    };\n};\nconst toVector2D = (v)=>{\n    return {\n        u: v.x,\n        v: v.y,\n        toString () {\n            return `${this.u} ${this.v}`;\n        }\n    };\n};\n/**\n * Definition for a basic <model-viewer> element.\n */ class ModelViewerElementBase extends lit__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement {\n    /**\n     * Creates a new ModelViewerElement.\n     */ constructor(){\n        super();\n        this.alt = null;\n        this.src = null;\n        this.withCredentials = false;\n        /**\n         * Generates a 3D model schema https://schema.org/3DModel associated with\n         * the loaded src and inserts it into the header of the page for search\n         * engines to crawl.\n         */ this.generateSchema = false;\n        this[_a] = false;\n        this[_b] = false;\n        this[_c] = 0;\n        this[_d] = \"\";\n        this[_e] = null;\n        this[_f] = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_8__.debounce)(()=>{\n            const boundingRect = this.getBoundingClientRect();\n            this[$updateSize](boundingRect);\n        }, FALLBACK_SIZE_UPDATE_THRESHOLD_MS);\n        this[_g] = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_8__.debounce)((oldVisibility)=>{\n            const newVisibility = this.modelIsVisible;\n            if (newVisibility !== oldVisibility) {\n                this.dispatchEvent(new CustomEvent(\"model-visibility\", {\n                    detail: {\n                        visible: newVisibility\n                    }\n                }));\n            }\n        }, ANNOUNCE_MODEL_VISIBILITY_DEBOUNCE_THRESHOLD);\n        this[_h] = null;\n        this[_j] = null;\n        this[_k] = new _utilities_progress_tracker_js__WEBPACK_IMPORTED_MODULE_10__.ProgressTracker();\n        this[_l] = ()=>{\n            this[$statusElement].textContent = this[$status];\n        };\n        this[_m] = ()=>{\n            this[$statusElement].textContent = \"\";\n        };\n        this[_o] = (event)=>{\n            this.dispatchEvent(new CustomEvent(\"error\", {\n                detail: {\n                    type: \"webglcontextlost\",\n                    sourceError: event.sourceEvent\n                }\n            }));\n        };\n        this.attachShadow({\n            mode: \"open\"\n        });\n        const shadowRoot = this.shadowRoot;\n        (0,_template_js__WEBPACK_IMPORTED_MODULE_4__.makeTemplate)(shadowRoot);\n        this[$container] = shadowRoot.querySelector(\".container\");\n        this[$userInputElement] = shadowRoot.querySelector(\".userInput\");\n        this[$canvas] = shadowRoot.querySelector(\"canvas\");\n        this[$statusElement] = shadowRoot.querySelector(\"#status\");\n        this[$defaultAriaLabel] = this[$userInputElement].getAttribute(\"aria-label\");\n        // Because of potential race conditions related to invoking the constructor\n        // we only use the bounding rect to set the initial size if the element is\n        // already connected to the document:\n        let width, height;\n        if (this.isConnected) {\n            const rect = this.getBoundingClientRect();\n            width = rect.width;\n            height = rect.height;\n        } else {\n            width = UNSIZED_MEDIA_WIDTH;\n            height = UNSIZED_MEDIA_HEIGHT;\n        }\n        // Create the underlying ModelScene.\n        this[$scene] = new _three_components_ModelScene_js__WEBPACK_IMPORTED_MODULE_6__.ModelScene({\n            canvas: this[$canvas],\n            element: this,\n            width,\n            height\n        });\n        // Update initial size on microtask timing so that subclasses have a\n        // chance to initialize\n        Promise.resolve().then(()=>{\n            this[$updateSize](this.getBoundingClientRect());\n        });\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_RESIZE_OBSERVER) {\n            // Set up a resize observer so we can scale our canvas\n            // if our <model-viewer> changes\n            this[$resizeObserver] = new ResizeObserver((entries)=>{\n                // Don't resize anything if in AR mode; otherwise the canvas\n                // scaling to fullscreen on entering AR will clobber the flat/2d\n                // dimensions of the element.\n                if (this[$renderer].isPresenting) {\n                    return;\n                }\n                for (let entry of entries){\n                    if (entry.target === this) {\n                        this[$updateSize](entry.contentRect);\n                    }\n                }\n            });\n        }\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_INTERSECTION_OBSERVER) {\n            this[$intersectionObserver] = new IntersectionObserver((entries)=>{\n                for (let entry of entries){\n                    if (entry.target === this) {\n                        const oldVisibility = this.modelIsVisible;\n                        this[$isElementInViewport] = entry.isIntersecting;\n                        this[$announceModelVisibility](oldVisibility);\n                        if (this[$isElementInViewport] && !this.loaded) {\n                            this[$updateSource]();\n                        }\n                    }\n                }\n            }, {\n                root: null,\n                // We used to have margin here, but it was causing animated models below\n                // the fold to steal the frame budget. Weirder still, it would also\n                // cause input events to be swallowed, sometimes for seconds on the\n                // model above the fold, but only when the animated model was completely\n                // below. Setting this margin to zero fixed it.\n                rootMargin: \"0px\",\n                // With zero threshold, an element adjacent to but not intersecting the\n                // viewport will be reported as intersecting, which will cause\n                // unnecessary rendering. Any slight positive threshold alleviates this.\n                threshold: 0.00001\n            });\n        } else {\n            // If there is no intersection observer, then all models should be visible\n            // at all times:\n            this[$isElementInViewport] = true;\n        }\n    }\n    static get is() {\n        return \"model-viewer\";\n    }\n    /** @export */ static set modelCacheSize(value) {\n        _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.CachingGLTFLoader[_three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.$evictionPolicy].evictionThreshold = value;\n    }\n    /** @export */ static get modelCacheSize() {\n        return _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.CachingGLTFLoader[_three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.$evictionPolicy].evictionThreshold;\n    }\n    /** @export */ static set minimumRenderScale(value) {\n        if (value > 1) {\n            console.warn(\"<model-viewer> minimumRenderScale has been clamped to a maximum value of 1.\");\n        }\n        if (value <= 0) {\n            console.warn(\"<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25.\");\n        }\n        _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_7__.Renderer.singleton.minScale = value;\n    }\n    /** @export */ static get minimumRenderScale() {\n        return _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_7__.Renderer.singleton.minScale;\n    }\n    /** @export */ get loaded() {\n        return this[$getLoaded]();\n    }\n    get [(_a = $isElementInViewport, _b = $loaded, _c = $loadedTime, _d = $status, _e = $clearModelTimeout, _f = $fallbackResizeHandler, _g = $announceModelVisibility, _h = $resizeObserver, _j = $intersectionObserver, _k = $progressTracker, $renderer)]() {\n        return _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_7__.Renderer.singleton;\n    }\n    /** @export */ get modelIsVisible() {\n        return this[$getModelIsVisible]();\n    }\n    connectedCallback() {\n        super.connectedCallback && super.connectedCallback();\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_RESIZE_OBSERVER) {\n            this[$resizeObserver].observe(this);\n        } else {\n            self.addEventListener(\"resize\", this[$fallbackResizeHandler]);\n        }\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_INTERSECTION_OBSERVER) {\n            this[$intersectionObserver].observe(this);\n        }\n        this.addEventListener(\"focus\", this[$onFocus]);\n        this.addEventListener(\"blur\", this[$onBlur]);\n        const renderer = this[$renderer];\n        renderer.addEventListener(\"contextlost\", this[$onContextLost]);\n        renderer.registerScene(this[$scene]);\n        if (this[$clearModelTimeout] != null) {\n            self.clearTimeout(this[$clearModelTimeout]);\n            this[$clearModelTimeout] = null;\n            // Force an update in case the model has been evicted from our GLTF cache\n            // @see https://lit-element.polymer-project.org/guide/lifecycle#requestupdate\n            this.requestUpdate(\"src\", null);\n        }\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback && super.disconnectedCallback();\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_RESIZE_OBSERVER) {\n            this[$resizeObserver].unobserve(this);\n        } else {\n            self.removeEventListener(\"resize\", this[$fallbackResizeHandler]);\n        }\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_INTERSECTION_OBSERVER) {\n            this[$intersectionObserver].unobserve(this);\n        }\n        this.removeEventListener(\"focus\", this[$onFocus]);\n        this.removeEventListener(\"blur\", this[$onBlur]);\n        const renderer = this[$renderer];\n        renderer.removeEventListener(\"contextlost\", this[$onContextLost]);\n        renderer.unregisterScene(this[$scene]);\n        this[$clearModelTimeout] = self.setTimeout(()=>{\n            this[$scene].dispose();\n            this[$clearModelTimeout] = null;\n        }, CLEAR_MODEL_TIMEOUT_MS);\n    }\n    updated(changedProperties) {\n        super.updated(changedProperties);\n        // NOTE(cdata): If a property changes from values A -> B -> A in the space\n        // of a microtask, LitElement/UpdatingElement will notify of a change even\n        // though the value has effectively not changed, so we need to check to make\n        // sure that the value has actually changed before changing the loaded flag.\n        if (changedProperties.has(\"src\")) {\n            if (this.src == null) {\n                this[$loaded] = false;\n                this[$loadedTime] = 0;\n                this[$scene].reset();\n            } else if (this.src !== this[$scene].url) {\n                this[$loaded] = false;\n                this[$loadedTime] = 0;\n                this[$updateSource]();\n            }\n        }\n        if (changedProperties.has(\"alt\")) {\n            this[$userInputElement].setAttribute(\"aria-label\", this[$ariaLabel]);\n        }\n        if (changedProperties.has(\"withCredentials\")) {\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.CachingGLTFLoader.withCredentials = this.withCredentials;\n        }\n        if (changedProperties.has(\"generateSchema\")) {\n            if (this.generateSchema) {\n                this[$scene].updateSchema(this.src);\n            } else {\n                this[$scene].updateSchema(null);\n            }\n        }\n    }\n    /** @export */ toDataURL(type, encoderOptions) {\n        return this[$renderer].displayCanvas(this[$scene]).toDataURL(type, encoderOptions);\n    }\n    /** @export */ async toBlob(options) {\n        const mimeType = options ? options.mimeType : undefined;\n        const qualityArgument = options ? options.qualityArgument : undefined;\n        const useIdealAspect = options ? options.idealAspect : undefined;\n        const { width, height, idealAspect, aspect } = this[$scene];\n        const { dpr, scaleFactor } = this[$renderer];\n        let outputWidth = width * scaleFactor * dpr;\n        let outputHeight = height * scaleFactor * dpr;\n        let offsetX = 0;\n        let offsetY = 0;\n        if (useIdealAspect === true) {\n            if (idealAspect > aspect) {\n                const oldHeight = outputHeight;\n                outputHeight = Math.round(outputWidth / idealAspect);\n                offsetY = (oldHeight - outputHeight) / 2;\n            } else {\n                const oldWidth = outputWidth;\n                outputWidth = Math.round(outputHeight * idealAspect);\n                offsetX = (oldWidth - outputWidth) / 2;\n            }\n        }\n        blobCanvas.width = outputWidth;\n        blobCanvas.height = outputHeight;\n        try {\n            return new Promise(async (resolve, reject)=>{\n                blobCanvas.getContext(\"2d\").drawImage(this[$renderer].displayCanvas(this[$scene]), offsetX, offsetY, outputWidth, outputHeight, 0, 0, outputWidth, outputHeight);\n                if (blobCanvas.msToBlob) {\n                    // NOTE: msToBlob only returns image/png\n                    // so ensure mimeType is not specified (defaults to image/png)\n                    // or is image/png, otherwise fallback to using toDataURL on IE.\n                    if (!mimeType || mimeType === \"image/png\") {\n                        return resolve(blobCanvas.msToBlob());\n                    }\n                }\n                if (!blobCanvas.toBlob) {\n                    return resolve(await (0,_utilities_data_conversion_js__WEBPACK_IMPORTED_MODULE_9__.dataUrlToBlob)(blobCanvas.toDataURL(mimeType, qualityArgument)));\n                }\n                blobCanvas.toBlob((blob)=>{\n                    if (!blob) {\n                        return reject(new Error(\"Unable to retrieve canvas blob\"));\n                    }\n                    resolve(blob);\n                }, mimeType, qualityArgument);\n            });\n        } finally{\n            this[$updateSize]({\n                width,\n                height\n            });\n        }\n        ;\n    }\n    registerRenderer(renderer) {\n        this[$scene].externalRenderer = renderer;\n    }\n    unregisterRenderer() {\n        this[$scene].externalRenderer = null;\n    }\n    get [$ariaLabel]() {\n        return this[$altDefaulted];\n    }\n    get [$altDefaulted]() {\n        return this.alt == null || this.alt === \"null\" ? this[$defaultAriaLabel] : this.alt;\n    }\n    // NOTE(cdata): Although this may seem extremely redundant, it is required in\n    // order to support overloading when TypeScript is compiled to ES5\n    // @see https://github.com/Polymer/lit-element/pull/745\n    // @see https://github.com/microsoft/TypeScript/issues/338\n    [$getLoaded]() {\n        return this[$loaded];\n    }\n    // @see [$getLoaded]\n    [$getModelIsVisible]() {\n        return this.loaded && this[$isElementInViewport];\n    }\n    [$shouldAttemptPreload]() {\n        return !!this.src && this[$isElementInViewport];\n    }\n    /**\n     * Called on initialization and when the resize observer fires.\n     */ [$updateSize]({ width, height }) {\n        this[$container].style.width = `${width}px`;\n        this[$container].style.height = `${height}px`;\n        this[$onResize]({\n            width: parseFloat(width),\n            height: parseFloat(height)\n        });\n    }\n    [$tick](_time, _delta) {}\n    [$markLoaded]() {\n        if (this[$loaded]) {\n            return;\n        }\n        this[$loaded] = true;\n        this[$loadedTime] = performance.now();\n    }\n    [$needsRender]() {\n        this[$scene].queueRender();\n    }\n    [$onModelLoad]() {}\n    [$updateStatus](status) {\n        this[$status] = status;\n        const rootNode = this.getRootNode();\n        // Only change the aria-label if <model-viewer> is currently focused:\n        if (rootNode != null && rootNode.activeElement === this && this[$statusElement].textContent != status) {\n            this[$statusElement].textContent = status;\n        }\n    }\n    [(_l = $onFocus, _m = $onBlur, $onResize)](e) {\n        this[$scene].setSize(e.width, e.height);\n    }\n    /**\n     * Parses the element for an appropriate source URL and\n     * sets the views to use the new model based.\n     */ async [(_o = $onContextLost, $updateSource)]() {\n        const scene = this[$scene];\n        if (this.loaded || !this[$shouldAttemptPreload]() || this.src === scene.url) {\n            return;\n        }\n        if (this.generateSchema) {\n            scene.updateSchema(this.src);\n        }\n        this[$updateStatus](\"Loading\");\n        // If we are loading a new model, we need to stop the animation of\n        // the current one (if any is playing). Otherwise, we might lose\n        // the reference to the scene root and running actions start to\n        // throw exceptions and/or behave in unexpected ways:\n        scene.stopAnimation();\n        const updateSourceProgress = this[$progressTracker].beginActivity();\n        const source = this.src;\n        try {\n            const srcUpdated = scene.setSource(source, (progress)=>updateSourceProgress((0,_utilities_js__WEBPACK_IMPORTED_MODULE_8__.clamp)(progress, 0, 1) * 0.95));\n            const envUpdated = this[_features_environment_js__WEBPACK_IMPORTED_MODULE_3__.$updateEnvironment]();\n            await Promise.all([\n                srcUpdated,\n                envUpdated\n            ]);\n            this[$markLoaded]();\n            this[$onModelLoad]();\n            // Wait for shaders to compile and pixels to be drawn.\n            await new Promise((resolve)=>{\n                requestAnimationFrame(()=>{\n                    requestAnimationFrame(()=>{\n                        this.dispatchEvent(new CustomEvent(\"load\", {\n                            detail: {\n                                url: source\n                            }\n                        }));\n                        resolve();\n                    });\n                });\n            });\n        } catch (error) {\n            this.dispatchEvent(new CustomEvent(\"error\", {\n                detail: {\n                    type: \"loadfailure\",\n                    sourceError: error\n                }\n            }));\n        } finally{\n            updateSourceProgress(1.0);\n        }\n    }\n}\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({\n        type: String\n    })\n], ModelViewerElementBase.prototype, \"alt\", void 0);\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({\n        type: String\n    })\n], ModelViewerElementBase.prototype, \"src\", void 0);\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({\n        type: Boolean,\n        attribute: \"with-credentials\"\n    })\n], ModelViewerElementBase.prototype, \"withCredentials\", void 0);\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({\n        type: Boolean,\n        attribute: \"generate-schema\"\n    })\n], ModelViewerElementBase.prototype, \"generateSchema\", void 0); //# sourceMappingURL=model-viewer-base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL21vZGVsLXZpZXdlci1iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRCxJQUFJQSxhQUFhLFNBQUssSUFBSSxTQUFJLENBQUNBLFVBQVUsSUFBSyxTQUFVQyxVQUFVLEVBQUVDLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxJQUFJO0lBQ2pGLElBQUlDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUMsSUFBSUgsSUFBSSxJQUFJSCxTQUFTRSxTQUFTLE9BQU9BLE9BQU9LLE9BQU9DLHdCQUF3QixDQUFDUixRQUFRQyxPQUFPQyxNQUFNTztJQUMzSCxJQUFJLE9BQU9DLFlBQVksWUFBWSxPQUFPQSxRQUFRQyxRQUFRLEtBQUssWUFBWUwsSUFBSUksUUFBUUMsUUFBUSxDQUFDWixZQUFZQyxRQUFRQyxLQUFLQztTQUNwSCxJQUFLLElBQUlVLElBQUliLFdBQVdNLE1BQU0sR0FBRyxHQUFHTyxLQUFLLEdBQUdBLElBQUssSUFBSUgsSUFBSVYsVUFBVSxDQUFDYSxFQUFFLEVBQUVOLElBQUksQ0FBQ0gsSUFBSSxJQUFJTSxFQUFFSCxLQUFLSCxJQUFJLElBQUlNLEVBQUVULFFBQVFDLEtBQUtLLEtBQUtHLEVBQUVULFFBQVFDLElBQUcsS0FBTUs7SUFDaEosT0FBT0gsSUFBSSxLQUFLRyxLQUFLQyxPQUFPTSxjQUFjLENBQUNiLFFBQVFDLEtBQUtLLElBQUlBO0FBQ2hFO0FBQ0EsSUFBSVEsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUM7QUFDZDtBQUNPO0FBQ21DO0FBQ2pCO0FBQ2xCO0FBQ2dEO0FBQy9CO0FBQ0o7QUFDVDtBQUNjO0FBQ0c7QUFDbEUsTUFBTWUseUJBQXlCO0FBQy9CLE1BQU1DLG9DQUFv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RixNQUFNbUg7UUFBU0MsV0FBVztJQUFrQjtDQUMxRCxFQUFFckksdUJBQXVCbUksU0FBUyxFQUFFLGtCQUFrQixLQUFLLElBQzVELDZDQUE2QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL21vZGVsLXZpZXdlci1iYXNlLmpzP2MxYzQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vO1xuaW1wb3J0IHsgUmVhY3RpdmVFbGVtZW50IH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgSEFTX0lOVEVSU0VDVElPTl9PQlNFUlZFUiwgSEFTX1JFU0laRV9PQlNFUlZFUiB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7ICR1cGRhdGVFbnZpcm9ubWVudCB9IGZyb20gJy4vZmVhdHVyZXMvZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgbWFrZVRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5pbXBvcnQgeyAkZXZpY3Rpb25Qb2xpY3ksIENhY2hpbmdHTFRGTG9hZGVyIH0gZnJvbSAnLi90aHJlZS1jb21wb25lbnRzL0NhY2hpbmdHTFRGTG9hZGVyLmpzJztcbmltcG9ydCB7IE1vZGVsU2NlbmUgfSBmcm9tICcuL3RocmVlLWNvbXBvbmVudHMvTW9kZWxTY2VuZS5qcyc7XG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4vdGhyZWUtY29tcG9uZW50cy9SZW5kZXJlci5qcyc7XG5pbXBvcnQgeyBjbGFtcCwgZGVib3VuY2UgfSBmcm9tICcuL3V0aWxpdGllcy5qcyc7XG5pbXBvcnQgeyBkYXRhVXJsVG9CbG9iIH0gZnJvbSAnLi91dGlsaXRpZXMvZGF0YS1jb252ZXJzaW9uLmpzJztcbmltcG9ydCB7IFByb2dyZXNzVHJhY2tlciB9IGZyb20gJy4vdXRpbGl0aWVzL3Byb2dyZXNzLXRyYWNrZXIuanMnO1xuY29uc3QgQ0xFQVJfTU9ERUxfVElNRU9VVF9NUyA9IDEwMDA7XG5jb25zdCBGQUxMQkFDS19TSVpFX1VQREFURV9USFJFU0hPTERfTVMgPSA1MDtcbmNvbnN0IEFOTk9VTkNFX01PREVMX1ZJU0lCSUxJVFlfREVCT1VOQ0VfVEhSRVNIT0xEID0gMDtcbmNvbnN0IFVOU0laRURfTUVESUFfV0lEVEggPSAzMDA7XG5jb25zdCBVTlNJWkVEX01FRElBX0hFSUdIVCA9IDE1MDtcbmV4cG9ydCBjb25zdCBibG9iQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5jb25zdCAkZmFsbGJhY2tSZXNpemVIYW5kbGVyID0gU3ltYm9sKCdmYWxsYmFja1Jlc2l6ZUhhbmRsZXInKTtcbmNvbnN0ICRkZWZhdWx0QXJpYUxhYmVsID0gU3ltYm9sKCdkZWZhdWx0QXJpYUxhYmVsJyk7XG5jb25zdCAkcmVzaXplT2JzZXJ2ZXIgPSBTeW1ib2woJ3Jlc2l6ZU9ic2VydmVyJyk7XG5jb25zdCAkY2xlYXJNb2RlbFRpbWVvdXQgPSBTeW1ib2woJ2NsZWFyTW9kZWxUaW1lb3V0Jyk7XG5jb25zdCAkb25Db250ZXh0TG9zdCA9IFN5bWJvbCgnb25Db250ZXh0TG9zdCcpO1xuY29uc3QgJGxvYWRlZCA9IFN5bWJvbCgnbG9hZGVkJyk7XG5jb25zdCAkc3RhdHVzID0gU3ltYm9sKCdzdGF0dXMnKTtcbmNvbnN0ICRvbkZvY3VzID0gU3ltYm9sKCdvbkZvY3VzJyk7XG5jb25zdCAkb25CbHVyID0gU3ltYm9sKCdvbkJsdXInKTtcbmV4cG9ydCBjb25zdCAkdXBkYXRlU2l6ZSA9IFN5bWJvbCgndXBkYXRlU2l6ZScpO1xuZXhwb3J0IGNvbnN0ICRpbnRlcnNlY3Rpb25PYnNlcnZlciA9IFN5bWJvbCgnaW50ZXJzZWN0aW9uT2JzZXJ2ZXInKTtcbmV4cG9ydCBjb25zdCAkaXNFbGVtZW50SW5WaWV3cG9ydCA9IFN5bWJvbCgnaXNFbGVtZW50SW5WaWV3cG9ydCcpO1xuZXhwb3J0IGNvbnN0ICRhbm5vdW5jZU1vZGVsVmlzaWJpbGl0eSA9IFN5bWJvbCgnYW5ub3VuY2VNb2RlbFZpc2liaWxpdHknKTtcbmV4cG9ydCBjb25zdCAkYXJpYUxhYmVsID0gU3ltYm9sKCdhcmlhTGFiZWwnKTtcbmV4cG9ydCBjb25zdCAkYWx0RGVmYXVsdGVkID0gU3ltYm9sKCdhbHREZWZhdWx0ZWQnKTtcbmV4cG9ydCBjb25zdCAkc3RhdHVzRWxlbWVudCA9IFN5bWJvbCgnc3RhdHVzRWxlbWVudCcpO1xuZXhwb3J0IGNvbnN0ICR1cGRhdGVTdGF0dXMgPSBTeW1ib2woJ3VwZGF0ZVN0YXR1cycpO1xuZXhwb3J0IGNvbnN0ICRsb2FkZWRUaW1lID0gU3ltYm9sKCdsb2FkZWRUaW1lJyk7XG5leHBvcnQgY29uc3QgJHVwZGF0ZVNvdXJjZSA9IFN5bWJvbCgndXBkYXRlU291cmNlJyk7XG5leHBvcnQgY29uc3QgJG1hcmtMb2FkZWQgPSBTeW1ib2woJ21hcmtMb2FkZWQnKTtcbmV4cG9ydCBjb25zdCAkY29udGFpbmVyID0gU3ltYm9sKCdjb250YWluZXInKTtcbmV4cG9ydCBjb25zdCAkdXNlcklucHV0RWxlbWVudCA9IFN5bWJvbCgnaW5wdXQnKTtcbmV4cG9ydCBjb25zdCAkY2FudmFzID0gU3ltYm9sKCdjYW52YXMnKTtcbmV4cG9ydCBjb25zdCAkc2NlbmUgPSBTeW1ib2woJ3NjZW5lJyk7XG5leHBvcnQgY29uc3QgJG5lZWRzUmVuZGVyID0gU3ltYm9sKCduZWVkc1JlbmRlcicpO1xuZXhwb3J0IGNvbnN0ICR0aWNrID0gU3ltYm9sKCd0aWNrJyk7XG5leHBvcnQgY29uc3QgJG9uTW9kZWxMb2FkID0gU3ltYm9sKCdvbk1vZGVsTG9hZCcpO1xuZXhwb3J0IGNvbnN0ICRvblJlc2l6ZSA9IFN5bWJvbCgnb25SZXNpemUnKTtcbmV4cG9ydCBjb25zdCAkcmVuZGVyZXIgPSBTeW1ib2woJ3JlbmRlcmVyJyk7XG5leHBvcnQgY29uc3QgJHByb2dyZXNzVHJhY2tlciA9IFN5bWJvbCgncHJvZ3Jlc3NUcmFja2VyJyk7XG5leHBvcnQgY29uc3QgJGdldExvYWRlZCA9IFN5bWJvbCgnZ2V0TG9hZGVkJyk7XG5leHBvcnQgY29uc3QgJGdldE1vZGVsSXNWaXNpYmxlID0gU3ltYm9sKCdnZXRNb2RlbElzVmlzaWJsZScpO1xuZXhwb3J0IGNvbnN0ICRzaG91bGRBdHRlbXB0UHJlbG9hZCA9IFN5bWJvbCgnc2hvdWxkQXR0ZW1wdFByZWxvYWQnKTtcbmV4cG9ydCBjb25zdCB0b1ZlY3RvcjNEID0gKHYpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB2LngsXG4gICAgICAgIHk6IHYueSxcbiAgICAgICAgejogdi56LFxuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLnh9bSAke3RoaXMueX1tICR7dGhpcy56fW1gO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgdG9WZWN0b3IyRCA9ICh2KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdTogdi54LFxuICAgICAgICB2OiB2LnksXG4gICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMudX0gJHt0aGlzLnZ9YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLyoqXG4gKiBEZWZpbml0aW9uIGZvciBhIGJhc2ljIDxtb2RlbC12aWV3ZXI+IGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsVmlld2VyRWxlbWVudEJhc2UgZXh0ZW5kcyBSZWFjdGl2ZUVsZW1lbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTW9kZWxWaWV3ZXJFbGVtZW50LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmFsdCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3JjID0gbnVsbDtcbiAgICAgICAgdGhpcy53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdlbmVyYXRlcyBhIDNEIG1vZGVsIHNjaGVtYSBodHRwczovL3NjaGVtYS5vcmcvM0RNb2RlbCBhc3NvY2lhdGVkIHdpdGhcbiAgICAgICAgICogdGhlIGxvYWRlZCBzcmMgYW5kIGluc2VydHMgaXQgaW50byB0aGUgaGVhZGVyIG9mIHRoZSBwYWdlIGZvciBzZWFyY2hcbiAgICAgICAgICogZW5naW5lcyB0byBjcmF3bC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVTY2hlbWEgPSBmYWxzZTtcbiAgICAgICAgdGhpc1tfYV0gPSBmYWxzZTtcbiAgICAgICAgdGhpc1tfYl0gPSBmYWxzZTtcbiAgICAgICAgdGhpc1tfY10gPSAwO1xuICAgICAgICB0aGlzW19kXSA9ICcnO1xuICAgICAgICB0aGlzW19lXSA9IG51bGw7XG4gICAgICAgIHRoaXNbX2ZdID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm91bmRpbmdSZWN0ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHRoaXNbJHVwZGF0ZVNpemVdKGJvdW5kaW5nUmVjdCk7XG4gICAgICAgIH0sIEZBTExCQUNLX1NJWkVfVVBEQVRFX1RIUkVTSE9MRF9NUyk7XG4gICAgICAgIHRoaXNbX2ddID0gZGVib3VuY2UoKG9sZFZpc2liaWxpdHkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Zpc2liaWxpdHkgPSB0aGlzLm1vZGVsSXNWaXNpYmxlO1xuICAgICAgICAgICAgaWYgKG5ld1Zpc2liaWxpdHkgIT09IG9sZFZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdtb2RlbC12aXNpYmlsaXR5JywgeyBkZXRhaWw6IHsgdmlzaWJsZTogbmV3VmlzaWJpbGl0eSB9IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgQU5OT1VOQ0VfTU9ERUxfVklTSUJJTElUWV9ERUJPVU5DRV9USFJFU0hPTEQpO1xuICAgICAgICB0aGlzW19oXSA9IG51bGw7XG4gICAgICAgIHRoaXNbX2pdID0gbnVsbDtcbiAgICAgICAgdGhpc1tfa10gPSBuZXcgUHJvZ3Jlc3NUcmFja2VyKCk7XG4gICAgICAgIHRoaXNbX2xdID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpc1skc3RhdHVzRWxlbWVudF0udGV4dENvbnRlbnQgPSB0aGlzWyRzdGF0dXNdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzW19tXSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXNbJHN0YXR1c0VsZW1lbnRdLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXNbX29dID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdlcnJvcicsIHsgZGV0YWlsOiB7IHR5cGU6ICd3ZWJnbGNvbnRleHRsb3N0Jywgc291cmNlRXJyb3I6IGV2ZW50LnNvdXJjZUV2ZW50IH0gfSkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgY29uc3Qgc2hhZG93Um9vdCA9IHRoaXMuc2hhZG93Um9vdDtcbiAgICAgICAgbWFrZVRlbXBsYXRlKHNoYWRvd1Jvb3QpO1xuICAgICAgICB0aGlzWyRjb250YWluZXJdID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXNbJHVzZXJJbnB1dEVsZW1lbnRdID1cbiAgICAgICAgICAgIHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnVzZXJJbnB1dCcpO1xuICAgICAgICB0aGlzWyRjYW52YXNdID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcbiAgICAgICAgdGhpc1skc3RhdHVzRWxlbWVudF0gPVxuICAgICAgICAgICAgc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjc3RhdHVzJyk7XG4gICAgICAgIHRoaXNbJGRlZmF1bHRBcmlhTGFiZWxdID1cbiAgICAgICAgICAgIHRoaXNbJHVzZXJJbnB1dEVsZW1lbnRdLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgICAgICAvLyBCZWNhdXNlIG9mIHBvdGVudGlhbCByYWNlIGNvbmRpdGlvbnMgcmVsYXRlZCB0byBpbnZva2luZyB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgLy8gd2Ugb25seSB1c2UgdGhlIGJvdW5kaW5nIHJlY3QgdG8gc2V0IHRoZSBpbml0aWFsIHNpemUgaWYgdGhlIGVsZW1lbnQgaXNcbiAgICAgICAgLy8gYWxyZWFkeSBjb25uZWN0ZWQgdG8gdGhlIGRvY3VtZW50OlxuICAgICAgICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgd2lkdGggPSByZWN0LndpZHRoO1xuICAgICAgICAgICAgaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCA9IFVOU0laRURfTUVESUFfV0lEVEg7XG4gICAgICAgICAgICBoZWlnaHQgPSBVTlNJWkVEX01FRElBX0hFSUdIVDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDcmVhdGUgdGhlIHVuZGVybHlpbmcgTW9kZWxTY2VuZS5cbiAgICAgICAgdGhpc1skc2NlbmVdID1cbiAgICAgICAgICAgIG5ldyBNb2RlbFNjZW5lKHsgY2FudmFzOiB0aGlzWyRjYW52YXNdLCBlbGVtZW50OiB0aGlzLCB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgICAvLyBVcGRhdGUgaW5pdGlhbCBzaXplIG9uIG1pY3JvdGFzayB0aW1pbmcgc28gdGhhdCBzdWJjbGFzc2VzIGhhdmUgYVxuICAgICAgICAvLyBjaGFuY2UgdG8gaW5pdGlhbGl6ZVxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXNbJHVwZGF0ZVNpemVdKHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKEhBU19SRVNJWkVfT0JTRVJWRVIpIHtcbiAgICAgICAgICAgIC8vIFNldCB1cCBhIHJlc2l6ZSBvYnNlcnZlciBzbyB3ZSBjYW4gc2NhbGUgb3VyIGNhbnZhc1xuICAgICAgICAgICAgLy8gaWYgb3VyIDxtb2RlbC12aWV3ZXI+IGNoYW5nZXNcbiAgICAgICAgICAgIHRoaXNbJHJlc2l6ZU9ic2VydmVyXSA9XG4gICAgICAgICAgICAgICAgbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJlc2l6ZSBhbnl0aGluZyBpZiBpbiBBUiBtb2RlOyBvdGhlcndpc2UgdGhlIGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICAvLyBzY2FsaW5nIHRvIGZ1bGxzY3JlZW4gb24gZW50ZXJpbmcgQVIgd2lsbCBjbG9iYmVyIHRoZSBmbGF0LzJkXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpbWVuc2lvbnMgb2YgdGhlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzWyRyZW5kZXJlcl0uaXNQcmVzZW50aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJHVwZGF0ZVNpemVdKGVudHJ5LmNvbnRlbnRSZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChIQVNfSU5URVJTRUNUSU9OX09CU0VSVkVSKSB7XG4gICAgICAgICAgICB0aGlzWyRpbnRlcnNlY3Rpb25PYnNlcnZlcl0gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkudGFyZ2V0ID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRWaXNpYmlsaXR5ID0gdGhpcy5tb2RlbElzVmlzaWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJGlzRWxlbWVudEluVmlld3BvcnRdID0gZW50cnkuaXNJbnRlcnNlY3Rpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyRhbm5vdW5jZU1vZGVsVmlzaWJpbGl0eV0ob2xkVmlzaWJpbGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1skaXNFbGVtZW50SW5WaWV3cG9ydF0gJiYgIXRoaXMubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skdXBkYXRlU291cmNlXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHJvb3Q6IG51bGwsXG4gICAgICAgICAgICAgICAgLy8gV2UgdXNlZCB0byBoYXZlIG1hcmdpbiBoZXJlLCBidXQgaXQgd2FzIGNhdXNpbmcgYW5pbWF0ZWQgbW9kZWxzIGJlbG93XG4gICAgICAgICAgICAgICAgLy8gdGhlIGZvbGQgdG8gc3RlYWwgdGhlIGZyYW1lIGJ1ZGdldC4gV2VpcmRlciBzdGlsbCwgaXQgd291bGQgYWxzb1xuICAgICAgICAgICAgICAgIC8vIGNhdXNlIGlucHV0IGV2ZW50cyB0byBiZSBzd2FsbG93ZWQsIHNvbWV0aW1lcyBmb3Igc2Vjb25kcyBvbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBtb2RlbCBhYm92ZSB0aGUgZm9sZCwgYnV0IG9ubHkgd2hlbiB0aGUgYW5pbWF0ZWQgbW9kZWwgd2FzIGNvbXBsZXRlbHlcbiAgICAgICAgICAgICAgICAvLyBiZWxvdy4gU2V0dGluZyB0aGlzIG1hcmdpbiB0byB6ZXJvIGZpeGVkIGl0LlxuICAgICAgICAgICAgICAgIHJvb3RNYXJnaW46ICcwcHgnLFxuICAgICAgICAgICAgICAgIC8vIFdpdGggemVybyB0aHJlc2hvbGQsIGFuIGVsZW1lbnQgYWRqYWNlbnQgdG8gYnV0IG5vdCBpbnRlcnNlY3RpbmcgdGhlXG4gICAgICAgICAgICAgICAgLy8gdmlld3BvcnQgd2lsbCBiZSByZXBvcnRlZCBhcyBpbnRlcnNlY3RpbmcsIHdoaWNoIHdpbGwgY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSByZW5kZXJpbmcuIEFueSBzbGlnaHQgcG9zaXRpdmUgdGhyZXNob2xkIGFsbGV2aWF0ZXMgdGhpcy5cbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDAuMDAwMDEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGludGVyc2VjdGlvbiBvYnNlcnZlciwgdGhlbiBhbGwgbW9kZWxzIHNob3VsZCBiZSB2aXNpYmxlXG4gICAgICAgICAgICAvLyBhdCBhbGwgdGltZXM6XG4gICAgICAgICAgICB0aGlzWyRpc0VsZW1lbnRJblZpZXdwb3J0XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldCBpcygpIHtcbiAgICAgICAgcmV0dXJuICdtb2RlbC12aWV3ZXInO1xuICAgIH1cbiAgICAvKiogQGV4cG9ydCAqL1xuICAgIHN0YXRpYyBzZXQgbW9kZWxDYWNoZVNpemUodmFsdWUpIHtcbiAgICAgICAgQ2FjaGluZ0dMVEZMb2FkZXJbJGV2aWN0aW9uUG9saWN5XS5ldmljdGlvblRocmVzaG9sZCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKiogQGV4cG9ydCAqL1xuICAgIHN0YXRpYyBnZXQgbW9kZWxDYWNoZVNpemUoKSB7XG4gICAgICAgIHJldHVybiBDYWNoaW5nR0xURkxvYWRlclskZXZpY3Rpb25Qb2xpY3ldLmV2aWN0aW9uVGhyZXNob2xkO1xuICAgIH1cbiAgICAvKiogQGV4cG9ydCAqL1xuICAgIHN0YXRpYyBzZXQgbWluaW11bVJlbmRlclNjYWxlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA+IDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignPG1vZGVsLXZpZXdlcj4gbWluaW11bVJlbmRlclNjYWxlIGhhcyBiZWVuIGNsYW1wZWQgdG8gYSBtYXhpbXVtIHZhbHVlIG9mIDEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIDw9IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignPG1vZGVsLXZpZXdlcj4gbWluaW11bVJlbmRlclNjYWxlIGhhcyBiZWVuIGNsYW1wZWQgdG8gYSBtaW5pbXVtIHZhbHVlIG9mIDAuMjUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgUmVuZGVyZXIuc2luZ2xldG9uLm1pblNjYWxlID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKiBAZXhwb3J0ICovXG4gICAgc3RhdGljIGdldCBtaW5pbXVtUmVuZGVyU2NhbGUoKSB7XG4gICAgICAgIHJldHVybiBSZW5kZXJlci5zaW5nbGV0b24ubWluU2NhbGU7XG4gICAgfVxuICAgIC8qKiBAZXhwb3J0ICovXG4gICAgZ2V0IGxvYWRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGdldExvYWRlZF0oKTtcbiAgICB9XG4gICAgZ2V0IFsoX2EgPSAkaXNFbGVtZW50SW5WaWV3cG9ydCwgX2IgPSAkbG9hZGVkLCBfYyA9ICRsb2FkZWRUaW1lLCBfZCA9ICRzdGF0dXMsIF9lID0gJGNsZWFyTW9kZWxUaW1lb3V0LCBfZiA9ICRmYWxsYmFja1Jlc2l6ZUhhbmRsZXIsIF9nID0gJGFubm91bmNlTW9kZWxWaXNpYmlsaXR5LCBfaCA9ICRyZXNpemVPYnNlcnZlciwgX2ogPSAkaW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIF9rID0gJHByb2dyZXNzVHJhY2tlciwgJHJlbmRlcmVyKV0oKSB7XG4gICAgICAgIHJldHVybiBSZW5kZXJlci5zaW5nbGV0b247XG4gICAgfVxuICAgIC8qKiBAZXhwb3J0ICovXG4gICAgZ2V0IG1vZGVsSXNWaXNpYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skZ2V0TW9kZWxJc1Zpc2libGVdKCk7XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjayAmJiBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICBpZiAoSEFTX1JFU0laRV9PQlNFUlZFUikge1xuICAgICAgICAgICAgdGhpc1skcmVzaXplT2JzZXJ2ZXJdLm9ic2VydmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXNbJGZhbGxiYWNrUmVzaXplSGFuZGxlcl0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChIQVNfSU5URVJTRUNUSU9OX09CU0VSVkVSKSB7XG4gICAgICAgICAgICB0aGlzWyRpbnRlcnNlY3Rpb25PYnNlcnZlcl0ub2JzZXJ2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpc1skb25Gb2N1c10pO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzWyRvbkJsdXJdKTtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzWyRyZW5kZXJlcl07XG4gICAgICAgIHJlbmRlcmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRsb3N0JywgdGhpc1skb25Db250ZXh0TG9zdF0pO1xuICAgICAgICByZW5kZXJlci5yZWdpc3RlclNjZW5lKHRoaXNbJHNjZW5lXSk7XG4gICAgICAgIGlmICh0aGlzWyRjbGVhck1vZGVsVGltZW91dF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgc2VsZi5jbGVhclRpbWVvdXQodGhpc1skY2xlYXJNb2RlbFRpbWVvdXRdKTtcbiAgICAgICAgICAgIHRoaXNbJGNsZWFyTW9kZWxUaW1lb3V0XSA9IG51bGw7XG4gICAgICAgICAgICAvLyBGb3JjZSBhbiB1cGRhdGUgaW4gY2FzZSB0aGUgbW9kZWwgaGFzIGJlZW4gZXZpY3RlZCBmcm9tIG91ciBHTFRGIGNhY2hlXG4gICAgICAgICAgICAvLyBAc2VlIGh0dHBzOi8vbGl0LWVsZW1lbnQucG9seW1lci1wcm9qZWN0Lm9yZy9ndWlkZS9saWZlY3ljbGUjcmVxdWVzdHVwZGF0ZVxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdzcmMnLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2sgJiYgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgaWYgKEhBU19SRVNJWkVfT0JTRVJWRVIpIHtcbiAgICAgICAgICAgIHRoaXNbJHJlc2l6ZU9ic2VydmVyXS51bm9ic2VydmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXNbJGZhbGxiYWNrUmVzaXplSGFuZGxlcl0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChIQVNfSU5URVJTRUNUSU9OX09CU0VSVkVSKSB7XG4gICAgICAgICAgICB0aGlzWyRpbnRlcnNlY3Rpb25PYnNlcnZlcl0udW5vYnNlcnZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzWyRvbkZvY3VzXSk7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXNbJG9uQmx1cl0pO1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXNbJHJlbmRlcmVyXTtcbiAgICAgICAgcmVuZGVyZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dGxvc3QnLCB0aGlzWyRvbkNvbnRleHRMb3N0XSk7XG4gICAgICAgIHJlbmRlcmVyLnVucmVnaXN0ZXJTY2VuZSh0aGlzWyRzY2VuZV0pO1xuICAgICAgICB0aGlzWyRjbGVhck1vZGVsVGltZW91dF0gPSBzZWxmLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpc1skc2NlbmVdLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXNbJGNsZWFyTW9kZWxUaW1lb3V0XSA9IG51bGw7XG4gICAgICAgIH0sIENMRUFSX01PREVMX1RJTUVPVVRfTVMpO1xuICAgIH1cbiAgICB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAvLyBOT1RFKGNkYXRhKTogSWYgYSBwcm9wZXJ0eSBjaGFuZ2VzIGZyb20gdmFsdWVzIEEgLT4gQiAtPiBBIGluIHRoZSBzcGFjZVxuICAgICAgICAvLyBvZiBhIG1pY3JvdGFzaywgTGl0RWxlbWVudC9VcGRhdGluZ0VsZW1lbnQgd2lsbCBub3RpZnkgb2YgYSBjaGFuZ2UgZXZlblxuICAgICAgICAvLyB0aG91Z2ggdGhlIHZhbHVlIGhhcyBlZmZlY3RpdmVseSBub3QgY2hhbmdlZCwgc28gd2UgbmVlZCB0byBjaGVjayB0byBtYWtlXG4gICAgICAgIC8vIHN1cmUgdGhhdCB0aGUgdmFsdWUgaGFzIGFjdHVhbGx5IGNoYW5nZWQgYmVmb3JlIGNoYW5naW5nIHRoZSBsb2FkZWQgZmxhZy5cbiAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnc3JjJykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNyYyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skbG9hZGVkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXNbJGxvYWRlZFRpbWVdID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0ucmVzZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc3JjICE9PSB0aGlzWyRzY2VuZV0udXJsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skbG9hZGVkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXNbJGxvYWRlZFRpbWVdID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzWyR1cGRhdGVTb3VyY2VdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnYWx0JykpIHtcbiAgICAgICAgICAgIHRoaXNbJHVzZXJJbnB1dEVsZW1lbnRdLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXNbJGFyaWFMYWJlbF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3dpdGhDcmVkZW50aWFscycpKSB7XG4gICAgICAgICAgICBDYWNoaW5nR0xURkxvYWRlci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLndpdGhDcmVkZW50aWFscztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdnZW5lcmF0ZVNjaGVtYScpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS51cGRhdGVTY2hlbWEodGhpcy5zcmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLnVwZGF0ZVNjaGVtYShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGV4cG9ydCAqL1xuICAgIHRvRGF0YVVSTCh0eXBlLCBlbmNvZGVyT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpc1skcmVuZGVyZXJdXG4gICAgICAgICAgICAuZGlzcGxheUNhbnZhcyh0aGlzWyRzY2VuZV0pXG4gICAgICAgICAgICAudG9EYXRhVVJMKHR5cGUsIGVuY29kZXJPcHRpb25zKTtcbiAgICB9XG4gICAgLyoqIEBleHBvcnQgKi9cbiAgICBhc3luYyB0b0Jsb2Iob3B0aW9ucykge1xuICAgICAgICBjb25zdCBtaW1lVHlwZSA9IG9wdGlvbnMgPyBvcHRpb25zLm1pbWVUeXBlIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBxdWFsaXR5QXJndW1lbnQgPSBvcHRpb25zID8gb3B0aW9ucy5xdWFsaXR5QXJndW1lbnQgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHVzZUlkZWFsQXNwZWN0ID0gb3B0aW9ucyA/IG9wdGlvbnMuaWRlYWxBc3BlY3QgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgaWRlYWxBc3BlY3QsIGFzcGVjdCB9ID0gdGhpc1skc2NlbmVdO1xuICAgICAgICBjb25zdCB7IGRwciwgc2NhbGVGYWN0b3IgfSA9IHRoaXNbJHJlbmRlcmVyXTtcbiAgICAgICAgbGV0IG91dHB1dFdpZHRoID0gd2lkdGggKiBzY2FsZUZhY3RvciAqIGRwcjtcbiAgICAgICAgbGV0IG91dHB1dEhlaWdodCA9IGhlaWdodCAqIHNjYWxlRmFjdG9yICogZHByO1xuICAgICAgICBsZXQgb2Zmc2V0WCA9IDA7XG4gICAgICAgIGxldCBvZmZzZXRZID0gMDtcbiAgICAgICAgaWYgKHVzZUlkZWFsQXNwZWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoaWRlYWxBc3BlY3QgPiBhc3BlY3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRIZWlnaHQgPSBvdXRwdXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgb3V0cHV0SGVpZ2h0ID0gTWF0aC5yb3VuZChvdXRwdXRXaWR0aCAvIGlkZWFsQXNwZWN0KTtcbiAgICAgICAgICAgICAgICBvZmZzZXRZID0gKG9sZEhlaWdodCAtIG91dHB1dEhlaWdodCkgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkV2lkdGggPSBvdXRwdXRXaWR0aDtcbiAgICAgICAgICAgICAgICBvdXRwdXRXaWR0aCA9IE1hdGgucm91bmQob3V0cHV0SGVpZ2h0ICogaWRlYWxBc3BlY3QpO1xuICAgICAgICAgICAgICAgIG9mZnNldFggPSAob2xkV2lkdGggLSBvdXRwdXRXaWR0aCkgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJsb2JDYW52YXMud2lkdGggPSBvdXRwdXRXaWR0aDtcbiAgICAgICAgYmxvYkNhbnZhcy5oZWlnaHQgPSBvdXRwdXRIZWlnaHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGJsb2JDYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UodGhpc1skcmVuZGVyZXJdLmRpc3BsYXlDYW52YXModGhpc1skc2NlbmVdKSwgb2Zmc2V0WCwgb2Zmc2V0WSwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCwgMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgICAgICAgICAgICAgaWYgKGJsb2JDYW52YXMubXNUb0Jsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogbXNUb0Jsb2Igb25seSByZXR1cm5zIGltYWdlL3BuZ1xuICAgICAgICAgICAgICAgICAgICAvLyBzbyBlbnN1cmUgbWltZVR5cGUgaXMgbm90IHNwZWNpZmllZCAoZGVmYXVsdHMgdG8gaW1hZ2UvcG5nKVxuICAgICAgICAgICAgICAgICAgICAvLyBvciBpcyBpbWFnZS9wbmcsIG90aGVyd2lzZSBmYWxsYmFjayB0byB1c2luZyB0b0RhdGFVUkwgb24gSUUuXG4gICAgICAgICAgICAgICAgICAgIGlmICghbWltZVR5cGUgfHwgbWltZVR5cGUgPT09ICdpbWFnZS9wbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShibG9iQ2FudmFzLm1zVG9CbG9iKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYmxvYkNhbnZhcy50b0Jsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoYXdhaXQgZGF0YVVybFRvQmxvYihibG9iQ2FudmFzLnRvRGF0YVVSTChtaW1lVHlwZSwgcXVhbGl0eUFyZ3VtZW50KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBibG9iQ2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKCdVbmFibGUgdG8gcmV0cmlldmUgY2FudmFzIGJsb2InKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShibG9iKTtcbiAgICAgICAgICAgICAgICB9LCBtaW1lVHlwZSwgcXVhbGl0eUFyZ3VtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpc1skdXBkYXRlU2l6ZV0oeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICB9XG4gICAgcmVnaXN0ZXJSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICB0aGlzWyRzY2VuZV0uZXh0ZXJuYWxSZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cbiAgICB1bnJlZ2lzdGVyUmVuZGVyZXIoKSB7XG4gICAgICAgIHRoaXNbJHNjZW5lXS5leHRlcm5hbFJlbmRlcmVyID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IFskYXJpYUxhYmVsXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGFsdERlZmF1bHRlZF07XG4gICAgfVxuICAgIGdldCBbJGFsdERlZmF1bHRlZF0oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5hbHQgPT0gbnVsbCB8fCB0aGlzLmFsdCA9PT0gJ251bGwnKSA/IHRoaXNbJGRlZmF1bHRBcmlhTGFiZWxdIDpcbiAgICAgICAgICAgIHRoaXMuYWx0O1xuICAgIH1cbiAgICAvLyBOT1RFKGNkYXRhKTogQWx0aG91Z2ggdGhpcyBtYXkgc2VlbSBleHRyZW1lbHkgcmVkdW5kYW50LCBpdCBpcyByZXF1aXJlZCBpblxuICAgIC8vIG9yZGVyIHRvIHN1cHBvcnQgb3ZlcmxvYWRpbmcgd2hlbiBUeXBlU2NyaXB0IGlzIGNvbXBpbGVkIHRvIEVTNVxuICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvbGl0LWVsZW1lbnQvcHVsbC83NDVcbiAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzM4XG4gICAgWyRnZXRMb2FkZWRdKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skbG9hZGVkXTtcbiAgICB9XG4gICAgLy8gQHNlZSBbJGdldExvYWRlZF1cbiAgICBbJGdldE1vZGVsSXNWaXNpYmxlXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGVkICYmIHRoaXNbJGlzRWxlbWVudEluVmlld3BvcnRdO1xuICAgIH1cbiAgICBbJHNob3VsZEF0dGVtcHRQcmVsb2FkXSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zcmMgJiYgdGhpc1skaXNFbGVtZW50SW5WaWV3cG9ydF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbiBpbml0aWFsaXphdGlvbiBhbmQgd2hlbiB0aGUgcmVzaXplIG9ic2VydmVyIGZpcmVzLlxuICAgICAqL1xuICAgIFskdXBkYXRlU2l6ZV0oeyB3aWR0aCwgaGVpZ2h0IH0pIHtcbiAgICAgICAgdGhpc1skY29udGFpbmVyXS5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICAgICAgdGhpc1skY29udGFpbmVyXS5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICB0aGlzWyRvblJlc2l6ZV0oeyB3aWR0aDogcGFyc2VGbG9hdCh3aWR0aCksIGhlaWdodDogcGFyc2VGbG9hdChoZWlnaHQpIH0pO1xuICAgIH1cbiAgICBbJHRpY2tdKF90aW1lLCBfZGVsdGEpIHtcbiAgICB9XG4gICAgWyRtYXJrTG9hZGVkXSgpIHtcbiAgICAgICAgaWYgKHRoaXNbJGxvYWRlZF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzWyRsb2FkZWRdID0gdHJ1ZTtcbiAgICAgICAgdGhpc1skbG9hZGVkVGltZV0gPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG4gICAgWyRuZWVkc1JlbmRlcl0oKSB7XG4gICAgICAgIHRoaXNbJHNjZW5lXS5xdWV1ZVJlbmRlcigpO1xuICAgIH1cbiAgICBbJG9uTW9kZWxMb2FkXSgpIHtcbiAgICB9XG4gICAgWyR1cGRhdGVTdGF0dXNdKHN0YXR1cykge1xuICAgICAgICB0aGlzWyRzdGF0dXNdID0gc3RhdHVzO1xuICAgICAgICBjb25zdCByb290Tm9kZSA9IHRoaXMuZ2V0Um9vdE5vZGUoKTtcbiAgICAgICAgLy8gT25seSBjaGFuZ2UgdGhlIGFyaWEtbGFiZWwgaWYgPG1vZGVsLXZpZXdlcj4gaXMgY3VycmVudGx5IGZvY3VzZWQ6XG4gICAgICAgIGlmIChyb290Tm9kZSAhPSBudWxsICYmIHJvb3ROb2RlLmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMgJiZcbiAgICAgICAgICAgIHRoaXNbJHN0YXR1c0VsZW1lbnRdLnRleHRDb250ZW50ICE9IHN0YXR1cykge1xuICAgICAgICAgICAgdGhpc1skc3RhdHVzRWxlbWVudF0udGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgWyhfbCA9ICRvbkZvY3VzLCBfbSA9ICRvbkJsdXIsICRvblJlc2l6ZSldKGUpIHtcbiAgICAgICAgdGhpc1skc2NlbmVdLnNldFNpemUoZS53aWR0aCwgZS5oZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIGVsZW1lbnQgZm9yIGFuIGFwcHJvcHJpYXRlIHNvdXJjZSBVUkwgYW5kXG4gICAgICogc2V0cyB0aGUgdmlld3MgdG8gdXNlIHRoZSBuZXcgbW9kZWwgYmFzZWQuXG4gICAgICovXG4gICAgYXN5bmMgWyhfbyA9ICRvbkNvbnRleHRMb3N0LCAkdXBkYXRlU291cmNlKV0oKSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpc1skc2NlbmVdO1xuICAgICAgICBpZiAodGhpcy5sb2FkZWQgfHwgIXRoaXNbJHNob3VsZEF0dGVtcHRQcmVsb2FkXSgpIHx8XG4gICAgICAgICAgICB0aGlzLnNyYyA9PT0gc2NlbmUudXJsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2VuZXJhdGVTY2hlbWEpIHtcbiAgICAgICAgICAgIHNjZW5lLnVwZGF0ZVNjaGVtYSh0aGlzLnNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1skdXBkYXRlU3RhdHVzXSgnTG9hZGluZycpO1xuICAgICAgICAvLyBJZiB3ZSBhcmUgbG9hZGluZyBhIG5ldyBtb2RlbCwgd2UgbmVlZCB0byBzdG9wIHRoZSBhbmltYXRpb24gb2ZcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgb25lIChpZiBhbnkgaXMgcGxheWluZykuIE90aGVyd2lzZSwgd2UgbWlnaHQgbG9zZVxuICAgICAgICAvLyB0aGUgcmVmZXJlbmNlIHRvIHRoZSBzY2VuZSByb290IGFuZCBydW5uaW5nIGFjdGlvbnMgc3RhcnQgdG9cbiAgICAgICAgLy8gdGhyb3cgZXhjZXB0aW9ucyBhbmQvb3IgYmVoYXZlIGluIHVuZXhwZWN0ZWQgd2F5czpcbiAgICAgICAgc2NlbmUuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgICBjb25zdCB1cGRhdGVTb3VyY2VQcm9ncmVzcyA9IHRoaXNbJHByb2dyZXNzVHJhY2tlcl0uYmVnaW5BY3Rpdml0eSgpO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNyYztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNyY1VwZGF0ZWQgPSBzY2VuZS5zZXRTb3VyY2Uoc291cmNlLCAocHJvZ3Jlc3MpID0+IHVwZGF0ZVNvdXJjZVByb2dyZXNzKGNsYW1wKHByb2dyZXNzLCAwLCAxKSAqIDAuOTUpKTtcbiAgICAgICAgICAgIGNvbnN0IGVudlVwZGF0ZWQgPSB0aGlzWyR1cGRhdGVFbnZpcm9ubWVudF0oKTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtzcmNVcGRhdGVkLCBlbnZVcGRhdGVkXSk7XG4gICAgICAgICAgICB0aGlzWyRtYXJrTG9hZGVkXSgpO1xuICAgICAgICAgICAgdGhpc1skb25Nb2RlbExvYWRdKCk7XG4gICAgICAgICAgICAvLyBXYWl0IGZvciBzaGFkZXJzIHRvIGNvbXBpbGUgYW5kIHBpeGVscyB0byBiZSBkcmF3bi5cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsb2FkJywgeyBkZXRhaWw6IHsgdXJsOiBzb3VyY2UgfSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdlcnJvcicsIHsgZGV0YWlsOiB7IHR5cGU6ICdsb2FkZmFpbHVyZScsIHNvdXJjZUVycm9yOiBlcnJvciB9IH0pKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHVwZGF0ZVNvdXJjZVByb2dyZXNzKDEuMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KVxuXSwgTW9kZWxWaWV3ZXJFbGVtZW50QmFzZS5wcm90b3R5cGUsIFwiYWx0XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KVxuXSwgTW9kZWxWaWV3ZXJFbGVtZW50QmFzZS5wcm90b3R5cGUsIFwic3JjXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogJ3dpdGgtY3JlZGVudGlhbHMnIH0pXG5dLCBNb2RlbFZpZXdlckVsZW1lbnRCYXNlLnByb3RvdHlwZSwgXCJ3aXRoQ3JlZGVudGlhbHNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAnZ2VuZXJhdGUtc2NoZW1hJyB9KVxuXSwgTW9kZWxWaWV3ZXJFbGVtZW50QmFzZS5wcm90b3R5cGUsIFwiZ2VuZXJhdGVTY2hlbWFcIiwgdm9pZCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGVsLXZpZXdlci1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6WyJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJjIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImQiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJfYSIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsIl9oIiwiX2oiLCJfayIsIl9sIiwiX20iLCJfbyIsIlJlYWN0aXZlRWxlbWVudCIsInByb3BlcnR5IiwiSEFTX0lOVEVSU0VDVElPTl9PQlNFUlZFUiIsIkhBU19SRVNJWkVfT0JTRVJWRVIiLCIkdXBkYXRlRW52aXJvbm1lbnQiLCJtYWtlVGVtcGxhdGUiLCIkZXZpY3Rpb25Qb2xpY3kiLCJDYWNoaW5nR0xURkxvYWRlciIsIk1vZGVsU2NlbmUiLCJSZW5kZXJlciIsImNsYW1wIiwiZGVib3VuY2UiLCJkYXRhVXJsVG9CbG9iIiwiUHJvZ3Jlc3NUcmFja2VyIiwiQ0xFQVJfTU9ERUxfVElNRU9VVF9NUyIsIkZBTExCQUNLX1NJWkVfVVBEQVRFX1RIUkVTSE9MRF9NUyIsIkFOTk9VTkNFX01PREVMX1ZJU0lCSUxJVFlfREVCT1VOQ0VfVEhSRVNIT0xEIiwiVU5TSVpFRF9NRURJQV9XSURUSCIsIlVOU0laRURfTUVESUFfSEVJR0hUIiwiYmxvYkNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIiRmYWxsYmFja1Jlc2l6ZUhhbmRsZXIiLCJTeW1ib2wiLCIkZGVmYXVsdEFyaWFMYWJlbCIsIiRyZXNpemVPYnNlcnZlciIsIiRjbGVhck1vZGVsVGltZW91dCIsIiRvbkNvbnRleHRMb3N0IiwiJGxvYWRlZCIsIiRzdGF0dXMiLCIkb25Gb2N1cyIsIiRvbkJsdXIiLCIkdXBkYXRlU2l6ZSIsIiRpbnRlcnNlY3Rpb25PYnNlcnZlciIsIiRpc0VsZW1lbnRJblZpZXdwb3J0IiwiJGFubm91bmNlTW9kZWxWaXNpYmlsaXR5IiwiJGFyaWFMYWJlbCIsIiRhbHREZWZhdWx0ZWQiLCIkc3RhdHVzRWxlbWVudCIsIiR1cGRhdGVTdGF0dXMiLCIkbG9hZGVkVGltZSIsIiR1cGRhdGVTb3VyY2UiLCIkbWFya0xvYWRlZCIsIiRjb250YWluZXIiLCIkdXNlcklucHV0RWxlbWVudCIsIiRjYW52YXMiLCIkc2NlbmUiLCIkbmVlZHNSZW5kZXIiLCIkdGljayIsIiRvbk1vZGVsTG9hZCIsIiRvblJlc2l6ZSIsIiRyZW5kZXJlciIsIiRwcm9ncmVzc1RyYWNrZXIiLCIkZ2V0TG9hZGVkIiwiJGdldE1vZGVsSXNWaXNpYmxlIiwiJHNob3VsZEF0dGVtcHRQcmVsb2FkIiwidG9WZWN0b3IzRCIsInYiLCJ4IiwieSIsInoiLCJ0b1N0cmluZyIsInRvVmVjdG9yMkQiLCJ1IiwiTW9kZWxWaWV3ZXJFbGVtZW50QmFzZSIsImNvbnN0cnVjdG9yIiwiYWx0Iiwic3JjIiwid2l0aENyZWRlbnRpYWxzIiwiZ2VuZXJhdGVTY2hlbWEiLCJib3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvbGRWaXNpYmlsaXR5IiwibmV3VmlzaWJpbGl0eSIsIm1vZGVsSXNWaXNpYmxlIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwidmlzaWJsZSIsInRleHRDb250ZW50IiwiZXZlbnQiLCJ0eXBlIiwic291cmNlRXJyb3IiLCJzb3VyY2VFdmVudCIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJzaGFkb3dSb290IiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsIndpZHRoIiwiaGVpZ2h0IiwiaXNDb25uZWN0ZWQiLCJyZWN0IiwiY2FudmFzIiwiZWxlbWVudCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIlJlc2l6ZU9ic2VydmVyIiwiZW50cmllcyIsImlzUHJlc2VudGluZyIsImVudHJ5IiwiY29udGVudFJlY3QiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImlzSW50ZXJzZWN0aW5nIiwibG9hZGVkIiwicm9vdCIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJpcyIsIm1vZGVsQ2FjaGVTaXplIiwidmFsdWUiLCJldmljdGlvblRocmVzaG9sZCIsIm1pbmltdW1SZW5kZXJTY2FsZSIsImNvbnNvbGUiLCJ3YXJuIiwic2luZ2xldG9uIiwibWluU2NhbGUiLCJjb25uZWN0ZWRDYWxsYmFjayIsIm9ic2VydmUiLCJzZWxmIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbmRlcmVyIiwicmVnaXN0ZXJTY2VuZSIsImNsZWFyVGltZW91dCIsInJlcXVlc3RVcGRhdGUiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsInVub2JzZXJ2ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1bnJlZ2lzdGVyU2NlbmUiLCJzZXRUaW1lb3V0IiwiZGlzcG9zZSIsInVwZGF0ZWQiLCJjaGFuZ2VkUHJvcGVydGllcyIsImhhcyIsInJlc2V0IiwidXJsIiwic2V0QXR0cmlidXRlIiwidXBkYXRlU2NoZW1hIiwidG9EYXRhVVJMIiwiZW5jb2Rlck9wdGlvbnMiLCJkaXNwbGF5Q2FudmFzIiwidG9CbG9iIiwib3B0aW9ucyIsIm1pbWVUeXBlIiwidW5kZWZpbmVkIiwicXVhbGl0eUFyZ3VtZW50IiwidXNlSWRlYWxBc3BlY3QiLCJpZGVhbEFzcGVjdCIsImFzcGVjdCIsImRwciIsInNjYWxlRmFjdG9yIiwib3V0cHV0V2lkdGgiLCJvdXRwdXRIZWlnaHQiLCJvZmZzZXRYIiwib2Zmc2V0WSIsIm9sZEhlaWdodCIsIk1hdGgiLCJyb3VuZCIsIm9sZFdpZHRoIiwicmVqZWN0IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsIm1zVG9CbG9iIiwiYmxvYiIsIkVycm9yIiwicmVnaXN0ZXJSZW5kZXJlciIsImV4dGVybmFsUmVuZGVyZXIiLCJ1bnJlZ2lzdGVyUmVuZGVyZXIiLCJzdHlsZSIsInBhcnNlRmxvYXQiLCJfdGltZSIsIl9kZWx0YSIsInBlcmZvcm1hbmNlIiwibm93IiwicXVldWVSZW5kZXIiLCJzdGF0dXMiLCJyb290Tm9kZSIsImdldFJvb3ROb2RlIiwiYWN0aXZlRWxlbWVudCIsImUiLCJzZXRTaXplIiwic2NlbmUiLCJzdG9wQW5pbWF0aW9uIiwidXBkYXRlU291cmNlUHJvZ3Jlc3MiLCJiZWdpbkFjdGl2aXR5Iiwic291cmNlIiwic3JjVXBkYXRlZCIsInNldFNvdXJjZSIsInByb2dyZXNzIiwiZW52VXBkYXRlZCIsImFsbCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVycm9yIiwiU3RyaW5nIiwicHJvdG90eXBlIiwiQm9vbGVhbiIsImF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/model-viewer.js":
/*!***************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/model-viewer.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModelViewerElement: () => (/* binding */ ModelViewerElement)\n/* harmony export */ });\n/* harmony import */ var _features_animation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./features/animation.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/animation.js\");\n/* harmony import */ var _features_annotation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./features/annotation.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/annotation.js\");\n/* harmony import */ var _features_ar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./features/ar.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/ar.js\");\n/* harmony import */ var _features_controls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./features/controls.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/controls.js\");\n/* harmony import */ var _features_environment_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./features/environment.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\");\n/* harmony import */ var _features_loading_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./features/loading.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/loading.js\");\n/* harmony import */ var _features_scene_graph_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./features/scene-graph.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph.js\");\n/* harmony import */ var _features_staging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./features/staging.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/staging.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _utilities_focus_visible_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utilities/focus-visible.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/focus-visible.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\n\n\n\n\n\n\n// Uncomment these lines to export PMREM textures in Glitch:\n// export {default as TextureUtils} from './three-components/TextureUtils';\n// export * from 'three';\nconst ModelViewerElement = (0,_features_annotation_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationMixin)((0,_features_scene_graph_js__WEBPACK_IMPORTED_MODULE_6__.SceneGraphMixin)((0,_features_staging_js__WEBPACK_IMPORTED_MODULE_7__.StagingMixin)((0,_features_environment_js__WEBPACK_IMPORTED_MODULE_4__.EnvironmentMixin)((0,_features_controls_js__WEBPACK_IMPORTED_MODULE_3__.ControlsMixin)((0,_features_ar_js__WEBPACK_IMPORTED_MODULE_2__.ARMixin)((0,_features_loading_js__WEBPACK_IMPORTED_MODULE_5__.LoadingMixin)((0,_features_animation_js__WEBPACK_IMPORTED_MODULE_0__.AnimationMixin)((0,_utilities_focus_visible_js__WEBPACK_IMPORTED_MODULE_9__.FocusVisiblePolyfillMixin)(_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])))))))));\ncustomElements.define(\"model-viewer\", ModelViewerElement); //# sourceMappingURL=model-viewer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL21vZGVsLXZpZXdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDd0Q7QUFDRTtBQUNoQjtBQUNZO0FBQ007QUFDUjtBQUNPO0FBQ1A7QUFDTztBQUNhO0FBQ3pFLDREQUE0RDtBQUM1RCwyRUFBMkU7QUFDM0UseUJBQXlCO0FBQ2xCLE1BQU1VLHFCQUFxQlQsd0VBQWVBLENBQUNLLHlFQUFlQSxDQUFDQyxrRUFBWUEsQ0FBQ0gsMEVBQWdCQSxDQUFDRCxvRUFBYUEsQ0FBQ0Qsd0RBQU9BLENBQUNHLGtFQUFZQSxDQUFDTCxzRUFBY0EsQ0FBQ1Msc0ZBQXlCQSxDQUFDRCw2REFBc0JBLFVBQVU7QUFDNU1HLGVBQWVDLE1BQU0sQ0FBQyxnQkFBZ0JGLHFCQUN0Qyx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9tb2RlbC12aWV3ZXIuanM/M2RjMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBBbmltYXRpb25NaXhpbiB9IGZyb20gJy4vZmVhdHVyZXMvYW5pbWF0aW9uLmpzJztcbmltcG9ydCB7IEFubm90YXRpb25NaXhpbiB9IGZyb20gJy4vZmVhdHVyZXMvYW5ub3RhdGlvbi5qcyc7XG5pbXBvcnQgeyBBUk1peGluIH0gZnJvbSAnLi9mZWF0dXJlcy9hci5qcyc7XG5pbXBvcnQgeyBDb250cm9sc01peGluIH0gZnJvbSAnLi9mZWF0dXJlcy9jb250cm9scy5qcyc7XG5pbXBvcnQgeyBFbnZpcm9ubWVudE1peGluIH0gZnJvbSAnLi9mZWF0dXJlcy9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgeyBMb2FkaW5nTWl4aW4gfSBmcm9tICcuL2ZlYXR1cmVzL2xvYWRpbmcuanMnO1xuaW1wb3J0IHsgU2NlbmVHcmFwaE1peGluIH0gZnJvbSAnLi9mZWF0dXJlcy9zY2VuZS1ncmFwaC5qcyc7XG5pbXBvcnQgeyBTdGFnaW5nTWl4aW4gfSBmcm9tICcuL2ZlYXR1cmVzL3N0YWdpbmcuanMnO1xuaW1wb3J0IE1vZGVsVmlld2VyRWxlbWVudEJhc2UgZnJvbSAnLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgeyBGb2N1c1Zpc2libGVQb2x5ZmlsbE1peGluIH0gZnJvbSAnLi91dGlsaXRpZXMvZm9jdXMtdmlzaWJsZS5qcyc7XG4vLyBVbmNvbW1lbnQgdGhlc2UgbGluZXMgdG8gZXhwb3J0IFBNUkVNIHRleHR1cmVzIGluIEdsaXRjaDpcbi8vIGV4cG9ydCB7ZGVmYXVsdCBhcyBUZXh0dXJlVXRpbHN9IGZyb20gJy4vdGhyZWUtY29tcG9uZW50cy9UZXh0dXJlVXRpbHMnO1xuLy8gZXhwb3J0ICogZnJvbSAndGhyZWUnO1xuZXhwb3J0IGNvbnN0IE1vZGVsVmlld2VyRWxlbWVudCA9IEFubm90YXRpb25NaXhpbihTY2VuZUdyYXBoTWl4aW4oU3RhZ2luZ01peGluKEVudmlyb25tZW50TWl4aW4oQ29udHJvbHNNaXhpbihBUk1peGluKExvYWRpbmdNaXhpbihBbmltYXRpb25NaXhpbihGb2N1c1Zpc2libGVQb2x5ZmlsbE1peGluKE1vZGVsVmlld2VyRWxlbWVudEJhc2UpKSkpKSkpKSk7XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21vZGVsLXZpZXdlcicsIE1vZGVsVmlld2VyRWxlbWVudCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlbC12aWV3ZXIuanMubWFwIl0sIm5hbWVzIjpbIkFuaW1hdGlvbk1peGluIiwiQW5ub3RhdGlvbk1peGluIiwiQVJNaXhpbiIsIkNvbnRyb2xzTWl4aW4iLCJFbnZpcm9ubWVudE1peGluIiwiTG9hZGluZ01peGluIiwiU2NlbmVHcmFwaE1peGluIiwiU3RhZ2luZ01peGluIiwiTW9kZWxWaWV3ZXJFbGVtZW50QmFzZSIsIkZvY3VzVmlzaWJsZVBvbHlmaWxsTWl4aW4iLCJNb2RlbFZpZXdlckVsZW1lbnQiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/model-viewer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/conversions.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   degreesToRadians: () => (/* binding */ degreesToRadians),\n/* harmony export */   lengthToBaseMeters: () => (/* binding */ lengthToBaseMeters),\n/* harmony export */   normalizeUnit: () => (/* binding */ normalizeUnit),\n/* harmony export */   radiansToDegrees: () => (/* binding */ radiansToDegrees)\n/* harmony export */ });\n/* harmony import */ var _parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n/**\n * Ensures that a given number is expressed in radians. If the number is already\n * in radians, does nothing. If the value is in degrees, converts it to radians.\n * If the value has no specified unit, the unit is assumed to be radians. If the\n * value is not in radians or degrees, the value is resolved as 0 radians.\n *\n * Also accepts a second argument that is a default value to use if the input\n * numberNode number is NaN or Infinity.\n */ const degreesToRadians = (numberNode, fallbackRadianValue = 0)=>{\n    let { number, unit } = numberNode;\n    if (!isFinite(number)) {\n        number = fallbackRadianValue;\n        unit = \"rad\";\n    } else if (numberNode.unit === \"rad\" || numberNode.unit == null) {\n        return numberNode;\n    }\n    const valueIsDegrees = unit === \"deg\" && number != null;\n    const value = valueIsDegrees ? number : 0;\n    const radians = value * Math.PI / 180;\n    return {\n        type: \"number\",\n        number: radians,\n        unit: \"rad\"\n    };\n};\n/**\n * Ensures that a given number is expressed in degrees. If the number is already\n * in degrees, does nothing. If the value is in radians or has no specified\n * unit, converts it to degrees. If the value is not in radians or degrees, the\n * value is resolved as 0 degrees.\n *\n * Also accepts a second argument that is a default value to use if the input\n * numberNode number is NaN or Infinity.\n */ const radiansToDegrees = (numberNode, fallbackDegreeValue = 0)=>{\n    let { number, unit } = numberNode;\n    if (!isFinite(number)) {\n        number = fallbackDegreeValue;\n        unit = \"deg\";\n    } else if (numberNode.unit === \"deg\") {\n        return numberNode;\n    }\n    const valueIsRadians = (unit === null || unit === \"rad\") && number != null;\n    const value = valueIsRadians ? number : 0;\n    const degrees = value * 180 / Math.PI;\n    return {\n        type: \"number\",\n        number: degrees,\n        unit: \"deg\"\n    };\n};\n/**\n * Converts a given length to meters. Currently supported input units are\n * meters, centimeters and millimeters.\n *\n * Also accepts a second argument that is a default value to use if the input\n * numberNode number is NaN or Infinity.\n */ const lengthToBaseMeters = (numberNode, fallbackMeterValue = 0)=>{\n    let { number, unit } = numberNode;\n    if (!isFinite(number)) {\n        number = fallbackMeterValue;\n        unit = \"m\";\n    } else if (numberNode.unit === \"m\") {\n        return numberNode;\n    }\n    let scale;\n    switch(unit){\n        default:\n            scale = 1;\n            break;\n        case \"cm\":\n            scale = 1 / 100;\n            break;\n        case \"mm\":\n            scale = 1 / 1000;\n            break;\n    }\n    const value = scale * number;\n    return {\n        type: \"number\",\n        number: value,\n        unit: \"m\"\n    };\n};\n/**\n * Normalizes the unit of a given input number so that it is expressed in a\n * preferred unit. For length nodes, the return value will be expressed in\n * meters. For angle nodes, the return value will be expressed in radians.\n *\n * Also takes a fallback number that is used when the number value is not a\n * valid number or when the unit of the given number cannot be normalized.\n */ const normalizeUnit = (()=>{\n    const identity = (node)=>node;\n    const unitNormalizers = {\n        \"rad\": identity,\n        \"deg\": degreesToRadians,\n        \"m\": identity,\n        \"mm\": lengthToBaseMeters,\n        \"cm\": lengthToBaseMeters\n    };\n    return (node, fallback = _parsers__WEBPACK_IMPORTED_MODULE_0__.ZERO)=>{\n        if (!isFinite(node.number)) {\n            node.number = fallback.number;\n            node.unit = fallback.unit;\n        }\n        const { unit } = node;\n        if (unit == null) {\n            return node;\n        }\n        const normalize = unitNormalizers[unit];\n        if (normalize == null) {\n            return fallback;\n        }\n        return normalize(node);\n    };\n})(); //# sourceMappingURL=conversions.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9jb252ZXJzaW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDZ0M7QUFDakM7Ozs7Ozs7O0NBUUMsR0FDTSxNQUFNQyxtQkFBbUIsQ0FBQ0MsWUFBWUMsc0JBQXNCLENBQUM7SUFDaEUsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHSDtJQUN2QixJQUFJLENBQUNJLFNBQVNGLFNBQVM7UUFDbkJBLFNBQVNEO1FBQ1RFLE9BQU87SUFDWCxPQUNLLElBQUlILFdBQVdHLElBQUksS0FBSyxTQUFTSCxXQUFXRyxJQUFJLElBQUksTUFBTTtRQUMzRCxPQUFPSDtJQUNYO0lBQ0EsTUFBTUssaUJBQWlCRixTQUFTLFNBQVNELFVBQVU7SUFDbkQsTUFBTUksUUFBUUQsaUJBQWlCSCxTQUFTO0lBQ3hDLE1BQU1LLFVBQVVELFFBQVFFLEtBQUtDLEVBQUUsR0FBRztJQUNsQyxPQUFPO1FBQUVDLE1BQU07UUFBVVIsUUFBUUs7UUFBU0osTUFBTTtJQUFNO0FBQzFELEVBQUU7QUFDRjs7Ozs7Ozs7Q0FRQyxHQUNNLE1BQU1RLG1CQUFtQixDQUFDWCxZQUFZWSxzQkFBc0IsQ0FBQztJQUNoRSxJQUFJLEVBQUVWLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUdIO0lBQ3ZCLElBQUksQ0FBQ0ksU0FBU0YsU0FBUztRQUNuQkEsU0FBU1U7UUFDVFQsT0FBTztJQUNYLE9BQ0ssSUFBSUgsV0FBV0csSUFBSSxLQUFLLE9BQU87UUFDaEMsT0FBT0g7SUFDWDtJQUNBLE1BQU1hLGlCQUFpQixDQUFDVixTQUFTLFFBQVFBLFNBQVMsS0FBSSxLQUFNRCxVQUFVO0lBQ3RFLE1BQU1JLFFBQVFPLGlCQUFpQlgsU0FBUztJQUN4QyxNQUFNWSxVQUFVUixRQUFRLE1BQU1FLEtBQUtDLEVBQUU7SUFDckMsT0FBTztRQUFFQyxNQUFNO1FBQVVSLFFBQVFZO1FBQVNYLE1BQU07SUFBTTtBQUMxRCxFQUFFO0FBQ0Y7Ozs7OztDQU1DLEdBQ00sTUFBTVkscUJBQXFCLENBQUNmLFlBQVlnQixxQkFBcUIsQ0FBQztJQUNqRSxJQUFJLEVBQUVkLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUdIO0lBQ3ZCLElBQUksQ0FBQ0ksU0FBU0YsU0FBUztRQUNuQkEsU0FBU2M7UUFDVGIsT0FBTztJQUNYLE9BQ0ssSUFBSUgsV0FBV0csSUFBSSxLQUFLLEtBQUs7UUFDOUIsT0FBT0g7SUFDWDtJQUNBLElBQUlpQjtJQUNKLE9BQVFkO1FBQ0o7WUFDSWMsUUFBUTtZQUNSO1FBQ0osS0FBSztZQUNEQSxRQUFRLElBQUk7WUFDWjtRQUNKLEtBQUs7WUFDREEsUUFBUSxJQUFJO1lBQ1o7SUFDUjtJQUNBLE1BQU1YLFFBQVFXLFFBQVFmO0lBQ3RCLE9BQU87UUFBRVEsTUFBTTtRQUFVUixRQUFRSTtRQUFPSCxNQUFNO0lBQUk7QUFDdEQsRUFBRTtBQUNGOzs7Ozs7O0NBT0MsR0FDTSxNQUFNZSxnQkFBZ0IsQ0FBQztJQUMxQixNQUFNQyxXQUFXLENBQUNDLE9BQVNBO0lBQzNCLE1BQU1DLGtCQUFrQjtRQUNwQixPQUFPRjtRQUNQLE9BQU9wQjtRQUNQLEtBQUtvQjtRQUNMLE1BQU1KO1FBQ04sTUFBTUE7SUFDVjtJQUNBLE9BQU8sQ0FBQ0ssTUFBTUUsV0FBV3hCLDBDQUFJO1FBQ3pCLElBQUksQ0FBQ00sU0FBU2dCLEtBQUtsQixNQUFNLEdBQUc7WUFDeEJrQixLQUFLbEIsTUFBTSxHQUFHb0IsU0FBU3BCLE1BQU07WUFDN0JrQixLQUFLakIsSUFBSSxHQUFHbUIsU0FBU25CLElBQUk7UUFDN0I7UUFDQSxNQUFNLEVBQUVBLElBQUksRUFBRSxHQUFHaUI7UUFDakIsSUFBSWpCLFFBQVEsTUFBTTtZQUNkLE9BQU9pQjtRQUNYO1FBQ0EsTUFBTUcsWUFBWUYsZUFBZSxDQUFDbEIsS0FBSztRQUN2QyxJQUFJb0IsYUFBYSxNQUFNO1lBQ25CLE9BQU9EO1FBQ1g7UUFDQSxPQUFPQyxVQUFVSDtJQUNyQjtBQUNKLEtBQUssQ0FDTCx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9zdHlsZXMvY29udmVyc2lvbnMuanM/NjIxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBaRVJPIH0gZnJvbSAnLi9wYXJzZXJzJztcbi8qKlxuICogRW5zdXJlcyB0aGF0IGEgZ2l2ZW4gbnVtYmVyIGlzIGV4cHJlc3NlZCBpbiByYWRpYW5zLiBJZiB0aGUgbnVtYmVyIGlzIGFscmVhZHlcbiAqIGluIHJhZGlhbnMsIGRvZXMgbm90aGluZy4gSWYgdGhlIHZhbHVlIGlzIGluIGRlZ3JlZXMsIGNvbnZlcnRzIGl0IHRvIHJhZGlhbnMuXG4gKiBJZiB0aGUgdmFsdWUgaGFzIG5vIHNwZWNpZmllZCB1bml0LCB0aGUgdW5pdCBpcyBhc3N1bWVkIHRvIGJlIHJhZGlhbnMuIElmIHRoZVxuICogdmFsdWUgaXMgbm90IGluIHJhZGlhbnMgb3IgZGVncmVlcywgdGhlIHZhbHVlIGlzIHJlc29sdmVkIGFzIDAgcmFkaWFucy5cbiAqXG4gKiBBbHNvIGFjY2VwdHMgYSBzZWNvbmQgYXJndW1lbnQgdGhhdCBpcyBhIGRlZmF1bHQgdmFsdWUgdG8gdXNlIGlmIHRoZSBpbnB1dFxuICogbnVtYmVyTm9kZSBudW1iZXIgaXMgTmFOIG9yIEluZmluaXR5LlxuICovXG5leHBvcnQgY29uc3QgZGVncmVlc1RvUmFkaWFucyA9IChudW1iZXJOb2RlLCBmYWxsYmFja1JhZGlhblZhbHVlID0gMCkgPT4ge1xuICAgIGxldCB7IG51bWJlciwgdW5pdCB9ID0gbnVtYmVyTm9kZTtcbiAgICBpZiAoIWlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgbnVtYmVyID0gZmFsbGJhY2tSYWRpYW5WYWx1ZTtcbiAgICAgICAgdW5pdCA9ICdyYWQnO1xuICAgIH1cbiAgICBlbHNlIGlmIChudW1iZXJOb2RlLnVuaXQgPT09ICdyYWQnIHx8IG51bWJlck5vZGUudW5pdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudW1iZXJOb2RlO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZUlzRGVncmVlcyA9IHVuaXQgPT09ICdkZWcnICYmIG51bWJlciAhPSBudWxsO1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVJc0RlZ3JlZXMgPyBudW1iZXIgOiAwO1xuICAgIGNvbnN0IHJhZGlhbnMgPSB2YWx1ZSAqIE1hdGguUEkgLyAxODA7XG4gICAgcmV0dXJuIHsgdHlwZTogJ251bWJlcicsIG51bWJlcjogcmFkaWFucywgdW5pdDogJ3JhZCcgfTtcbn07XG4vKipcbiAqIEVuc3VyZXMgdGhhdCBhIGdpdmVuIG51bWJlciBpcyBleHByZXNzZWQgaW4gZGVncmVlcy4gSWYgdGhlIG51bWJlciBpcyBhbHJlYWR5XG4gKiBpbiBkZWdyZWVzLCBkb2VzIG5vdGhpbmcuIElmIHRoZSB2YWx1ZSBpcyBpbiByYWRpYW5zIG9yIGhhcyBubyBzcGVjaWZpZWRcbiAqIHVuaXQsIGNvbnZlcnRzIGl0IHRvIGRlZ3JlZXMuIElmIHRoZSB2YWx1ZSBpcyBub3QgaW4gcmFkaWFucyBvciBkZWdyZWVzLCB0aGVcbiAqIHZhbHVlIGlzIHJlc29sdmVkIGFzIDAgZGVncmVlcy5cbiAqXG4gKiBBbHNvIGFjY2VwdHMgYSBzZWNvbmQgYXJndW1lbnQgdGhhdCBpcyBhIGRlZmF1bHQgdmFsdWUgdG8gdXNlIGlmIHRoZSBpbnB1dFxuICogbnVtYmVyTm9kZSBudW1iZXIgaXMgTmFOIG9yIEluZmluaXR5LlxuICovXG5leHBvcnQgY29uc3QgcmFkaWFuc1RvRGVncmVlcyA9IChudW1iZXJOb2RlLCBmYWxsYmFja0RlZ3JlZVZhbHVlID0gMCkgPT4ge1xuICAgIGxldCB7IG51bWJlciwgdW5pdCB9ID0gbnVtYmVyTm9kZTtcbiAgICBpZiAoIWlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgbnVtYmVyID0gZmFsbGJhY2tEZWdyZWVWYWx1ZTtcbiAgICAgICAgdW5pdCA9ICdkZWcnO1xuICAgIH1cbiAgICBlbHNlIGlmIChudW1iZXJOb2RlLnVuaXQgPT09ICdkZWcnKSB7XG4gICAgICAgIHJldHVybiBudW1iZXJOb2RlO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZUlzUmFkaWFucyA9ICh1bml0ID09PSBudWxsIHx8IHVuaXQgPT09ICdyYWQnKSAmJiBudW1iZXIgIT0gbnVsbDtcbiAgICBjb25zdCB2YWx1ZSA9IHZhbHVlSXNSYWRpYW5zID8gbnVtYmVyIDogMDtcbiAgICBjb25zdCBkZWdyZWVzID0gdmFsdWUgKiAxODAgLyBNYXRoLlBJO1xuICAgIHJldHVybiB7IHR5cGU6ICdudW1iZXInLCBudW1iZXI6IGRlZ3JlZXMsIHVuaXQ6ICdkZWcnIH07XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIGdpdmVuIGxlbmd0aCB0byBtZXRlcnMuIEN1cnJlbnRseSBzdXBwb3J0ZWQgaW5wdXQgdW5pdHMgYXJlXG4gKiBtZXRlcnMsIGNlbnRpbWV0ZXJzIGFuZCBtaWxsaW1ldGVycy5cbiAqXG4gKiBBbHNvIGFjY2VwdHMgYSBzZWNvbmQgYXJndW1lbnQgdGhhdCBpcyBhIGRlZmF1bHQgdmFsdWUgdG8gdXNlIGlmIHRoZSBpbnB1dFxuICogbnVtYmVyTm9kZSBudW1iZXIgaXMgTmFOIG9yIEluZmluaXR5LlxuICovXG5leHBvcnQgY29uc3QgbGVuZ3RoVG9CYXNlTWV0ZXJzID0gKG51bWJlck5vZGUsIGZhbGxiYWNrTWV0ZXJWYWx1ZSA9IDApID0+IHtcbiAgICBsZXQgeyBudW1iZXIsIHVuaXQgfSA9IG51bWJlck5vZGU7XG4gICAgaWYgKCFpc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgIG51bWJlciA9IGZhbGxiYWNrTWV0ZXJWYWx1ZTtcbiAgICAgICAgdW5pdCA9ICdtJztcbiAgICB9XG4gICAgZWxzZSBpZiAobnVtYmVyTm9kZS51bml0ID09PSAnbScpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlck5vZGU7XG4gICAgfVxuICAgIGxldCBzY2FsZTtcbiAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHNjYWxlID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbSc6XG4gICAgICAgICAgICBzY2FsZSA9IDEgLyAxMDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW0nOlxuICAgICAgICAgICAgc2NhbGUgPSAxIC8gMTAwMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IHNjYWxlICogbnVtYmVyO1xuICAgIHJldHVybiB7IHR5cGU6ICdudW1iZXInLCBudW1iZXI6IHZhbHVlLCB1bml0OiAnbScgfTtcbn07XG4vKipcbiAqIE5vcm1hbGl6ZXMgdGhlIHVuaXQgb2YgYSBnaXZlbiBpbnB1dCBudW1iZXIgc28gdGhhdCBpdCBpcyBleHByZXNzZWQgaW4gYVxuICogcHJlZmVycmVkIHVuaXQuIEZvciBsZW5ndGggbm9kZXMsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSBleHByZXNzZWQgaW5cbiAqIG1ldGVycy4gRm9yIGFuZ2xlIG5vZGVzLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgZXhwcmVzc2VkIGluIHJhZGlhbnMuXG4gKlxuICogQWxzbyB0YWtlcyBhIGZhbGxiYWNrIG51bWJlciB0aGF0IGlzIHVzZWQgd2hlbiB0aGUgbnVtYmVyIHZhbHVlIGlzIG5vdCBhXG4gKiB2YWxpZCBudW1iZXIgb3Igd2hlbiB0aGUgdW5pdCBvZiB0aGUgZ2l2ZW4gbnVtYmVyIGNhbm5vdCBiZSBub3JtYWxpemVkLlxuICovXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplVW5pdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgaWRlbnRpdHkgPSAobm9kZSkgPT4gbm9kZTtcbiAgICBjb25zdCB1bml0Tm9ybWFsaXplcnMgPSB7XG4gICAgICAgICdyYWQnOiBpZGVudGl0eSxcbiAgICAgICAgJ2RlZyc6IGRlZ3JlZXNUb1JhZGlhbnMsXG4gICAgICAgICdtJzogaWRlbnRpdHksXG4gICAgICAgICdtbSc6IGxlbmd0aFRvQmFzZU1ldGVycyxcbiAgICAgICAgJ2NtJzogbGVuZ3RoVG9CYXNlTWV0ZXJzXG4gICAgfTtcbiAgICByZXR1cm4gKG5vZGUsIGZhbGxiYWNrID0gWkVSTykgPT4ge1xuICAgICAgICBpZiAoIWlzRmluaXRlKG5vZGUubnVtYmVyKSkge1xuICAgICAgICAgICAgbm9kZS5udW1iZXIgPSBmYWxsYmFjay5udW1iZXI7XG4gICAgICAgICAgICBub2RlLnVuaXQgPSBmYWxsYmFjay51bml0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdW5pdCB9ID0gbm9kZTtcbiAgICAgICAgaWYgKHVuaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gdW5pdE5vcm1hbGl6ZXJzW3VuaXRdO1xuICAgICAgICBpZiAobm9ybWFsaXplID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplKG5vZGUpO1xuICAgIH07XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udmVyc2lvbnMuanMubWFwIl0sIm5hbWVzIjpbIlpFUk8iLCJkZWdyZWVzVG9SYWRpYW5zIiwibnVtYmVyTm9kZSIsImZhbGxiYWNrUmFkaWFuVmFsdWUiLCJudW1iZXIiLCJ1bml0IiwiaXNGaW5pdGUiLCJ2YWx1ZUlzRGVncmVlcyIsInZhbHVlIiwicmFkaWFucyIsIk1hdGgiLCJQSSIsInR5cGUiLCJyYWRpYW5zVG9EZWdyZWVzIiwiZmFsbGJhY2tEZWdyZWVWYWx1ZSIsInZhbHVlSXNSYWRpYW5zIiwiZGVncmVlcyIsImxlbmd0aFRvQmFzZU1ldGVycyIsImZhbGxiYWNrTWV0ZXJWYWx1ZSIsInNjYWxlIiwibm9ybWFsaXplVW5pdCIsImlkZW50aXR5Iiwibm9kZSIsInVuaXROb3JtYWxpemVycyIsImZhbGxiYWNrIiwibm9ybWFsaXplIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/deserializers.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/deserializers.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   enumerationDeserializer: () => (/* binding */ enumerationDeserializer)\n/* harmony export */ });\n/* harmony import */ var _parsers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n/**\n * For our purposes, an enumeration is a fixed set of CSS-expression-compatible\n * names. When serialized, a selected subset of the members may be specified as\n * whitespace-separated strings. An enumeration deserializer is a function that\n * parses a serialized subset of an enumeration and returns any members that are\n * found as a Set.\n *\n * The following example will produce a deserializer for the days of the\n * week:\n *\n * const deserializeDaysOfTheWeek = enumerationDeserializer([\n *   'Monday',\n *   'Tuesday',\n *   'Wednesday',\n *   'Thursday',\n *   'Friday',\n *   'Saturday',\n *   'Sunday'\n * ]);\n */ const enumerationDeserializer = (allowedNames)=>(valueString)=>{\n        try {\n            const expressions = (0,_parsers_js__WEBPACK_IMPORTED_MODULE_0__.parseExpressions)(valueString);\n            const names = (expressions.length ? expressions[0].terms : []).filter((valueNode)=>valueNode && valueNode.type === \"ident\").map((valueNode)=>valueNode.value).filter((name)=>allowedNames.indexOf(name) > -1);\n            // NOTE(cdata): IE11 does not support constructing a Set directly from\n            // an iterable, so we need to manually add all the items:\n            const result = new Set();\n            for (const name of names){\n                result.add(name);\n            }\n            return result;\n        } catch (_error) {}\n        return new Set();\n    }; //# sourceMappingURL=deserializers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9kZXNlcmlhbGl6ZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUMrQztBQUNoRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW1CQyxHQUNNLE1BQU1DLDBCQUEwQixDQUFDQyxlQUFpQixDQUFDQztRQUN0RCxJQUFJO1lBQ0EsTUFBTUMsY0FBY0osNkRBQWdCQSxDQUFDRztZQUNyQyxNQUFNRSxRQUFRLENBQUNELFlBQVlFLE1BQU0sR0FBR0YsV0FBVyxDQUFDLEVBQUUsQ0FBQ0csS0FBSyxHQUFHLEVBQUUsRUFDeERDLE1BQU0sQ0FBQyxDQUFDQyxZQUFjQSxhQUFhQSxVQUFVQyxJQUFJLEtBQUssU0FDdERDLEdBQUcsQ0FBQ0YsQ0FBQUEsWUFBYUEsVUFBVUcsS0FBSyxFQUNoQ0osTUFBTSxDQUFDSyxDQUFBQSxPQUFRWCxhQUFhWSxPQUFPLENBQUNELFFBQVEsQ0FBQztZQUNsRCxzRUFBc0U7WUFDdEUseURBQXlEO1lBQ3pELE1BQU1FLFNBQVMsSUFBSUM7WUFDbkIsS0FBSyxNQUFNSCxRQUFRUixNQUFPO2dCQUN0QlUsT0FBT0UsR0FBRyxDQUFDSjtZQUNmO1lBQ0EsT0FBT0U7UUFDWCxFQUNBLE9BQU9HLFFBQVEsQ0FDZjtRQUNBLE9BQU8sSUFBSUY7SUFDZixFQUFFLENBQ0YseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvc3R5bGVzL2Rlc2VyaWFsaXplcnMuanM/NjU0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBwYXJzZUV4cHJlc3Npb25zIH0gZnJvbSAnLi9wYXJzZXJzLmpzJztcbi8qKlxuICogRm9yIG91ciBwdXJwb3NlcywgYW4gZW51bWVyYXRpb24gaXMgYSBmaXhlZCBzZXQgb2YgQ1NTLWV4cHJlc3Npb24tY29tcGF0aWJsZVxuICogbmFtZXMuIFdoZW4gc2VyaWFsaXplZCwgYSBzZWxlY3RlZCBzdWJzZXQgb2YgdGhlIG1lbWJlcnMgbWF5IGJlIHNwZWNpZmllZCBhc1xuICogd2hpdGVzcGFjZS1zZXBhcmF0ZWQgc3RyaW5ncy4gQW4gZW51bWVyYXRpb24gZGVzZXJpYWxpemVyIGlzIGEgZnVuY3Rpb24gdGhhdFxuICogcGFyc2VzIGEgc2VyaWFsaXplZCBzdWJzZXQgb2YgYW4gZW51bWVyYXRpb24gYW5kIHJldHVybnMgYW55IG1lbWJlcnMgdGhhdCBhcmVcbiAqIGZvdW5kIGFzIGEgU2V0LlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSB3aWxsIHByb2R1Y2UgYSBkZXNlcmlhbGl6ZXIgZm9yIHRoZSBkYXlzIG9mIHRoZVxuICogd2VlazpcbiAqXG4gKiBjb25zdCBkZXNlcmlhbGl6ZURheXNPZlRoZVdlZWsgPSBlbnVtZXJhdGlvbkRlc2VyaWFsaXplcihbXG4gKiAgICdNb25kYXknLFxuICogICAnVHVlc2RheScsXG4gKiAgICdXZWRuZXNkYXknLFxuICogICAnVGh1cnNkYXknLFxuICogICAnRnJpZGF5JyxcbiAqICAgJ1NhdHVyZGF5JyxcbiAqICAgJ1N1bmRheSdcbiAqIF0pO1xuICovXG5leHBvcnQgY29uc3QgZW51bWVyYXRpb25EZXNlcmlhbGl6ZXIgPSAoYWxsb3dlZE5hbWVzKSA9PiAodmFsdWVTdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9ucyA9IHBhcnNlRXhwcmVzc2lvbnModmFsdWVTdHJpbmcpO1xuICAgICAgICBjb25zdCBuYW1lcyA9IChleHByZXNzaW9ucy5sZW5ndGggPyBleHByZXNzaW9uc1swXS50ZXJtcyA6IFtdKVxuICAgICAgICAgICAgLmZpbHRlcigodmFsdWVOb2RlKSA9PiB2YWx1ZU5vZGUgJiYgdmFsdWVOb2RlLnR5cGUgPT09ICdpZGVudCcpXG4gICAgICAgICAgICAubWFwKHZhbHVlTm9kZSA9PiB2YWx1ZU5vZGUudmFsdWUpXG4gICAgICAgICAgICAuZmlsdGVyKG5hbWUgPT4gYWxsb3dlZE5hbWVzLmluZGV4T2YobmFtZSkgPiAtMSk7XG4gICAgICAgIC8vIE5PVEUoY2RhdGEpOiBJRTExIGRvZXMgbm90IHN1cHBvcnQgY29uc3RydWN0aW5nIGEgU2V0IGRpcmVjdGx5IGZyb21cbiAgICAgICAgLy8gYW4gaXRlcmFibGUsIHNvIHdlIG5lZWQgdG8gbWFudWFsbHkgYWRkIGFsbCB0aGUgaXRlbXM6XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gICAgICAgICAgICByZXN1bHQuYWRkKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNhdGNoIChfZXJyb3IpIHtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZXQoKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXNlcmlhbGl6ZXJzLmpzLm1hcCJdLCJuYW1lcyI6WyJwYXJzZUV4cHJlc3Npb25zIiwiZW51bWVyYXRpb25EZXNlcmlhbGl6ZXIiLCJhbGxvd2VkTmFtZXMiLCJ2YWx1ZVN0cmluZyIsImV4cHJlc3Npb25zIiwibmFtZXMiLCJsZW5ndGgiLCJ0ZXJtcyIsImZpbHRlciIsInZhbHVlTm9kZSIsInR5cGUiLCJtYXAiLCJ2YWx1ZSIsIm5hbWUiLCJpbmRleE9mIiwicmVzdWx0IiwiU2V0IiwiYWRkIiwiX2Vycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/deserializers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/evaluators.js":
/*!********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/evaluators.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CalcEvaluator: () => (/* binding */ CalcEvaluator),\n/* harmony export */   EnvEvaluator: () => (/* binding */ EnvEvaluator),\n/* harmony export */   Evaluator: () => (/* binding */ Evaluator),\n/* harmony export */   OperatorEvaluator: () => (/* binding */ OperatorEvaluator),\n/* harmony export */   PercentageEvaluator: () => (/* binding */ PercentageEvaluator),\n/* harmony export */   StyleEvaluator: () => (/* binding */ StyleEvaluator)\n/* harmony export */ });\n/* harmony import */ var _conversions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./conversions */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _parsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var _a, _b, _c;\n\n\nconst $evaluate = Symbol(\"evaluate\");\nconst $lastValue = Symbol(\"lastValue\");\n/**\n * An Evaluator is used to derive a computed style from part (or all) of a CSS\n * expression AST. This construct is particularly useful for complex ASTs\n * containing function calls such as calc, var and env. Such styles could be\n * costly to re-evaluate on every frame (and in some cases we may try to do\n * that). The Evaluator construct allows us to mark sub-trees of the AST as\n * constant, so that only the dynamic parts are re-evaluated. It also separates\n * one-time AST preparation work from work that necessarily has to happen upon\n * each evaluation.\n */ class Evaluator {\n    constructor(){\n        this[_a] = null;\n    }\n    /**\n     * An Evaluatable is a NumberNode or an Evaluator that evaluates a NumberNode\n     * as the result of invoking its evaluate method. This is mainly used to\n     * ensure that CSS function nodes are cast to the corresponding Evaluators\n     * that will resolve the result of the function, but is also used to ensure\n     * that a percentage nested at arbitrary depth in the expression will always\n     * be evaluated against the correct basis.\n     */ static evaluatableFor(node, basis = _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO) {\n        if (node instanceof Evaluator) {\n            return node;\n        }\n        if (node.type === \"number\") {\n            if (node.unit === \"%\") {\n                return new PercentageEvaluator(node, basis);\n            }\n            return node;\n        }\n        switch(node.name.value){\n            case \"calc\":\n                return new CalcEvaluator(node, basis);\n            case \"env\":\n                return new EnvEvaluator(node);\n        }\n        return _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n    }\n    /**\n     * If the input is an Evaluator, returns the result of evaluating it.\n     * Otherwise, returns the input.\n     *\n     * This is a helper to aide in resolving a NumberNode without conditionally\n     * checking if the Evaluatable is an Evaluator everywhere.\n     */ static evaluate(evaluatable) {\n        if (evaluatable instanceof Evaluator) {\n            return evaluatable.evaluate();\n        }\n        return evaluatable;\n    }\n    /**\n     * If the input is an Evaluator, returns the value of its isConstant property.\n     * Returns true for all other input values.\n     */ static isConstant(evaluatable) {\n        if (evaluatable instanceof Evaluator) {\n            return evaluatable.isConstant;\n        }\n        return true;\n    }\n    /**\n     * This method applies a set of structured intrinsic metadata to an evaluated\n     * result from a parsed CSS-like string of expressions. Intrinsics provide\n     * sufficient metadata (e.g., basis values, analogs for keywords) such that\n     * omitted values in the input string can be backfilled, and keywords can be\n     * converted to concrete numbers.\n     *\n     * The result of applying intrinsics is a tuple of NumberNode values whose\n     * units match the units used by the basis of the intrinsics.\n     *\n     * The following is a high-level description of how intrinsics are applied:\n     *\n     *  1. Determine the value of 'auto' for the current term\n     *  2. If there is no corresponding input value for this term, substitute the\n     *     'auto' value.\n     *  3. If the term is an IdentNode, treat it as a keyword and perform the\n     *     appropriate substitution.\n     *  4. If the term is still null, fallback to the 'auto' value\n     *  5. If the term is a percentage, apply it to the basis and return that\n     *     value\n     *  6. Normalize the unit of the term\n     *  7. If the term's unit does not match the basis unit, return the basis\n     *     value\n     *  8. Return the term as is\n     */ static applyIntrinsics(evaluated, intrinsics) {\n        const { basis, keywords } = intrinsics;\n        const { auto } = keywords;\n        return basis.map((basisNode, index)=>{\n            // Use an auto value if we have it, otherwise the auto value is the basis:\n            const autoSubstituteNode = auto[index] == null ? basisNode : auto[index];\n            // If the evaluated nodes do not have a node at the current\n            // index, fallback to the \"auto\" substitute right away:\n            let evaluatedNode = evaluated[index] ? evaluated[index] : autoSubstituteNode;\n            // Any ident node is considered a keyword:\n            if (evaluatedNode.type === \"ident\") {\n                const keyword = evaluatedNode.value;\n                // Substitute any keywords for concrete values first:\n                if (keyword in keywords) {\n                    evaluatedNode = keywords[keyword][index];\n                }\n            }\n            // If we don't have a NumberNode at this point, fall back to whatever\n            // is specified for auto:\n            if (evaluatedNode == null || evaluatedNode.type === \"ident\") {\n                evaluatedNode = autoSubstituteNode;\n            }\n            // For percentages, we always apply the percentage to the basis value:\n            if (evaluatedNode.unit === \"%\") {\n                return (0,_parsers__WEBPACK_IMPORTED_MODULE_1__.numberNode)(evaluatedNode.number / 100 * basisNode.number, basisNode.unit);\n            }\n            // Otherwise, normalize whatever we have:\n            evaluatedNode = (0,_conversions__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(evaluatedNode, basisNode);\n            // If the normalized units do not match, return the basis as a fallback:\n            if (evaluatedNode.unit !== basisNode.unit) {\n                return basisNode;\n            }\n            // Finally, return the evaluated node with intrinsics applied:\n            return evaluatedNode;\n        });\n    }\n    /**\n     * If true, the Evaluator will only evaluate its AST one time. If false, the\n     * Evaluator will re-evaluate the AST each time that the public evaluate\n     * method is invoked.\n     */ get isConstant() {\n        return false;\n    }\n    /**\n     * Evaluate the Evaluator and return the result. If the Evaluator is constant,\n     * the corresponding AST will only be evaluated once, and the result of\n     * evaluating it the first time will be returned on all subsequent\n     * evaluations.\n     */ evaluate() {\n        if (!this.isConstant || this[$lastValue] == null) {\n            this[$lastValue] = this[$evaluate]();\n        }\n        return this[$lastValue];\n    }\n}\n_a = $lastValue;\nconst $percentage = Symbol(\"percentage\");\nconst $basis = Symbol(\"basis\");\n/**\n * A PercentageEvaluator scales a given basis value by a given percentage value.\n * The evaluated result is always considered to be constant.\n */ class PercentageEvaluator extends Evaluator {\n    constructor(percentage, basis){\n        super();\n        this[$percentage] = percentage;\n        this[$basis] = basis;\n    }\n    get isConstant() {\n        return true;\n    }\n    [$evaluate]() {\n        return (0,_parsers__WEBPACK_IMPORTED_MODULE_1__.numberNode)(this[$percentage].number / 100 * this[$basis].number, this[$basis].unit);\n    }\n}\nconst $identNode = Symbol(\"identNode\");\n/**\n * Evaluator for CSS-like env() functions. Currently, only one environment\n * variable is accepted as an argument for such functions: window-scroll-y.\n *\n * The env() Evaluator is explicitly dynamic because it always refers to\n * external state that changes as the user scrolls, so it should always be\n * re-evaluated to ensure we get the most recent value.\n *\n * Some important notes about this feature include:\n *\n *  - There is no such thing as a \"window-scroll-y\" CSS environment variable in\n *    any stable browser at the time that this comment is being written.\n *  - The actual CSS env() function accepts a second argument as a fallback for\n *    the case that the specified first argument isn't set; our syntax does not\n *    support this second argument.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/env\n */ class EnvEvaluator extends Evaluator {\n    constructor(envFunction){\n        super();\n        this[_b] = null;\n        const identNode = envFunction.arguments.length ? envFunction.arguments[0].terms[0] : null;\n        if (identNode != null && identNode.type === \"ident\") {\n            this[$identNode] = identNode;\n        }\n    }\n    get isConstant() {\n        return false;\n    }\n    [(_b = $identNode, $evaluate)]() {\n        if (this[$identNode] != null) {\n            switch(this[$identNode].value){\n                case \"window-scroll-y\":\n                    const verticalScrollPosition = window.pageYOffset;\n                    const verticalScrollMax = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);\n                    const scrollY = verticalScrollPosition / (verticalScrollMax - window.innerHeight) || 0;\n                    return {\n                        type: \"number\",\n                        number: scrollY,\n                        unit: null\n                    };\n            }\n        }\n        return _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n    }\n}\nconst IS_MULTIPLICATION_RE = /[\\*\\/]/;\nconst $evaluator = Symbol(\"evaluator\");\n/**\n * Evaluator for CSS-like calc() functions. Our implementation of calc()\n * evaluation currently support nested function calls, an unlimited number of\n * terms, and all four algebraic operators (+, -, * and /).\n *\n * The Evaluator is marked as constant unless the calc expression contains an\n * internal env expression at any depth, in which case it will be marked as\n * dynamic.\n *\n * @see https://www.w3.org/TR/css-values-3/#calc-syntax\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/calc\n */ class CalcEvaluator extends Evaluator {\n    constructor(calcFunction, basis = _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO){\n        super();\n        this[_c] = null;\n        if (calcFunction.arguments.length !== 1) {\n            return;\n        }\n        const terms = calcFunction.arguments[0].terms.slice();\n        const secondOrderTerms = [];\n        while(terms.length){\n            const term = terms.shift();\n            if (secondOrderTerms.length > 0) {\n                const previousTerm = secondOrderTerms[secondOrderTerms.length - 1];\n                if (previousTerm.type === \"operator\" && IS_MULTIPLICATION_RE.test(previousTerm.value)) {\n                    const operator = secondOrderTerms.pop();\n                    const leftValue = secondOrderTerms.pop();\n                    if (leftValue == null) {\n                        return;\n                    }\n                    secondOrderTerms.push(new OperatorEvaluator(operator, Evaluator.evaluatableFor(leftValue, basis), Evaluator.evaluatableFor(term, basis)));\n                    continue;\n                }\n            }\n            secondOrderTerms.push(term.type === \"operator\" ? term : Evaluator.evaluatableFor(term, basis));\n        }\n        while(secondOrderTerms.length > 2){\n            const [left, operator, right] = secondOrderTerms.splice(0, 3);\n            if (operator.type !== \"operator\") {\n                return;\n            }\n            secondOrderTerms.unshift(new OperatorEvaluator(operator, Evaluator.evaluatableFor(left, basis), Evaluator.evaluatableFor(right, basis)));\n        }\n        // There should only be one combined evaluator at this point:\n        if (secondOrderTerms.length === 1) {\n            this[$evaluator] = secondOrderTerms[0];\n        }\n    }\n    get isConstant() {\n        return this[$evaluator] == null || Evaluator.isConstant(this[$evaluator]);\n    }\n    [(_c = $evaluator, $evaluate)]() {\n        return this[$evaluator] != null ? Evaluator.evaluate(this[$evaluator]) : _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n    }\n}\nconst $operator = Symbol(\"operator\");\nconst $left = Symbol(\"left\");\nconst $right = Symbol(\"right\");\n/**\n * An Evaluator for the operators found inside CSS calc() functions.\n * The evaluator accepts an operator and left/right operands. The operands can\n * be any valid expression term typically allowed inside a CSS calc function.\n *\n * As detail of this implementation, the only supported unit types are angles\n * expressed as radians or degrees, and lengths expressed as meters, centimeters\n * or millimeters.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/calc\n */ class OperatorEvaluator extends Evaluator {\n    constructor(operator, left, right){\n        super();\n        this[$operator] = operator;\n        this[$left] = left;\n        this[$right] = right;\n    }\n    get isConstant() {\n        return Evaluator.isConstant(this[$left]) && Evaluator.isConstant(this[$right]);\n    }\n    [$evaluate]() {\n        const leftNode = (0,_conversions__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(Evaluator.evaluate(this[$left]));\n        const rightNode = (0,_conversions__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(Evaluator.evaluate(this[$right]));\n        const { number: leftValue, unit: leftUnit } = leftNode;\n        const { number: rightValue, unit: rightUnit } = rightNode;\n        // Disallow operations for mismatched normalized units e.g., m and rad:\n        if (rightUnit != null && leftUnit != null && rightUnit != leftUnit) {\n            return _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n        }\n        // NOTE(cdata): rules for calc type checking are defined here\n        // https://drafts.csswg.org/css-values-3/#calc-type-checking\n        // This is a simplification and may not hold up once we begin to support\n        // additional unit types:\n        const unit = leftUnit || rightUnit;\n        let value;\n        switch(this[$operator].value){\n            case \"+\":\n                value = leftValue + rightValue;\n                break;\n            case \"-\":\n                value = leftValue - rightValue;\n                break;\n            case \"/\":\n                value = leftValue / rightValue;\n                break;\n            case \"*\":\n                value = leftValue * rightValue;\n                break;\n            default:\n                return _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n        }\n        return {\n            type: \"number\",\n            number: value,\n            unit\n        };\n    }\n}\nconst $evaluatables = Symbol(\"evaluatables\");\nconst $intrinsics = Symbol(\"intrinsics\");\n/**\n * A VectorEvaluator evaluates a series of numeric terms that usually represent\n * a data structure such as a multi-dimensional vector or a spherical\n *\n * The form of the evaluator's result is determined by the Intrinsics that are\n * given to it when it is constructed. For example, spherical intrinsics would\n * establish two angle terms and a length term, so the result of evaluating the\n * evaluator that is configured with spherical intrinsics is a three element\n * array where the first two elements represent angles in radians and the third\n * element representing a length in meters.\n */ class StyleEvaluator extends Evaluator {\n    constructor(expressions, intrinsics){\n        super();\n        this[$intrinsics] = intrinsics;\n        const firstExpression = expressions[0];\n        const terms = firstExpression != null ? firstExpression.terms : [];\n        this[$evaluatables] = intrinsics.basis.map((basisNode, index)=>{\n            const term = terms[index];\n            if (term == null) {\n                return {\n                    type: \"ident\",\n                    value: \"auto\"\n                };\n            }\n            if (term.type === \"ident\") {\n                return term;\n            }\n            return Evaluator.evaluatableFor(term, basisNode);\n        });\n    }\n    get isConstant() {\n        for (const evaluatable of this[$evaluatables]){\n            if (!Evaluator.isConstant(evaluatable)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    [$evaluate]() {\n        const evaluated = this[$evaluatables].map((evaluatable)=>Evaluator.evaluate(evaluatable));\n        return Evaluator.applyIntrinsics(evaluated, this[$intrinsics]).map((numberNode)=>numberNode.number);\n    }\n} //# sourceMappingURL=evaluators.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9ldmFsdWF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUNELElBQUlBLElBQUlDLElBQUlDO0FBQ2tDO0FBQ0Q7QUFDN0MsTUFBTUksWUFBWUMsT0FBTztBQUN6QixNQUFNQyxhQUFhRCxPQUFPO0FBQzFCOzs7Ozs7Ozs7Q0FTQyxHQUNNLE1BQU1FO0lBQ1RDLGFBQWM7UUFDVixJQUFJLENBQUNWLEdBQUcsR0FBRztJQUNmO0lBQ0E7Ozs7Ozs7S0FPQyxHQUNELE9BQU9XLGVBQWVDLElBQUksRUFBRUMsUUFBUVIsMENBQUksRUFBRTtRQUN0QyxJQUFJTyxnQkFBZ0JILFdBQVc7WUFDM0IsT0FBT0c7UUFDWDtRQUNBLElBQUlBLEtBQUtFLElBQUksS0FBSyxVQUFVO1lBQ3hCLElBQUlGLEtBQUtHLElBQUksS0FBSyxLQUFLO2dCQUNuQixPQUFPLElBQUlDLG9CQUFvQkosTUFBTUM7WUFDekM7WUFDQSxPQUFPRDtRQUNYO1FBQ0EsT0FBUUEsS0FBS0ssSUFBSSxDQUFDQyxLQUFLO1lBQ25CLEtBQUs7Z0JBQ0QsT0FBTyxJQUFJQyxjQUFjUCxNQUFNQztZQUNuQyxLQUFLO2dCQUNELE9BQU8sSUFBSU8sYUFBYVI7UUFDaEM7UUFDQSxPQUFPUCwwQ0FBSUE7SUFDZjtJQUNBOzs7Ozs7S0FNQyxHQUNELE9BQU9nQixTQUFTQyxXQUFXLEVBQUU7UUFDekIsSUFBSUEsdUJBQXVCYixXQUFXO1lBQ2xDLE9BQU9hLFlBQVlELFFBQVE7UUFDL0I7UUFDQSxPQUFPQztJQUNYO0lBQ0E7OztLQUdDLEdBQ0QsT0FBT0MsV0FBV0QsV0FBVyxFQUFFO1FBQzNCLElBQUlBLHVCQUF1QmIsV0FBVztZQUNsQyxPQUFPYSxZQUFZQyxVQUFVO1FBQ2pDO1FBQ0EsT0FBTztJQUNYO0lBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQXdCQyxH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UjtJQUNBLElBQUlQLGFBQWE7UUFDYixLQUFLLE1BQU1ELGVBQWUsSUFBSSxDQUFDK0QsY0FBYyxDQUFFO1lBQzNDLElBQUksQ0FBQzVFLFVBQVVjLFVBQVUsQ0FBQ0QsY0FBYztnQkFDcEMsT0FBTztZQUNYO1FBQ0o7UUFDQSxPQUFPO0lBQ1g7SUFDQSxDQUFDaEIsVUFBVSxHQUFHO1FBQ1YsTUFBTW1CLFlBQVksSUFBSSxDQUFDNEQsY0FBYyxDQUFDeEQsR0FBRyxDQUFDUCxDQUFBQSxjQUFlYixVQUFVWSxRQUFRLENBQUNDO1FBQzVFLE9BQU9iLFVBQVVlLGVBQWUsQ0FBQ0MsV0FBVyxJQUFJLENBQUM2RCxZQUFZLEVBQ3hEekQsR0FBRyxDQUFDekIsQ0FBQUEsYUFBY0EsV0FBVytCLE1BQU07SUFDNUM7QUFDSixFQUNBLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9ldmFsdWF0b3JzLmpzPzE4MmEiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hLCBfYiwgX2M7XG5pbXBvcnQgeyBub3JtYWxpemVVbml0IH0gZnJvbSAnLi9jb252ZXJzaW9ucyc7XG5pbXBvcnQgeyBudW1iZXJOb2RlLCBaRVJPIH0gZnJvbSAnLi9wYXJzZXJzJztcbmNvbnN0ICRldmFsdWF0ZSA9IFN5bWJvbCgnZXZhbHVhdGUnKTtcbmNvbnN0ICRsYXN0VmFsdWUgPSBTeW1ib2woJ2xhc3RWYWx1ZScpO1xuLyoqXG4gKiBBbiBFdmFsdWF0b3IgaXMgdXNlZCB0byBkZXJpdmUgYSBjb21wdXRlZCBzdHlsZSBmcm9tIHBhcnQgKG9yIGFsbCkgb2YgYSBDU1NcbiAqIGV4cHJlc3Npb24gQVNULiBUaGlzIGNvbnN0cnVjdCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBjb21wbGV4IEFTVHNcbiAqIGNvbnRhaW5pbmcgZnVuY3Rpb24gY2FsbHMgc3VjaCBhcyBjYWxjLCB2YXIgYW5kIGVudi4gU3VjaCBzdHlsZXMgY291bGQgYmVcbiAqIGNvc3RseSB0byByZS1ldmFsdWF0ZSBvbiBldmVyeSBmcmFtZSAoYW5kIGluIHNvbWUgY2FzZXMgd2UgbWF5IHRyeSB0byBkb1xuICogdGhhdCkuIFRoZSBFdmFsdWF0b3IgY29uc3RydWN0IGFsbG93cyB1cyB0byBtYXJrIHN1Yi10cmVlcyBvZiB0aGUgQVNUIGFzXG4gKiBjb25zdGFudCwgc28gdGhhdCBvbmx5IHRoZSBkeW5hbWljIHBhcnRzIGFyZSByZS1ldmFsdWF0ZWQuIEl0IGFsc28gc2VwYXJhdGVzXG4gKiBvbmUtdGltZSBBU1QgcHJlcGFyYXRpb24gd29yayBmcm9tIHdvcmsgdGhhdCBuZWNlc3NhcmlseSBoYXMgdG8gaGFwcGVuIHVwb25cbiAqIGVhY2ggZXZhbHVhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2YWx1YXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXNbX2FdID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQW4gRXZhbHVhdGFibGUgaXMgYSBOdW1iZXJOb2RlIG9yIGFuIEV2YWx1YXRvciB0aGF0IGV2YWx1YXRlcyBhIE51bWJlck5vZGVcbiAgICAgKiBhcyB0aGUgcmVzdWx0IG9mIGludm9raW5nIGl0cyBldmFsdWF0ZSBtZXRob2QuIFRoaXMgaXMgbWFpbmx5IHVzZWQgdG9cbiAgICAgKiBlbnN1cmUgdGhhdCBDU1MgZnVuY3Rpb24gbm9kZXMgYXJlIGNhc3QgdG8gdGhlIGNvcnJlc3BvbmRpbmcgRXZhbHVhdG9yc1xuICAgICAqIHRoYXQgd2lsbCByZXNvbHZlIHRoZSByZXN1bHQgb2YgdGhlIGZ1bmN0aW9uLCBidXQgaXMgYWxzbyB1c2VkIHRvIGVuc3VyZVxuICAgICAqIHRoYXQgYSBwZXJjZW50YWdlIG5lc3RlZCBhdCBhcmJpdHJhcnkgZGVwdGggaW4gdGhlIGV4cHJlc3Npb24gd2lsbCBhbHdheXNcbiAgICAgKiBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgY29ycmVjdCBiYXNpcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZXZhbHVhdGFibGVGb3Iobm9kZSwgYmFzaXMgPSBaRVJPKSB7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRXZhbHVhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKG5vZGUudW5pdCA9PT0gJyUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQZXJjZW50YWdlRXZhbHVhdG9yKG5vZGUsIGJhc2lzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobm9kZS5uYW1lLnZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlICdjYWxjJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENhbGNFdmFsdWF0b3Iobm9kZSwgYmFzaXMpO1xuICAgICAgICAgICAgY2FzZSAnZW52JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVudkV2YWx1YXRvcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gWkVSTztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGlucHV0IGlzIGFuIEV2YWx1YXRvciwgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgaXQuXG4gICAgICogT3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBpbnB1dC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYSBoZWxwZXIgdG8gYWlkZSBpbiByZXNvbHZpbmcgYSBOdW1iZXJOb2RlIHdpdGhvdXQgY29uZGl0aW9uYWxseVxuICAgICAqIGNoZWNraW5nIGlmIHRoZSBFdmFsdWF0YWJsZSBpcyBhbiBFdmFsdWF0b3IgZXZlcnl3aGVyZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZXZhbHVhdGUoZXZhbHVhdGFibGUpIHtcbiAgICAgICAgaWYgKGV2YWx1YXRhYmxlIGluc3RhbmNlb2YgRXZhbHVhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZhbHVhdGFibGUuZXZhbHVhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZhbHVhdGFibGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBpbnB1dCBpcyBhbiBFdmFsdWF0b3IsIHJldHVybnMgdGhlIHZhbHVlIG9mIGl0cyBpc0NvbnN0YW50IHByb3BlcnR5LlxuICAgICAqIFJldHVybnMgdHJ1ZSBmb3IgYWxsIG90aGVyIGlucHV0IHZhbHVlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNDb25zdGFudChldmFsdWF0YWJsZSkge1xuICAgICAgICBpZiAoZXZhbHVhdGFibGUgaW5zdGFuY2VvZiBFdmFsdWF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBldmFsdWF0YWJsZS5pc0NvbnN0YW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBhcHBsaWVzIGEgc2V0IG9mIHN0cnVjdHVyZWQgaW50cmluc2ljIG1ldGFkYXRhIHRvIGFuIGV2YWx1YXRlZFxuICAgICAqIHJlc3VsdCBmcm9tIGEgcGFyc2VkIENTUy1saWtlIHN0cmluZyBvZiBleHByZXNzaW9ucy4gSW50cmluc2ljcyBwcm92aWRlXG4gICAgICogc3VmZmljaWVudCBtZXRhZGF0YSAoZS5nLiwgYmFzaXMgdmFsdWVzLCBhbmFsb2dzIGZvciBrZXl3b3Jkcykgc3VjaCB0aGF0XG4gICAgICogb21pdHRlZCB2YWx1ZXMgaW4gdGhlIGlucHV0IHN0cmluZyBjYW4gYmUgYmFja2ZpbGxlZCwgYW5kIGtleXdvcmRzIGNhbiBiZVxuICAgICAqIGNvbnZlcnRlZCB0byBjb25jcmV0ZSBudW1iZXJzLlxuICAgICAqXG4gICAgICogVGhlIHJlc3VsdCBvZiBhcHBseWluZyBpbnRyaW5zaWNzIGlzIGEgdHVwbGUgb2YgTnVtYmVyTm9kZSB2YWx1ZXMgd2hvc2VcbiAgICAgKiB1bml0cyBtYXRjaCB0aGUgdW5pdHMgdXNlZCBieSB0aGUgYmFzaXMgb2YgdGhlIGludHJpbnNpY3MuXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGlzIGEgaGlnaC1sZXZlbCBkZXNjcmlwdGlvbiBvZiBob3cgaW50cmluc2ljcyBhcmUgYXBwbGllZDpcbiAgICAgKlxuICAgICAqICAxLiBEZXRlcm1pbmUgdGhlIHZhbHVlIG9mICdhdXRvJyBmb3IgdGhlIGN1cnJlbnQgdGVybVxuICAgICAqICAyLiBJZiB0aGVyZSBpcyBubyBjb3JyZXNwb25kaW5nIGlucHV0IHZhbHVlIGZvciB0aGlzIHRlcm0sIHN1YnN0aXR1dGUgdGhlXG4gICAgICogICAgICdhdXRvJyB2YWx1ZS5cbiAgICAgKiAgMy4gSWYgdGhlIHRlcm0gaXMgYW4gSWRlbnROb2RlLCB0cmVhdCBpdCBhcyBhIGtleXdvcmQgYW5kIHBlcmZvcm0gdGhlXG4gICAgICogICAgIGFwcHJvcHJpYXRlIHN1YnN0aXR1dGlvbi5cbiAgICAgKiAgNC4gSWYgdGhlIHRlcm0gaXMgc3RpbGwgbnVsbCwgZmFsbGJhY2sgdG8gdGhlICdhdXRvJyB2YWx1ZVxuICAgICAqICA1LiBJZiB0aGUgdGVybSBpcyBhIHBlcmNlbnRhZ2UsIGFwcGx5IGl0IHRvIHRoZSBiYXNpcyBhbmQgcmV0dXJuIHRoYXRcbiAgICAgKiAgICAgdmFsdWVcbiAgICAgKiAgNi4gTm9ybWFsaXplIHRoZSB1bml0IG9mIHRoZSB0ZXJtXG4gICAgICogIDcuIElmIHRoZSB0ZXJtJ3MgdW5pdCBkb2VzIG5vdCBtYXRjaCB0aGUgYmFzaXMgdW5pdCwgcmV0dXJuIHRoZSBiYXNpc1xuICAgICAqICAgICB2YWx1ZVxuICAgICAqICA4LiBSZXR1cm4gdGhlIHRlcm0gYXMgaXNcbiAgICAgKi9cbiAgICBzdGF0aWMgYXBwbHlJbnRyaW5zaWNzKGV2YWx1YXRlZCwgaW50cmluc2ljcykge1xuICAgICAgICBjb25zdCB7IGJhc2lzLCBrZXl3b3JkcyB9ID0gaW50cmluc2ljcztcbiAgICAgICAgY29uc3QgeyBhdXRvIH0gPSBrZXl3b3JkcztcbiAgICAgICAgcmV0dXJuIGJhc2lzLm1hcCgoYmFzaXNOb2RlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgLy8gVXNlIGFuIGF1dG8gdmFsdWUgaWYgd2UgaGF2ZSBpdCwgb3RoZXJ3aXNlIHRoZSBhdXRvIHZhbHVlIGlzIHRoZSBiYXNpczpcbiAgICAgICAgICAgIGNvbnN0IGF1dG9TdWJzdGl0dXRlTm9kZSA9IGF1dG9baW5kZXhdID09IG51bGwgPyBiYXNpc05vZGUgOiBhdXRvW2luZGV4XTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBldmFsdWF0ZWQgbm9kZXMgZG8gbm90IGhhdmUgYSBub2RlIGF0IHRoZSBjdXJyZW50XG4gICAgICAgICAgICAvLyBpbmRleCwgZmFsbGJhY2sgdG8gdGhlIFwiYXV0b1wiIHN1YnN0aXR1dGUgcmlnaHQgYXdheTpcbiAgICAgICAgICAgIGxldCBldmFsdWF0ZWROb2RlID0gZXZhbHVhdGVkW2luZGV4XSA/IGV2YWx1YXRlZFtpbmRleF0gOiBhdXRvU3Vic3RpdHV0ZU5vZGU7XG4gICAgICAgICAgICAvLyBBbnkgaWRlbnQgbm9kZSBpcyBjb25zaWRlcmVkIGEga2V5d29yZDpcbiAgICAgICAgICAgIGlmIChldmFsdWF0ZWROb2RlLnR5cGUgPT09ICdpZGVudCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXl3b3JkID0gZXZhbHVhdGVkTm9kZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAvLyBTdWJzdGl0dXRlIGFueSBrZXl3b3JkcyBmb3IgY29uY3JldGUgdmFsdWVzIGZpcnN0OlxuICAgICAgICAgICAgICAgIGlmIChrZXl3b3JkIGluIGtleXdvcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWx1YXRlZE5vZGUgPSBrZXl3b3Jkc1trZXl3b3JkXVtpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIE51bWJlck5vZGUgYXQgdGhpcyBwb2ludCwgZmFsbCBiYWNrIHRvIHdoYXRldmVyXG4gICAgICAgICAgICAvLyBpcyBzcGVjaWZpZWQgZm9yIGF1dG86XG4gICAgICAgICAgICBpZiAoZXZhbHVhdGVkTm9kZSA9PSBudWxsIHx8IGV2YWx1YXRlZE5vZGUudHlwZSA9PT0gJ2lkZW50Jykge1xuICAgICAgICAgICAgICAgIGV2YWx1YXRlZE5vZGUgPSBhdXRvU3Vic3RpdHV0ZU5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3IgcGVyY2VudGFnZXMsIHdlIGFsd2F5cyBhcHBseSB0aGUgcGVyY2VudGFnZSB0byB0aGUgYmFzaXMgdmFsdWU6XG4gICAgICAgICAgICBpZiAoZXZhbHVhdGVkTm9kZS51bml0ID09PSAnJScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyTm9kZShldmFsdWF0ZWROb2RlLm51bWJlciAvIDEwMCAqIGJhc2lzTm9kZS5udW1iZXIsIGJhc2lzTm9kZS51bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgbm9ybWFsaXplIHdoYXRldmVyIHdlIGhhdmU6XG4gICAgICAgICAgICBldmFsdWF0ZWROb2RlID0gbm9ybWFsaXplVW5pdChldmFsdWF0ZWROb2RlLCBiYXNpc05vZGUpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIG5vcm1hbGl6ZWQgdW5pdHMgZG8gbm90IG1hdGNoLCByZXR1cm4gdGhlIGJhc2lzIGFzIGEgZmFsbGJhY2s6XG4gICAgICAgICAgICBpZiAoZXZhbHVhdGVkTm9kZS51bml0ICE9PSBiYXNpc05vZGUudW5pdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBiYXNpc05vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaW5hbGx5LCByZXR1cm4gdGhlIGV2YWx1YXRlZCBub2RlIHdpdGggaW50cmluc2ljcyBhcHBsaWVkOlxuICAgICAgICAgICAgcmV0dXJuIGV2YWx1YXRlZE5vZGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGUgRXZhbHVhdG9yIHdpbGwgb25seSBldmFsdWF0ZSBpdHMgQVNUIG9uZSB0aW1lLiBJZiBmYWxzZSwgdGhlXG4gICAgICogRXZhbHVhdG9yIHdpbGwgcmUtZXZhbHVhdGUgdGhlIEFTVCBlYWNoIHRpbWUgdGhhdCB0aGUgcHVibGljIGV2YWx1YXRlXG4gICAgICogbWV0aG9kIGlzIGludm9rZWQuXG4gICAgICovXG4gICAgZ2V0IGlzQ29uc3RhbnQoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXZhbHVhdGUgdGhlIEV2YWx1YXRvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuIElmIHRoZSBFdmFsdWF0b3IgaXMgY29uc3RhbnQsXG4gICAgICogdGhlIGNvcnJlc3BvbmRpbmcgQVNUIHdpbGwgb25seSBiZSBldmFsdWF0ZWQgb25jZSwgYW5kIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBldmFsdWF0aW5nIGl0IHRoZSBmaXJzdCB0aW1lIHdpbGwgYmUgcmV0dXJuZWQgb24gYWxsIHN1YnNlcXVlbnRcbiAgICAgKiBldmFsdWF0aW9ucy5cbiAgICAgKi9cbiAgICBldmFsdWF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29uc3RhbnQgfHwgdGhpc1skbGFzdFZhbHVlXSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzWyRsYXN0VmFsdWVdID0gdGhpc1skZXZhbHVhdGVdKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbJGxhc3RWYWx1ZV07XG4gICAgfVxufVxuX2EgPSAkbGFzdFZhbHVlO1xuY29uc3QgJHBlcmNlbnRhZ2UgPSBTeW1ib2woJ3BlcmNlbnRhZ2UnKTtcbmNvbnN0ICRiYXNpcyA9IFN5bWJvbCgnYmFzaXMnKTtcbi8qKlxuICogQSBQZXJjZW50YWdlRXZhbHVhdG9yIHNjYWxlcyBhIGdpdmVuIGJhc2lzIHZhbHVlIGJ5IGEgZ2l2ZW4gcGVyY2VudGFnZSB2YWx1ZS5cbiAqIFRoZSBldmFsdWF0ZWQgcmVzdWx0IGlzIGFsd2F5cyBjb25zaWRlcmVkIHRvIGJlIGNvbnN0YW50LlxuICovXG5leHBvcnQgY2xhc3MgUGVyY2VudGFnZUV2YWx1YXRvciBleHRlbmRzIEV2YWx1YXRvciB7XG4gICAgY29uc3RydWN0b3IocGVyY2VudGFnZSwgYmFzaXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpc1skcGVyY2VudGFnZV0gPSBwZXJjZW50YWdlO1xuICAgICAgICB0aGlzWyRiYXNpc10gPSBiYXNpcztcbiAgICB9XG4gICAgZ2V0IGlzQ29uc3RhbnQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBbJGV2YWx1YXRlXSgpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlck5vZGUodGhpc1skcGVyY2VudGFnZV0ubnVtYmVyIC8gMTAwICogdGhpc1skYmFzaXNdLm51bWJlciwgdGhpc1skYmFzaXNdLnVuaXQpO1xuICAgIH1cbn1cbmNvbnN0ICRpZGVudE5vZGUgPSBTeW1ib2woJ2lkZW50Tm9kZScpO1xuLyoqXG4gKiBFdmFsdWF0b3IgZm9yIENTUy1saWtlIGVudigpIGZ1bmN0aW9ucy4gQ3VycmVudGx5LCBvbmx5IG9uZSBlbnZpcm9ubWVudFxuICogdmFyaWFibGUgaXMgYWNjZXB0ZWQgYXMgYW4gYXJndW1lbnQgZm9yIHN1Y2ggZnVuY3Rpb25zOiB3aW5kb3ctc2Nyb2xsLXkuXG4gKlxuICogVGhlIGVudigpIEV2YWx1YXRvciBpcyBleHBsaWNpdGx5IGR5bmFtaWMgYmVjYXVzZSBpdCBhbHdheXMgcmVmZXJzIHRvXG4gKiBleHRlcm5hbCBzdGF0ZSB0aGF0IGNoYW5nZXMgYXMgdGhlIHVzZXIgc2Nyb2xscywgc28gaXQgc2hvdWxkIGFsd2F5cyBiZVxuICogcmUtZXZhbHVhdGVkIHRvIGVuc3VyZSB3ZSBnZXQgdGhlIG1vc3QgcmVjZW50IHZhbHVlLlxuICpcbiAqIFNvbWUgaW1wb3J0YW50IG5vdGVzIGFib3V0IHRoaXMgZmVhdHVyZSBpbmNsdWRlOlxuICpcbiAqICAtIFRoZXJlIGlzIG5vIHN1Y2ggdGhpbmcgYXMgYSBcIndpbmRvdy1zY3JvbGwteVwiIENTUyBlbnZpcm9ubWVudCB2YXJpYWJsZSBpblxuICogICAgYW55IHN0YWJsZSBicm93c2VyIGF0IHRoZSB0aW1lIHRoYXQgdGhpcyBjb21tZW50IGlzIGJlaW5nIHdyaXR0ZW4uXG4gKiAgLSBUaGUgYWN0dWFsIENTUyBlbnYoKSBmdW5jdGlvbiBhY2NlcHRzIGEgc2Vjb25kIGFyZ3VtZW50IGFzIGEgZmFsbGJhY2sgZm9yXG4gKiAgICB0aGUgY2FzZSB0aGF0IHRoZSBzcGVjaWZpZWQgZmlyc3QgYXJndW1lbnQgaXNuJ3Qgc2V0OyBvdXIgc3ludGF4IGRvZXMgbm90XG4gKiAgICBzdXBwb3J0IHRoaXMgc2Vjb25kIGFyZ3VtZW50LlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2VudlxuICovXG5leHBvcnQgY2xhc3MgRW52RXZhbHVhdG9yIGV4dGVuZHMgRXZhbHVhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihlbnZGdW5jdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzW19iXSA9IG51bGw7XG4gICAgICAgIGNvbnN0IGlkZW50Tm9kZSA9IGVudkZ1bmN0aW9uLmFyZ3VtZW50cy5sZW5ndGggPyBlbnZGdW5jdGlvbi5hcmd1bWVudHNbMF0udGVybXNbMF0gOiBudWxsO1xuICAgICAgICBpZiAoaWRlbnROb2RlICE9IG51bGwgJiYgaWRlbnROb2RlLnR5cGUgPT09ICdpZGVudCcpIHtcbiAgICAgICAgICAgIHRoaXNbJGlkZW50Tm9kZV0gPSBpZGVudE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGlzQ29uc3RhbnQoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgO1xuICAgIFsoX2IgPSAkaWRlbnROb2RlLCAkZXZhbHVhdGUpXSgpIHtcbiAgICAgICAgaWYgKHRoaXNbJGlkZW50Tm9kZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzWyRpZGVudE5vZGVdLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnd2luZG93LXNjcm9sbC15JzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVydGljYWxTY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVydGljYWxTY3JvbGxNYXggPSBNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JvbGxZID0gdmVydGljYWxTY3JvbGxQb3NpdGlvbiAvXG4gICAgICAgICAgICAgICAgICAgICAgICAodmVydGljYWxTY3JvbGxNYXggLSB3aW5kb3cuaW5uZXJIZWlnaHQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnbnVtYmVyJywgbnVtYmVyOiBzY3JvbGxZLCB1bml0OiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFpFUk87XG4gICAgfVxufVxuY29uc3QgSVNfTVVMVElQTElDQVRJT05fUkUgPSAvW1xcKlxcL10vO1xuY29uc3QgJGV2YWx1YXRvciA9IFN5bWJvbCgnZXZhbHVhdG9yJyk7XG4vKipcbiAqIEV2YWx1YXRvciBmb3IgQ1NTLWxpa2UgY2FsYygpIGZ1bmN0aW9ucy4gT3VyIGltcGxlbWVudGF0aW9uIG9mIGNhbGMoKVxuICogZXZhbHVhdGlvbiBjdXJyZW50bHkgc3VwcG9ydCBuZXN0ZWQgZnVuY3Rpb24gY2FsbHMsIGFuIHVubGltaXRlZCBudW1iZXIgb2ZcbiAqIHRlcm1zLCBhbmQgYWxsIGZvdXIgYWxnZWJyYWljIG9wZXJhdG9ycyAoKywgLSwgKiBhbmQgLykuXG4gKlxuICogVGhlIEV2YWx1YXRvciBpcyBtYXJrZWQgYXMgY29uc3RhbnQgdW5sZXNzIHRoZSBjYWxjIGV4cHJlc3Npb24gY29udGFpbnMgYW5cbiAqIGludGVybmFsIGVudiBleHByZXNzaW9uIGF0IGFueSBkZXB0aCwgaW4gd2hpY2ggY2FzZSBpdCB3aWxsIGJlIG1hcmtlZCBhc1xuICogZHluYW1pYy5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MtdmFsdWVzLTMvI2NhbGMtc3ludGF4XG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9jYWxjXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWxjRXZhbHVhdG9yIGV4dGVuZHMgRXZhbHVhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxjRnVuY3Rpb24sIGJhc2lzID0gWkVSTykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzW19jXSA9IG51bGw7XG4gICAgICAgIGlmIChjYWxjRnVuY3Rpb24uYXJndW1lbnRzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRlcm1zID0gY2FsY0Z1bmN0aW9uLmFyZ3VtZW50c1swXS50ZXJtcy5zbGljZSgpO1xuICAgICAgICBjb25zdCBzZWNvbmRPcmRlclRlcm1zID0gW107XG4gICAgICAgIHdoaWxlICh0ZXJtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlcm0gPSB0ZXJtcy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKHNlY29uZE9yZGVyVGVybXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVGVybSA9IHNlY29uZE9yZGVyVGVybXNbc2Vjb25kT3JkZXJUZXJtcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNUZXJtLnR5cGUgPT09ICdvcGVyYXRvcicgJiZcbiAgICAgICAgICAgICAgICAgICAgSVNfTVVMVElQTElDQVRJT05fUkUudGVzdChwcmV2aW91c1Rlcm0udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdG9yID0gc2Vjb25kT3JkZXJUZXJtcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdFZhbHVlID0gc2Vjb25kT3JkZXJUZXJtcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kT3JkZXJUZXJtcy5wdXNoKG5ldyBPcGVyYXRvckV2YWx1YXRvcihvcGVyYXRvciwgRXZhbHVhdG9yLmV2YWx1YXRhYmxlRm9yKGxlZnRWYWx1ZSwgYmFzaXMpLCBFdmFsdWF0b3IuZXZhbHVhdGFibGVGb3IodGVybSwgYmFzaXMpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlY29uZE9yZGVyVGVybXMucHVzaCh0ZXJtLnR5cGUgPT09ICdvcGVyYXRvcicgPyB0ZXJtIDpcbiAgICAgICAgICAgICAgICBFdmFsdWF0b3IuZXZhbHVhdGFibGVGb3IodGVybSwgYmFzaXMpKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoc2Vjb25kT3JkZXJUZXJtcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBjb25zdCBbbGVmdCwgb3BlcmF0b3IsIHJpZ2h0XSA9IHNlY29uZE9yZGVyVGVybXMuc3BsaWNlKDAsIDMpO1xuICAgICAgICAgICAgaWYgKG9wZXJhdG9yLnR5cGUgIT09ICdvcGVyYXRvcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWNvbmRPcmRlclRlcm1zLnVuc2hpZnQobmV3IE9wZXJhdG9yRXZhbHVhdG9yKG9wZXJhdG9yLCBFdmFsdWF0b3IuZXZhbHVhdGFibGVGb3IobGVmdCwgYmFzaXMpLCBFdmFsdWF0b3IuZXZhbHVhdGFibGVGb3IocmlnaHQsIGJhc2lzKSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZXJlIHNob3VsZCBvbmx5IGJlIG9uZSBjb21iaW5lZCBldmFsdWF0b3IgYXQgdGhpcyBwb2ludDpcbiAgICAgICAgaWYgKHNlY29uZE9yZGVyVGVybXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzWyRldmFsdWF0b3JdID0gc2Vjb25kT3JkZXJUZXJtc1swXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXNDb25zdGFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGV2YWx1YXRvcl0gPT0gbnVsbCB8fCBFdmFsdWF0b3IuaXNDb25zdGFudCh0aGlzWyRldmFsdWF0b3JdKTtcbiAgICB9XG4gICAgWyhfYyA9ICRldmFsdWF0b3IsICRldmFsdWF0ZSldKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skZXZhbHVhdG9yXSAhPSBudWxsID8gRXZhbHVhdG9yLmV2YWx1YXRlKHRoaXNbJGV2YWx1YXRvcl0pIDpcbiAgICAgICAgICAgIFpFUk87XG4gICAgfVxufVxuY29uc3QgJG9wZXJhdG9yID0gU3ltYm9sKCdvcGVyYXRvcicpO1xuY29uc3QgJGxlZnQgPSBTeW1ib2woJ2xlZnQnKTtcbmNvbnN0ICRyaWdodCA9IFN5bWJvbCgncmlnaHQnKTtcbi8qKlxuICogQW4gRXZhbHVhdG9yIGZvciB0aGUgb3BlcmF0b3JzIGZvdW5kIGluc2lkZSBDU1MgY2FsYygpIGZ1bmN0aW9ucy5cbiAqIFRoZSBldmFsdWF0b3IgYWNjZXB0cyBhbiBvcGVyYXRvciBhbmQgbGVmdC9yaWdodCBvcGVyYW5kcy4gVGhlIG9wZXJhbmRzIGNhblxuICogYmUgYW55IHZhbGlkIGV4cHJlc3Npb24gdGVybSB0eXBpY2FsbHkgYWxsb3dlZCBpbnNpZGUgYSBDU1MgY2FsYyBmdW5jdGlvbi5cbiAqXG4gKiBBcyBkZXRhaWwgb2YgdGhpcyBpbXBsZW1lbnRhdGlvbiwgdGhlIG9ubHkgc3VwcG9ydGVkIHVuaXQgdHlwZXMgYXJlIGFuZ2xlc1xuICogZXhwcmVzc2VkIGFzIHJhZGlhbnMgb3IgZGVncmVlcywgYW5kIGxlbmd0aHMgZXhwcmVzc2VkIGFzIG1ldGVycywgY2VudGltZXRlcnNcbiAqIG9yIG1pbGxpbWV0ZXJzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2NhbGNcbiAqL1xuZXhwb3J0IGNsYXNzIE9wZXJhdG9yRXZhbHVhdG9yIGV4dGVuZHMgRXZhbHVhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihvcGVyYXRvciwgbGVmdCwgcmlnaHQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpc1skb3BlcmF0b3JdID0gb3BlcmF0b3I7XG4gICAgICAgIHRoaXNbJGxlZnRdID0gbGVmdDtcbiAgICAgICAgdGhpc1skcmlnaHRdID0gcmlnaHQ7XG4gICAgfVxuICAgIGdldCBpc0NvbnN0YW50KCkge1xuICAgICAgICByZXR1cm4gRXZhbHVhdG9yLmlzQ29uc3RhbnQodGhpc1skbGVmdF0pICYmXG4gICAgICAgICAgICBFdmFsdWF0b3IuaXNDb25zdGFudCh0aGlzWyRyaWdodF0pO1xuICAgIH1cbiAgICBbJGV2YWx1YXRlXSgpIHtcbiAgICAgICAgY29uc3QgbGVmdE5vZGUgPSBub3JtYWxpemVVbml0KEV2YWx1YXRvci5ldmFsdWF0ZSh0aGlzWyRsZWZ0XSkpO1xuICAgICAgICBjb25zdCByaWdodE5vZGUgPSBub3JtYWxpemVVbml0KEV2YWx1YXRvci5ldmFsdWF0ZSh0aGlzWyRyaWdodF0pKTtcbiAgICAgICAgY29uc3QgeyBudW1iZXI6IGxlZnRWYWx1ZSwgdW5pdDogbGVmdFVuaXQgfSA9IGxlZnROb2RlO1xuICAgICAgICBjb25zdCB7IG51bWJlcjogcmlnaHRWYWx1ZSwgdW5pdDogcmlnaHRVbml0IH0gPSByaWdodE5vZGU7XG4gICAgICAgIC8vIERpc2FsbG93IG9wZXJhdGlvbnMgZm9yIG1pc21hdGNoZWQgbm9ybWFsaXplZCB1bml0cyBlLmcuLCBtIGFuZCByYWQ6XG4gICAgICAgIGlmIChyaWdodFVuaXQgIT0gbnVsbCAmJiBsZWZ0VW5pdCAhPSBudWxsICYmIHJpZ2h0VW5pdCAhPSBsZWZ0VW5pdCkge1xuICAgICAgICAgICAgcmV0dXJuIFpFUk87XG4gICAgICAgIH1cbiAgICAgICAgLy8gTk9URShjZGF0YSk6IHJ1bGVzIGZvciBjYWxjIHR5cGUgY2hlY2tpbmcgYXJlIGRlZmluZWQgaGVyZVxuICAgICAgICAvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyNjYWxjLXR5cGUtY2hlY2tpbmdcbiAgICAgICAgLy8gVGhpcyBpcyBhIHNpbXBsaWZpY2F0aW9uIGFuZCBtYXkgbm90IGhvbGQgdXAgb25jZSB3ZSBiZWdpbiB0byBzdXBwb3J0XG4gICAgICAgIC8vIGFkZGl0aW9uYWwgdW5pdCB0eXBlczpcbiAgICAgICAgY29uc3QgdW5pdCA9IGxlZnRVbml0IHx8IHJpZ2h0VW5pdDtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBzd2l0Y2ggKHRoaXNbJG9wZXJhdG9yXS52YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgKyByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgLSByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgLyByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnKic6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgKiByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gWkVSTztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB0eXBlOiAnbnVtYmVyJywgbnVtYmVyOiB2YWx1ZSwgdW5pdCB9O1xuICAgIH1cbn1cbmNvbnN0ICRldmFsdWF0YWJsZXMgPSBTeW1ib2woJ2V2YWx1YXRhYmxlcycpO1xuY29uc3QgJGludHJpbnNpY3MgPSBTeW1ib2woJ2ludHJpbnNpY3MnKTtcbi8qKlxuICogQSBWZWN0b3JFdmFsdWF0b3IgZXZhbHVhdGVzIGEgc2VyaWVzIG9mIG51bWVyaWMgdGVybXMgdGhhdCB1c3VhbGx5IHJlcHJlc2VudFxuICogYSBkYXRhIHN0cnVjdHVyZSBzdWNoIGFzIGEgbXVsdGktZGltZW5zaW9uYWwgdmVjdG9yIG9yIGEgc3BoZXJpY2FsXG4gKlxuICogVGhlIGZvcm0gb2YgdGhlIGV2YWx1YXRvcidzIHJlc3VsdCBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBJbnRyaW5zaWNzIHRoYXQgYXJlXG4gKiBnaXZlbiB0byBpdCB3aGVuIGl0IGlzIGNvbnN0cnVjdGVkLiBGb3IgZXhhbXBsZSwgc3BoZXJpY2FsIGludHJpbnNpY3Mgd291bGRcbiAqIGVzdGFibGlzaCB0d28gYW5nbGUgdGVybXMgYW5kIGEgbGVuZ3RoIHRlcm0sIHNvIHRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGVcbiAqIGV2YWx1YXRvciB0aGF0IGlzIGNvbmZpZ3VyZWQgd2l0aCBzcGhlcmljYWwgaW50cmluc2ljcyBpcyBhIHRocmVlIGVsZW1lbnRcbiAqIGFycmF5IHdoZXJlIHRoZSBmaXJzdCB0d28gZWxlbWVudHMgcmVwcmVzZW50IGFuZ2xlcyBpbiByYWRpYW5zIGFuZCB0aGUgdGhpcmRcbiAqIGVsZW1lbnQgcmVwcmVzZW50aW5nIGEgbGVuZ3RoIGluIG1ldGVycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0eWxlRXZhbHVhdG9yIGV4dGVuZHMgRXZhbHVhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihleHByZXNzaW9ucywgaW50cmluc2ljcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzWyRpbnRyaW5zaWNzXSA9IGludHJpbnNpY3M7XG4gICAgICAgIGNvbnN0IGZpcnN0RXhwcmVzc2lvbiA9IGV4cHJlc3Npb25zWzBdO1xuICAgICAgICBjb25zdCB0ZXJtcyA9IGZpcnN0RXhwcmVzc2lvbiAhPSBudWxsID8gZmlyc3RFeHByZXNzaW9uLnRlcm1zIDogW107XG4gICAgICAgIHRoaXNbJGV2YWx1YXRhYmxlc10gPVxuICAgICAgICAgICAgaW50cmluc2ljcy5iYXNpcy5tYXAoKGJhc2lzTm9kZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtID0gdGVybXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICh0ZXJtID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2lkZW50JywgdmFsdWU6ICdhdXRvJyB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGVybS50eXBlID09PSAnaWRlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXJtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRXZhbHVhdG9yLmV2YWx1YXRhYmxlRm9yKHRlcm0sIGJhc2lzTm9kZSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzQ29uc3RhbnQoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZXZhbHVhdGFibGUgb2YgdGhpc1skZXZhbHVhdGFibGVzXSkge1xuICAgICAgICAgICAgaWYgKCFFdmFsdWF0b3IuaXNDb25zdGFudChldmFsdWF0YWJsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFskZXZhbHVhdGVdKCkge1xuICAgICAgICBjb25zdCBldmFsdWF0ZWQgPSB0aGlzWyRldmFsdWF0YWJsZXNdLm1hcChldmFsdWF0YWJsZSA9PiBFdmFsdWF0b3IuZXZhbHVhdGUoZXZhbHVhdGFibGUpKTtcbiAgICAgICAgcmV0dXJuIEV2YWx1YXRvci5hcHBseUludHJpbnNpY3MoZXZhbHVhdGVkLCB0aGlzWyRpbnRyaW5zaWNzXSlcbiAgICAgICAgICAgIC5tYXAobnVtYmVyTm9kZSA9PiBudW1iZXJOb2RlLm51bWJlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZhbHVhdG9ycy5qcy5tYXAiXSwibmFtZXMiOlsiX2EiLCJfYiIsIl9jIiwibm9ybWFsaXplVW5pdCIsIm51bWJlck5vZGUiLCJaRVJPIiwiJGV2YWx1YXRlIiwiU3ltYm9sIiwiJGxhc3RWYWx1ZSIsIkV2YWx1YXRvciIsImNvbnN0cnVjdG9yIiwiZXZhbHVhdGFibGVGb3IiLCJub2RlIiwiYmFzaXMiLCJ0eXBlIiwidW5pdCIsIlBlcmNlbnRhZ2VFdmFsdWF0b3IiLCJuYW1lIiwidmFsdWUiLCJDYWxjRXZhbHVhdG9yIiwiRW52RXZhbHVhdG9yIiwiZXZhbHVhdGUiLCJldmFsdWF0YWJsZSIsImlzQ29uc3RhbnQiLCJhcHBseUludHJpbnNpY3MiLCJldmFsdWF0ZWQiLCJpbnRyaW5zaWNzIiwia2V5d29yZHMiLCJhdXRvIiwibWFwIiwiYmFzaXNOb2RlIiwiaW5kZXgiLCJhdXRvU3Vic3RpdHV0ZU5vZGUiLCJldmFsdWF0ZWROb2RlIiwia2V5d29yZCIsIm51bWJlciIsIiRwZXJjZW50YWdlIiwiJGJhc2lzIiwicGVyY2VudGFnZSIsIiRpZGVudE5vZGUiLCJlbnZGdW5jdGlvbiIsImlkZW50Tm9kZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInRlcm1zIiwidmVydGljYWxTY3JvbGxQb3NpdGlvbiIsIndpbmRvdyIsInBhZ2VZT2Zmc2V0IiwidmVydGljYWxTY3JvbGxNYXgiLCJNYXRoIiwibWF4IiwiZG9jdW1lbnQiLCJib2R5Iiwic2Nyb2xsSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0Iiwic2Nyb2xsWSIsImlubmVySGVpZ2h0IiwiSVNfTVVMVElQTElDQVRJT05fUkUiLCIkZXZhbHVhdG9yIiwiY2FsY0Z1bmN0aW9uIiwic2xpY2UiLCJzZWNvbmRPcmRlclRlcm1zIiwidGVybSIsInNoaWZ0IiwicHJldmlvdXNUZXJtIiwidGVzdCIsIm9wZXJhdG9yIiwicG9wIiwibGVmdFZhbHVlIiwicHVzaCIsIk9wZXJhdG9yRXZhbHVhdG9yIiwibGVmdCIsInJpZ2h0Iiwic3BsaWNlIiwidW5zaGlmdCIsIiRvcGVyYXRvciIsIiRsZWZ0IiwiJHJpZ2h0IiwibGVmdE5vZGUiLCJyaWdodE5vZGUiLCJsZWZ0VW5pdCIsInJpZ2h0VmFsdWUiLCJyaWdodFVuaXQiLCIkZXZhbHVhdGFibGVzIiwiJGludHJpbnNpY3MiLCJTdHlsZUV2YWx1YXRvciIsImV4cHJlc3Npb25zIiwiZmlyc3RFeHByZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/evaluators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/parsers.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ASTWalker: () => (/* binding */ ASTWalker),\n/* harmony export */   ZERO: () => (/* binding */ ZERO),\n/* harmony export */   numberNode: () => (/* binding */ numberNode),\n/* harmony export */   parseExpressions: () => (/* binding */ parseExpressions)\n/* harmony export */ });\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const numberNode = (value, unit)=>({\n        type: \"number\",\n        number: value,\n        unit\n    });\n/**\n * Given a string representing a comma-separated set of CSS-like expressions,\n * parses and returns an array of ASTs that correspond to those expressions.\n *\n * Currently supported syntax includes:\n *\n *  - functions (top-level and nested)\n *  - calc() arithmetic operators\n *  - numbers with units\n *  - hexadecimal-encoded colors in 3, 6 or 8 digit form\n *  - idents\n *\n * All syntax is intended to match the parsing rules and semantics of the actual\n * CSS spec as closely as possible.\n *\n * @see https://www.w3.org/TR/CSS2/\n * @see https://www.w3.org/TR/css-values-3/\n */ const parseExpressions = (()=>{\n    const cache = {};\n    const MAX_PARSE_ITERATIONS = 1000; // Arbitrarily large\n    return (inputString)=>{\n        const cacheKey = inputString;\n        if (cacheKey in cache) {\n            return cache[cacheKey];\n        }\n        const expressions = [];\n        let parseIterations = 0;\n        while(inputString){\n            if (++parseIterations > MAX_PARSE_ITERATIONS) {\n                // Avoid a potentially infinite loop due to typos:\n                inputString = \"\";\n                break;\n            }\n            const expressionParseResult = parseExpression(inputString);\n            const expression = expressionParseResult.nodes[0];\n            if (expression == null || expression.terms.length === 0) {\n                break;\n            }\n            expressions.push(expression);\n            inputString = expressionParseResult.remainingInput;\n        }\n        return cache[cacheKey] = expressions;\n    };\n})();\n/**\n * Parse a single expression. For the purposes of our supported syntax, an\n * expression is the set of semantically meaningful terms that appear before the\n * next comma, or between the parens of a function invocation.\n */ const parseExpression = (()=>{\n    const IS_IDENT_RE = /^(\\-\\-|[a-z\\u0240-\\uffff])/i;\n    const IS_OPERATOR_RE = /^([\\*\\+\\/]|[\\-]\\s)/i;\n    const IS_EXPRESSION_END_RE = /^[\\),]/;\n    const FUNCTION_ARGUMENTS_FIRST_TOKEN = \"(\";\n    const HEX_FIRST_TOKEN = \"#\";\n    return (inputString)=>{\n        const terms = [];\n        while(inputString.length){\n            inputString = inputString.trim();\n            if (IS_EXPRESSION_END_RE.test(inputString)) {\n                break;\n            } else if (inputString[0] === FUNCTION_ARGUMENTS_FIRST_TOKEN) {\n                const { nodes, remainingInput } = parseFunctionArguments(inputString);\n                inputString = remainingInput;\n                terms.push({\n                    type: \"function\",\n                    name: {\n                        type: \"ident\",\n                        value: \"calc\"\n                    },\n                    arguments: nodes\n                });\n            } else if (IS_IDENT_RE.test(inputString)) {\n                const identParseResult = parseIdent(inputString);\n                const identNode = identParseResult.nodes[0];\n                inputString = identParseResult.remainingInput;\n                if (inputString[0] === FUNCTION_ARGUMENTS_FIRST_TOKEN) {\n                    const { nodes, remainingInput } = parseFunctionArguments(inputString);\n                    terms.push({\n                        type: \"function\",\n                        name: identNode,\n                        arguments: nodes\n                    });\n                    inputString = remainingInput;\n                } else {\n                    terms.push(identNode);\n                }\n            } else if (IS_OPERATOR_RE.test(inputString)) {\n                // Operators are always a single character, so just pluck them out:\n                terms.push({\n                    type: \"operator\",\n                    value: inputString[0]\n                });\n                inputString = inputString.slice(1);\n            } else {\n                const { nodes, remainingInput } = inputString[0] === HEX_FIRST_TOKEN ? parseHex(inputString) : parseNumber(inputString);\n                // The remaining string may not have had any meaningful content. Exit\n                // early if this is the case:\n                if (nodes.length === 0) {\n                    break;\n                }\n                terms.push(nodes[0]);\n                inputString = remainingInput;\n            }\n        }\n        return {\n            nodes: [\n                {\n                    type: \"expression\",\n                    terms\n                }\n            ],\n            remainingInput: inputString\n        };\n    };\n})();\n/**\n * An ident is something like a function name or the keyword \"auto\".\n */ const parseIdent = (()=>{\n    const NOT_IDENT_RE = /[^a-z0-9_\\-\\u0240-\\uffff]/i;\n    return (inputString)=>{\n        const match = inputString.match(NOT_IDENT_RE);\n        const ident = match == null ? inputString : inputString.substr(0, match.index);\n        const remainingInput = match == null ? \"\" : inputString.substr(match.index);\n        return {\n            nodes: [\n                {\n                    type: \"ident\",\n                    value: ident\n                }\n            ],\n            remainingInput\n        };\n    };\n})();\n/**\n * Parses a number. A number value can be expressed with an integer or\n * non-integer syntax, and usually includes a unit (but does not strictly\n * require one for our purposes).\n */ const parseNumber = (()=>{\n    // @see https://www.w3.org/TR/css-syntax/#number-token-diagram\n    const VALUE_RE = /[\\+\\-]?(\\d+[\\.]\\d+|\\d+|[\\.]\\d+)([eE][\\+\\-]?\\d+)?/;\n    const UNIT_RE = /^[a-z%]+/i;\n    const ALLOWED_UNITS = /^(m|mm|cm|rad|deg|[%])$/;\n    return (inputString)=>{\n        const valueMatch = inputString.match(VALUE_RE);\n        const value = valueMatch == null ? \"0\" : valueMatch[0];\n        inputString = value == null ? inputString : inputString.slice(value.length);\n        const unitMatch = inputString.match(UNIT_RE);\n        let unit = unitMatch != null && unitMatch[0] !== \"\" ? unitMatch[0] : null;\n        const remainingInput = unitMatch == null ? inputString : inputString.slice(unit.length);\n        if (unit != null && !ALLOWED_UNITS.test(unit)) {\n            unit = null;\n        }\n        return {\n            nodes: [\n                {\n                    type: \"number\",\n                    number: parseFloat(value) || 0,\n                    unit: unit\n                }\n            ],\n            remainingInput\n        };\n    };\n})();\n/**\n * Parses a hexadecimal-encoded color in 3, 6 or 8 digit form.\n */ const parseHex = (()=>{\n    // TODO(cdata): right now we don't actually enforce the number of digits\n    const HEX_RE = /^[a-f0-9]*/i;\n    return (inputString)=>{\n        inputString = inputString.slice(1).trim();\n        const hexMatch = inputString.match(HEX_RE);\n        const nodes = hexMatch == null ? [] : [\n            {\n                type: \"hex\",\n                value: hexMatch[0]\n            }\n        ];\n        return {\n            nodes,\n            remainingInput: hexMatch == null ? inputString : inputString.slice(hexMatch[0].length)\n        };\n    };\n})();\n/**\n * Parses arguments passed to a function invocation (e.g., the expressions\n * within a matched set of parens).\n */ const parseFunctionArguments = (inputString)=>{\n    const expressionNodes = [];\n    // Consume the opening paren\n    inputString = inputString.slice(1).trim();\n    while(inputString.length){\n        const expressionParseResult = parseExpression(inputString);\n        expressionNodes.push(expressionParseResult.nodes[0]);\n        inputString = expressionParseResult.remainingInput.trim();\n        if (inputString[0] === \",\") {\n            inputString = inputString.slice(1).trim();\n        } else if (inputString[0] === \")\") {\n            // Consume the closing paren and stop parsing\n            inputString = inputString.slice(1);\n            break;\n        }\n    }\n    return {\n        nodes: expressionNodes,\n        remainingInput: inputString\n    };\n};\nconst $visitedTypes = Symbol(\"visitedTypes\");\n/**\n * An ASTWalker walks an array of ASTs such as the type produced by\n * parseExpressions and invokes a callback for a configured set of nodes that\n * the user wishes to \"visit\" during the walk.\n */ class ASTWalker {\n    constructor(visitedTypes){\n        this[$visitedTypes] = visitedTypes;\n    }\n    /**\n     * Walk the given set of ASTs, and invoke the provided callback for nodes that\n     * match the filtered set that the ASTWalker was constructed with.\n     */ walk(ast, callback) {\n        const remaining = ast.slice();\n        while(remaining.length){\n            const next = remaining.shift();\n            if (this[$visitedTypes].indexOf(next.type) > -1) {\n                callback(next);\n            }\n            switch(next.type){\n                case \"expression\":\n                    remaining.unshift(...next.terms);\n                    break;\n                case \"function\":\n                    remaining.unshift(next.name, ...next.arguments);\n                    break;\n            }\n        }\n    }\n}\nconst ZERO = Object.freeze({\n    type: \"number\",\n    number: 0,\n    unit: null\n}); //# sourceMappingURL=parsers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9wYXJzZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQ00sTUFBTUEsYUFBYSxDQUFDQyxPQUFPQyxPQUFVO1FBQUVDLE1BQU07UUFBVUMsUUFBUUg7UUFBT0M7SUFBSyxHQUFHO0FBQ3JGOzs7Ozs7Ozs7Ozs7Ozs7OztDQWlCQyxHQUNNLE1BQU1HLG1CQUFtQixDQUFDO0lBQzdCLE1BQU1DLFFBQVEsQ0FBQztJQUNmLE1BQU1DLHVCQUF1QixNQUFNLG9CQUFvQjtJQUN2RCxPQUFPLENBQUNDO1FBQ0osTUFBTUMsV0FBV0Q7UUFDakIsSUFBSUMsWUFBWUgsT0FBTztZQUNuQixPQUFPQSxLQUFLLENBQUNHLFNBQVM7UUFDMUI7UUFDQSxNQUFNQyxjQUFjLEVBQUU7UUFDdEIsSUFBSUMsa0JBQWtCO1FBQ3RCLE1BQU9ILFlBQWE7WUFDaEIsSUFBSSxFQUFFRyxrQkFBa0JKLHNCQUFzQjtnQkFDMUMsa0RBQWtEO2dCQUNsREMsY0FBYztnQkFDZDtZQUNKO1lBQ0EsTUFBTUksd0JBQXdCQyxnQkFBZ0JMO1lBQzlDLE1BQU1NLGFBQWFGLHNCQUFzQkcsS0FBSyxDQUFDLEVBQUU7WUFDakQsSUFBSUQsY0FBYyxRQUFRQSxXQUFXRSxLQUFLLENBQUNDLE1BQU0sS0FBSyxHQUFHO2dCQUNyRDtZQUNKO1lBQ0FQLFlBQVlRLElBQUksQ0FBQ0o7WUFDakJOLGNBQWNJLHNCQUFzQk8sY0FBYztRQUN0RDtRQUNBLE9BQU9iLEtBQUssQ0FBQ0csU0FBUyxHQUFHQztJQUM3QjtBQUNKLEtBQUs7QUFDTDs7OztDQUlDLEdBQ0QsTUFBTUcsa0JBQWtCLENBQUM7SUFDckIsTUFBTU8sY0FBYztJQUNwQixNQUFNQyxpQkFBaUI7SUFDdkIsTUFBTUMsdUJBQXVCO0lBQzdCLE1BQU1DLGlDQUFpQztJQUN2QyxNQUFNQyxrQkFBa0I7SUFDeEIsT0FBTyxD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QUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9wYXJzZXJzLmpzPzM1MDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGNvbnN0IG51bWJlck5vZGUgPSAodmFsdWUsIHVuaXQpID0+ICh7IHR5cGU6ICdudW1iZXInLCBudW1iZXI6IHZhbHVlLCB1bml0IH0pO1xuLyoqXG4gKiBHaXZlbiBhIHN0cmluZyByZXByZXNlbnRpbmcgYSBjb21tYS1zZXBhcmF0ZWQgc2V0IG9mIENTUy1saWtlIGV4cHJlc3Npb25zLFxuICogcGFyc2VzIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIEFTVHMgdGhhdCBjb3JyZXNwb25kIHRvIHRob3NlIGV4cHJlc3Npb25zLlxuICpcbiAqIEN1cnJlbnRseSBzdXBwb3J0ZWQgc3ludGF4IGluY2x1ZGVzOlxuICpcbiAqICAtIGZ1bmN0aW9ucyAodG9wLWxldmVsIGFuZCBuZXN0ZWQpXG4gKiAgLSBjYWxjKCkgYXJpdGhtZXRpYyBvcGVyYXRvcnNcbiAqICAtIG51bWJlcnMgd2l0aCB1bml0c1xuICogIC0gaGV4YWRlY2ltYWwtZW5jb2RlZCBjb2xvcnMgaW4gMywgNiBvciA4IGRpZ2l0IGZvcm1cbiAqICAtIGlkZW50c1xuICpcbiAqIEFsbCBzeW50YXggaXMgaW50ZW5kZWQgdG8gbWF0Y2ggdGhlIHBhcnNpbmcgcnVsZXMgYW5kIHNlbWFudGljcyBvZiB0aGUgYWN0dWFsXG4gKiBDU1Mgc3BlYyBhcyBjbG9zZWx5IGFzIHBvc3NpYmxlLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL0NTUzIvXG4gKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MtdmFsdWVzLTMvXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJzZUV4cHJlc3Npb25zID0gKCgpID0+IHtcbiAgICBjb25zdCBjYWNoZSA9IHt9O1xuICAgIGNvbnN0IE1BWF9QQVJTRV9JVEVSQVRJT05TID0gMTAwMDsgLy8gQXJiaXRyYXJpbHkgbGFyZ2VcbiAgICByZXR1cm4gKGlucHV0U3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gaW5wdXRTdHJpbmc7XG4gICAgICAgIGlmIChjYWNoZUtleSBpbiBjYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2NhY2hlS2V5XTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHByZXNzaW9ucyA9IFtdO1xuICAgICAgICBsZXQgcGFyc2VJdGVyYXRpb25zID0gMDtcbiAgICAgICAgd2hpbGUgKGlucHV0U3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAoKytwYXJzZUl0ZXJhdGlvbnMgPiBNQVhfUEFSU0VfSVRFUkFUSU9OUykge1xuICAgICAgICAgICAgICAgIC8vIEF2b2lkIGEgcG90ZW50aWFsbHkgaW5maW5pdGUgbG9vcCBkdWUgdG8gdHlwb3M6XG4gICAgICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb25QYXJzZVJlc3VsdCA9IHBhcnNlRXhwcmVzc2lvbihpbnB1dFN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBleHByZXNzaW9uID0gZXhwcmVzc2lvblBhcnNlUmVzdWx0Lm5vZGVzWzBdO1xuICAgICAgICAgICAgaWYgKGV4cHJlc3Npb24gPT0gbnVsbCB8fCBleHByZXNzaW9uLnRlcm1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChleHByZXNzaW9uKTtcbiAgICAgICAgICAgIGlucHV0U3RyaW5nID0gZXhwcmVzc2lvblBhcnNlUmVzdWx0LnJlbWFpbmluZ0lucHV0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZVtjYWNoZUtleV0gPSBleHByZXNzaW9ucztcbiAgICB9O1xufSkoKTtcbi8qKlxuICogUGFyc2UgYSBzaW5nbGUgZXhwcmVzc2lvbi4gRm9yIHRoZSBwdXJwb3NlcyBvZiBvdXIgc3VwcG9ydGVkIHN5bnRheCwgYW5cbiAqIGV4cHJlc3Npb24gaXMgdGhlIHNldCBvZiBzZW1hbnRpY2FsbHkgbWVhbmluZ2Z1bCB0ZXJtcyB0aGF0IGFwcGVhciBiZWZvcmUgdGhlXG4gKiBuZXh0IGNvbW1hLCBvciBiZXR3ZWVuIHRoZSBwYXJlbnMgb2YgYSBmdW5jdGlvbiBpbnZvY2F0aW9uLlxuICovXG5jb25zdCBwYXJzZUV4cHJlc3Npb24gPSAoKCkgPT4ge1xuICAgIGNvbnN0IElTX0lERU5UX1JFID0gL14oXFwtXFwtfFthLXpcXHUwMjQwLVxcdWZmZmZdKS9pO1xuICAgIGNvbnN0IElTX09QRVJBVE9SX1JFID0gL14oW1xcKlxcK1xcL118W1xcLV1cXHMpL2k7XG4gICAgY29uc3QgSVNfRVhQUkVTU0lPTl9FTkRfUkUgPSAvXltcXCksXS87XG4gICAgY29uc3QgRlVOQ1RJT05fQVJHVU1FTlRTX0ZJUlNUX1RPS0VOID0gJygnO1xuICAgIGNvbnN0IEhFWF9GSVJTVF9UT0tFTiA9ICcjJztcbiAgICByZXR1cm4gKGlucHV0U3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlcm1zID0gW107XG4gICAgICAgIHdoaWxlIChpbnB1dFN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlucHV0U3RyaW5nID0gaW5wdXRTdHJpbmcudHJpbSgpO1xuICAgICAgICAgICAgaWYgKElTX0VYUFJFU1NJT05fRU5EX1JFLnRlc3QoaW5wdXRTdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbnB1dFN0cmluZ1swXSA9PT0gRlVOQ1RJT05fQVJHVU1FTlRTX0ZJUlNUX1RPS0VOKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBub2RlcywgcmVtYWluaW5nSW5wdXQgfSA9IHBhcnNlRnVuY3Rpb25Bcmd1bWVudHMoaW5wdXRTdHJpbmcpO1xuICAgICAgICAgICAgICAgIGlucHV0U3RyaW5nID0gcmVtYWluaW5nSW5wdXQ7XG4gICAgICAgICAgICAgICAgdGVybXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHsgdHlwZTogJ2lkZW50JywgdmFsdWU6ICdjYWxjJyB9LFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IG5vZGVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChJU19JREVOVF9SRS50ZXN0KGlucHV0U3RyaW5nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkZW50UGFyc2VSZXN1bHQgPSBwYXJzZUlkZW50KGlucHV0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZGVudE5vZGUgPSBpZGVudFBhcnNlUmVzdWx0Lm5vZGVzWzBdO1xuICAgICAgICAgICAgICAgIGlucHV0U3RyaW5nID0gaWRlbnRQYXJzZVJlc3VsdC5yZW1haW5pbmdJbnB1dDtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRTdHJpbmdbMF0gPT09IEZVTkNUSU9OX0FSR1VNRU5UU19GSVJTVF9UT0tFTikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5vZGVzLCByZW1haW5pbmdJbnB1dCB9ID0gcGFyc2VGdW5jdGlvbkFyZ3VtZW50cyhpbnB1dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2goeyB0eXBlOiAnZnVuY3Rpb24nLCBuYW1lOiBpZGVudE5vZGUsIGFyZ3VtZW50czogbm9kZXMgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0U3RyaW5nID0gcmVtYWluaW5nSW5wdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKGlkZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoSVNfT1BFUkFUT1JfUkUudGVzdChpbnB1dFN0cmluZykpIHtcbiAgICAgICAgICAgICAgICAvLyBPcGVyYXRvcnMgYXJlIGFsd2F5cyBhIHNpbmdsZSBjaGFyYWN0ZXIsIHNvIGp1c3QgcGx1Y2sgdGhlbSBvdXQ6XG4gICAgICAgICAgICAgICAgdGVybXMucHVzaCh7IHR5cGU6ICdvcGVyYXRvcicsIHZhbHVlOiBpbnB1dFN0cmluZ1swXSB9KTtcbiAgICAgICAgICAgICAgICBpbnB1dFN0cmluZyA9IGlucHV0U3RyaW5nLnNsaWNlKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBub2RlcywgcmVtYWluaW5nSW5wdXQgfSA9IGlucHV0U3RyaW5nWzBdID09PSBIRVhfRklSU1RfVE9LRU4gP1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUhleChpbnB1dFN0cmluZykgOlxuICAgICAgICAgICAgICAgICAgICBwYXJzZU51bWJlcihpbnB1dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHJlbWFpbmluZyBzdHJpbmcgbWF5IG5vdCBoYXZlIGhhZCBhbnkgbWVhbmluZ2Z1bCBjb250ZW50LiBFeGl0XG4gICAgICAgICAgICAgICAgLy8gZWFybHkgaWYgdGhpcyBpcyB0aGUgY2FzZTpcbiAgICAgICAgICAgICAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKG5vZGVzWzBdKTtcbiAgICAgICAgICAgICAgICBpbnB1dFN0cmluZyA9IHJlbWFpbmluZ0lucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG5vZGVzOiBbeyB0eXBlOiAnZXhwcmVzc2lvbicsIHRlcm1zIH1dLCByZW1haW5pbmdJbnB1dDogaW5wdXRTdHJpbmcgfTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQW4gaWRlbnQgaXMgc29tZXRoaW5nIGxpa2UgYSBmdW5jdGlvbiBuYW1lIG9yIHRoZSBrZXl3b3JkIFwiYXV0b1wiLlxuICovXG5jb25zdCBwYXJzZUlkZW50ID0gKCgpID0+IHtcbiAgICBjb25zdCBOT1RfSURFTlRfUkUgPSAvW15hLXowLTlfXFwtXFx1MDI0MC1cXHVmZmZmXS9pO1xuICAgIHJldHVybiAoaW5wdXRTdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBpbnB1dFN0cmluZy5tYXRjaChOT1RfSURFTlRfUkUpO1xuICAgICAgICBjb25zdCBpZGVudCA9IG1hdGNoID09IG51bGwgPyBpbnB1dFN0cmluZyA6IGlucHV0U3RyaW5nLnN1YnN0cigwLCBtYXRjaC5pbmRleCk7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ0lucHV0ID0gbWF0Y2ggPT0gbnVsbCA/ICcnIDogaW5wdXRTdHJpbmcuc3Vic3RyKG1hdGNoLmluZGV4KTtcbiAgICAgICAgcmV0dXJuIHsgbm9kZXM6IFt7IHR5cGU6ICdpZGVudCcsIHZhbHVlOiBpZGVudCB9XSwgcmVtYWluaW5nSW5wdXQgfTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogUGFyc2VzIGEgbnVtYmVyLiBBIG51bWJlciB2YWx1ZSBjYW4gYmUgZXhwcmVzc2VkIHdpdGggYW4gaW50ZWdlciBvclxuICogbm9uLWludGVnZXIgc3ludGF4LCBhbmQgdXN1YWxseSBpbmNsdWRlcyBhIHVuaXQgKGJ1dCBkb2VzIG5vdCBzdHJpY3RseVxuICogcmVxdWlyZSBvbmUgZm9yIG91ciBwdXJwb3NlcykuXG4gKi9cbmNvbnN0IHBhcnNlTnVtYmVyID0gKCgpID0+IHtcbiAgICAvLyBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LyNudW1iZXItdG9rZW4tZGlhZ3JhbVxuICAgIGNvbnN0IFZBTFVFX1JFID0gL1tcXCtcXC1dPyhcXGQrW1xcLl1cXGQrfFxcZCt8W1xcLl1cXGQrKShbZUVdW1xcK1xcLV0/XFxkKyk/LztcbiAgICBjb25zdCBVTklUX1JFID0gL15bYS16JV0rL2k7XG4gICAgY29uc3QgQUxMT1dFRF9VTklUUyA9IC9eKG18bW18Y218cmFkfGRlZ3xbJV0pJC87XG4gICAgcmV0dXJuIChpbnB1dFN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZU1hdGNoID0gaW5wdXRTdHJpbmcubWF0Y2goVkFMVUVfUkUpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlTWF0Y2ggPT0gbnVsbCA/ICcwJyA6IHZhbHVlTWF0Y2hbMF07XG4gICAgICAgIGlucHV0U3RyaW5nID0gdmFsdWUgPT0gbnVsbCA/IGlucHV0U3RyaW5nIDogaW5wdXRTdHJpbmcuc2xpY2UodmFsdWUubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgdW5pdE1hdGNoID0gaW5wdXRTdHJpbmcubWF0Y2goVU5JVF9SRSk7XG4gICAgICAgIGxldCB1bml0ID0gdW5pdE1hdGNoICE9IG51bGwgJiYgdW5pdE1hdGNoWzBdICE9PSAnJyA/IHVuaXRNYXRjaFswXSA6IG51bGw7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ0lucHV0ID0gdW5pdE1hdGNoID09IG51bGwgPyBpbnB1dFN0cmluZyA6IGlucHV0U3RyaW5nLnNsaWNlKHVuaXQubGVuZ3RoKTtcbiAgICAgICAgaWYgKHVuaXQgIT0gbnVsbCAmJiAhQUxMT1dFRF9VTklUUy50ZXN0KHVuaXQpKSB7XG4gICAgICAgICAgICB1bml0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9kZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IHBhcnNlRmxvYXQodmFsdWUpIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgIHVuaXQ6IHVuaXRcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIHJlbWFpbmluZ0lucHV0XG4gICAgICAgIH07XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIFBhcnNlcyBhIGhleGFkZWNpbWFsLWVuY29kZWQgY29sb3IgaW4gMywgNiBvciA4IGRpZ2l0IGZvcm0uXG4gKi9cbmNvbnN0IHBhcnNlSGV4ID0gKCgpID0+IHtcbiAgICAvLyBUT0RPKGNkYXRhKTogcmlnaHQgbm93IHdlIGRvbid0IGFjdHVhbGx5IGVuZm9yY2UgdGhlIG51bWJlciBvZiBkaWdpdHNcbiAgICBjb25zdCBIRVhfUkUgPSAvXlthLWYwLTldKi9pO1xuICAgIHJldHVybiAoaW5wdXRTdHJpbmcpID0+IHtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSBpbnB1dFN0cmluZy5zbGljZSgxKS50cmltKCk7XG4gICAgICAgIGNvbnN0IGhleE1hdGNoID0gaW5wdXRTdHJpbmcubWF0Y2goSEVYX1JFKTtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSBoZXhNYXRjaCA9PSBudWxsID8gW10gOiBbeyB0eXBlOiAnaGV4JywgdmFsdWU6IGhleE1hdGNoWzBdIH1dO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9kZXMsXG4gICAgICAgICAgICByZW1haW5pbmdJbnB1dDogaGV4TWF0Y2ggPT0gbnVsbCA/IGlucHV0U3RyaW5nIDpcbiAgICAgICAgICAgICAgICBpbnB1dFN0cmluZy5zbGljZShoZXhNYXRjaFswXS5sZW5ndGgpXG4gICAgICAgIH07XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIFBhcnNlcyBhcmd1bWVudHMgcGFzc2VkIHRvIGEgZnVuY3Rpb24gaW52b2NhdGlvbiAoZS5nLiwgdGhlIGV4cHJlc3Npb25zXG4gKiB3aXRoaW4gYSBtYXRjaGVkIHNldCBvZiBwYXJlbnMpLlxuICovXG5jb25zdCBwYXJzZUZ1bmN0aW9uQXJndW1lbnRzID0gKGlucHV0U3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZXhwcmVzc2lvbk5vZGVzID0gW107XG4gICAgLy8gQ29uc3VtZSB0aGUgb3BlbmluZyBwYXJlblxuICAgIGlucHV0U3RyaW5nID0gaW5wdXRTdHJpbmcuc2xpY2UoMSkudHJpbSgpO1xuICAgIHdoaWxlIChpbnB1dFN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvblBhcnNlUmVzdWx0ID0gcGFyc2VFeHByZXNzaW9uKGlucHV0U3RyaW5nKTtcbiAgICAgICAgZXhwcmVzc2lvbk5vZGVzLnB1c2goZXhwcmVzc2lvblBhcnNlUmVzdWx0Lm5vZGVzWzBdKTtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSBleHByZXNzaW9uUGFyc2VSZXN1bHQucmVtYWluaW5nSW5wdXQudHJpbSgpO1xuICAgICAgICBpZiAoaW5wdXRTdHJpbmdbMF0gPT09ICcsJykge1xuICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSBpbnB1dFN0cmluZy5zbGljZSgxKS50cmltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5wdXRTdHJpbmdbMF0gPT09ICcpJykge1xuICAgICAgICAgICAgLy8gQ29uc3VtZSB0aGUgY2xvc2luZyBwYXJlbiBhbmQgc3RvcCBwYXJzaW5nXG4gICAgICAgICAgICBpbnB1dFN0cmluZyA9IGlucHV0U3RyaW5nLnNsaWNlKDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbm9kZXM6IGV4cHJlc3Npb25Ob2RlcywgcmVtYWluaW5nSW5wdXQ6IGlucHV0U3RyaW5nIH07XG59O1xuY29uc3QgJHZpc2l0ZWRUeXBlcyA9IFN5bWJvbCgndmlzaXRlZFR5cGVzJyk7XG4vKipcbiAqIEFuIEFTVFdhbGtlciB3YWxrcyBhbiBhcnJheSBvZiBBU1RzIHN1Y2ggYXMgdGhlIHR5cGUgcHJvZHVjZWQgYnlcbiAqIHBhcnNlRXhwcmVzc2lvbnMgYW5kIGludm9rZXMgYSBjYWxsYmFjayBmb3IgYSBjb25maWd1cmVkIHNldCBvZiBub2RlcyB0aGF0XG4gKiB0aGUgdXNlciB3aXNoZXMgdG8gXCJ2aXNpdFwiIGR1cmluZyB0aGUgd2Fsay5cbiAqL1xuZXhwb3J0IGNsYXNzIEFTVFdhbGtlciB7XG4gICAgY29uc3RydWN0b3IodmlzaXRlZFR5cGVzKSB7XG4gICAgICAgIHRoaXNbJHZpc2l0ZWRUeXBlc10gPSB2aXNpdGVkVHlwZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhbGsgdGhlIGdpdmVuIHNldCBvZiBBU1RzLCBhbmQgaW52b2tlIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmb3Igbm9kZXMgdGhhdFxuICAgICAqIG1hdGNoIHRoZSBmaWx0ZXJlZCBzZXQgdGhhdCB0aGUgQVNUV2Fsa2VyIHdhcyBjb25zdHJ1Y3RlZCB3aXRoLlxuICAgICAqL1xuICAgIHdhbGsoYXN0LCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCByZW1haW5pbmcgPSBhc3Quc2xpY2UoKTtcbiAgICAgICAgd2hpbGUgKHJlbWFpbmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSByZW1haW5pbmcuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzWyR2aXNpdGVkVHlwZXNdLmluZGV4T2YobmV4dC50eXBlKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKG5leHQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2V4cHJlc3Npb24nOlxuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmcudW5zaGlmdCguLi5uZXh0LnRlcm1zKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmcudW5zaGlmdChuZXh0Lm5hbWUsIC4uLm5leHQuYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY29uc3QgWkVSTyA9IE9iamVjdC5mcmVlemUoeyB0eXBlOiAnbnVtYmVyJywgbnVtYmVyOiAwLCB1bml0OiBudWxsIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2Vycy5qcy5tYXAiXSwibmFtZXMiOlsibnVtYmVyTm9kZSIsInZhbHVlIiwidW5pdCIsInR5cGUiLCJudW1iZXIiLCJwYXJzZUV4cHJlc3Npb25zIiwiY2FjaGUiLCJNQVhfUEFSU0VfSVRFUkFUSU9OUyIsImlucHV0U3RyaW5nIiwiY2FjaGVLZXkiLCJleHByZXNzaW9ucyIsInBhcnNlSXRlcmF0aW9ucyIsImV4cHJlc3Npb25QYXJzZVJlc3VsdCIsInBhcnNlRXhwcmVzc2lvbiIsImV4cHJlc3Npb24iLCJub2RlcyIsInRlcm1zIiwibGVuZ3RoIiwicHVzaCIsInJlbWFpbmluZ0lucHV0IiwiSVNfSURFTlRfUkUiLCJJU19PUEVSQVRPUl9SRSIsIklTX0VYUFJFU1NJT05fRU5EX1JFIiwiRlVOQ1RJT05fQVJHVU1FTlRTX0ZJUlNUX1RPS0VOIiwiSEVYX0ZJUlNUX1RPS0VOIiwidHJpbSIsInRlc3QiLCJwYXJzZUZ1bmN0aW9uQXJndW1lbnRzIiwibmFtZSIsImFyZ3VtZW50cyIsImlkZW50UGFyc2VSZXN1bHQiLCJwYXJzZUlkZW50IiwiaWRlbnROb2RlIiwic2xpY2UiLCJwYXJzZUhleCIsInBhcnNlTnVtYmVyIiwiTk9UX0lERU5UX1JFIiwibWF0Y2giLCJpZGVudCIsInN1YnN0ciIsImluZGV4IiwiVkFMVUVfUkUiLCJVTklUX1JFIiwiQUxMT1dFRF9VTklUUyIsInZhbHVlTWF0Y2giLCJ1bml0TWF0Y2giLCJwYXJzZUZsb2F0IiwiSEVYX1JFIiwiaGV4TWF0Y2giLCJleHByZXNzaW9uTm9kZXMiLCIkdmlzaXRlZFR5cGVzIiwiU3ltYm9sIiwiQVNUV2Fsa2VyIiwiY29uc3RydWN0b3IiLCJ2aXNpdGVkVHlwZXMiLCJ3YWxrIiwiYXN0IiwiY2FsbGJhY2siLCJyZW1haW5pbmciLCJuZXh0Iiwic2hpZnQiLCJpbmRleE9mIiwidW5zaGlmdCIsIlpFUk8iLCJPYmplY3QiLCJmcmVlemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/style-effector.js":
/*!************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/style-effector.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StyleEffector: () => (/* binding */ StyleEffector)\n/* harmony export */ });\n/* harmony import */ var _parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var _a, _b, _c, _d;\n\nconst $instances = Symbol(\"instances\");\nconst $activateListener = Symbol(\"activateListener\");\nconst $deactivateListener = Symbol(\"deactivateListener\");\nconst $notifyInstances = Symbol(\"notifyInstances\");\nconst $notify = Symbol(\"notify\");\nconst $scrollCallback = Symbol(\"callback\");\n/**\n * This internal helper is intended to work as a reference-counting manager of\n * scroll event listeners. Only one scroll listener is ever registered for all\n * instances of the class, and when the last ScrollObserver \"disconnects\", that\n * event listener is removed. This spares us from thrashing\n * the {add,remove}EventListener API (the binding cost of these methods has been\n * known to show up in performance analyses) as well as potential memory leaks.\n */ class ScrollObserver {\n    constructor(callback){\n        this[$scrollCallback] = callback;\n    }\n    static [$notifyInstances]() {\n        for (const instance of ScrollObserver[$instances]){\n            instance[$notify]();\n        }\n    }\n    static [(_a = $instances, $activateListener)]() {\n        window.addEventListener(\"scroll\", this[$notifyInstances], {\n            passive: true\n        });\n    }\n    static [$deactivateListener]() {\n        window.removeEventListener(\"scroll\", this[$notifyInstances]);\n    }\n    /**\n     * Listen for scroll events. The configured callback (passed to the\n     * constructor) will be invoked for subsequent global scroll events.\n     */ observe() {\n        if (ScrollObserver[$instances].size === 0) {\n            ScrollObserver[$activateListener]();\n        }\n        ScrollObserver[$instances].add(this);\n    }\n    /**\n     * Stop listening for scroll events.\n     */ disconnect() {\n        ScrollObserver[$instances].delete(this);\n        if (ScrollObserver[$instances].size === 0) {\n            ScrollObserver[$deactivateListener]();\n        }\n    }\n    [$notify]() {\n        this[$scrollCallback]();\n    }\n}\nScrollObserver[_a] = new Set();\nconst $computeStyleCallback = Symbol(\"computeStyleCallback\");\nconst $astWalker = Symbol(\"astWalker\");\nconst $dependencies = Symbol(\"dependencies\");\nconst $onScroll = Symbol(\"onScroll\");\n/**\n * The StyleEffector is configured with a callback that will be invoked at the\n * optimal time that some array of CSS expression ASTs ought to be evaluated.\n *\n * For example, our CSS-like expression syntax supports usage of the env()\n * function to incorporate the current top-level scroll position into a CSS\n * expression: env(window-scroll-y).\n *\n * This \"environment variable\" will change dynamically as the user scrolls the\n * page. If an AST contains such a usage of env(), we would have to evaluate the\n * AST on every frame in order to be sure that the computed style stays up to\n * date.\n *\n * The StyleEffector spares us from evaluating the expressions on every frame by\n * correlating specific parts of an AST with observers of the external effects\n * that they refer to (if any). So, if the AST contains env(window-scroll-y),\n * the StyleEffector manages the lifetime of a global scroll event listener and\n * notifies the user at the optimal time to evaluate the computed style.\n */ class StyleEffector {\n    constructor(callback){\n        this[_b] = {};\n        this[_c] = new _parsers__WEBPACK_IMPORTED_MODULE_0__.ASTWalker([\n            \"function\"\n        ]);\n        this[_d] = ()=>{\n            this[$computeStyleCallback]({\n                relatedState: \"window-scroll\"\n            });\n        };\n        this[$computeStyleCallback] = callback;\n    }\n    /**\n     * Sets the expressions that govern when the StyleEffector callback will be\n     * invoked.\n     */ observeEffectsFor(ast) {\n        const newDependencies = {};\n        const oldDependencies = this[$dependencies];\n        this[$astWalker].walk(ast, (functionNode)=>{\n            const { name } = functionNode;\n            const firstArgument = functionNode.arguments[0];\n            const firstTerm = firstArgument.terms[0];\n            if (name.value !== \"env\" || firstTerm == null || firstTerm.type !== \"ident\") {\n                return;\n            }\n            switch(firstTerm.value){\n                case \"window-scroll-y\":\n                    if (newDependencies[\"window-scroll\"] == null) {\n                        const observer = \"window-scroll\" in oldDependencies ? oldDependencies[\"window-scroll\"] : new ScrollObserver(this[$onScroll]);\n                        observer.observe();\n                        delete oldDependencies[\"window-scroll\"];\n                        newDependencies[\"window-scroll\"] = observer;\n                    }\n                    break;\n            }\n        });\n        for(const environmentState in oldDependencies){\n            const observer = oldDependencies[environmentState];\n            observer.disconnect();\n        }\n        this[$dependencies] = newDependencies;\n    }\n    /**\n     * Disposes of the StyleEffector by disconnecting all observers of external\n     * effects.\n     */ dispose() {\n        for(const environmentState in this[$dependencies]){\n            const observer = this[$dependencies][environmentState];\n            observer.disconnect();\n        }\n    }\n}\n_b = $dependencies, _c = $astWalker, _d = $onScroll; //# sourceMappingURL=style-effector.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9zdHlsZS1lZmZlY3Rvci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRCxJQUFJQSxJQUFJQyxJQUFJQyxJQUFJQztBQUNzQjtBQUN0QyxNQUFNRSxhQUFhQyxPQUFPO0FBQzFCLE1BQU1DLG9CQUFvQkQsT0FBTztBQUNqQyxNQUFNRSxzQkFBc0JGLE9BQU87QUFDbkMsTUFBTUcsbUJBQW1CSCxPQUFPO0FBQ2hDLE1BQU1JLFVBQVVKLE9BQU87QUFDdkIsTUFBTUssa0JBQWtCTCxPQUFPO0FBQy9COzs7Ozs7O0NBT0MsR0FDRCxNQUFNTTtJQUNGQyxZQUFZQyxRQUFRLENBQUU7UUFDbEIsSUFBSSxDQUFDSCxnQkFBZ0IsR0FBR0c7SUFDNUI7SUFDQSxPQUFPLENBQUNMLGlCQUFpQixHQUFHO1FBQ3hCLEtBQUssTUFBTU0sWUFBWUgsY0FBYyxDQUFDUCxXQUFXLENBQUU7WUFDL0NVLFFBQVEsQ0FBQ0wsUUFBUTtRQUNyQjtJQUNKO0lBQ0EsT0FBTyxDQUFFVixDQUFBQSxLQUFLSyxZQUFZRSxpQkFBZ0IsRUFBRyxHQUFHO1FBQzVDUyxPQUFPQyxnQkFBZ0IsQ0FBQyxVQUFVLElBQUksQ0FBQ1IsaUJBQWlCLEVBQUU7WUFBRVMsU0FBUztRQUFLO0lBQzlFO0lBQ0EsT0FBTyxDQUFDVixvQkFBb0IsR0FBRztRQUMzQlEsT0FBT0csbUJBQW1CLENBQUMsVUFBVSxJQUFJLENBQUNWLGlCQUFpQjtJQUMvRDtJQUNBOzs7S0FHQyxHQUNEVyxVQUFVO1FBQ04sSUFBSVIsY0FBYyxDQUFDUCxXQUFXLENBQUNnQixJQUFJLEtBQUssR0FBRztZQUN2Q1QsY0FBYyxDQUFDTCxrQkFBa0I7UUFDckM7UUFDQUssY0FBYyxDQUFDUCxXQUFXLENBQUNpQixHQUFHLENBQUMsSUFBSTtJQUN2QztJQUNBOztLQUVDLEdBQ0RDLGFBQWE7UUFDVFgsY0FBYyxDQUFDUCxXQUFXLENBQUNtQixNQUFNLENBQUMsSUFBSTtRQUN0QyxJQUFJWixjQUFjLENBQUNQLFdBQVcsQ0FBQ2dCLElBQUksS0FBSyxHQUFHO1lBQ3ZDVCxjQUFjLENBQUNKLG9CQUFvQjtRQUN2QztJQUNKO0lBQ0EsQ0FBQ0UsUUFBUSxHQUFHO1FBQ1IsSUFBSSxDQUFDQyxnQkFBZ0I7SUFDekI7QUFFSjtBQUNBQyxjQUFjLENBQUNaLEdBQUcsR0FBRyxJQUFJeUI7QUFDekIsTUFBTUMsd0JBQXdCcEIsT0FBTztBQUNyQyxNQUFNcUIsYUFBYXJCLE9BQU87QUFDMUIsTUFBTXNCLGdCQUFnQnRCLE9BQU87QUFDN0IsTUFBTXVCLFlBQVl2QixPQUFPO0FBQ3pCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FrQkMsR0FDTSxNQUFNd0I7SUFDVGpCLFlBQVlDLFFBQVEsQ0FBRTtRQUNsQixJQUFJLENBQUNiLEdBQUcsR0FBRyxDQUFDO1FBQ1osSUFBSSxDQUFDQyxHQUFHLEdBQUcsSUFBSUUsK0NBQVNBLENBQUM7WUFBQztTQUFXO1FBQ3JDLElBQUksQ0FBQ0QsR0FBRyxHQUFHO1lBQ1AsSUFBSSxDQUFDdUIsc0JBQXNCLENBQUM7Z0JBQUVLLGNBQWM7WUFBZ0I7UUFDaEU7UUFDQSxJQUFJLENBQUNMLHNCQUFzQixHQUFHWjtJQUNsQztJQUNBOzs7S0FHQyxHQUNEa0Isa0JBQWtCQyxHQUFHLEVBQUU7UUFDbkIsTUFBTUMsa0JBQWtCLENBQUM7UUFDekIsTUFBTUMsa0JBQWtCLElBQUksQ0FBQ1AsY0FBYztRQUMzQyxJQUFJLENBQUNELFdBQVcsQ0FBQ1MsSUFBSSxDQUFDSCxLQUFLSSxDQUFBQTtZQUN2QixNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHRDtZQUNqQixNQUFNRSxnQkFBZ0JGLGFBQWFHLFNBQVMsQ0FBQyxFQUFFO1lBQy9DLE1BQU1DLFlBQVlGLGNBQWNHLEtBQUssQ0FBQyxFQUFFO1lBQ3hDLElBQUlKLEtBQUtLLEtBQUssS0FBSyxTQUFTRixhQUFhLFFBQ3JDQSxVQUFVRyxJQUFJLEtBQUssU0FBUztnQkFDNUI7WUFDSjtZQUNBLE9BQVFILFVBQVVFLEtBQUs7Z0JBQ25CLEtBQUs7b0JBQ0QsSUFBSVQsZUFBZSxDQUFDLGdCQUFnQixJQUFJLE1BQU07d0JBQzFDLE1BQU1XLFdBQVcsbUJBQW1CVixrQkFDaENBLGVBQWUsQ0FBQyxnQkFBZ0IsR0FDaEMsSUFBSXZCLGVBQWUsSUFBSSxDQUFDaUIsVUFBVTt3QkFDdENnQixTQUFTekIsT0FBTzt3QkFDaEIsT0FBT2UsZUFBZSxDQUFDLGdCQUFnQjt3QkFDdkNELGVBQWUsQ0FBQyxnQkFBZ0IsR0FBR1c7b0JBQ3ZDO29CQUNBO1lBQ1I7UUFDSjtRQUNBLElBQUssTUFBTUMsb0JBQW9CWCxnQkFBaUI7WUFDNUMsTUFBTVUsV0FBV1YsZUFBZSxDQUFDVyxpQkFBaUI7WUFDbERELFNBQVN0QixVQUFVO1FBQ3ZCO1FBQ0EsSUFBSSxDQUFDSyxjQUFjLEdBQUdNO0lBQzFCO0lBQ0E7OztLQUdDLEdBQ0RhLFVBQVU7UUFDTixJQUFLLE1BQU1ELG9CQUFvQixJQUFJLENBQUNsQixjQUFjLENBQUU7WUFDaEQsTUFBTWlCLFdBQVcsSUFBSSxDQUFDakIsY0FBYyxDQUFDa0IsaUJBQWlCO1lBQ3RERCxTQUFTdEIsVUFBVTtRQUN2QjtJQUNKO0FBQ0o7QUFDQXRCLEtBQUsyQixlQUFlMUIsS0FBS3lCLFlBQVl4QixLQUFLMEIsV0FDMUMsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvc3R5bGVzL3N0eWxlLWVmZmVjdG9yLmpzP2MxYjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hLCBfYiwgX2MsIF9kO1xuaW1wb3J0IHsgQVNUV2Fsa2VyIH0gZnJvbSAnLi9wYXJzZXJzJztcbmNvbnN0ICRpbnN0YW5jZXMgPSBTeW1ib2woJ2luc3RhbmNlcycpO1xuY29uc3QgJGFjdGl2YXRlTGlzdGVuZXIgPSBTeW1ib2woJ2FjdGl2YXRlTGlzdGVuZXInKTtcbmNvbnN0ICRkZWFjdGl2YXRlTGlzdGVuZXIgPSBTeW1ib2woJ2RlYWN0aXZhdGVMaXN0ZW5lcicpO1xuY29uc3QgJG5vdGlmeUluc3RhbmNlcyA9IFN5bWJvbCgnbm90aWZ5SW5zdGFuY2VzJyk7XG5jb25zdCAkbm90aWZ5ID0gU3ltYm9sKCdub3RpZnknKTtcbmNvbnN0ICRzY3JvbGxDYWxsYmFjayA9IFN5bWJvbCgnY2FsbGJhY2snKTtcbi8qKlxuICogVGhpcyBpbnRlcm5hbCBoZWxwZXIgaXMgaW50ZW5kZWQgdG8gd29yayBhcyBhIHJlZmVyZW5jZS1jb3VudGluZyBtYW5hZ2VyIG9mXG4gKiBzY3JvbGwgZXZlbnQgbGlzdGVuZXJzLiBPbmx5IG9uZSBzY3JvbGwgbGlzdGVuZXIgaXMgZXZlciByZWdpc3RlcmVkIGZvciBhbGxcbiAqIGluc3RhbmNlcyBvZiB0aGUgY2xhc3MsIGFuZCB3aGVuIHRoZSBsYXN0IFNjcm9sbE9ic2VydmVyIFwiZGlzY29ubmVjdHNcIiwgdGhhdFxuICogZXZlbnQgbGlzdGVuZXIgaXMgcmVtb3ZlZC4gVGhpcyBzcGFyZXMgdXMgZnJvbSB0aHJhc2hpbmdcbiAqIHRoZSB7YWRkLHJlbW92ZX1FdmVudExpc3RlbmVyIEFQSSAodGhlIGJpbmRpbmcgY29zdCBvZiB0aGVzZSBtZXRob2RzIGhhcyBiZWVuXG4gKiBrbm93biB0byBzaG93IHVwIGluIHBlcmZvcm1hbmNlIGFuYWx5c2VzKSBhcyB3ZWxsIGFzIHBvdGVudGlhbCBtZW1vcnkgbGVha3MuXG4gKi9cbmNsYXNzIFNjcm9sbE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzWyRzY3JvbGxDYWxsYmFja10gPSBjYWxsYmFjaztcbiAgICB9XG4gICAgc3RhdGljIFskbm90aWZ5SW5zdGFuY2VzXSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBTY3JvbGxPYnNlcnZlclskaW5zdGFuY2VzXSkge1xuICAgICAgICAgICAgaW5zdGFuY2VbJG5vdGlmeV0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgWyhfYSA9ICRpbnN0YW5jZXMsICRhY3RpdmF0ZUxpc3RlbmVyKV0oKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzWyRub3RpZnlJbnN0YW5jZXNdLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBbJGRlYWN0aXZhdGVMaXN0ZW5lcl0oKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzWyRub3RpZnlJbnN0YW5jZXNdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdGVuIGZvciBzY3JvbGwgZXZlbnRzLiBUaGUgY29uZmlndXJlZCBjYWxsYmFjayAocGFzc2VkIHRvIHRoZVxuICAgICAqIGNvbnN0cnVjdG9yKSB3aWxsIGJlIGludm9rZWQgZm9yIHN1YnNlcXVlbnQgZ2xvYmFsIHNjcm9sbCBldmVudHMuXG4gICAgICovXG4gICAgb2JzZXJ2ZSgpIHtcbiAgICAgICAgaWYgKFNjcm9sbE9ic2VydmVyWyRpbnN0YW5jZXNdLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIFNjcm9sbE9ic2VydmVyWyRhY3RpdmF0ZUxpc3RlbmVyXSgpO1xuICAgICAgICB9XG4gICAgICAgIFNjcm9sbE9ic2VydmVyWyRpbnN0YW5jZXNdLmFkZCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCBsaXN0ZW5pbmcgZm9yIHNjcm9sbCBldmVudHMuXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgU2Nyb2xsT2JzZXJ2ZXJbJGluc3RhbmNlc10uZGVsZXRlKHRoaXMpO1xuICAgICAgICBpZiAoU2Nyb2xsT2JzZXJ2ZXJbJGluc3RhbmNlc10uc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgU2Nyb2xsT2JzZXJ2ZXJbJGRlYWN0aXZhdGVMaXN0ZW5lcl0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBbJG5vdGlmeV0oKSB7XG4gICAgICAgIHRoaXNbJHNjcm9sbENhbGxiYWNrXSgpO1xuICAgIH1cbiAgICA7XG59XG5TY3JvbGxPYnNlcnZlcltfYV0gPSBuZXcgU2V0KCk7XG5jb25zdCAkY29tcHV0ZVN0eWxlQ2FsbGJhY2sgPSBTeW1ib2woJ2NvbXB1dGVTdHlsZUNhbGxiYWNrJyk7XG5jb25zdCAkYXN0V2Fsa2VyID0gU3ltYm9sKCdhc3RXYWxrZXInKTtcbmNvbnN0ICRkZXBlbmRlbmNpZXMgPSBTeW1ib2woJ2RlcGVuZGVuY2llcycpO1xuY29uc3QgJG9uU2Nyb2xsID0gU3ltYm9sKCdvblNjcm9sbCcpO1xuLyoqXG4gKiBUaGUgU3R5bGVFZmZlY3RvciBpcyBjb25maWd1cmVkIHdpdGggYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgaW52b2tlZCBhdCB0aGVcbiAqIG9wdGltYWwgdGltZSB0aGF0IHNvbWUgYXJyYXkgb2YgQ1NTIGV4cHJlc3Npb24gQVNUcyBvdWdodCB0byBiZSBldmFsdWF0ZWQuXG4gKlxuICogRm9yIGV4YW1wbGUsIG91ciBDU1MtbGlrZSBleHByZXNzaW9uIHN5bnRheCBzdXBwb3J0cyB1c2FnZSBvZiB0aGUgZW52KClcbiAqIGZ1bmN0aW9uIHRvIGluY29ycG9yYXRlIHRoZSBjdXJyZW50IHRvcC1sZXZlbCBzY3JvbGwgcG9zaXRpb24gaW50byBhIENTU1xuICogZXhwcmVzc2lvbjogZW52KHdpbmRvdy1zY3JvbGwteSkuXG4gKlxuICogVGhpcyBcImVudmlyb25tZW50IHZhcmlhYmxlXCIgd2lsbCBjaGFuZ2UgZHluYW1pY2FsbHkgYXMgdGhlIHVzZXIgc2Nyb2xscyB0aGVcbiAqIHBhZ2UuIElmIGFuIEFTVCBjb250YWlucyBzdWNoIGEgdXNhZ2Ugb2YgZW52KCksIHdlIHdvdWxkIGhhdmUgdG8gZXZhbHVhdGUgdGhlXG4gKiBBU1Qgb24gZXZlcnkgZnJhbWUgaW4gb3JkZXIgdG8gYmUgc3VyZSB0aGF0IHRoZSBjb21wdXRlZCBzdHlsZSBzdGF5cyB1cCB0b1xuICogZGF0ZS5cbiAqXG4gKiBUaGUgU3R5bGVFZmZlY3RvciBzcGFyZXMgdXMgZnJvbSBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9ucyBvbiBldmVyeSBmcmFtZSBieVxuICogY29ycmVsYXRpbmcgc3BlY2lmaWMgcGFydHMgb2YgYW4gQVNUIHdpdGggb2JzZXJ2ZXJzIG9mIHRoZSBleHRlcm5hbCBlZmZlY3RzXG4gKiB0aGF0IHRoZXkgcmVmZXIgdG8gKGlmIGFueSkuIFNvLCBpZiB0aGUgQVNUIGNvbnRhaW5zIGVudih3aW5kb3ctc2Nyb2xsLXkpLFxuICogdGhlIFN0eWxlRWZmZWN0b3IgbWFuYWdlcyB0aGUgbGlmZXRpbWUgb2YgYSBnbG9iYWwgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIGFuZFxuICogbm90aWZpZXMgdGhlIHVzZXIgYXQgdGhlIG9wdGltYWwgdGltZSB0byBldmFsdWF0ZSB0aGUgY29tcHV0ZWQgc3R5bGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHlsZUVmZmVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzW19iXSA9IHt9O1xuICAgICAgICB0aGlzW19jXSA9IG5ldyBBU1RXYWxrZXIoWydmdW5jdGlvbiddKTtcbiAgICAgICAgdGhpc1tfZF0gPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzWyRjb21wdXRlU3R5bGVDYWxsYmFja10oeyByZWxhdGVkU3RhdGU6ICd3aW5kb3ctc2Nyb2xsJyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpc1skY29tcHV0ZVN0eWxlQ2FsbGJhY2tdID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGV4cHJlc3Npb25zIHRoYXQgZ292ZXJuIHdoZW4gdGhlIFN0eWxlRWZmZWN0b3IgY2FsbGJhY2sgd2lsbCBiZVxuICAgICAqIGludm9rZWQuXG4gICAgICovXG4gICAgb2JzZXJ2ZUVmZmVjdHNGb3IoYXN0KSB7XG4gICAgICAgIGNvbnN0IG5ld0RlcGVuZGVuY2llcyA9IHt9O1xuICAgICAgICBjb25zdCBvbGREZXBlbmRlbmNpZXMgPSB0aGlzWyRkZXBlbmRlbmNpZXNdO1xuICAgICAgICB0aGlzWyRhc3RXYWxrZXJdLndhbGsoYXN0LCBmdW5jdGlvbk5vZGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBuYW1lIH0gPSBmdW5jdGlvbk5vZGU7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEFyZ3VtZW50ID0gZnVuY3Rpb25Ob2RlLmFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGVybSA9IGZpcnN0QXJndW1lbnQudGVybXNbMF07XG4gICAgICAgICAgICBpZiAobmFtZS52YWx1ZSAhPT0gJ2VudicgfHwgZmlyc3RUZXJtID09IG51bGwgfHxcbiAgICAgICAgICAgICAgICBmaXJzdFRlcm0udHlwZSAhPT0gJ2lkZW50Jykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoZmlyc3RUZXJtLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnd2luZG93LXNjcm9sbC15JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0RlcGVuZGVuY2llc1snd2luZG93LXNjcm9sbCddID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gJ3dpbmRvdy1zY3JvbGwnIGluIG9sZERlcGVuZGVuY2llcyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkRGVwZW5kZW5jaWVzWyd3aW5kb3ctc2Nyb2xsJ10gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTY3JvbGxPYnNlcnZlcih0aGlzWyRvblNjcm9sbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZERlcGVuZGVuY2llc1snd2luZG93LXNjcm9sbCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGVwZW5kZW5jaWVzWyd3aW5kb3ctc2Nyb2xsJ10gPSBvYnNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAoY29uc3QgZW52aXJvbm1lbnRTdGF0ZSBpbiBvbGREZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gb2xkRGVwZW5kZW5jaWVzW2Vudmlyb25tZW50U3RhdGVdO1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJGRlcGVuZGVuY2llc10gPSBuZXdEZXBlbmRlbmNpZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBTdHlsZUVmZmVjdG9yIGJ5IGRpc2Nvbm5lY3RpbmcgYWxsIG9ic2VydmVycyBvZiBleHRlcm5hbFxuICAgICAqIGVmZmVjdHMuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnZpcm9ubWVudFN0YXRlIGluIHRoaXNbJGRlcGVuZGVuY2llc10pIHtcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gdGhpc1skZGVwZW5kZW5jaWVzXVtlbnZpcm9ubWVudFN0YXRlXTtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9iID0gJGRlcGVuZGVuY2llcywgX2MgPSAkYXN0V2Fsa2VyLCBfZCA9ICRvblNjcm9sbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlLWVmZmVjdG9yLmpzLm1hcCJdLCJuYW1lcyI6WyJfYSIsIl9iIiwiX2MiLCJfZCIsIkFTVFdhbGtlciIsIiRpbnN0YW5jZXMiLCJTeW1ib2wiLCIkYWN0aXZhdGVMaXN0ZW5lciIsIiRkZWFjdGl2YXRlTGlzdGVuZXIiLCIkbm90aWZ5SW5zdGFuY2VzIiwiJG5vdGlmeSIsIiRzY3JvbGxDYWxsYmFjayIsIlNjcm9sbE9ic2VydmVyIiwiY29uc3RydWN0b3IiLCJjYWxsYmFjayIsImluc3RhbmNlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib2JzZXJ2ZSIsInNpemUiLCJhZGQiLCJkaXNjb25uZWN0IiwiZGVsZXRlIiwiU2V0IiwiJGNvbXB1dGVTdHlsZUNhbGxiYWNrIiwiJGFzdFdhbGtlciIsIiRkZXBlbmRlbmNpZXMiLCIkb25TY3JvbGwiLCJTdHlsZUVmZmVjdG9yIiwicmVsYXRlZFN0YXRlIiwib2JzZXJ2ZUVmZmVjdHNGb3IiLCJhc3QiLCJuZXdEZXBlbmRlbmNpZXMiLCJvbGREZXBlbmRlbmNpZXMiLCJ3YWxrIiwiZnVuY3Rpb25Ob2RlIiwibmFtZSIsImZpcnN0QXJndW1lbnQiLCJhcmd1bWVudHMiLCJmaXJzdFRlcm0iLCJ0ZXJtcyIsInZhbHVlIiwidHlwZSIsIm9ic2VydmVyIiwiZW52aXJvbm1lbnRTdGF0ZSIsImRpc3Bvc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/style-effector.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/template.js":
/*!***********************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/template.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   makeTemplate: () => (/* binding */ makeTemplate)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* harmony import */ var _assets_close_material_svg_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets/close-material-svg.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/assets/close-material-svg.js\");\n/* harmony import */ var _assets_controls_svg_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assets/controls-svg.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/assets/controls-svg.js\");\n/* harmony import */ var _assets_view_in_ar_material_svg_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assets/view-in-ar-material-svg.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/assets/view-in-ar-material-svg.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\nconst templateResult = lit__WEBPACK_IMPORTED_MODULE_0__.html`\n<style>\n:host {\n  display: block;\n  position: relative;\n  contain: strict;\n  width: 300px;\n  height: 150px;\n}\n\n/* NOTE: This rule set is our integration surface area with the\n * :focus-visible polyfill.\n *\n * @see https://github.com/WICG/focus-visible/pull/196 */\n:host([data-js-focus-visible]:focus:not(.focus-visible)),\n:host([data-js-focus-visible]) :focus:not(.focus-visible) {\n  outline: none;\n}\n\n.container {\n  position: relative;\n  overflow: hidden;\n}\n\n.userInput {\n  width: 100%;\n  height: 100%;\n  display: none;\n  position: relative;\n}\n\ncanvas {\n  position: absolute;\n  display: none;\n  pointer-events: none;\n  /* NOTE(cdata): Chrome 76 and below apparently have a bug\n   * that causes our canvas not to display pixels unless it is\n   * on its own render layer\n   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893\n   */\n  transform: translateZ(0);\n}\n\n.show {\n  display: block;\n}\n\n/* Adapted from HTML5 Boilerplate\n *\n * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */\n.screen-reader-only {\n  border: 0;\n  left: 0;\n  top: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n  pointer-events: none;\n}\n\n.slot {\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.slot > * {\n  pointer-events: initial;\n}\n\n.annotation-wrapper ::slotted(*) {\n  opacity: var(--max-hotspot-opacity, 1);\n  transition: opacity 0.3s;\n}\n\n.pointer-tumbling .annotation-wrapper ::slotted(*) {\n  pointer-events: none;\n}\n\n.annotation-wrapper ::slotted(*) {\n  pointer-events: initial;\n}\n\n.annotation-wrapper.hide ::slotted(*) {\n  opacity: var(--min-hotspot-opacity, 0.25);\n}\n\n.slot.poster {\n  display: none;\n  background-color: inherit;\n}\n\n.slot.poster.show {\n  display: inherit;\n}\n\n.slot.poster > * {\n  pointer-events: initial;\n}\n\n.slot.poster:not(.show) > * {\n  pointer-events: none;\n}\n\n#default-poster {\n  width: 100%;\n  height: 100%;\n  /* The default poster is a <button> so we need to set display\n   * to prevent it from being affected by text-align: */\n  display: block;\n  position: absolute;\n  border: none;\n  padding: 0;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: #fff0;\n}\n\n#default-progress-bar {\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n#default-progress-bar > .bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--progress-bar-height, 5px);\n  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));\n  transition: transform 0.09s;\n  transform-origin: top left;\n  transform: scaleX(0);\n  overflow: hidden;\n}\n\n#default-progress-bar > .bar.hide {\n  transition: opacity 0.3s 1s;\n  opacity: 0;\n}\n\n.centered {\n  align-items: center;\n  justify-content: center;\n}\n\n.cover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n\n.slot.interaction-prompt {\n  display: var(--interaction-prompt-display, flex);\n  overflow: hidden;\n  opacity: 0;\n  will-change: opacity;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt.visible {\n  opacity: 1;\n}\n\n.animated-container {\n  will-change: transform, opacity;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt > * {\n  pointer-events: none;\n}\n\n.slot.ar-button {\n  -moz-user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n\n  display: var(--ar-button-display, block);\n}\n\n.slot.ar-button:not(.enabled) {\n  display: none;\n}\n\n.fab {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #fff;\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);\n  border-radius: 100px;\n}\n\n.fab > * {\n  opacity: 0.87;\n}\n\n#default-ar-button {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  transform: scale(var(--ar-button-scale, 1));\n  transform-origin: bottom right;\n}\n\n.slot.pan-target {\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  left: 50%;\n  top: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  background-color: transparent;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n#default-pan-target {\n  width: 6px;\n  height: 6px;\n  border-radius: 6px;\n  border: 1px solid white;\n  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.8);\n}\n\n.slot.default {\n  pointer-events: none;\n}\n\n.slot.progress-bar {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button:not(.enabled) {\n  display: none;\n}\n\n#default-exit-webxr-ar-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: env(safe-area-inset-top, 16px);\n  right: 16px;\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n}\n\n#default-exit-webxr-ar-button > svg {\n  fill: #fff;\n}\n</style>\n<div class=\"container\">\n  <div class=\"userInput\" tabindex=\"0\" role=\"img\"\n      aria-label=\"3D model\">\n      <div class=\"slot canvas\">\n        <slot name=\"canvas\">\n          <canvas></canvas>\n        </slot>\n      </div>\n\n  </div>\n\n  <!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM\n        will have their <slot> elements removed by ShadyCSS -->\n  <div class=\"slot poster\">\n    <slot name=\"poster\">\n      <button type=\"button\" id=\"default-poster\" aria-hidden=\"true\" aria-label=\"Loading 3D model\"></button>\n    </slot>\n  </div>\n\n  <div class=\"slot ar-button\">\n    <slot name=\"ar-button\">\n      <a id=\"default-ar-button\" part=\"default-ar-button\" class=\"fab\"\n          tabindex=\"2\"\n          aria-label=\"View in your space\">\n        ${_assets_view_in_ar_material_svg_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]}\n      </a>\n    </slot>\n  </div>\n\n  <div class=\"slot pan-target\">\n    <slot name=\"pan-target\">\n      <div id=\"default-pan-target\">\n      </div>\n    </slot>\n  </div>\n\n  <div class=\"slot interaction-prompt cover centered\">\n    <div id=\"prompt\" class=\"animated-container\">\n      <slot name=\"interaction-prompt\" aria-hidden=\"true\">\n        ${_assets_controls_svg_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]}\n      </slot>\n    </div>\n  </div>\n\n  <div id=\"finger0\" class=\"animated-container cover\">\n    <slot name=\"finger0\" aria-hidden=\"true\">\n    </slot>\n  </div>\n  <div id=\"finger1\" class=\"animated-container cover\">\n    <slot name=\"finger1\" aria-hidden=\"true\">\n    </slot>\n  </div>\n\n  <div class=\"slot default\">\n    <slot></slot>\n\n    <div class=\"slot progress-bar\">\n      <slot name=\"progress-bar\">\n        <div id=\"default-progress-bar\" aria-hidden=\"true\">\n          <div class=\"bar\" part=\"default-progress-bar\"></div>\n        </div>\n      </slot>\n    </div>\n\n    <div class=\"slot exit-webxr-ar-button\">\n      <slot name=\"exit-webxr-ar-button\">\n        <a id=\"default-exit-webxr-ar-button\" part=\"default-exit-webxr-ar-button\"\n            tabindex=\"3\"\n            aria-label=\"Exit AR\"\n            aria-hidden=\"true\">\n          ${_assets_close_material_svg_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]}\n        </a>\n      </slot>\n    </div>\n  </div>\n</div>\n<div class=\"screen-reader-only\" role=\"region\" aria-label=\"Live announcements\">\n  <span id=\"status\" role=\"status\"></span>\n</div>`;\nconst makeTemplate = (shadowRoot)=>{\n    (0,lit__WEBPACK_IMPORTED_MODULE_0__.render)(templateResult, shadowRoot);\n}; //# sourceMappingURL=template.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RlbXBsYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUNrQztBQUNvQjtBQUNEO0FBQ0k7QUFDMUQsTUFBTUssaUJBQWlCTCxxQ0FBSyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBZ1RyQixFQUFFSSwwRUFBT0EsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O1FBZVYsRUFBRUQsK0RBQWNBLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7VUErQmYsRUFBRUQscUVBQVNBLENBQUM7Ozs7Ozs7O01BUWhCLENBQUM7QUFDQSxNQUFNSSxlQUFlLENBQUNDO0lBQ3pCTiwyQ0FBTUEsQ0FBQ0ksZ0JBQWdCRTtBQUMzQixFQUFFLENBQ0Ysb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGVtcGxhdGUuanM/YzU4YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBodG1sLCByZW5kZXIgfSBmcm9tICdsaXQnO1xuaW1wb3J0IENsb3NlSWNvbiBmcm9tICcuL2Fzc2V0cy9jbG9zZS1tYXRlcmlhbC1zdmcuanMnO1xuaW1wb3J0IENvbnRyb2xzUHJvbXB0IGZyb20gJy4vYXNzZXRzL2NvbnRyb2xzLXN2Zy5qcyc7XG5pbXBvcnQgQVJHbHlwaCBmcm9tICcuL2Fzc2V0cy92aWV3LWluLWFyLW1hdGVyaWFsLXN2Zy5qcyc7XG5jb25zdCB0ZW1wbGF0ZVJlc3VsdCA9IGh0bWwgYFxuPHN0eWxlPlxuOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBjb250YWluOiBzdHJpY3Q7XG4gIHdpZHRoOiAzMDBweDtcbiAgaGVpZ2h0OiAxNTBweDtcbn1cblxuLyogTk9URTogVGhpcyBydWxlIHNldCBpcyBvdXIgaW50ZWdyYXRpb24gc3VyZmFjZSBhcmVhIHdpdGggdGhlXG4gKiA6Zm9jdXMtdmlzaWJsZSBwb2x5ZmlsbC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL2ZvY3VzLXZpc2libGUvcHVsbC8xOTYgKi9cbjpob3N0KFtkYXRhLWpzLWZvY3VzLXZpc2libGVdOmZvY3VzOm5vdCguZm9jdXMtdmlzaWJsZSkpLFxuOmhvc3QoW2RhdGEtanMtZm9jdXMtdmlzaWJsZV0pIDpmb2N1czpub3QoLmZvY3VzLXZpc2libGUpIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxuLmNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLnVzZXJJbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuY2FudmFzIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBkaXNwbGF5OiBub25lO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgLyogTk9URShjZGF0YSk6IENocm9tZSA3NiBhbmQgYmVsb3cgYXBwYXJlbnRseSBoYXZlIGEgYnVnXG4gICAqIHRoYXQgY2F1c2VzIG91ciBjYW52YXMgbm90IHRvIGRpc3BsYXkgcGl4ZWxzIHVubGVzcyBpdCBpc1xuICAgKiBvbiBpdHMgb3duIHJlbmRlciBsYXllclxuICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvbW9kZWwtdmlld2VyL3B1bGwvNzU1I2lzc3VlY29tbWVudC01MzY1OTc4OTNcbiAgICovXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcbn1cblxuLnNob3cge1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLyogQWRhcHRlZCBmcm9tIEhUTUw1IEJvaWxlcnBsYXRlXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9ibG9iL2NlYjQ2MjBjNzhmYzgyZTEzNTM0ZmM0NDIwMmEzZjE2ODc1NDg3M2YvZGlzdC9jc3MvbWFpbi5jc3MjTDEyMi1MMTMzICovXG4uc2NyZWVuLXJlYWRlci1vbmx5IHtcbiAgYm9yZGVyOiAwO1xuICBsZWZ0OiAwO1xuICB0b3A6IDA7XG4gIGNsaXA6IHJlY3QoMCwgMCwgMCwgMCk7XG4gIGhlaWdodDogMXB4O1xuICBtYXJnaW46IC0xcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHBhZGRpbmc6IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgd2lkdGg6IDFweDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbi5zbG90IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uc2xvdCA+ICoge1xuICBwb2ludGVyLWV2ZW50czogaW5pdGlhbDtcbn1cblxuLmFubm90YXRpb24td3JhcHBlciA6OnNsb3R0ZWQoKikge1xuICBvcGFjaXR5OiB2YXIoLS1tYXgtaG90c3BvdC1vcGFjaXR5LCAxKTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzO1xufVxuXG4ucG9pbnRlci10dW1ibGluZyAuYW5ub3RhdGlvbi13cmFwcGVyIDo6c2xvdHRlZCgqKSB7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4uYW5ub3RhdGlvbi13cmFwcGVyIDo6c2xvdHRlZCgqKSB7XG4gIHBvaW50ZXItZXZlbnRzOiBpbml0aWFsO1xufVxuXG4uYW5ub3RhdGlvbi13cmFwcGVyLmhpZGUgOjpzbG90dGVkKCopIHtcbiAgb3BhY2l0eTogdmFyKC0tbWluLWhvdHNwb3Qtb3BhY2l0eSwgMC4yNSk7XG59XG5cbi5zbG90LnBvc3RlciB7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XG59XG5cbi5zbG90LnBvc3Rlci5zaG93IHtcbiAgZGlzcGxheTogaW5oZXJpdDtcbn1cblxuLnNsb3QucG9zdGVyID4gKiB7XG4gIHBvaW50ZXItZXZlbnRzOiBpbml0aWFsO1xufVxuXG4uc2xvdC5wb3N0ZXI6bm90KC5zaG93KSA+ICoge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuI2RlZmF1bHQtcG9zdGVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgLyogVGhlIGRlZmF1bHQgcG9zdGVyIGlzIGEgPGJ1dHRvbj4gc28gd2UgbmVlZCB0byBzZXQgZGlzcGxheVxuICAgKiB0byBwcmV2ZW50IGl0IGZyb20gYmVpbmcgYWZmZWN0ZWQgYnkgdGV4dC1hbGlnbjogKi9cbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBwYWRkaW5nOiAwO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjA7XG59XG5cbiNkZWZhdWx0LXByb2dyZXNzLWJhciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4jZGVmYXVsdC1wcm9ncmVzcy1iYXIgPiAuYmFyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IHZhcigtLXByb2dyZXNzLWJhci1oZWlnaHQsIDVweCk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByb2dyZXNzLWJhci1jb2xvciwgcmdiYSgwLCAwLCAwLCAwLjQpKTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMDlzO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDtcbiAgdHJhbnNmb3JtOiBzY2FsZVgoMCk7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbiNkZWZhdWx0LXByb2dyZXNzLWJhciA+IC5iYXIuaGlkZSB7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyAxcztcbiAgb3BhY2l0eTogMDtcbn1cblxuLmNlbnRlcmVkIHtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5jb3ZlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLnNsb3QuaW50ZXJhY3Rpb24tcHJvbXB0IHtcbiAgZGlzcGxheTogdmFyKC0taW50ZXJhY3Rpb24tcHJvbXB0LWRpc3BsYXksIGZsZXgpO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBvcGFjaXR5OiAwO1xuICB3aWxsLWNoYW5nZTogb3BhY2l0eTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzO1xufVxuXG4uc2xvdC5pbnRlcmFjdGlvbi1wcm9tcHQudmlzaWJsZSB7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi5hbmltYXRlZC1jb250YWluZXIge1xuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtLCBvcGFjaXR5O1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3M7XG59XG5cbi5zbG90LmludGVyYWN0aW9uLXByb21wdCA+ICoge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLnNsb3QuYXItYnV0dG9uIHtcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG5cbiAgZGlzcGxheTogdmFyKC0tYXItYnV0dG9uLWRpc3BsYXksIGJsb2NrKTtcbn1cblxuLnNsb3QuYXItYnV0dG9uOm5vdCguZW5hYmxlZCkge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uZmFiIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgYm94LXNoYWRvdzogMHB4IDBweCA0cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgYm9yZGVyLXJhZGl1czogMTAwcHg7XG59XG5cbi5mYWIgPiAqIHtcbiAgb3BhY2l0eTogMC44Nztcbn1cblxuI2RlZmF1bHQtYXItYnV0dG9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDE2cHg7XG4gIHJpZ2h0OiAxNnB4O1xuICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLWFyLWJ1dHRvbi1zY2FsZSwgMSkpO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gcmlnaHQ7XG59XG5cbi5zbG90LnBhbi10YXJnZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMDtcbiAgaGVpZ2h0OiAwO1xuICBsZWZ0OiA1MCU7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDApO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzO1xufVxuXG4jZGVmYXVsdC1wYW4tdGFyZ2V0IHtcbiAgd2lkdGg6IDZweDtcbiAgaGVpZ2h0OiA2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDFweCByZ2JhKDAsIDAsIDAsIDAuOCk7XG59XG5cbi5zbG90LmRlZmF1bHQge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLnNsb3QucHJvZ3Jlc3MtYmFyIHtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbi5zbG90LmV4aXQtd2VieHItYXItYnV0dG9uIHtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbi5zbG90LmV4aXQtd2VieHItYXItYnV0dG9uOm5vdCguZW5hYmxlZCkge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4jZGVmYXVsdC1leGl0LXdlYnhyLWFyLWJ1dHRvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogZW52KHNhZmUtYXJlYS1pbnNldC10b3AsIDE2cHgpO1xuICByaWdodDogMTZweDtcbiAgd2lkdGg6IDQwcHg7XG4gIGhlaWdodDogNDBweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuI2RlZmF1bHQtZXhpdC13ZWJ4ci1hci1idXR0b24gPiBzdmcge1xuICBmaWxsOiAjZmZmO1xufVxuPC9zdHlsZT5cbjxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgPGRpdiBjbGFzcz1cInVzZXJJbnB1dFwiIHRhYmluZGV4PVwiMFwiIHJvbGU9XCJpbWdcIlxuICAgICAgYXJpYS1sYWJlbD1cIjNEIG1vZGVsXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwic2xvdCBjYW52YXNcIj5cbiAgICAgICAgPHNsb3QgbmFtZT1cImNhbnZhc1wiPlxuICAgICAgICAgIDxjYW52YXM+PC9jYW52YXM+XG4gICAgICAgIDwvc2xvdD5cbiAgICAgIDwvZGl2PlxuXG4gIDwvZGl2PlxuXG4gIDwhLS0gTk9URShjZGF0YSk6IFdlIG5lZWQgdG8gd3JhcCBzbG90cyBiZWNhdXNlIGJyb3dzZXJzIHdpdGhvdXQgU2hhZG93RE9NXG4gICAgICAgIHdpbGwgaGF2ZSB0aGVpciA8c2xvdD4gZWxlbWVudHMgcmVtb3ZlZCBieSBTaGFkeUNTUyAtLT5cbiAgPGRpdiBjbGFzcz1cInNsb3QgcG9zdGVyXCI+XG4gICAgPHNsb3QgbmFtZT1cInBvc3RlclwiPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJkZWZhdWx0LXBvc3RlclwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGFyaWEtbGFiZWw9XCJMb2FkaW5nIDNEIG1vZGVsXCI+PC9idXR0b24+XG4gICAgPC9zbG90PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwic2xvdCBhci1idXR0b25cIj5cbiAgICA8c2xvdCBuYW1lPVwiYXItYnV0dG9uXCI+XG4gICAgICA8YSBpZD1cImRlZmF1bHQtYXItYnV0dG9uXCIgcGFydD1cImRlZmF1bHQtYXItYnV0dG9uXCIgY2xhc3M9XCJmYWJcIlxuICAgICAgICAgIHRhYmluZGV4PVwiMlwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlZpZXcgaW4geW91ciBzcGFjZVwiPlxuICAgICAgICAke0FSR2x5cGh9XG4gICAgICA8L2E+XG4gICAgPC9zbG90PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwic2xvdCBwYW4tdGFyZ2V0XCI+XG4gICAgPHNsb3QgbmFtZT1cInBhbi10YXJnZXRcIj5cbiAgICAgIDxkaXYgaWQ9XCJkZWZhdWx0LXBhbi10YXJnZXRcIj5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2xvdD5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInNsb3QgaW50ZXJhY3Rpb24tcHJvbXB0IGNvdmVyIGNlbnRlcmVkXCI+XG4gICAgPGRpdiBpZD1cInByb21wdFwiIGNsYXNzPVwiYW5pbWF0ZWQtY29udGFpbmVyXCI+XG4gICAgICA8c2xvdCBuYW1lPVwiaW50ZXJhY3Rpb24tcHJvbXB0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICR7Q29udHJvbHNQcm9tcHR9XG4gICAgICA8L3Nsb3Q+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgaWQ9XCJmaW5nZXIwXCIgY2xhc3M9XCJhbmltYXRlZC1jb250YWluZXIgY292ZXJcIj5cbiAgICA8c2xvdCBuYW1lPVwiZmluZ2VyMFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgIDwvc2xvdD5cbiAgPC9kaXY+XG4gIDxkaXYgaWQ9XCJmaW5nZXIxXCIgY2xhc3M9XCJhbmltYXRlZC1jb250YWluZXIgY292ZXJcIj5cbiAgICA8c2xvdCBuYW1lPVwiZmluZ2VyMVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgIDwvc2xvdD5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInNsb3QgZGVmYXVsdFwiPlxuICAgIDxzbG90Pjwvc2xvdD5cblxuICAgIDxkaXYgY2xhc3M9XCJzbG90IHByb2dyZXNzLWJhclwiPlxuICAgICAgPHNsb3QgbmFtZT1cInByb2dyZXNzLWJhclwiPlxuICAgICAgICA8ZGl2IGlkPVwiZGVmYXVsdC1wcm9ncmVzcy1iYXJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFyXCIgcGFydD1cImRlZmF1bHQtcHJvZ3Jlc3MtYmFyXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zbG90PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInNsb3QgZXhpdC13ZWJ4ci1hci1idXR0b25cIj5cbiAgICAgIDxzbG90IG5hbWU9XCJleGl0LXdlYnhyLWFyLWJ1dHRvblwiPlxuICAgICAgICA8YSBpZD1cImRlZmF1bHQtZXhpdC13ZWJ4ci1hci1idXR0b25cIiBwYXJ0PVwiZGVmYXVsdC1leGl0LXdlYnhyLWFyLWJ1dHRvblwiXG4gICAgICAgICAgICB0YWJpbmRleD1cIjNcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkV4aXQgQVJcIlxuICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgJHtDbG9zZUljb259XG4gICAgICAgIDwvYT5cbiAgICAgIDwvc2xvdD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJzY3JlZW4tcmVhZGVyLW9ubHlcIiByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIkxpdmUgYW5ub3VuY2VtZW50c1wiPlxuICA8c3BhbiBpZD1cInN0YXR1c1wiIHJvbGU9XCJzdGF0dXNcIj48L3NwYW4+XG48L2Rpdj5gO1xuZXhwb3J0IGNvbnN0IG1ha2VUZW1wbGF0ZSA9IChzaGFkb3dSb290KSA9PiB7XG4gICAgcmVuZGVyKHRlbXBsYXRlUmVzdWx0LCBzaGFkb3dSb290KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS5qcy5tYXAiXSwibmFtZXMiOlsiaHRtbCIsInJlbmRlciIsIkNsb3NlSWNvbiIsIkNvbnRyb2xzUHJvbXB0IiwiQVJHbHlwaCIsInRlbXBsYXRlUmVzdWx0IiwibWFrZVRlbXBsYXRlIiwic2hhZG93Um9vdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/template.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ARRenderer: () => (/* binding */ ARRenderer),\n/* harmony export */   ARStatus: () => (/* binding */ ARStatus),\n/* harmony export */   ARTracking: () => (/* binding */ ARTracking)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_webxr_XREstimatedLight_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/webxr/XREstimatedLight.js */ \"(ssr)/./node_modules/three/examples/jsm/webxr/XREstimatedLight.js\");\n/* harmony import */ var _features_environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../features/environment.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _Damper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* harmony import */ var _PlacementBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PlacementBox.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/PlacementBox.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\n\n\n\n// number of initial null pose XRFrames allowed before we post not-tracking\nconst INIT_FRAMES = 30;\n// AR shadow is not user-configurable. This is to pave the way for AR lighting\n// estimation, which will be used once available in WebXR.\nconst AR_SHADOW_INTENSITY = 0.8;\nconst ROTATION_RATE = 1.5;\n// Angle down (towards bottom of screen) from camera center ray to use for hit\n// testing against the floor. This makes placement faster and more intuitive\n// assuming the phone is in portrait mode. This seems to be a reasonable\n// assumption for the start of the session and UI will lack landscape mode to\n// encourage upright use.\nconst HIT_ANGLE_DEG = 20;\nconst SCALE_SNAP_HIGH = 1.3;\nconst SCALE_SNAP_LOW = 1 / SCALE_SNAP_HIGH;\n// For automatic dynamic viewport scaling, don't let the scale drop below this\n// limit.\nconst MIN_VIEWPORT_SCALE = 0.25;\n// Furthest away you can move an object (meters).\nconst MAX_DISTANCE = 10;\nconst ARStatus = {\n    NOT_PRESENTING: \"not-presenting\",\n    SESSION_STARTED: \"session-started\",\n    OBJECT_PLACED: \"object-placed\",\n    FAILED: \"failed\"\n};\nconst ARTracking = {\n    TRACKING: \"tracking\",\n    NOT_TRACKING: \"not-tracking\"\n};\nconst vector3 = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\nconst matrix4 = new three__WEBPACK_IMPORTED_MODULE_5__.Matrix4();\nconst hitPosition = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\nconst camera = new three__WEBPACK_IMPORTED_MODULE_5__.PerspectiveCamera(45, 1, 0.1, 100);\nclass ARRenderer extends three__WEBPACK_IMPORTED_MODULE_5__.EventDispatcher {\n    constructor(renderer){\n        super();\n        this.renderer = renderer;\n        this.currentSession = null;\n        this.placeOnWall = false;\n        this.placementBox = null;\n        this.lastTick = null;\n        this.turntableRotation = null;\n        this.oldShadowIntensity = null;\n        this.frame = null;\n        this.initialHitSource = null;\n        this.transientHitTestSource = null;\n        this.inputSource = null;\n        this._presentedScene = null;\n        this.resolveCleanup = null;\n        this.exitWebXRButtonContainer = null;\n        this.overlay = null;\n        this.xrLight = null;\n        this.tracking = true;\n        this.frames = 0;\n        this.initialized = false;\n        this.oldTarget = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        this.placementComplete = false;\n        this.isTranslating = false;\n        this.isRotating = false;\n        this.isTwoFingering = false;\n        this.lastDragPosition = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        this.firstRatio = 0;\n        this.lastAngle = 0;\n        this.goalPosition = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        this.goalYaw = 0;\n        this.goalScale = 1;\n        this.xDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.yDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.zDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.yawDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.scaleDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.onExitWebXRButtonContainerClick = ()=>this.stopPresenting();\n        this.onUpdateScene = ()=>{\n            if (this.placementBox != null && this.isPresenting) {\n                this.placementBox.dispose();\n                this.placementBox = new _PlacementBox_js__WEBPACK_IMPORTED_MODULE_4__.PlacementBox(this.presentedScene, this.placeOnWall ? \"back\" : \"bottom\");\n            }\n        };\n        this.onSelectStart = (event)=>{\n            const hitSource = this.transientHitTestSource;\n            if (hitSource == null) {\n                return;\n            }\n            const fingers = this.frame.getHitTestResultsForTransientInput(hitSource);\n            const scene = this.presentedScene;\n            const box = this.placementBox;\n            if (fingers.length === 1) {\n                this.inputSource = event.inputSource;\n                const { axes } = this.inputSource.gamepad;\n                const hitPosition = box.getHit(this.presentedScene, axes[0], axes[1]);\n                box.show = true;\n                if (hitPosition != null) {\n                    this.isTranslating = true;\n                    this.lastDragPosition.copy(hitPosition);\n                } else if (this.placeOnWall === false) {\n                    this.isRotating = true;\n                    this.lastAngle = axes[0] * ROTATION_RATE;\n                }\n            } else if (fingers.length === 2) {\n                box.show = true;\n                this.isTwoFingering = true;\n                const { separation } = this.fingerPolar(fingers);\n                this.firstRatio = separation / scene.scale.x;\n            }\n        };\n        this.onSelectEnd = ()=>{\n            this.isTranslating = false;\n            this.isRotating = false;\n            this.isTwoFingering = false;\n            this.inputSource = null;\n            this.goalPosition.y += this.placementBox.offsetHeight * this.presentedScene.scale.x;\n            this.placementBox.show = false;\n        };\n        this.threeRenderer = renderer.threeRenderer;\n        this.threeRenderer.xr.enabled = true;\n    }\n    async resolveARSession() {\n        (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.assertIsArCandidate)();\n        const session = await navigator.xr.requestSession(\"immersive-ar\", {\n            requiredFeatures: [\n                \"hit-test\"\n            ],\n            optionalFeatures: [\n                \"dom-overlay\",\n                \"light-estimation\"\n            ],\n            domOverlay: this.overlay ? {\n                root: this.overlay\n            } : undefined\n        });\n        this.threeRenderer.xr.setReferenceSpaceType(\"local\");\n        await this.threeRenderer.xr.setSession(session);\n        this.threeRenderer.xr.cameraAutoUpdate = false;\n        return session;\n    }\n    /**\n     * The currently presented scene, if any\n     */ get presentedScene() {\n        return this._presentedScene;\n    }\n    /**\n     * Resolves to true if the renderer has detected all the necessary qualities\n     * to support presentation in AR.\n     */ async supportsPresentation() {\n        try {\n            (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.assertIsArCandidate)();\n            return await navigator.xr.isSessionSupported(\"immersive-ar\");\n        } catch (error) {\n            console.warn(\"Request to present in WebXR denied:\");\n            console.warn(error);\n            console.warn(\"Falling back to next ar-mode\");\n            return false;\n        }\n    }\n    /**\n     * Present a scene in AR\n     */ async present(scene, environmentEstimation = false) {\n        if (this.isPresenting) {\n            console.warn(\"Cannot present while a model is already presenting\");\n        }\n        let waitForAnimationFrame = new Promise((resolve, _reject)=>{\n            requestAnimationFrame(()=>resolve());\n        });\n        scene.setHotspotsVisibility(false);\n        scene.queueRender();\n        // Render a frame to turn off the hotspots\n        await waitForAnimationFrame;\n        // This sets isPresenting to true\n        this._presentedScene = scene;\n        this.overlay = scene.element.shadowRoot.querySelector(\"div.default\");\n        if (environmentEstimation === true) {\n            this.xrLight = new three_examples_jsm_webxr_XREstimatedLight_js__WEBPACK_IMPORTED_MODULE_6__.XREstimatedLight(this.threeRenderer);\n            this.xrLight.addEventListener(\"estimationstart\", ()=>{\n                if (!this.isPresenting || this.xrLight == null) {\n                    return;\n                }\n                const scene = this.presentedScene;\n                scene.add(this.xrLight);\n                scene.environment = this.xrLight.environment;\n            });\n        }\n        const currentSession = await this.resolveARSession();\n        currentSession.addEventListener(\"end\", ()=>{\n            this.postSessionCleanup();\n        }, {\n            once: true\n        });\n        const exitButton = scene.element.shadowRoot.querySelector(\".slot.exit-webxr-ar-button\");\n        exitButton.classList.add(\"enabled\");\n        exitButton.addEventListener(\"click\", this.onExitWebXRButtonContainerClick);\n        this.exitWebXRButtonContainer = exitButton;\n        const viewerRefSpace = await currentSession.requestReferenceSpace(\"viewer\");\n        this.tracking = true;\n        this.frames = 0;\n        this.initialized = false;\n        this.turntableRotation = scene.yaw;\n        this.goalYaw = scene.yaw;\n        this.goalScale = 1;\n        scene.background = null;\n        this.oldShadowIntensity = scene.shadowIntensity;\n        scene.setShadowIntensity(0.01); // invisible, but not changing the shader\n        this.oldTarget.copy(scene.getTarget());\n        scene.element.addEventListener(\"load\", this.onUpdateScene);\n        const radians = HIT_ANGLE_DEG * Math.PI / 180;\n        const ray = this.placeOnWall === true ? undefined : new XRRay(new DOMPoint(0, 0, 0), {\n            x: 0,\n            y: -Math.sin(radians),\n            z: -Math.cos(radians)\n        });\n        currentSession.requestHitTestSource({\n            space: viewerRefSpace,\n            offsetRay: ray\n        }).then((hitTestSource)=>{\n            this.initialHitSource = hitTestSource;\n        });\n        this.currentSession = currentSession;\n        this.placementBox = new _PlacementBox_js__WEBPACK_IMPORTED_MODULE_4__.PlacementBox(scene, this.placeOnWall ? \"back\" : \"bottom\");\n        this.placementComplete = false;\n        this.lastTick = performance.now();\n        this.dispatchEvent({\n            type: \"status\",\n            status: ARStatus.SESSION_STARTED\n        });\n    }\n    /**\n     * If currently presenting a scene in AR, stops presentation and exits AR.\n     */ async stopPresenting() {\n        if (!this.isPresenting) {\n            return;\n        }\n        const cleanupPromise = new Promise((resolve)=>{\n            this.resolveCleanup = resolve;\n        });\n        try {\n            await this.currentSession.end();\n            await cleanupPromise;\n        } catch (error) {\n            console.warn(\"Error while trying to end WebXR AR session\");\n            console.warn(error);\n            this.postSessionCleanup();\n        }\n    }\n    /**\n     * True if a scene is currently in the process of being presented in AR\n     */ get isPresenting() {\n        return this.presentedScene != null;\n    }\n    get target() {\n        return this.oldTarget;\n    }\n    updateTarget() {\n        const scene = this.presentedScene;\n        if (scene != null) {\n            const target = scene.getTarget();\n            this.oldTarget.copy(target);\n            if (this.placeOnWall) {\n                // Move the scene's target to the center of the back of the model's\n                // bounding box.\n                target.z = scene.boundingBox.min.z;\n            } else {\n                // Move the scene's target to the model's floor height.\n                target.y = scene.boundingBox.min.y;\n            }\n            scene.setTarget(target.x, target.y, target.z);\n        }\n    }\n    postSessionCleanup() {\n        const session = this.currentSession;\n        if (session != null) {\n            session.removeEventListener(\"selectstart\", this.onSelectStart);\n            session.removeEventListener(\"selectend\", this.onSelectEnd);\n            this.currentSession = null;\n        }\n        const scene = this.presentedScene;\n        this._presentedScene = null;\n        if (scene != null) {\n            const { element } = scene;\n            if (this.xrLight != null) {\n                scene.remove(this.xrLight);\n                this.xrLight.dispose();\n                this.xrLight = null;\n            }\n            scene.position.set(0, 0, 0);\n            scene.scale.set(1, 1, 1);\n            scene.setShadowOffset(0);\n            const yaw = this.turntableRotation;\n            if (yaw != null) {\n                scene.yaw = yaw;\n            }\n            const intensity = this.oldShadowIntensity;\n            if (intensity != null) {\n                scene.setShadowIntensity(intensity);\n            }\n            scene.setEnvironmentAndSkybox(element[_features_environment_js__WEBPACK_IMPORTED_MODULE_0__.$currentEnvironmentMap], element[_features_environment_js__WEBPACK_IMPORTED_MODULE_0__.$currentBackground]);\n            const point = this.oldTarget;\n            scene.setTarget(point.x, point.y, point.z);\n            scene.xrCamera = null;\n            scene.element.removeEventListener(\"load\", this.onUpdateScene);\n            scene.orientHotspots(0);\n            element.requestUpdate(\"cameraTarget\");\n            element.requestUpdate(\"maxCameraOrbit\");\n            element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onResize](element.getBoundingClientRect());\n        }\n        // Force the Renderer to update its size\n        this.renderer.height = 0;\n        const exitButton = this.exitWebXRButtonContainer;\n        if (exitButton != null) {\n            exitButton.classList.remove(\"enabled\");\n            exitButton.removeEventListener(\"click\", this.onExitWebXRButtonContainerClick);\n            this.exitWebXRButtonContainer = null;\n        }\n        const hitSource = this.transientHitTestSource;\n        if (hitSource != null) {\n            hitSource.cancel();\n            this.transientHitTestSource = null;\n        }\n        const hitSourceInitial = this.initialHitSource;\n        if (hitSourceInitial != null) {\n            hitSourceInitial.cancel();\n            this.initialHitSource = null;\n        }\n        if (this.placementBox != null) {\n            this.placementBox.dispose();\n            this.placementBox = null;\n        }\n        this.lastTick = null;\n        this.turntableRotation = null;\n        this.oldShadowIntensity = null;\n        this.frame = null;\n        this.inputSource = null;\n        this.overlay = null;\n        if (this.resolveCleanup != null) {\n            this.resolveCleanup();\n        }\n        this.dispatchEvent({\n            type: \"status\",\n            status: ARStatus.NOT_PRESENTING\n        });\n    }\n    updateView(view) {\n        const scene = this.presentedScene;\n        const xr = this.threeRenderer.xr;\n        xr.updateCamera(camera);\n        scene.xrCamera = xr.getCamera();\n        const { elements } = scene.getCamera().matrixWorld;\n        scene.orientHotspots(Math.atan2(elements[1], elements[5]));\n        if (!this.initialized) {\n            this.placeInitially();\n            this.initialized = true;\n        }\n        // Use automatic dynamic viewport scaling if supported.\n        if (view.requestViewportScale && view.recommendedViewportScale) {\n            const scale = view.recommendedViewportScale;\n            view.requestViewportScale(Math.max(scale, MIN_VIEWPORT_SCALE));\n        }\n        const layer = this.currentSession.renderState.baseLayer;\n        const viewport = layer.getViewport(view);\n        this.threeRenderer.setViewport(viewport.x, viewport.y, viewport.width, viewport.height);\n    }\n    placeInitially() {\n        const scene = this.presentedScene;\n        const { position, element } = scene;\n        const xrCamera = scene.getCamera();\n        const { width, height } = this.overlay.getBoundingClientRect();\n        scene.setSize(width, height);\n        xrCamera.projectionMatrixInverse.copy(xrCamera.projectionMatrix).invert();\n        const { theta, radius } = element.getCameraOrbit();\n        // Orient model to match the 3D camera view\n        const cameraDirection = xrCamera.getWorldDirection(vector3);\n        scene.yaw = Math.atan2(-cameraDirection.x, -cameraDirection.z) - theta;\n        this.goalYaw = scene.yaw;\n        position.copy(xrCamera.position).add(cameraDirection.multiplyScalar(radius));\n        this.updateTarget();\n        const target = scene.getTarget();\n        position.add(target).sub(this.oldTarget);\n        this.goalPosition.copy(position);\n        scene.setHotspotsVisibility(true);\n        const { session } = this.frame;\n        session.addEventListener(\"selectstart\", this.onSelectStart);\n        session.addEventListener(\"selectend\", this.onSelectEnd);\n        session.requestHitTestSourceForTransientInput({\n            profile: \"generic-touchscreen\"\n        }).then((hitTestSource)=>{\n            this.transientHitTestSource = hitTestSource;\n        });\n    }\n    getTouchLocation() {\n        const { axes } = this.inputSource.gamepad;\n        let location = this.placementBox.getExpandedHit(this.presentedScene, axes[0], axes[1]);\n        if (location != null) {\n            vector3.copy(location).sub(this.presentedScene.getCamera().position);\n            if (vector3.length() > MAX_DISTANCE) return null;\n        }\n        return location;\n    }\n    getHitPoint(hitResult) {\n        const refSpace = this.threeRenderer.xr.getReferenceSpace();\n        const pose = hitResult.getPose(refSpace);\n        if (pose == null) {\n            return null;\n        }\n        const hitMatrix = matrix4.fromArray(pose.transform.matrix);\n        if (this.placeOnWall === true) {\n            // Orient the model to the wall's normal vector.\n            this.goalYaw = Math.atan2(hitMatrix.elements[4], hitMatrix.elements[6]);\n        }\n        // Check that the y-coordinate of the normal is large enough that the normal\n        // is pointing up for floor placement; opposite for wall placement.\n        return hitMatrix.elements[5] > 0.75 !== this.placeOnWall ? hitPosition.setFromMatrixPosition(hitMatrix) : null;\n    }\n    moveToFloor(frame) {\n        const hitSource = this.initialHitSource;\n        if (hitSource == null) {\n            return;\n        }\n        const hitTestResults = frame.getHitTestResults(hitSource);\n        if (hitTestResults.length == 0) {\n            return;\n        }\n        const hit = hitTestResults[0];\n        const hitPoint = this.getHitPoint(hit);\n        if (hitPoint == null) {\n            return;\n        }\n        this.placementBox.show = true;\n        // If the user is translating, let the finger hit-ray take precedence and\n        // ignore this hit result.\n        if (!this.isTranslating) {\n            if (this.placeOnWall) {\n                this.goalPosition.copy(hitPoint);\n            } else {\n                this.goalPosition.y = hitPoint.y;\n            }\n        }\n        hitSource.cancel();\n        this.initialHitSource = null;\n        this.dispatchEvent({\n            type: \"status\",\n            status: ARStatus.OBJECT_PLACED\n        });\n    }\n    fingerPolar(fingers) {\n        const fingerOne = fingers[0].inputSource.gamepad.axes;\n        const fingerTwo = fingers[1].inputSource.gamepad.axes;\n        const deltaX = fingerTwo[0] - fingerOne[0];\n        const deltaY = fingerTwo[1] - fingerOne[1];\n        const angle = Math.atan2(deltaY, deltaX);\n        let deltaYaw = this.lastAngle - angle;\n        if (deltaYaw > Math.PI) {\n            deltaYaw -= 2 * Math.PI;\n        } else if (deltaYaw < -Math.PI) {\n            deltaYaw += 2 * Math.PI;\n        }\n        this.lastAngle = angle;\n        return {\n            separation: Math.sqrt(deltaX * deltaX + deltaY * deltaY),\n            deltaYaw: deltaYaw\n        };\n    }\n    processInput(frame) {\n        const hitSource = this.transientHitTestSource;\n        if (hitSource == null) {\n            return;\n        }\n        if (!this.isTranslating && !this.isTwoFingering && !this.isRotating) {\n            return;\n        }\n        const fingers = frame.getHitTestResultsForTransientInput(hitSource);\n        const scene = this.presentedScene;\n        const scale = scene.scale.x;\n        // Rotating, translating and scaling are mutually exclusive operations; only\n        // one can happen at a time, but we can switch during a gesture.\n        if (this.isTwoFingering) {\n            if (fingers.length < 2) {\n                // If we lose the second finger, stop scaling (in fact, stop processing\n                // input altogether until a new gesture starts).\n                this.isTwoFingering = false;\n            } else {\n                const { separation, deltaYaw } = this.fingerPolar(fingers);\n                if (this.placeOnWall === false) {\n                    this.goalYaw += deltaYaw;\n                }\n                if (scene.canScale) {\n                    const scale = separation / this.firstRatio;\n                    this.goalScale = scale < SCALE_SNAP_HIGH && scale > SCALE_SNAP_LOW ? 1 : scale;\n                }\n            }\n            return;\n        } else if (fingers.length === 2) {\n            // If we were rotating or translating and we get a second finger, switch\n            // to scaling instead.\n            this.isTranslating = false;\n            this.isRotating = false;\n            this.isTwoFingering = true;\n            const { separation } = this.fingerPolar(fingers);\n            this.firstRatio = separation / scale;\n            return;\n        }\n        if (this.isRotating) {\n            const angle = this.inputSource.gamepad.axes[0] * ROTATION_RATE;\n            this.goalYaw += angle - this.lastAngle;\n            this.lastAngle = angle;\n        } else if (this.isTranslating) {\n            fingers.forEach((finger)=>{\n                if (finger.inputSource !== this.inputSource) {\n                    return;\n                }\n                let hit = null;\n                if (finger.results.length > 0) {\n                    hit = this.getHitPoint(finger.results[0]);\n                }\n                if (hit == null) {\n                    hit = this.getTouchLocation();\n                }\n                if (hit == null) {\n                    return;\n                }\n                this.goalPosition.sub(this.lastDragPosition);\n                if (this.placeOnWall === false) {\n                    const offset = hit.y - this.lastDragPosition.y;\n                    // When a lower floor is found, keep the model at the same height, but\n                    // drop the placement box to the floor. The model falls on select end.\n                    if (offset < 0) {\n                        this.placementBox.offsetHeight = offset / scale;\n                        this.presentedScene.setShadowOffset(offset);\n                        // Interpolate hit ray up to drag plane\n                        const cameraPosition = vector3.copy(scene.getCamera().position);\n                        const alpha = -offset / (cameraPosition.y - hit.y);\n                        cameraPosition.multiplyScalar(alpha);\n                        hit.multiplyScalar(1 - alpha).add(cameraPosition);\n                    }\n                }\n                this.goalPosition.add(hit);\n                this.lastDragPosition.copy(hit);\n            });\n        }\n    }\n    moveScene(delta) {\n        const scene = this.presentedScene;\n        const { position, yaw } = scene;\n        const boundingRadius = scene.boundingSphere.radius;\n        const goal = this.goalPosition;\n        const oldScale = scene.scale.x;\n        const box = this.placementBox;\n        if (!goal.equals(position) || this.goalScale !== oldScale) {\n            let { x, y, z } = position;\n            x = this.xDamper.update(x, goal.x, delta, boundingRadius);\n            y = this.yDamper.update(y, goal.y, delta, boundingRadius);\n            z = this.zDamper.update(z, goal.z, delta, boundingRadius);\n            position.set(x, y, z);\n            const newScale = this.scaleDamper.update(oldScale, this.goalScale, delta, 1);\n            scene.scale.set(newScale, newScale, newScale);\n            if (!this.isTranslating) {\n                const offset = goal.y - y;\n                if (this.placementComplete && this.placeOnWall === false) {\n                    box.offsetHeight = offset / newScale;\n                    scene.setShadowOffset(offset);\n                } else if (offset === 0) {\n                    this.placementComplete = true;\n                    box.show = false;\n                    scene.setShadowIntensity(AR_SHADOW_INTENSITY);\n                }\n            }\n        }\n        box.updateOpacity(delta);\n        scene.updateTarget(delta);\n        // yaw must be updated last, since this also updates the shadow position.\n        scene.yaw = this.yawDamper.update(yaw, this.goalYaw, delta, Math.PI);\n    }\n    /**\n     * Only public to make it testable.\n     */ onWebXRFrame(time, frame) {\n        this.frame = frame;\n        ++this.frames;\n        const refSpace = this.threeRenderer.xr.getReferenceSpace();\n        const pose = frame.getViewerPose(refSpace);\n        if (pose == null && this.tracking === true && this.frames > INIT_FRAMES) {\n            this.tracking = false;\n            this.dispatchEvent({\n                type: \"tracking\",\n                status: ARTracking.NOT_TRACKING\n            });\n        }\n        const scene = this.presentedScene;\n        if (pose == null || scene == null || !scene.element.loaded) {\n            this.threeRenderer.clear();\n            return;\n        }\n        if (this.tracking === false) {\n            this.tracking = true;\n            this.dispatchEvent({\n                type: \"tracking\",\n                status: ARTracking.TRACKING\n            });\n        }\n        // WebXR may return multiple views, i.e. for headset AR. This\n        // isn't really supported at this point, but make a best-effort\n        // attempt to render other views also, using the first view\n        // as the main viewpoint.\n        let isFirstView = true;\n        for (const view of pose.views){\n            this.updateView(view);\n            if (isFirstView) {\n                this.moveToFloor(frame);\n                this.processInput(frame);\n                const delta = time - this.lastTick;\n                this.moveScene(delta);\n                this.renderer.preRender(scene, time, delta);\n                this.lastTick = time;\n                scene.renderShadow(this.threeRenderer);\n            }\n            this.threeRenderer.render(scene, scene.getCamera());\n            isFirstView = false;\n        }\n    }\n} //# sourceMappingURL=ARRenderer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvQVJSZW5kZXJlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUM0RTtBQUNHO0FBQ1E7QUFDcEM7QUFDRTtBQUNqQjtBQUNZO0FBQ2pELDJFQUEyRTtBQUMzRSxNQUFNVyxjQUFjO0FBQ3BCLDhFQUE4RTtBQUM5RSwwREFBMEQ7QUFDMUQsTUFBTUMsc0JBQXNCO0FBQzVCLE1BQU1DLGdCQUFnQjtBQUN0Qiw4RUFBOEU7QUFDOUUsNEVBQTRFO0FBQzVFLHdFQUF3RTtBQUN4RSw2RUFBNkU7QUFDN0UseUJBQXlCO0FBQ3pCLE1BQU1DLGdCQUFnQjtBQUN0QixNQUFNQyxrQkFBa0I7QUFDeEIsTUFBTUMsaUJBQWlCLElBQUlEO0FBQzNCLDhFQUE4RTtBQUM5RSxTQUFTO0FBQ1QsTUFBTUUscUJBQXFCO0FBQzNCLGlEQUFpRDtBQUNqRCxNQUFNQyxlQUFlO0FBQ2QsTUFBTUMsV0FBVztJQUNwQkMsZ0JBQWdCO0lBQ2hCQyxpQkFBaUI7SUFDakJDLGVBQWU7SUFDZkMsUUFBUTtBQUNaLEVBQUU7QUFDSyxNQUFNQyxhQUFhO0lBQ3RCQyxVQUFVO0lBQ1ZDLGNBQWM7QUFDbEIsRUFBRTtBQUNGLE1BQU1DLFVBQVUsSUFBSXhCLDBDQUFPQTtBQUMzQixNQUFNeUIsVUFBVSxJQUFJM0IsMENBQU9BO0FBQzNCLE1BQU00QixjQUFjLElBQUkxQiwwQ0FBT0E7QUFDL0IsTUFBTTJCLFNBQVMsSUFBSTVCLG9EQUFpQkEsQ0FBQyxJQUFJLEdBQUcsS0FBSztBQUMxQyxNQUFNNkIsbUJBQW1CL0Isa0RBQWVBO0lBQzNDZ0MsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLEtBQUs7UUFDTCxJQUFJLENBQUNBLFFBQVEsR0FBR0E7UUFDaEIsSUFBSSxDQUFDQyxjQUFjLEdBQUc7UUFDdEIsSUFBSSxDQUFDQyxXQUFXLEdBQUc7UUFDbkIsSUFBSSxDQUFDQyxZQUFZLEdBQUc7UUFDcEIsSUFBSSxDQUFDQyxRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRztRQUN6QixJQUFJLENBQUNDLGtCQUFrQixHQUFHO1FBQzFCLElBQUksQ0FBQ0MsS0FBSyxHQUFHO1FBQ2IsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRztRQUN4QixJQUFJLENBQUNDLHNCQUFzQixHQUFHO1FBQzlCLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0MsZUFBZSxHQUFHO1FBQ3ZCLElBQUksQ0FBQ0MsY0FBYyxHQUFHO1FBQ3RCLElBQUksQ0FBQ0Msd0JBQXdCLEdBQUc7UUFDaEMsSUFBSSxDQUFDQyxPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNDLE9BQU8sR0FBRztRQUNmLElBQUksQ0FBQ0MsUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQ0MsTUFBTSxHQUFHO1FBQ2QsSUFBSSxDQUFDQyxXQUFXLEdBQUc7UUFDbkIsSUFBSSxDQUFDQyxTQUFTLEdBQUcsSUFBSWpELDBDQUFPQTtRQUM1QixJQUFJLENBQUNrRCxpQkFBaUIsR0FBRztRQUN6QixJQUFJLENBQUNDLGFBQWEsR0FBRztRQUNyQixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNDLGNBQWMsR0FBRztRQUN0QixJQUFJLENBQUNDLGdCQUFnQixHQUFHLElBQUl0RCwwQ0FBT0E7UUFDbkMsSUFBSSxDQUFDdUQsVUFBVSxHQUFHO1FBQ2xCLElBQUksQ0FBQ0MsU0FBUyxHQUFHO1FBQ2pCLElBQUksQ0FBQ0MsWUFBWSxHQUFHLElBQUl6RCwwQ0FBT0E7UUFDL0IsSUFBSSxDQUFDMEQsT0FBTyxHQUFHO1FBQ2YsSUFBSSxDQUFDQyxTQUFTLEdBQUc7UUFDakIsSUFBSSxDQUFDQyxPQUFPLEdBQUcsSUFBSXRELDhDQUFNQTtRQUN6QixJQUFJLENBQUN1RCxPQUFPLEdBQUcsSUFBSXZELDhDQUFNQTtRQUN6QixJQUFJLENBQUN3RCxPQUFPLEdBQUcsSUFBSXhELDhDQUFNQTtRQUN6QixJQUFJLENBQUN5RCxTQUFTLEdBQUcsSUFBSXpELDhDQUFNQTtRQUMzQixJQUFJLENBQUMwRCxXQUFXLEdBQUcsSUFBSTFELDhDQUFNQTtRQUM3QixJQUFJLENBQUMyRCwrQkFBK0IsR0FBRyxJQUFNLElBQUksQ0FBQ0MsY0FBYztRQUNoRSxJQUFJLENBQUNDLGFBQWEsR0FBRztZQUNqQixJQUFJLElBQUksQ0FBQ2xDLFlBQVksSUFBSSxRQUFRLElBQUksQ0FBQ21DLFlBQVksRUFBRTtnQkFDaEQsSUFBSSxDQUFDbkMsWUFBWSxDQUFDb0MsT0FBTztnQkFDekIsSUFBSSxDQUFDcEMsWUFBWSxHQUFHLElBQUkxQiwwREFBWUEsQ0FBQyxJQUFJLENBQUMrRCxjQUFjLEVBQUUsSUFBSSxDQUFDdEMsV0FBVyxHQUFHLFNBQVM7WUFDMUY7UUFDSjtRQUNBLElBQUksQ0FBQ3VDLGFBQWEsR0FBRyxDQUFDQztZQUNsQixNQUFNQyxZQUFZLElBQUksQ0FBQ2xDLHNCQUFzQjtZQUM3QyxJQUFJa0MsYUFBYSxNQUFNO2dCQUNuQjtZQUNKO1lBQ0EsTUFBTUMsVUFBVSxJQUFJLENBQUNyQyxLQUFLLENBQUNzQyxrQ0FBa0MsQ0FBQ0Y7WUFDOUQsTUFBTUcsUUFBUSxJQUFJLENBQUNOLGNBQWM7WUFDakMsTUFBTU8sTUFBTSxJQUFJLENBQUM1QyxZQUFZO1lBQzdCLElBQUl5QyxRQUFRSSxNQUFNLEtBQUssR0FBRztnQkFDdEIsSUFBSSxDQUFDdEMsV0FBVyxHQUFHZ0MsTUFBTWhDLFdBQVc7Z0JBQ3BDLE1BQU0sRUFBRXVDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQ3ZDLFdBQVcsQ0FBQ3dDLE9BQU87Z0JBQ3pDLE1BQU10RCxjQUFjbUQsSUFBSUksTUFBTSxDQUFDLElBQUksQ0FBQ1gsY0FBYyxFQUFFUyxJQUFJLENBQUMsRUFBRSxFQUFFQSxJQUFJLENBQUMsRUFBRTtnQkFDcEVGLElBQUlLLElBQUksR0FBRztnQkFDWCxJQUFJeEQsZUFBZSxNQUFNO29CQUNyQixJQUFJLENBQUN5QixhQUFhLEdBQUc7b0JBQ3JCLElBQUksQ0FBQ0csZ0JBQWdCLENBQUM2QixJQUFJLENBQUN6RDtnQkFDL0IsT0FDSyxJQUFJLElBQUksQ0FBQ00sV0FBVyxLQUFLLE9BQU87b0JBQ2pDLElBQUksQ0FBQ29CLFVBQVUsR0FBRztvQkFDbEIsSUFBSSxDQUFDSSxTQUFTLEdBQUd1QixJQUFJLENBQUMsRUFBRSxHQUFHckU7Z0JBQy9CO1lBQ0osT0FDSyxJQUFJZ0UsUUFBUUksTUFBTSxLQUFLLEdBQUc7Z0JBQzNCRCxJQUFJSyxJQUFJLEdBQUc7Z0JBQ1gsSUFBSSxDQUFDN0IsY0FBYyxHQUFHO2dCQUN0QixNQUFNLEVBQUUrQixVQUFVLEVBQUUsR0FBRyxJQUFJLENBQUNDLFdBQVcsQ0FBQ1g7Z0JBQ3hDLElBQUksQ0FBQ25CLFVBQVUsR0FBRzZCLGFBQWFSLE1BQU1VLEtBQUssQ0FBQ0MsQ0FBQztZQUNoRDtRQUNKO1FBQ0EsSUFBSSxDQUFDQyxXQUFXLEdBQUc7WUFDZixJQUFJLENBQUNyQyxhQUFhLEdBQUc7WUFDckIsSUFBSSxDQUFDQyxVQUFVLEdBQUc7WUFDbEIsSUFBSSxDQUFDQyxjQUFjLEdBQUc7WUFDdEIsSUFBSSxDQUFDYixXQUFXLEdBQUc7WUFDbkIsSUFBSSxDQUFDaUIsWUFBWSxDQUFDZ0MsQ0FBQyxJQUNmLElBQUksQ0FBQ3hELFlBQVksQ0FBQ3lELFlBQVksR0FBRyxJQUFJLENBQUNwQixjQUFjLENBQUNnQixLQUFLLENBQUNDLENBQUM7WUFDaEUsSUFBSSxDQUFDdEQsWUFBWSxDQUFDaUQsSUFBSSxHQUFHO1FBQzdCO1FBQ0EsSUFBSSxDQUFDUyxhQUFhLEdBQUc3RCxTQUFTNkQsYUFBYTtRQUMzQyxJQUFJLENBQUNBLGFBQWEsQ0FBQ0MsRUFBRSxDQUFDQyxPQUFPLEdBQUc7SUFDcEM7SUFDQSxNQUFNQyxtQkFBbUI7UUFDckJ6RixrRUFBbUJBO1FBQ25CLE1BQU0wRixVQUFVLE1BQU1DLFVBQVVKLEVBQUUsQ0FBQ0ssY0FBYyxDQUFDLGdCQUFnQjtZQUM5REMsa0JBQWtCO2dCQUFDO2FBQVc7WUFDOUJDLGtCQUFrQjtnQkFBQztnQkFBZTthQUFtQjtZQUNyREMsWUFBWSxJQUFJLENBQUN4RCxPQUFPLEdBQUc7Z0JBQUV5RCxNQUFNLElBQUksQ0FBQ3pELE9BQU87WUFBQyxJQUFJMEQ7UUFDeEQ7UUFDQSxJQUFJLENBQUNYLGFBQWEsQ0FBQ0MsRUFBRSxDQUFDVyxxQkFBcUIsQ0FBQztRQUM1QyxNQUFNLElBQUksQ0FBQ1osYUFBYSxDQUFDQyxFQUFFLENBQUNZLFVBQVUsQ0FBQ1Q7UUFDdkMsSUFBSSxDQUFDSixhQUFhLENBQUNDLEVBQUUsQ0FBQ2EsZ0JBQWdCLEdBQUc7UUFDekMsT0FBT1Y7SUFDWDtJQUNBOztLQUVDLEdBQ0QsSUFBSXpCLGlCQUFpQjtRQUNqQixPQUFPLElBQUksQ0FBQzdCLGVBQWU7SUFDL0I7SUFDQTs7O0tBR0MsR0FDRCxNQUFNaUUsdUJBQXVCO1FBQ3pCLElBQUk7WUFDQXJHLGtFQUFtQkE7WUFDbkIsT0FBTyxNQUFNMkYsVUFBVUosRUFBRSxDQUFDZSxrQkFBa0IsQ0FBQztRQUNqRCxFQUNBLE9BQU9DLE9BQU87WUFDVkMsUUFBUUMsSUFBSSxDQUFDO1lBQ2JELFFBQVFDLElBQUksQ0FBQ0Y7WUFDYkMsUUFBUUMsSUFBSSxDQUFDO1lBQ2IsT0FBTztRQUNYO0lBQ0o7SUFDQTs7S0FFQyxHQUNELE1BQU1DLFFBQVFuQyxLQUFLLEVBQUVvQyx3QkFBd0IsS0FBSyxFQUFFO1FBQ2hELElBQUksSUFBSSxDQUFDNUMsWUFBWSxFQUFFO1lBQ25CeUMsUUFBUUMsSUFBSSxDQUFDO1FBQ2pCO1FBQ0EsSUFBSUcsd0JBQXdCLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDOUNDLHNCQUFzQixJQUFNRjtRQUNoQztRQUNBdkMsTUFBTTBDLHFCQUFxQixDQUFDO1FBQzVCMUMsTUFBTTJDLFdBQVc7UUFDakIsMENBQTBDO1FBQzFDLE1BQU1OO1FBQ04saUNBQWlDO1FBQ2pDLElBQUksQ0FBQ3hFLGVBQWUsR0FBR21DO1FBQ3ZCLElBQUksQ0FBQ2hDLE9BQU8sR0FBR2dDLE1BQU00QyxPQUFPLENBQUNDLFVBQVUsQ0FBQ0MsYUFBYSxDQUFDO1FBQ3RELElBQUlWLDBCQUEwQixNQUFNO1lBQ2hDLElBQUksQ0FBQ25FLE9BQU8sR0FBRyxJQUFJNUMsMEZBQWdCQSxDQUFDLElBQUksQ0FBQzBGLGFBQWE7WUFDdEQsSUFBSSxDQUFDOUMsT0FBTyxDQUFDOEUsZ0JBQWdCLENBQUMsbUJBQW1CO2dCQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDdkQsWUFBWSxJQUFJLElBQUksQ0FBQ3ZCLE9BQU8sSUFBSSxNQUFNO29CQUM1QztnQkFDSjtnQkFDQSxNQUFNK0IsUUFBUSxJQUFJLENBQUNOLGNBQWM7Z0JBQ2pDTSxNQUFNZ0QsR0FBRyxDQUFDLElBQUksQ0FBQy9FLE9BQU87Z0JBQ3RCK0IsTUFBTWlELFdBQVcsR0FBRyxJQUFJLENBQUNoRixPQUFPLENBQUNnRixXQUFXO1lBQ2hEO1FBQ0o7UUFDQSxNQUFNOUYsaUJBQWlCLE1BQU0sSUFBSSxDQUFDK0QsZ0JBQWdCO1FBQ2xEL0QsZUFBZTRGLGdCQUFnQixDQUFDLE9BQU87WUFDbkMsSUFBSSxDQUFDRyxrQkFBa0I7UUFDM0IsR0FBRztZQUFFQyxNQUFNO1FBQUs7UUFDaEIsTUFBTUMsYUFBYXBELE1BQU00QyxPQUFPLENBQUNDLFVBQVUsQ0FBQ0MsYUFBYSxDQUFDO1FBQzFETSxXQUFXQyxTQUFTLENBQUNMLEdBQUcsQ0FBQztRQUN6QkksV0FBV0wsZ0JBQWdCLENBQUMsU0FBUyxJQUFJLENBQUMxRCwrQkFBK0I7UUFDekUsSUFBSSxDQUFDdEIsd0JBQXdCLEdBQUdxRjtRQUNoQyxNQUFNRSxpQkFBaUIsTUFBTW5HLGVBQWVvRyxxQkFBcUIsQ0FBQztRQUNsRSxJQUFJLENBQUNyRixRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDQyxNQUFNLEdBQUc7UUFDZCxJQUFJLENBQUNDLFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNiLGlCQUFpQixHQUFHeUMsTUFBTXdELEdBQUc7UUFDbEMsSUFBSSxDQUFDMUUsT0FBTyxHQUFHa0IsTUFBTXdELEdBQUc7UUFDeEIsSUFBSSxDQUFDekUsU0FBUyxHQUFHO1FBQ2pCaUIsTUFBTXlELFVBQVUsR0FBRztRQUNuQixJQUFJLENBQUNqRyxrQkFBa0IsR0FBR3dDLE1BQU0wRCxlQUFlO1FBQy9DMUQsTUFBTTJELGtCQUFrQixDQUFDLE9BQU8seUNBQXlDO1FBQ3pFLElBQUksQ0FBQ3RGLFNBQVMsQ0FBQ2tDLElBQUksQ0FBQ1AsTUFBTTRELFNBQVM7UUFDbkM1RCxNQUFNNEMsT0FBTyxDQUFDRyxnQkFBZ0IsQ0FBQyxRQUFRLElBQUksQ0FBQ3hELGFBQWE7UUFDekQsTUFBTXNFLFVBQVU5SCxnQkFBZ0IrSCxLQUFLQyxFQUFFLEdBQUc7UUFDMUMsTUFBTUMsTUFBTSxJQUFJLENBQUM1RyxXQUFXLEtBQUssT0FDN0JzRSxZQUNBLElBQUl1QyxNQUFNLElBQUlDLFNBQVMsR0FBRyxHQUFHLElBQUk7WUFBRXZELEdBQUc7WUFBR0UsR0FBRyxDQUFDaUQsS0FBS0ssR0FBRyxDQUFDTjtZQUFVTyxHQUFHLENBQUNOLEtBQUtPLEdBQUcsQ0FBQ1I7UUFBUztRQUMxRjFHLGVBQ0ttSCxvQkFBb0IsQ0FBQztZQUFFQyxPQUFPakI7WUFBZ0JrQixXQUFXUjtRQUFJLEdBQUdTLElBQUksQ0FBQ0MsQ0FBQUE7WUFDdEUsSUFBSSxDQUFDaEgsZ0JBQWdCLEdBQUdnSDtRQUM1QjtRQUNBLElBQUksQ0FBQ3ZILGNBQWMsR0FBR0E7UUFDdEIsSUFBSSxDQUFDRSxZQUFZLEdBQ2IsSUFBSTFCLDBEQUFZQSxDQUFDcUUsT0FBTyxJQUFJLENBQUM1QyxXQUFXLEdBQUcsU0FBUztRQUN4RCxJQUFJLENBQUNrQixpQkFBaUIsR0FBRztRQUN6QixJQUFJLENBQUNoQixRQUFRLEdBQUdxSCxZQUFZQyxHQUFHO1FBQy9CLElBQUksQ0FBQ0MsYUFBYSxDQUFDO1lBQUVDLE1BQU07WUFBVUMsUUFBUTNJLFNBQVNFLGVBQWU7UUFBQztJQUMxRTtJQUNBOztLQUVDLEdBQ0QsTUFBTWdELGlCQUFpQjtRQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDRSxZQUFZLEVBQUU7WUFDcEI7UUFDSjtRQUNBLE1BQU13RixpQkFBaUIsSUFBSTFDLFFBQVEsQ0FBQ0M7WUFDaEMsSUFBSSxDQUFDekUsY0FBYyxHQUFHeUU7UUFDMUI7UUFDQSxJQUFJO1lBQ0EsTUFBTSxJQUFJLENBQUNwRixjQUFjLENBQUM4SCxHQUFHO1lBQzdCLE1BQU1EO1FBQ1YsRUFDQSxPQUFPaEQsT0FBTztZQUNWQyxRQUFRQyxJQUFJLENBQUM7WUFDYkQsUUFBUUMsSUFBSSxDQUFDRjtZQUNiLElBQUksQ0FBQ2tCLGtCQUFrQjtRQUMzQjtJQUNKO0lBQ0E7O0tBRUMsR0FDRCxJQUFJMUQsZUFBZTtRQUNmLE9BQU8sSUFBSSxDQUFDRSxjQUFjLElBQUk7SUFDbEM7SUFDQSxJQUFJd0YsU0FBUztRQUNULE9BQU8sSUFBSSxDQUFDN0csU0FBUztJQUN6QjtJQUNBOEcsZUFBZTtRQUNYLE1BQU1uRixRQUFRLElBQUksQ0FBQ04sY0FBYztRQUNqQyxJQUFJTSxTQUFTLE1BQU07WUFDZixNQUFNa0YsU0FBU2xGLE1BQU00RCxTQUFTO1lBQzlCLElBQUksQ0FBQ3ZGLFNBQVMsQ0FBQ2tDLElBQUksQ0FBQzJFO1lBQ3BCLElBQUksSUFBSSxDQUFDOUgsV0FBVyxFQUFFO2dCQUNsQixtRUFBbUU7Z0JBQ25FLGdCQUFnQjtnQkFDaEI4SCxPQUFPZCxDQUFDLEdBQUdwRSxNQUFNb0YsV0FBVyxDQUFDQyxHQUFHLENBQUNqQixDQUFDO1lBQ3RDLE9BQ0s7Z0JBQ0QsdURBQXVEO2dCQUN2RGMsT0FBT3JFLENBQUMsR0FBR2IsTUFBTW9GLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDeEUsQ0FBQztZQUN0QztZQUNBYixNQUFNc0YsU0FBUyxDQUFDSixPQUFPdkUsQ0FBQyxFQUFFdUUsT0FBT3JFLENBQUMsRUFBRXFFLE9BQU9kLENBQUM7UUFDaEQ7SUFDSjtJQUNBbEIscUJBQXFCO1FBQ2pCLE1BQU0vQixVQUFVLElBQUksQ0FBQ2hFLGNBQWM7UUFDbkMsSUFBSWdFLFdBQVcsTUFBTTtZQUNqQkEsUUFBUW9FLG1CQUFtQixDQUFDLGVBQWUsSUFBSSxDQUFDNUYsYUFBYTtZQUM3RHdCLFFBQVFvRSxtQkFBbUIsQ0FBQyxhQUFhLElBQUksQ0FBQzNFLFdBQVc7WUFDekQsSUFBSSxDQUFDekQsY0FBYyxHQUFHO1FBQzFCO1FBQ0EsTUFBTTZDLFFBQVEsSUFBSSxDQUFDTixjQUFjO1FBQ2pDLElBQUksQ0FBQzdCLGVBQWUsR0FBRztRQUN2QixJQUFJbUMsU0FBUyxNQUFNO1lBQ2YsTUFBTSxFQUFFNEMsT0FBTyxFQUFFLEdBQUc1QztZQUNwQixJQUFJLElBQUksQ0FBQy9CLE9BQU8sSUFBSSxNQUFNO2dCQUN0QitCLE1BQU13RixNQUFNLENBQUMsSUFBSSxDQUFDdkgsT0FBTztnQkFDekIsSUFBSSxDQUFDQSxPQUFPLENBQUN3QixPQUFPO2dCQUNwQixJQUFJLENBQUN4QixPQUFPLEdBQUc7WUFDbkI7WUFDQStCLE1BQU15RixRQUFRLENBQUNDLEdBQUcsQ0FBQyxHQUFHLEdBQUc7WUFDekIxRixNQUFNVSxLQUFLLENBQUNnRixHQUFHLENBQUMsR0FBRyxHQUFHO1lBQ3RCMUYsTUFBTTJGLGVBQWUsQ0FBQztZQUN0QixNQUFNbkMsTUFBTSxJQUFJLENBQUNqRyxpQkFBaUI7WUFDbEMsSUFBSWlHLE9BQU8sTUFBTTtnQkFDYnhELE1BQU13RCxHQUFHLEdBQUdBO1lBQ2hCO1lBQ0EsTUFBTW9DLFlBQVksSUFBSSxDQUFDcEksa0JBQWtCO1lBQ3pDLElBQUlvSSxhQUFhLE1BQU07Z0JBQ25CNUYsTUFBTTJELGtCQUFrQixDQUFDaUM7WUFDN0I7WUFDQTVGLE1BQU02Rix1QkFBdUIsQ0FBQ2pELE9BQU8sQ0FBQ3JILDRFQUFzQkEsQ0FBQyxFQUFFcUgsT0FBTyxDQUFDdEgsd0VBQWtCQSxDQUFDO1lBQzFGLE1BQU13SyxRQUFRLElBQUksQ0FBQ3pILFNBQVM7WUFDNUIyQixNQUFNc0YsU0FBUyxDQUFDUSxNQUFNbkYsQ0FBQyxFQUFFbUYsTUFBTWpGLENBQUMsRUFBRWlGLE1BQU0xQixDQUFDO1lBQ3pDcEUsTUFBTStGLFFBQVEsR0FBRztZQUNqQi9GLE1BQU00QyxPQUFPLENBQUMyQyxtQkFBbUIsQ0FBQyxRQUFRLElBQUksQ0FBQ2hHLGFBQWE7WUFDNURTLE1BQU1nRyxjQUFjLENBQUM7WUFDckJwRCxRQUFRcUQsYUFBYSxDQUFDO1lBQ3RCckQsUUFBUXFELGFBQWEsQ0FBQztZQUN0QnJELE9BQU8sQ0FBQ3BILDREQUFTQSxDQUFDLENBQUNvSCxRQUFRc0QscUJBQXFCO1FBQ3BEO1FBQ0Esd0NBQXdDO1FBQ3hDLElBQUksQ0FBQ2hKLFFBQVEsQ0FBQ2lKLE1BQU0sR0FBRztRQUN2QixNQUFNL0MsYUFBYSxJQUFJLENBQUNyRix3QkFBd0I7UUFDaEQsSUFBSXFGLGNBQWMsTUFBTTtZQUNwQkEsV0FBV0MsU0FBUyxDQUFDbUMsTUFBTSxDQUFDO1lBQzVCcEMsV0FBV21DLG1CQUFtQixDQUFDLFNBQVMsSUFBSSxDQUFDbEcsK0JBQStCO1lBQzVFLElBQUksQ0FBQ3RCLHdCQUF3QixHQUFHO1FBQ3BDO1FBQ0EsTUFBTThCLFlBQVksSUFBSSxDQUFDbEMsc0JBQXNCO1FBQzdDLElBQUlrQyxhQUFhLE1BQU07WUFDbkJBLFVBQVV1RyxNQUFNO1lBQ2hCLElBQUksQ0FBQ3pJLHNCQUFzQixHQUFHO1FBQ2xDO1FBQ0EsTUFBTTBJLG1CQUFtQixJQUFJLENBQUMzSSxnQkFBZ0I7UUFDOUMsSUFBSTJJLG9CQUFvQixNQUFNO1lBQzFCQSxpQkFBaUJELE1BQU07WUFDdkIsSUFBSSxDQUFDMUksZ0JBQWdCLEdBQUc7UUFDNUI7UUFDQSxJQUFJLElBQUksQ0FBQ0wsWUFBWSxJQUFJLE1BQU07WUFDM0IsSUFBSSxDQUFDQSxZQUFZLENBQUNvQyxPQUFPO1lBQ3pCLElBQUksQ0FBQ3BDLFlBQVksR0FBRztRQUN4QjtRQUNBLElBQUksQ0FBQ0MsUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUc7UUFDekIsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRztRQUMxQixJQUFJLENBQUNDLEtBQUssR0FBRztRQUNiLElBQUksQ0FBQ0csV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0ksT0FBTyxHQUFHO1FBQ2YsSUFBSSxJQUFJLENBQUNGLGNBQWMsSUFBSSxNQUFNO1lBQzdCLElBQUksQ0FBQ0EsY0FBYztRQUN2QjtRQUNBLElBQUksQ0FBQytHLGFBQWEsQ0FBQztZQUFFQyxNQUFNO1lBQVVDLFFBQVEzSSxTQUFTQyxjQUFjO1FBQUM7SUFDekU7SUFDQWlLLFdBQVdDLElBQUksRUFBRTtRQUNiLE1BQU12RyxRQUFRLElBQUksQ0FBQ04sY0FBYztRQUNqQyxNQUFNc0IsS0FBSyxJQUFJLENBQUNELGFBQWEsQ0FBQ0MsRUFBRTtRQUNoQ0EsR0FBR3dGLFlBQVksQ0FBQ3pKO1FBQ2hCaUQsTUFBTStGLFFBQVEsR0FBRy9FLEdBQUd5RixTQUFTO1FBQzdCLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUcxRyxNQUFNeUcsU0FBUyxHQUFHRSxXQUFXO1FBQ2xEM0csTUFBTWdHLGNBQWMsQ0FBQ2xDLEtBQUs4QyxLQUFLLENBQUNGLFFBQVEsQ0FBQyxFQUFFLEVBQUVBLFFBQVEsQ0FBQyxFQUFFO1FBQ3hELElBQUksQ0FBQyxJQUFJLENBQUN0SSxXQUFXLEVBQUU7WUFDbkIsSUFBSSxDQUFDeUksY0FBYztZQUNuQixJQUFJLENBQUN6SSxXQUFXLEdBQUc7UUFDdkI7UUFDQSx1REFBdUQ7UUFDdkQsSUFBSW1JLEtBQUtPLG9CQUFvQixJQUFJUCxLQUFLUSx3QkFBd0IsRUFBRTtZQUM1RCxNQUFNckcsUUFBUTZGLEtBQUtRLHdCQUF3QjtZQUMzQ1IsS0FBS08sb0JBQW9CLENBQUNoRCxLQUFLa0QsR0FBRyxDQUFDdEcsT0FBT3hFO1FBQzlDO1FBQ0EsTUFBTStLLFFBQVEsSUFBSSxDQUFDOUosY0FBYyxDQUFDK0osV0FBVyxDQUFDQyxTQUFTO1FBQ3ZELE1BQU1DLFdBQVdILE1BQU1JLFdBQVcsQ0FBQ2Q7UUFDbkMsSUFBSSxDQUFDeEYsYUFBYSxDQUFDdUcsV0FBVyxDQUFDRixTQUFTekcsQ0FBQyxFQUFFeUcsU0FBU3ZHLENBQUMsRUFBRXVHLFNBQVNHLEtBQUssRUFBRUgsU0FBU2pCLE1BQU07SUFDMUY7SUFDQVUsaUJBQWlCO1FBQ2IsTUFBTTdHLFFBQVEsSUFBSSxDQUFDTixjQUFjO1FBQ2pDLE1BQU0sRUFBRStGLFFBQVEsRUFBRTdDLE9BQU8sRUFBRSxHQUFHNUM7UUFDOUIsTUFBTStGLFdBQVcvRixNQUFNeUcsU0FBUztRQUNoQyxNQUFNLEVBQUVjLEtBQUssRUFBRXBCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQ25JLE9BQU8sQ0FBQ2tJLHFCQUFxQjtRQUM1RGxHLE1BQU13SCxPQUFPLENBQUNELE9BQU9wQjtRQUNyQkosU0FBUzBCLHVCQUF1QixDQUFDbEgsSUFBSSxDQUFDd0YsU0FBUzJCLGdCQUFnQixFQUFFQyxNQUFNO1FBQ3ZFLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUUsR0FBR2pGLFFBQ3JCa0YsY0FBYztRQUNuQiwyQ0FBMkM7UUFDM0MsTUFBTUMsa0JBQWtCaEMsU0FBU2lDLGlCQUFpQixDQUFDcEw7UUFDbkRvRCxNQUFNd0QsR0FBRyxHQUFHTSxLQUFLOEMsS0FBSyxDQUFDLENBQUNtQixnQkFBZ0JwSCxDQUFDLEVBQUUsQ0FBQ29ILGdCQUFnQjNELENBQUMsSUFBSXdEO1FBQ2pFLElBQUksQ0FBQzlJLE9BQU8sR0FBR2tCLE1BQU13RCxHQUFHO1FBQ3hCaUMsU0FBU2xGLElBQUksQ0FBQ3dGLFNBQVNOLFFBQVEsRUFDMUJ6QyxHQUFHLENBQUMrRSxnQkFBZ0JFLGNBQWMsQ0FBQ0o7UUFDeEMsSUFBSSxDQUFDMUMsWUFBWTtRQUNqQixNQUFNRCxTQUFTbEYsTUFBTTRELFNBQVM7UUFDOUI2QixTQUFTekMsR0FBRyxDQUFDa0MsUUFBUWdELEdBQUcsQ0FBQyxJQUFJLENBQUM3SixTQUFTO1FBQ3ZDLElBQUksQ0FBQ1EsWUFBWSxDQUFDMEIsSUFBSSxDQUFDa0Y7UUFDdkJ6RixNQUFNMEMscUJBQXFCLENBQUM7UUFDNUIsTUFBTSxFQUFFdkIsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDMUQsS0FBSztRQUM5QjBELFFBQVE0QixnQkFBZ0IsQ0FBQyxlQUFlLElBQUksQ0FBQ3BELGFBQWE7UUFDMUR3QixRQUFRNEIsZ0JBQWdCLENBQUMsYUFBYSxJQUFJLENBQUNuQyxXQUFXO1FBQ3RETyxRQUNLZ0gscUNBQXFDLENBQUM7WUFBRUMsU0FBUztRQUFzQixHQUFHM0QsSUFBSSxDQUFDQyxDQUFBQTtZQUNoRixJQUFJLENBQUMvRyxzQkFBc0IsR0FBRytHO1FBQ2xDO0lBQ0o7SUFDQTJELG1CQUFtQjtRQUNmLE1BQU0sRUFBRWxJLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQ3ZDLFdBQVcsQ0FBQ3dDLE9BQU87UUFDekMsSUFBSWtJLFdBQVcsSUFBSSxDQUFDakwsWUFBWSxDQUFDa0wsY0FBYyxDQUFDLElBQUksQ0FBQzdJLGNBQWMsRUFBRVMsSUFBSSxDQUFDLEVBQUUsRUFBRUEsSUFBSSxDQUFDLEVBQUU7UUFDckYsSUFBSW1JLFlBQVksTUFBTTtZQUNsQjFMLFFBQVEyRCxJQUFJLENBQUMrSCxVQUFVSixHQUFHLENBQUMsSUFBSSxDQUFDeEksY0FBYyxDQUFDK0csU0FBUyxHQUFHaEIsUUFBUTtZQUNuRSxJQUFJN0ksUUFBUXNELE1BQU0sS0FBSy9ELGNBQ25CLE9BQU87UUFDZjtRQUNBLE9BQU9tTTtJQUNYO0lBQ0FFLFlBQVlDLFNBQVMsRUFBRTtRQUNuQixNQUFNQyxXQUFXLElBQUksQ0FBQzNILGFBQWEsQ0FBQ0MsRUFBRSxDQUFDMkgsaUJBQWlCO1FBQ3hELE1BQU1DLE9BQU9ILFVBQVVJLE9BQU8sQ0FBQ0g7UUFDL0IsSUFBSUUsUUFBUSxNQUFNO1lBQ2QsT0FBTztRQUNYO1FBQ0EsTUFBTUUsWUFBWWpNLFFBQVFrTSxTQUFTLENBQUNILEtBQUtJLFNBQVMsQ0FBQ0MsTUFBTTtRQUN6RCxJQUFJLElBQUksQ0FBQzdMLFdBQVcsS0FBSyxNQUFNO1lBQzNCLGdEQUFnRDtZQUNoRCxJQUFJLENBQUMwQixPQUFPLEdBQUdnRixLQUFLOEMsS0FBSyxDQUFDa0MsVUFBVXBDLFFBQVEsQ0FBQyxFQUFFLEVBQUVvQyxVQUFVcEMsUUFBUSxDQUFDLEVBQUU7UUFDMUU7UUFDQSw0RUFBNEU7UUFDNUUsbUVBQW1FO1FBQ25FLE9BQU9vQyxVQUFVcEMsUUFBUSxDQUFDLEVBQUUsR0FBRyxTQUFTLElBQUksQ0FBQ3RKLFdBQVcsR0FDcEROLFlBQVlvTSxxQkFBcUIsQ0FBQ0osYUFDbEM7SUFDUjtJQUNBSyxZQUFZMUwsS0FBSyxFQUFFO1FBQ2YsTUFBTW9DLFlBQVksSUFBSSxDQUFDbkMsZ0JBQWdCO1FBQ3ZDLElBQUltQyxhQUFhLE1BQU07WUFDbkI7UUFDSjtRQUNBLE1BQU11SixpQkFBaUIzTCxNQUFNNEwsaUJBQWlCLENBQUN4SjtRQUMvQyxJQUFJdUosZUFBZWxKLE1BQU0sSUFBSSxHQUFHO1lBQzVCO1FBQ0o7UUFDQSxNQUFNb0osTUFBTUYsY0FBYyxDQUFDLEVBQUU7UUFDN0IsTUFBTUcsV0FBVyxJQUFJLENBQUNmLFdBQVcsQ0FBQ2M7UUFDbEMsSUFBSUMsWUFBWSxNQUFNO1lBQ2xCO1FBQ0o7UUFDQSxJQUFJLENBQUNsTSxZQUFZLENBQUNpRCxJQUFJLEdBQUc7UUFDekIseUVBQXlFO1FBQ3pFLDBCQUEwQjtRQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDL0IsYUFBYSxFQUFFO1lBQ3JCLElBQUksSUFBSSxDQUFDbkIsV0FBVyxFQUFFO2dCQUNsQixJQUFJLENBQUN5QixZQUFZLENBQUMwQixJQUFJLENBQUNnSjtZQUMzQixPQUNLO2dCQUNELElBQUksQ0FBQzFLLFlBQVksQ0FBQ2dDLENBQUMsR0FBRzBJLFNBQVMxSSxDQUFDO1lBQ3BDO1FBQ0o7UUFDQWhCLFVBQVV1RyxNQUFNO1FBQ2hCLElBQUksQ0FBQzFJLGdCQUFnQixHQUFHO1FBQ3hCLElBQUksQ0FBQ21ILGFBQWEsQ0FBQztZQUFFQyxNQUFNO1lBQVVDLFFBQVEzSSxTQUFTRyxhQUFhO1FBQUM7SUFDeEU7SUFDQWtFLFlBQVlYLE9BQU8sRUFBRTtRQUNqQixNQUFNMEosWUFBWTFKLE9BQU8sQ0FBQyxFQUFFLENBQUNsQyxXQUFXLENBQUN3QyxPQUFPLENBQUNELElBQUk7UUFDckQsTUFBTXNKLFlBQVkzSixPQUFPLENBQUMsRUFBRSxDQUFDbEMsV0FBVyxDQUFDd0MsT0FBTyxDQUFDRCxJQUFJO1FBQ3JELE1BQU11SixTQUFTRCxTQUFTLENBQUMsRUFBRSxHQUFHRCxTQUFTLENBQUMsRUFBRTtRQUMxQyxNQUFNRyxTQUFTRixTQUFTLENBQUMsRUFBRSxHQUFHRCxTQUFTLENBQUMsRUFBRTtRQUMxQyxNQUFNSSxRQUFROUYsS0FBSzhDLEtBQUssQ0FBQytDLFFBQVFEO1FBQ2pDLElBQUlHLFdBQVcsSUFBSSxDQUFDakwsU0FBUyxHQUFHZ0w7UUFDaEMsSUFBSUMsV0FBVy9GLEtBQUtDLEVBQUUsRUFBRTtZQUNwQjhGLFlBQVksSUFBSS9GLEtBQUtDLEVBQUU7UUFDM0IsT0FDSyxJQUFJOEYsV0FBVyxDQUFDL0YsS0FBS0MsRUFBRSxFQUFFO1lBQzFCOEYsWUFBWSxJQUFJL0YsS0FBS0MsRUFBRTtRQUMzQjtRQUNBLElBQUksQ0FBQ25GLFNBQVMsR0FBR2dMO1FBQ2pCLE9BQU87WUFDSHBKLFlBQVlzRCxLQUFLZ0csSUFBSSxDQUFDSixTQUFTQSxTQUFTQyxTQUFTQTtZQUNqREUsVUFBVUE7UUFDZDtJQUNKO0lBQ0FFLGFBQWF0TSxLQUFLLEVBQUU7UUFDaEIsTUFBTW9DLFlBQVksSUFBSSxDQUFDbEMsc0JBQXNCO1FBQzdDLElBQUlrQyxhQUFhLE1BQU07WUFDbkI7UUFDSjtRQUNBLElBQUksQ0FBQyxJQUFJLENBQUN0QixhQUFhLElBQUksQ0FBQyxJQUFJLENBQUNFLGNBQWMsSUFBSSxDQUFDLElBQUksQ0FBQ0QsVUFBVSxFQUFFO1lBQ2pFO1FBQ0o7UUFDQSxNQUFNc0IsVUFBVXJDLE1BQU1zQyxrQ0FBa0MsQ0FBQ0Y7UUFDekQsTUFBTUcsUUFBUSxJQUFJLENBQUNOLGNBQWM7UUFDakMsTUFBTWdCLFFBQVFWLE1BQU1VLEtBQUssQ0FBQ0MsQ0FBQztRQUMzQiw0RUFBNEU7UUFDNUUsZ0VBQWdFO1FBQ2hFLElBQUksSUFBSSxDQUFDbEMsY0FBYyxFQUFFO1lBQ3JCLElBQUlxQixRQUFRSSxNQUFNLEdBQUcsR0FBRztnQkFDcEIsdUVBQXVFO2dCQUN2RSxnREFBZ0Q7Z0JBQ2hELElBQUksQ0FBQ3pCLGNBQWMsR0FBRztZQUMxQixPQUNLO2dCQUNELE1BQU0sRUFBRStCLFVBQVUsRUFBRXFKLFFBQVEsRUFBRSxHQUFHLElBQUksQ0FBQ3BKLFdBQVcsQ0FBQ1g7Z0JBQ2xELElBQUksSUFBSSxDQUFDMUMsV0FBVyxLQUFLLE9BQU87b0JBQzVCLElBQUksQ0FBQzBCLE9BQU8sSUFBSStLO2dCQUNwQjtnQkFDQSxJQUFJN0osTUFBTWdLLFFBQVEsRUFBRTtvQkFDaEIsTUFBTXRKLFFBQVFGLGFBQWEsSUFBSSxDQUFDN0IsVUFBVTtvQkFDMUMsSUFBSSxDQUFDSSxTQUFTLEdBQ1YsUUFBUy9DLG1CQUFtQjBFLFFBQVF6RSxpQkFBa0IsSUFBSXlFO2dCQUNsRTtZQUNKO1lBQ0E7UUFDSixPQUNLLElBQUlaLFFBQVFJLE1BQU0sS0FBSyxHQUFHO1lBQzNCLHdFQUF3RTtZQUN4RSxzQkFBc0I7WUFDdEIsSUFBSSxDQUFDM0IsYUFBYSxHQUFHO1lBQ3JCLElBQUksQ0FBQ0MsVUFBVSxHQUFHO1lBQ2xCLElBQUksQ0FBQ0MsY0FBYyxHQUFHO1lBQ3RCLE1BQU0sRUFBRStCLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQ0MsV0FBVyxDQUFDWDtZQUN4QyxJQUFJLENBQUNuQixVQUFVLEdBQUc2QixhQUFhRTtZQUMvQjtRQUNKO1FBQ0EsSUFBSSxJQUFJLENBQUNsQyxVQUFVLEVBQUU7WUFDakIsTUFBTW9MLFFBQVEsSUFBSSxDQUFDaE0sV0FBVyxDQUFDd0MsT0FBTyxDQUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHckU7WUFDakQsSUFBSSxDQUFDZ0QsT0FBTyxJQUFJOEssUUFBUSxJQUFJLENBQUNoTCxTQUFTO1lBQ3RDLElBQUksQ0FBQ0EsU0FBUyxHQUFHZ0w7UUFDckIsT0FDSyxJQUFJLElBQUksQ0FBQ3JMLGFBQWEsRUFBRTtZQUN6QnVCLFFBQVFtSyxPQUFPLENBQUNDLENBQUFBO2dCQUNaLElBQUlBLE9BQU90TSxXQUFXLEtBQUssSUFBSSxDQUFDQSxXQUFXLEVBQUU7b0JBQ3pDO2dCQUNKO2dCQUNBLElBQUkwTCxNQUFNO2dCQUNWLElBQUlZLE9BQU9DLE9BQU8sQ0FBQ2pLLE1BQU0sR0FBRyxHQUFHO29CQUMzQm9KLE1BQU0sSUFBSSxDQUFDZCxXQUFXLENBQUMwQixPQUFPQyxPQUFPLENBQUMsRUFBRTtnQkFDNUM7Z0JBQ0EsSUFBSWIsT0FBTyxNQUFNO29CQUNiQSxNQUFNLElBQUksQ0FBQ2pCLGdCQUFnQjtnQkFDL0I7Z0JBQ0EsSUFBSWlCLE9BQU8sTUFBTTtvQkFDYjtnQkFDSjtnQkFDQSxJQUFJLENBQUN6SyxZQUFZLENBQUNxSixHQUFHLENBQUMsSUFBSSxDQUFDeEosZ0JBQWdCO2dCQUMzQyxJQUFJLElBQUksQ0FBQ3RCLFdBQVcsS0FBSyxPQUFPO29CQUM1QixNQUFNZ04sU0FBU2QsSUFBSXpJLENBQUMsR0FBRyxJQUFJLENBQUNuQyxnQkFBZ0IsQ0FBQ21DLENBQUM7b0JBQzlDLHNFQUFzRTtvQkFDdEUsc0VBQXNFO29CQUN0RSxJQUFJdUosU0FBUyxHQUFHO3dCQUNaLElBQUksQ0FBQy9NLFlBQVksQ0FBQ3lELFlBQVksR0FBR3NKLFNBQVMxSjt3QkFDMUMsSUFBSSxDQUFDaEIsY0FBYyxDQUFDaUcsZUFBZSxDQUFDeUU7d0JBQ3BDLHVDQUF1Qzt3QkFDdkMsTUFBTUMsaUJBQWlCek4sUUFBUTJELElBQUksQ0FBQ1AsTUFBTXlHLFNBQVMsR0FBR2hCLFFBQVE7d0JBQzlELE1BQU02RSxRQUFRLENBQUNGLFNBQVVDLENBQUFBLGVBQWV4SixDQUFDLEdBQUd5SSxJQUFJekksQ0FBQzt3QkFDakR3SixlQUFlcEMsY0FBYyxDQUFDcUM7d0JBQzlCaEIsSUFBSXJCLGNBQWMsQ0FBQyxJQUFJcUMsT0FBT3RILEdBQUcsQ0FBQ3FIO29CQUN0QztnQkFDSjtnQkFDQSxJQUFJLENBQUN4TCxZQUFZLENBQUNtRSxHQUFHLENBQUNzRztnQkFDdEIsSUFBSSxDQUFDNUssZ0JBQWdCLENBQUM2QixJQUFJLENBQUMrSTtZQUMvQjtRQUNKO0lBQ0o7SUFDQWlCLFVBQVVDLEtBQUssRUFBRTtRQUNiLE1BQU14SyxRQUFRLElBQUksQ0FBQ04sY0FBYztRQUNqQyxNQUFNLEVBQUUrRixRQUFRLEVBQUVqQyxHQUFHLEVBQUUsR0FBR3hEO1FBQzFCLE1BQU15SyxpQkFBaUJ6SyxNQUFNMEssY0FBYyxDQUFDN0MsTUFBTTtRQUNsRCxNQUFNOEMsT0FBTyxJQUFJLENBQUM5TCxZQUFZO1FBQzlCLE1BQU0rTCxXQUFXNUssTUFBTVUsS0FBSyxDQUFDQyxDQUFDO1FBQzlCLE1BQU1WLE1BQU0sSUFBSSxDQUFDNUMsWUFBWTtRQUM3QixJQUFJLENBQUNzTixLQUFLRSxNQUFNLENBQUNwRixhQUFhLElBQUksQ0FBQzFHLFNBQVMsS0FBSzZMLFVBQVU7WUFDdkQsSUFBSSxFQUFFakssQ0FBQyxFQUFFRSxDQUFDLEVBQUV1RCxDQUFDLEVBQUUsR0FBR3FCO1lBQ2xCOUUsSUFBSSxJQUFJLENBQUMzQixPQUFPLENBQUM4TCxNQUFNLENBQUNuSyxHQUFHZ0ssS0FBS2hLLENBQUMsRUFBRTZKLE9BQU9DO1lBQzFDNUosSUFBSSxJQUFJLENBQUM1QixPQUFPLENBQUM2TCxNQUFNLENBQUNqSyxHQUFHOEosS0FBSzlKLENBQUMsRUFBRTJKLE9BQU9DO1lBQzFDckcsSUFBSSxJQUFJLENBQUNsRixPQUFPLENBQUM0TCxNQUFNLENBQUMxRyxHQUFHdUcsS0FBS3ZHLENBQUMsRUFBRW9HLE9BQU9DO1lBQzFDaEYsU0FBU0MsR0FBRyxDQUFDL0UsR0FBR0UsR0FBR3VEO1lBQ25CLE1BQU0yRyxXQUFXLElBQUksQ0FBQzNMLFdBQVcsQ0FBQzBMLE1BQU0sQ0FBQ0YsVUFBVSxJQUFJLENBQUM3TCxTQUFTLEVBQUV5TCxPQUFPO1lBQzFFeEssTUFBTVUsS0FBSyxDQUFDZ0YsR0FBRyxDQUFDcUYsVUFBVUEsVUFBVUE7WUFDcEMsSUFBSSxDQUFDLElBQUksQ0FBQ3hNLGFBQWEsRUFBRTtnQkFDckIsTUFBTTZMLFNBQVNPLEtBQUs5SixDQUFDLEdBQUdBO2dCQUN4QixJQUFJLElBQUksQ0FBQ3ZDLGlCQUFpQixJQUFJLElBQUksQ0FBQ2xCLFdBQVcsS0FBSyxPQUFPO29CQUN0RDZDLElBQUlhLFlBQVksR0FBR3NKLFNBQVNXO29CQUM1Qi9LLE1BQU0yRixlQUFlLENBQUN5RTtnQkFDMUIsT0FDSyxJQUFJQSxXQUFXLEdBQUc7b0JBQ25CLElBQUksQ0FBQzlMLGlCQUFpQixHQUFHO29CQUN6QjJCLElBQUlLLElBQUksR0FBRztvQkFDWE4sTUFBTTJELGtCQUFrQixDQUFDOUg7Z0JBQzdCO1lBQ0o7UUFDSjtRQUNBb0UsSUFBSStLLGFBQWEsQ0FBQ1I7UUFDbEJ4SyxNQUFNbUYsWUFBWSxDQUFDcUY7UUFDbkIseUVBQXlFO1FBQ3pFeEssTUFBTXdELEdBQUcsR0FBRyxJQUFJLENBQUNyRSxTQUFTLENBQUMyTCxNQUFNLENBQUN0SCxLQUFLLElBQUksQ0FBQzFFLE9BQU8sRUFBRTBMLE9BQU8xRyxLQUFLQyxFQUFFO0lBQ3ZFO0lBQ0E7O0tBRUMsR0FDRGtILGFBQWFDLElBQUksRUFBRXpOLEtBQUssRUFBRTtRQUN0QixJQUFJLENBQUNBLEtBQUssR0FBR0E7UUFDYixFQUFFLElBQUksQ0FBQ1UsTUFBTTtRQUNiLE1BQU11SyxXQUFXLElBQUksQ0FBQzNILGFBQWEsQ0FBQ0MsRUFBRSxDQUFDMkgsaUJBQWlCO1FBQ3hELE1BQU1DLE9BQU9uTCxNQUFNME4sYUFBYSxDQUFDekM7UUFDakMsSUFBSUUsUUFBUSxRQUFRLElBQUksQ0FBQzFLLFFBQVEsS0FBSyxRQUFRLElBQUksQ0FBQ0MsTUFBTSxHQUFHdkMsYUFBYTtZQUNyRSxJQUFJLENBQUNzQyxRQUFRLEdBQUc7WUFDaEIsSUFBSSxDQUFDMkcsYUFBYSxDQUFDO2dCQUFFQyxNQUFNO2dCQUFZQyxRQUFRdEksV0FBV0UsWUFBWTtZQUFDO1FBQzNFO1FBQ0EsTUFBTXFELFFBQVEsSUFBSSxDQUFDTixjQUFjO1FBQ2pDLElBQUlrSixRQUFRLFFBQVE1SSxTQUFTLFFBQVEsQ0FBQ0EsTUFBTTRDLE9BQU8sQ0FBQ3dJLE1BQU0sRUFBRTtZQUN4RCxJQUFJLENBQUNySyxhQUFhLENBQUNzSyxLQUFLO1lBQ3hCO1FBQ0o7UUFDQSxJQUFJLElBQUksQ0FBQ25OLFFBQVEsS0FBSyxPQUFPO1lBQ3pCLElBQUksQ0FBQ0EsUUFBUSxHQUFHO1lBQ2hCLElBQUksQ0FBQzJHLGFBQWEsQ0FBQztnQkFBRUMsTUFBTTtnQkFBWUMsUUFBUXRJLFdBQVdDLFFBQVE7WUFBQztRQUN2RTtRQUNBLDZEQUE2RDtRQUM3RCwrREFBK0Q7UUFDL0QsMkRBQTJEO1FBQzNELHlCQUF5QjtRQUN6QixJQUFJNE8sY0FBYztRQUNsQixLQUFLLE1BQU0vRSxRQUFRcUMsS0FBSzJDLEtBQUssQ0FBRTtZQUMzQixJQUFJLENBQUNqRixVQUFVLENBQUNDO1lBQ2hCLElBQUkrRSxhQUFhO2dCQUNiLElBQUksQ0FBQ25DLFdBQVcsQ0FBQzFMO2dCQUNqQixJQUFJLENBQUNzTSxZQUFZLENBQUN0TTtnQkFDbEIsTUFBTStNLFFBQVFVLE9BQU8sSUFBSSxDQUFDNU4sUUFBUTtnQkFDbEMsSUFBSSxDQUFDaU4sU0FBUyxDQUFDQztnQkFDZixJQUFJLENBQUN0TixRQUFRLENBQUNzTyxTQUFTLENBQUN4TCxPQUFPa0wsTUFBTVY7Z0JBQ3JDLElBQUksQ0FBQ2xOLFFBQVEsR0FBRzROO2dCQUNoQmxMLE1BQU15TCxZQUFZLENBQUMsSUFBSSxDQUFDMUssYUFBYTtZQUN6QztZQUNBLElBQUksQ0FBQ0EsYUFBYSxDQUFDMkssTUFBTSxDQUFDMUwsT0FBT0EsTUFBTXlHLFNBQVM7WUFDaEQ2RSxjQUFjO1FBQ2xCO0lBQ0o7QUFDSixFQUNBLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvQVJSZW5kZXJlci5qcz8yZTQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciwgTWF0cml4NCwgUGVyc3BlY3RpdmVDYW1lcmEsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBYUkVzdGltYXRlZExpZ2h0IH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3dlYnhyL1hSRXN0aW1hdGVkTGlnaHQuanMnO1xuaW1wb3J0IHsgJGN1cnJlbnRCYWNrZ3JvdW5kLCAkY3VycmVudEVudmlyb25tZW50TWFwIH0gZnJvbSAnLi4vZmVhdHVyZXMvZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgJG9uUmVzaXplIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgYXNzZXJ0SXNBckNhbmRpZGF0ZSB9IGZyb20gJy4uL3V0aWxpdGllcy5qcyc7XG5pbXBvcnQgeyBEYW1wZXIgfSBmcm9tICcuL0RhbXBlci5qcyc7XG5pbXBvcnQgeyBQbGFjZW1lbnRCb3ggfSBmcm9tICcuL1BsYWNlbWVudEJveC5qcyc7XG4vLyBudW1iZXIgb2YgaW5pdGlhbCBudWxsIHBvc2UgWFJGcmFtZXMgYWxsb3dlZCBiZWZvcmUgd2UgcG9zdCBub3QtdHJhY2tpbmdcbmNvbnN0IElOSVRfRlJBTUVTID0gMzA7XG4vLyBBUiBzaGFkb3cgaXMgbm90IHVzZXItY29uZmlndXJhYmxlLiBUaGlzIGlzIHRvIHBhdmUgdGhlIHdheSBmb3IgQVIgbGlnaHRpbmdcbi8vIGVzdGltYXRpb24sIHdoaWNoIHdpbGwgYmUgdXNlZCBvbmNlIGF2YWlsYWJsZSBpbiBXZWJYUi5cbmNvbnN0IEFSX1NIQURPV19JTlRFTlNJVFkgPSAwLjg7XG5jb25zdCBST1RBVElPTl9SQVRFID0gMS41O1xuLy8gQW5nbGUgZG93biAodG93YXJkcyBib3R0b20gb2Ygc2NyZWVuKSBmcm9tIGNhbWVyYSBjZW50ZXIgcmF5IHRvIHVzZSBmb3IgaGl0XG4vLyB0ZXN0aW5nIGFnYWluc3QgdGhlIGZsb29yLiBUaGlzIG1ha2VzIHBsYWNlbWVudCBmYXN0ZXIgYW5kIG1vcmUgaW50dWl0aXZlXG4vLyBhc3N1bWluZyB0aGUgcGhvbmUgaXMgaW4gcG9ydHJhaXQgbW9kZS4gVGhpcyBzZWVtcyB0byBiZSBhIHJlYXNvbmFibGVcbi8vIGFzc3VtcHRpb24gZm9yIHRoZSBzdGFydCBvZiB0aGUgc2Vzc2lvbiBhbmQgVUkgd2lsbCBsYWNrIGxhbmRzY2FwZSBtb2RlIHRvXG4vLyBlbmNvdXJhZ2UgdXByaWdodCB1c2UuXG5jb25zdCBISVRfQU5HTEVfREVHID0gMjA7XG5jb25zdCBTQ0FMRV9TTkFQX0hJR0ggPSAxLjM7XG5jb25zdCBTQ0FMRV9TTkFQX0xPVyA9IDEgLyBTQ0FMRV9TTkFQX0hJR0g7XG4vLyBGb3IgYXV0b21hdGljIGR5bmFtaWMgdmlld3BvcnQgc2NhbGluZywgZG9uJ3QgbGV0IHRoZSBzY2FsZSBkcm9wIGJlbG93IHRoaXNcbi8vIGxpbWl0LlxuY29uc3QgTUlOX1ZJRVdQT1JUX1NDQUxFID0gMC4yNTtcbi8vIEZ1cnRoZXN0IGF3YXkgeW91IGNhbiBtb3ZlIGFuIG9iamVjdCAobWV0ZXJzKS5cbmNvbnN0IE1BWF9ESVNUQU5DRSA9IDEwO1xuZXhwb3J0IGNvbnN0IEFSU3RhdHVzID0ge1xuICAgIE5PVF9QUkVTRU5USU5HOiAnbm90LXByZXNlbnRpbmcnLFxuICAgIFNFU1NJT05fU1RBUlRFRDogJ3Nlc3Npb24tc3RhcnRlZCcsXG4gICAgT0JKRUNUX1BMQUNFRDogJ29iamVjdC1wbGFjZWQnLFxuICAgIEZBSUxFRDogJ2ZhaWxlZCdcbn07XG5leHBvcnQgY29uc3QgQVJUcmFja2luZyA9IHtcbiAgICBUUkFDS0lORzogJ3RyYWNraW5nJyxcbiAgICBOT1RfVFJBQ0tJTkc6ICdub3QtdHJhY2tpbmcnXG59O1xuY29uc3QgdmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XG5jb25zdCBtYXRyaXg0ID0gbmV3IE1hdHJpeDQoKTtcbmNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg0NSwgMSwgMC4xLCAxMDApO1xuZXhwb3J0IGNsYXNzIEFSUmVuZGVyZXIgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMucGxhY2VPbldhbGwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wbGFjZW1lbnRCb3ggPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RUaWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy50dXJudGFibGVSb3RhdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub2xkU2hhZG93SW50ZW5zaXR5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5pdGlhbEhpdFNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhbnNpZW50SGl0VGVzdFNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5wdXRTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcmVzZW50ZWRTY2VuZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNsZWFudXAgPSBudWxsO1xuICAgICAgICB0aGlzLmV4aXRXZWJYUkJ1dHRvbkNvbnRhaW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMub3ZlcmxheSA9IG51bGw7XG4gICAgICAgIHRoaXMueHJMaWdodCA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhY2tpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmZyYW1lcyA9IDA7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbGRUYXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnBsYWNlbWVudENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzUm90YXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1R3b0ZpbmdlcmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3REcmFnUG9zaXRpb24gPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLmZpcnN0UmF0aW8gPSAwO1xuICAgICAgICB0aGlzLmxhc3RBbmdsZSA9IDA7XG4gICAgICAgIHRoaXMuZ29hbFBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5nb2FsWWF3ID0gMDtcbiAgICAgICAgdGhpcy5nb2FsU2NhbGUgPSAxO1xuICAgICAgICB0aGlzLnhEYW1wZXIgPSBuZXcgRGFtcGVyKCk7XG4gICAgICAgIHRoaXMueURhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy56RGFtcGVyID0gbmV3IERhbXBlcigpO1xuICAgICAgICB0aGlzLnlhd0RhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy5zY2FsZURhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy5vbkV4aXRXZWJYUkJ1dHRvbkNvbnRhaW5lckNsaWNrID0gKCkgPT4gdGhpcy5zdG9wUHJlc2VudGluZygpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlU2NlbmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGFjZW1lbnRCb3ggIT0gbnVsbCAmJiB0aGlzLmlzUHJlc2VudGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50Qm94LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudEJveCA9IG5ldyBQbGFjZW1lbnRCb3godGhpcy5wcmVzZW50ZWRTY2VuZSwgdGhpcy5wbGFjZU9uV2FsbCA/ICdiYWNrJyA6ICdib3R0b20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblNlbGVjdFN0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBoaXRTb3VyY2UgPSB0aGlzLnRyYW5zaWVudEhpdFRlc3RTb3VyY2U7XG4gICAgICAgICAgICBpZiAoaGl0U291cmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaW5nZXJzID0gdGhpcy5mcmFtZS5nZXRIaXRUZXN0UmVzdWx0c0ZvclRyYW5zaWVudElucHV0KGhpdFNvdXJjZSk7XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgICAgICBjb25zdCBib3ggPSB0aGlzLnBsYWNlbWVudEJveDtcbiAgICAgICAgICAgIGlmIChmaW5nZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRTb3VyY2UgPSBldmVudC5pbnB1dFNvdXJjZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGF4ZXMgfSA9IHRoaXMuaW5wdXRTb3VyY2UuZ2FtZXBhZDtcbiAgICAgICAgICAgICAgICBjb25zdCBoaXRQb3NpdGlvbiA9IGJveC5nZXRIaXQodGhpcy5wcmVzZW50ZWRTY2VuZSwgYXhlc1swXSwgYXhlc1sxXSk7XG4gICAgICAgICAgICAgICAgYm94LnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChoaXRQb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERyYWdQb3NpdGlvbi5jb3B5KGhpdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wbGFjZU9uV2FsbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JvdGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0QW5nbGUgPSBheGVzWzBdICogUk9UQVRJT05fUkFURTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmaW5nZXJzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIGJveC5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVHdvRmluZ2VyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlcGFyYXRpb24gfSA9IHRoaXMuZmluZ2VyUG9sYXIoZmluZ2Vycyk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFJhdGlvID0gc2VwYXJhdGlvbiAvIHNjZW5lLnNjYWxlLng7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25TZWxlY3RFbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc1R3b0ZpbmdlcmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pbnB1dFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdvYWxQb3NpdGlvbi55ICs9XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnRCb3gub2Zmc2V0SGVpZ2h0ICogdGhpcy5wcmVzZW50ZWRTY2VuZS5zY2FsZS54O1xuICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnRCb3guc2hvdyA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIgPSByZW5kZXJlci50aHJlZVJlbmRlcmVyO1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIueHIuZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIGFzeW5jIHJlc29sdmVBUlNlc3Npb24oKSB7XG4gICAgICAgIGFzc2VydElzQXJDYW5kaWRhdGUoKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IG5hdmlnYXRvci54ci5yZXF1ZXN0U2Vzc2lvbignaW1tZXJzaXZlLWFyJywge1xuICAgICAgICAgICAgcmVxdWlyZWRGZWF0dXJlczogWydoaXQtdGVzdCddLFxuICAgICAgICAgICAgb3B0aW9uYWxGZWF0dXJlczogWydkb20tb3ZlcmxheScsICdsaWdodC1lc3RpbWF0aW9uJ10sXG4gICAgICAgICAgICBkb21PdmVybGF5OiB0aGlzLm92ZXJsYXkgPyB7IHJvb3Q6IHRoaXMub3ZlcmxheSB9IDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIueHIuc2V0UmVmZXJlbmNlU3BhY2VUeXBlKCdsb2NhbCcpO1xuICAgICAgICBhd2FpdCB0aGlzLnRocmVlUmVuZGVyZXIueHIuc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnhyLmNhbWVyYUF1dG9VcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50bHkgcHJlc2VudGVkIHNjZW5lLCBpZiBhbnlcbiAgICAgKi9cbiAgICBnZXQgcHJlc2VudGVkU2NlbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVzZW50ZWRTY2VuZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgcmVuZGVyZXIgaGFzIGRldGVjdGVkIGFsbCB0aGUgbmVjZXNzYXJ5IHF1YWxpdGllc1xuICAgICAqIHRvIHN1cHBvcnQgcHJlc2VudGF0aW9uIGluIEFSLlxuICAgICAqL1xuICAgIGFzeW5jIHN1cHBvcnRzUHJlc2VudGF0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXNzZXJ0SXNBckNhbmRpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG5hdmlnYXRvci54ci5pc1Nlc3Npb25TdXBwb3J0ZWQoJ2ltbWVyc2l2ZS1hcicpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdSZXF1ZXN0IHRvIHByZXNlbnQgaW4gV2ViWFIgZGVuaWVkOicpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFsbGluZyBiYWNrIHRvIG5leHQgYXItbW9kZScpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgYSBzY2VuZSBpbiBBUlxuICAgICAqL1xuICAgIGFzeW5jIHByZXNlbnQoc2NlbmUsIGVudmlyb25tZW50RXN0aW1hdGlvbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJlc2VudGluZykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDYW5ub3QgcHJlc2VudCB3aGlsZSBhIG1vZGVsIGlzIGFscmVhZHkgcHJlc2VudGluZycpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3YWl0Rm9yQW5pbWF0aW9uRnJhbWUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzY2VuZS5zZXRIb3RzcG90c1Zpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICBzY2VuZS5xdWV1ZVJlbmRlcigpO1xuICAgICAgICAvLyBSZW5kZXIgYSBmcmFtZSB0byB0dXJuIG9mZiB0aGUgaG90c3BvdHNcbiAgICAgICAgYXdhaXQgd2FpdEZvckFuaW1hdGlvbkZyYW1lO1xuICAgICAgICAvLyBUaGlzIHNldHMgaXNQcmVzZW50aW5nIHRvIHRydWVcbiAgICAgICAgdGhpcy5fcHJlc2VudGVkU2NlbmUgPSBzY2VuZTtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gc2NlbmUuZWxlbWVudC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5kZWZhdWx0Jyk7XG4gICAgICAgIGlmIChlbnZpcm9ubWVudEVzdGltYXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMueHJMaWdodCA9IG5ldyBYUkVzdGltYXRlZExpZ2h0KHRoaXMudGhyZWVSZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLnhyTGlnaHQuYWRkRXZlbnRMaXN0ZW5lcignZXN0aW1hdGlvbnN0YXJ0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1ByZXNlbnRpbmcgfHwgdGhpcy54ckxpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgICAgICAgICAgc2NlbmUuYWRkKHRoaXMueHJMaWdodCk7XG4gICAgICAgICAgICAgICAgc2NlbmUuZW52aXJvbm1lbnQgPSB0aGlzLnhyTGlnaHQuZW52aXJvbm1lbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50U2Vzc2lvbiA9IGF3YWl0IHRoaXMucmVzb2x2ZUFSU2Vzc2lvbigpO1xuICAgICAgICBjdXJyZW50U2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBvc3RTZXNzaW9uQ2xlYW51cCgpO1xuICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IGV4aXRCdXR0b24gPSBzY2VuZS5lbGVtZW50LnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnNsb3QuZXhpdC13ZWJ4ci1hci1idXR0b24nKTtcbiAgICAgICAgZXhpdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbmFibGVkJyk7XG4gICAgICAgIGV4aXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uRXhpdFdlYlhSQnV0dG9uQ29udGFpbmVyQ2xpY2spO1xuICAgICAgICB0aGlzLmV4aXRXZWJYUkJ1dHRvbkNvbnRhaW5lciA9IGV4aXRCdXR0b247XG4gICAgICAgIGNvbnN0IHZpZXdlclJlZlNwYWNlID0gYXdhaXQgY3VycmVudFNlc3Npb24ucmVxdWVzdFJlZmVyZW5jZVNwYWNlKCd2aWV3ZXInKTtcbiAgICAgICAgdGhpcy50cmFja2luZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZnJhbWVzID0gMDtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnR1cm50YWJsZVJvdGF0aW9uID0gc2NlbmUueWF3O1xuICAgICAgICB0aGlzLmdvYWxZYXcgPSBzY2VuZS55YXc7XG4gICAgICAgIHRoaXMuZ29hbFNjYWxlID0gMTtcbiAgICAgICAgc2NlbmUuYmFja2dyb3VuZCA9IG51bGw7XG4gICAgICAgIHRoaXMub2xkU2hhZG93SW50ZW5zaXR5ID0gc2NlbmUuc2hhZG93SW50ZW5zaXR5O1xuICAgICAgICBzY2VuZS5zZXRTaGFkb3dJbnRlbnNpdHkoMC4wMSk7IC8vIGludmlzaWJsZSwgYnV0IG5vdCBjaGFuZ2luZyB0aGUgc2hhZGVyXG4gICAgICAgIHRoaXMub2xkVGFyZ2V0LmNvcHkoc2NlbmUuZ2V0VGFyZ2V0KCkpO1xuICAgICAgICBzY2VuZS5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLm9uVXBkYXRlU2NlbmUpO1xuICAgICAgICBjb25zdCByYWRpYW5zID0gSElUX0FOR0xFX0RFRyAqIE1hdGguUEkgLyAxODA7XG4gICAgICAgIGNvbnN0IHJheSA9IHRoaXMucGxhY2VPbldhbGwgPT09IHRydWUgP1xuICAgICAgICAgICAgdW5kZWZpbmVkIDpcbiAgICAgICAgICAgIG5ldyBYUlJheShuZXcgRE9NUG9pbnQoMCwgMCwgMCksIHsgeDogMCwgeTogLU1hdGguc2luKHJhZGlhbnMpLCB6OiAtTWF0aC5jb3MocmFkaWFucykgfSk7XG4gICAgICAgIGN1cnJlbnRTZXNzaW9uXG4gICAgICAgICAgICAucmVxdWVzdEhpdFRlc3RTb3VyY2UoeyBzcGFjZTogdmlld2VyUmVmU3BhY2UsIG9mZnNldFJheTogcmF5IH0pLnRoZW4oaGl0VGVzdFNvdXJjZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxIaXRTb3VyY2UgPSBoaXRUZXN0U291cmNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IGN1cnJlbnRTZXNzaW9uO1xuICAgICAgICB0aGlzLnBsYWNlbWVudEJveCA9XG4gICAgICAgICAgICBuZXcgUGxhY2VtZW50Qm94KHNjZW5lLCB0aGlzLnBsYWNlT25XYWxsID8gJ2JhY2snIDogJ2JvdHRvbScpO1xuICAgICAgICB0aGlzLnBsYWNlbWVudENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdFRpY2sgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ3N0YXR1cycsIHN0YXR1czogQVJTdGF0dXMuU0VTU0lPTl9TVEFSVEVEIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiBjdXJyZW50bHkgcHJlc2VudGluZyBhIHNjZW5lIGluIEFSLCBzdG9wcyBwcmVzZW50YXRpb24gYW5kIGV4aXRzIEFSLlxuICAgICAqL1xuICAgIGFzeW5jIHN0b3BQcmVzZW50aW5nKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNQcmVzZW50aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xlYW51cFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ2xlYW51cCA9IHJlc29sdmU7XG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jdXJyZW50U2Vzc2lvbi5lbmQoKTtcbiAgICAgICAgICAgIGF3YWl0IGNsZWFudXBQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciB3aGlsZSB0cnlpbmcgdG8gZW5kIFdlYlhSIEFSIHNlc3Npb24nKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnBvc3RTZXNzaW9uQ2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgYSBzY2VuZSBpcyBjdXJyZW50bHkgaW4gdGhlIHByb2Nlc3Mgb2YgYmVpbmcgcHJlc2VudGVkIGluIEFSXG4gICAgICovXG4gICAgZ2V0IGlzUHJlc2VudGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlc2VudGVkU2NlbmUgIT0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IHRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2xkVGFyZ2V0O1xuICAgIH1cbiAgICB1cGRhdGVUYXJnZXQoKSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpcy5wcmVzZW50ZWRTY2VuZTtcbiAgICAgICAgaWYgKHNjZW5lICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHNjZW5lLmdldFRhcmdldCgpO1xuICAgICAgICAgICAgdGhpcy5vbGRUYXJnZXQuY29weSh0YXJnZXQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxhY2VPbldhbGwpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHRoZSBzY2VuZSdzIHRhcmdldCB0byB0aGUgY2VudGVyIG9mIHRoZSBiYWNrIG9mIHRoZSBtb2RlbCdzXG4gICAgICAgICAgICAgICAgLy8gYm91bmRpbmcgYm94LlxuICAgICAgICAgICAgICAgIHRhcmdldC56ID0gc2NlbmUuYm91bmRpbmdCb3gubWluLno7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHRoZSBzY2VuZSdzIHRhcmdldCB0byB0aGUgbW9kZWwncyBmbG9vciBoZWlnaHQuXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnkgPSBzY2VuZS5ib3VuZGluZ0JveC5taW4ueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjZW5lLnNldFRhcmdldCh0YXJnZXQueCwgdGFyZ2V0LnksIHRhcmdldC56KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwb3N0U2Vzc2lvbkNsZWFudXAoKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSB0aGlzLmN1cnJlbnRTZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgdGhpcy5vblNlbGVjdFN0YXJ0KTtcbiAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0ZW5kJywgdGhpcy5vblNlbGVjdEVuZCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgIHRoaXMuX3ByZXNlbnRlZFNjZW5lID0gbnVsbDtcbiAgICAgICAgaWYgKHNjZW5lICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gc2NlbmU7XG4gICAgICAgICAgICBpZiAodGhpcy54ckxpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzY2VuZS5yZW1vdmUodGhpcy54ckxpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnhyTGlnaHQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMueHJMaWdodCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY2VuZS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICBzY2VuZS5zY2FsZS5zZXQoMSwgMSwgMSk7XG4gICAgICAgICAgICBzY2VuZS5zZXRTaGFkb3dPZmZzZXQoMCk7XG4gICAgICAgICAgICBjb25zdCB5YXcgPSB0aGlzLnR1cm50YWJsZVJvdGF0aW9uO1xuICAgICAgICAgICAgaWYgKHlhdyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2NlbmUueWF3ID0geWF3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW50ZW5zaXR5ID0gdGhpcy5vbGRTaGFkb3dJbnRlbnNpdHk7XG4gICAgICAgICAgICBpZiAoaW50ZW5zaXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzY2VuZS5zZXRTaGFkb3dJbnRlbnNpdHkoaW50ZW5zaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjZW5lLnNldEVudmlyb25tZW50QW5kU2t5Ym94KGVsZW1lbnRbJGN1cnJlbnRFbnZpcm9ubWVudE1hcF0sIGVsZW1lbnRbJGN1cnJlbnRCYWNrZ3JvdW5kXSk7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMub2xkVGFyZ2V0O1xuICAgICAgICAgICAgc2NlbmUuc2V0VGFyZ2V0KHBvaW50LngsIHBvaW50LnksIHBvaW50LnopO1xuICAgICAgICAgICAgc2NlbmUueHJDYW1lcmEgPSBudWxsO1xuICAgICAgICAgICAgc2NlbmUuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5vblVwZGF0ZVNjZW5lKTtcbiAgICAgICAgICAgIHNjZW5lLm9yaWVudEhvdHNwb3RzKDApO1xuICAgICAgICAgICAgZWxlbWVudC5yZXF1ZXN0VXBkYXRlKCdjYW1lcmFUYXJnZXQnKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVxdWVzdFVwZGF0ZSgnbWF4Q2FtZXJhT3JiaXQnKTtcbiAgICAgICAgICAgIGVsZW1lbnRbJG9uUmVzaXplXShlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3JjZSB0aGUgUmVuZGVyZXIgdG8gdXBkYXRlIGl0cyBzaXplXG4gICAgICAgIHRoaXMucmVuZGVyZXIuaGVpZ2h0ID0gMDtcbiAgICAgICAgY29uc3QgZXhpdEJ1dHRvbiA9IHRoaXMuZXhpdFdlYlhSQnV0dG9uQ29udGFpbmVyO1xuICAgICAgICBpZiAoZXhpdEJ1dHRvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICBleGl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VuYWJsZWQnKTtcbiAgICAgICAgICAgIGV4aXRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uRXhpdFdlYlhSQnV0dG9uQ29udGFpbmVyQ2xpY2spO1xuICAgICAgICAgICAgdGhpcy5leGl0V2ViWFJCdXR0b25Db250YWluZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhpdFNvdXJjZSA9IHRoaXMudHJhbnNpZW50SGl0VGVzdFNvdXJjZTtcbiAgICAgICAgaWYgKGhpdFNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBoaXRTb3VyY2UuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaWVudEhpdFRlc3RTb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhpdFNvdXJjZUluaXRpYWwgPSB0aGlzLmluaXRpYWxIaXRTb3VyY2U7XG4gICAgICAgIGlmIChoaXRTb3VyY2VJbml0aWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhpdFNvdXJjZUluaXRpYWwuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxIaXRTb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBsYWNlbWVudEJveCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnBsYWNlbWVudEJveC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnBsYWNlbWVudEJveCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0VGljayA9IG51bGw7XG4gICAgICAgIHRoaXMudHVybnRhYmxlUm90YXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm9sZFNoYWRvd0ludGVuc2l0eSA9IG51bGw7XG4gICAgICAgIHRoaXMuZnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmlucHV0U291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x2ZUNsZWFudXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICdzdGF0dXMnLCBzdGF0dXM6IEFSU3RhdHVzLk5PVF9QUkVTRU5USU5HIH0pO1xuICAgIH1cbiAgICB1cGRhdGVWaWV3KHZpZXcpIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnByZXNlbnRlZFNjZW5lO1xuICAgICAgICBjb25zdCB4ciA9IHRoaXMudGhyZWVSZW5kZXJlci54cjtcbiAgICAgICAgeHIudXBkYXRlQ2FtZXJhKGNhbWVyYSk7XG4gICAgICAgIHNjZW5lLnhyQ2FtZXJhID0geHIuZ2V0Q2FtZXJhKCk7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudHMgfSA9IHNjZW5lLmdldENhbWVyYSgpLm1hdHJpeFdvcmxkO1xuICAgICAgICBzY2VuZS5vcmllbnRIb3RzcG90cyhNYXRoLmF0YW4yKGVsZW1lbnRzWzFdLCBlbGVtZW50c1s1XSkpO1xuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGxhY2VJbml0aWFsbHkoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzZSBhdXRvbWF0aWMgZHluYW1pYyB2aWV3cG9ydCBzY2FsaW5nIGlmIHN1cHBvcnRlZC5cbiAgICAgICAgaWYgKHZpZXcucmVxdWVzdFZpZXdwb3J0U2NhbGUgJiYgdmlldy5yZWNvbW1lbmRlZFZpZXdwb3J0U2NhbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdmlldy5yZWNvbW1lbmRlZFZpZXdwb3J0U2NhbGU7XG4gICAgICAgICAgICB2aWV3LnJlcXVlc3RWaWV3cG9ydFNjYWxlKE1hdGgubWF4KHNjYWxlLCBNSU5fVklFV1BPUlRfU0NBTEUpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuY3VycmVudFNlc3Npb24ucmVuZGVyU3RhdGUuYmFzZUxheWVyO1xuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IGxheWVyLmdldFZpZXdwb3J0KHZpZXcpO1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0Vmlld3BvcnQodmlld3BvcnQueCwgdmlld3BvcnQueSwgdmlld3BvcnQud2lkdGgsIHZpZXdwb3J0LmhlaWdodCk7XG4gICAgfVxuICAgIHBsYWNlSW5pdGlhbGx5KCkge1xuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgIGNvbnN0IHsgcG9zaXRpb24sIGVsZW1lbnQgfSA9IHNjZW5lO1xuICAgICAgICBjb25zdCB4ckNhbWVyYSA9IHNjZW5lLmdldENhbWVyYSgpO1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMub3ZlcmxheS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgc2NlbmUuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgeHJDYW1lcmEucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weSh4ckNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KS5pbnZlcnQoKTtcbiAgICAgICAgY29uc3QgeyB0aGV0YSwgcmFkaXVzIH0gPSBlbGVtZW50XG4gICAgICAgICAgICAuZ2V0Q2FtZXJhT3JiaXQoKTtcbiAgICAgICAgLy8gT3JpZW50IG1vZGVsIHRvIG1hdGNoIHRoZSAzRCBjYW1lcmEgdmlld1xuICAgICAgICBjb25zdCBjYW1lcmFEaXJlY3Rpb24gPSB4ckNhbWVyYS5nZXRXb3JsZERpcmVjdGlvbih2ZWN0b3IzKTtcbiAgICAgICAgc2NlbmUueWF3ID0gTWF0aC5hdGFuMigtY2FtZXJhRGlyZWN0aW9uLngsIC1jYW1lcmFEaXJlY3Rpb24ueikgLSB0aGV0YTtcbiAgICAgICAgdGhpcy5nb2FsWWF3ID0gc2NlbmUueWF3O1xuICAgICAgICBwb3NpdGlvbi5jb3B5KHhyQ2FtZXJhLnBvc2l0aW9uKVxuICAgICAgICAgICAgLmFkZChjYW1lcmFEaXJlY3Rpb24ubXVsdGlwbHlTY2FsYXIocmFkaXVzKSk7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KCk7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHNjZW5lLmdldFRhcmdldCgpO1xuICAgICAgICBwb3NpdGlvbi5hZGQodGFyZ2V0KS5zdWIodGhpcy5vbGRUYXJnZXQpO1xuICAgICAgICB0aGlzLmdvYWxQb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICAgICAgc2NlbmUuc2V0SG90c3BvdHNWaXNpYmlsaXR5KHRydWUpO1xuICAgICAgICBjb25zdCB7IHNlc3Npb24gfSA9IHRoaXMuZnJhbWU7XG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCB0aGlzLm9uU2VsZWN0U3RhcnQpO1xuICAgICAgICBzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVuZCcsIHRoaXMub25TZWxlY3RFbmQpO1xuICAgICAgICBzZXNzaW9uXG4gICAgICAgICAgICAucmVxdWVzdEhpdFRlc3RTb3VyY2VGb3JUcmFuc2llbnRJbnB1dCh7IHByb2ZpbGU6ICdnZW5lcmljLXRvdWNoc2NyZWVuJyB9KS50aGVuKGhpdFRlc3RTb3VyY2UgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc2llbnRIaXRUZXN0U291cmNlID0gaGl0VGVzdFNvdXJjZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFRvdWNoTG9jYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgYXhlcyB9ID0gdGhpcy5pbnB1dFNvdXJjZS5nYW1lcGFkO1xuICAgICAgICBsZXQgbG9jYXRpb24gPSB0aGlzLnBsYWNlbWVudEJveC5nZXRFeHBhbmRlZEhpdCh0aGlzLnByZXNlbnRlZFNjZW5lLCBheGVzWzBdLCBheGVzWzFdKTtcbiAgICAgICAgaWYgKGxvY2F0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZlY3RvcjMuY29weShsb2NhdGlvbikuc3ViKHRoaXMucHJlc2VudGVkU2NlbmUuZ2V0Q2FtZXJhKCkucG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHZlY3RvcjMubGVuZ3RoKCkgPiBNQVhfRElTVEFOQ0UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuICAgIH1cbiAgICBnZXRIaXRQb2ludChoaXRSZXN1bHQpIHtcbiAgICAgICAgY29uc3QgcmVmU3BhY2UgPSB0aGlzLnRocmVlUmVuZGVyZXIueHIuZ2V0UmVmZXJlbmNlU3BhY2UoKTtcbiAgICAgICAgY29uc3QgcG9zZSA9IGhpdFJlc3VsdC5nZXRQb3NlKHJlZlNwYWNlKTtcbiAgICAgICAgaWYgKHBvc2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGl0TWF0cml4ID0gbWF0cml4NC5mcm9tQXJyYXkocG9zZS50cmFuc2Zvcm0ubWF0cml4KTtcbiAgICAgICAgaWYgKHRoaXMucGxhY2VPbldhbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIE9yaWVudCB0aGUgbW9kZWwgdG8gdGhlIHdhbGwncyBub3JtYWwgdmVjdG9yLlxuICAgICAgICAgICAgdGhpcy5nb2FsWWF3ID0gTWF0aC5hdGFuMihoaXRNYXRyaXguZWxlbWVudHNbNF0sIGhpdE1hdHJpeC5lbGVtZW50c1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgeS1jb29yZGluYXRlIG9mIHRoZSBub3JtYWwgaXMgbGFyZ2UgZW5vdWdoIHRoYXQgdGhlIG5vcm1hbFxuICAgICAgICAvLyBpcyBwb2ludGluZyB1cCBmb3IgZmxvb3IgcGxhY2VtZW50OyBvcHBvc2l0ZSBmb3Igd2FsbCBwbGFjZW1lbnQuXG4gICAgICAgIHJldHVybiBoaXRNYXRyaXguZWxlbWVudHNbNV0gPiAwLjc1ICE9PSB0aGlzLnBsYWNlT25XYWxsID9cbiAgICAgICAgICAgIGhpdFBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihoaXRNYXRyaXgpIDpcbiAgICAgICAgICAgIG51bGw7XG4gICAgfVxuICAgIG1vdmVUb0Zsb29yKGZyYW1lKSB7XG4gICAgICAgIGNvbnN0IGhpdFNvdXJjZSA9IHRoaXMuaW5pdGlhbEhpdFNvdXJjZTtcbiAgICAgICAgaWYgKGhpdFNvdXJjZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGl0VGVzdFJlc3VsdHMgPSBmcmFtZS5nZXRIaXRUZXN0UmVzdWx0cyhoaXRTb3VyY2UpO1xuICAgICAgICBpZiAoaGl0VGVzdFJlc3VsdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoaXQgPSBoaXRUZXN0UmVzdWx0c1swXTtcbiAgICAgICAgY29uc3QgaGl0UG9pbnQgPSB0aGlzLmdldEhpdFBvaW50KGhpdCk7XG4gICAgICAgIGlmIChoaXRQb2ludCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGFjZW1lbnRCb3guc2hvdyA9IHRydWU7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIHRyYW5zbGF0aW5nLCBsZXQgdGhlIGZpbmdlciBoaXQtcmF5IHRha2UgcHJlY2VkZW5jZSBhbmRcbiAgICAgICAgLy8gaWdub3JlIHRoaXMgaGl0IHJlc3VsdC5cbiAgICAgICAgaWYgKCF0aGlzLmlzVHJhbnNsYXRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYWNlT25XYWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nb2FsUG9zaXRpb24uY29weShoaXRQb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdvYWxQb3NpdGlvbi55ID0gaGl0UG9pbnQueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoaXRTb3VyY2UuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbEhpdFNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICdzdGF0dXMnLCBzdGF0dXM6IEFSU3RhdHVzLk9CSkVDVF9QTEFDRUQgfSk7XG4gICAgfVxuICAgIGZpbmdlclBvbGFyKGZpbmdlcnMpIHtcbiAgICAgICAgY29uc3QgZmluZ2VyT25lID0gZmluZ2Vyc1swXS5pbnB1dFNvdXJjZS5nYW1lcGFkLmF4ZXM7XG4gICAgICAgIGNvbnN0IGZpbmdlclR3byA9IGZpbmdlcnNbMV0uaW5wdXRTb3VyY2UuZ2FtZXBhZC5heGVzO1xuICAgICAgICBjb25zdCBkZWx0YVggPSBmaW5nZXJUd29bMF0gLSBmaW5nZXJPbmVbMF07XG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IGZpbmdlclR3b1sxXSAtIGZpbmdlck9uZVsxXTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGRlbHRhWSwgZGVsdGFYKTtcbiAgICAgICAgbGV0IGRlbHRhWWF3ID0gdGhpcy5sYXN0QW5nbGUgLSBhbmdsZTtcbiAgICAgICAgaWYgKGRlbHRhWWF3ID4gTWF0aC5QSSkge1xuICAgICAgICAgICAgZGVsdGFZYXcgLT0gMiAqIE1hdGguUEk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVsdGFZYXcgPCAtTWF0aC5QSSkge1xuICAgICAgICAgICAgZGVsdGFZYXcgKz0gMiAqIE1hdGguUEk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0QW5nbGUgPSBhbmdsZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlcGFyYXRpb246IE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpLFxuICAgICAgICAgICAgZGVsdGFZYXc6IGRlbHRhWWF3XG4gICAgICAgIH07XG4gICAgfVxuICAgIHByb2Nlc3NJbnB1dChmcmFtZSkge1xuICAgICAgICBjb25zdCBoaXRTb3VyY2UgPSB0aGlzLnRyYW5zaWVudEhpdFRlc3RTb3VyY2U7XG4gICAgICAgIGlmIChoaXRTb3VyY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc1RyYW5zbGF0aW5nICYmICF0aGlzLmlzVHdvRmluZ2VyaW5nICYmICF0aGlzLmlzUm90YXRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaW5nZXJzID0gZnJhbWUuZ2V0SGl0VGVzdFJlc3VsdHNGb3JUcmFuc2llbnRJbnB1dChoaXRTb3VyY2UpO1xuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2NlbmUuc2NhbGUueDtcbiAgICAgICAgLy8gUm90YXRpbmcsIHRyYW5zbGF0aW5nIGFuZCBzY2FsaW5nIGFyZSBtdXR1YWxseSBleGNsdXNpdmUgb3BlcmF0aW9uczsgb25seVxuICAgICAgICAvLyBvbmUgY2FuIGhhcHBlbiBhdCBhIHRpbWUsIGJ1dCB3ZSBjYW4gc3dpdGNoIGR1cmluZyBhIGdlc3R1cmUuXG4gICAgICAgIGlmICh0aGlzLmlzVHdvRmluZ2VyaW5nKSB7XG4gICAgICAgICAgICBpZiAoZmluZ2Vycy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgbG9zZSB0aGUgc2Vjb25kIGZpbmdlciwgc3RvcCBzY2FsaW5nIChpbiBmYWN0LCBzdG9wIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAvLyBpbnB1dCBhbHRvZ2V0aGVyIHVudGlsIGEgbmV3IGdlc3R1cmUgc3RhcnRzKS5cbiAgICAgICAgICAgICAgICB0aGlzLmlzVHdvRmluZ2VyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlcGFyYXRpb24sIGRlbHRhWWF3IH0gPSB0aGlzLmZpbmdlclBvbGFyKGZpbmdlcnMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYWNlT25XYWxsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdvYWxZYXcgKz0gZGVsdGFZYXc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzY2VuZS5jYW5TY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IHNlcGFyYXRpb24gLyB0aGlzLmZpcnN0UmF0aW87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ29hbFNjYWxlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChzY2FsZSA8IFNDQUxFX1NOQVBfSElHSCAmJiBzY2FsZSA+IFNDQUxFX1NOQVBfTE9XKSA/IDEgOiBzY2FsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmluZ2Vycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIHdlcmUgcm90YXRpbmcgb3IgdHJhbnNsYXRpbmcgYW5kIHdlIGdldCBhIHNlY29uZCBmaW5nZXIsIHN3aXRjaFxuICAgICAgICAgICAgLy8gdG8gc2NhbGluZyBpbnN0ZWFkLlxuICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzUm90YXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNUd29GaW5nZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgeyBzZXBhcmF0aW9uIH0gPSB0aGlzLmZpbmdlclBvbGFyKGZpbmdlcnMpO1xuICAgICAgICAgICAgdGhpcy5maXJzdFJhdGlvID0gc2VwYXJhdGlvbiAvIHNjYWxlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzUm90YXRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5pbnB1dFNvdXJjZS5nYW1lcGFkLmF4ZXNbMF0gKiBST1RBVElPTl9SQVRFO1xuICAgICAgICAgICAgdGhpcy5nb2FsWWF3ICs9IGFuZ2xlIC0gdGhpcy5sYXN0QW5nbGU7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmdsZSA9IGFuZ2xlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNUcmFuc2xhdGluZykge1xuICAgICAgICAgICAgZmluZ2Vycy5mb3JFYWNoKGZpbmdlciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbmdlci5pbnB1dFNvdXJjZSAhPT0gdGhpcy5pbnB1dFNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBoaXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChmaW5nZXIucmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdCA9IHRoaXMuZ2V0SGl0UG9pbnQoZmluZ2VyLnJlc3VsdHNbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaGl0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdGhpcy5nZXRUb3VjaExvY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZ29hbFBvc2l0aW9uLnN1Yih0aGlzLmxhc3REcmFnUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYWNlT25XYWxsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBoaXQueSAtIHRoaXMubGFzdERyYWdQb3NpdGlvbi55O1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGEgbG93ZXIgZmxvb3IgaXMgZm91bmQsIGtlZXAgdGhlIG1vZGVsIGF0IHRoZSBzYW1lIGhlaWdodCwgYnV0XG4gICAgICAgICAgICAgICAgICAgIC8vIGRyb3AgdGhlIHBsYWNlbWVudCBib3ggdG8gdGhlIGZsb29yLiBUaGUgbW9kZWwgZmFsbHMgb24gc2VsZWN0IGVuZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50Qm94Lm9mZnNldEhlaWdodCA9IG9mZnNldCAvIHNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzZW50ZWRTY2VuZS5zZXRTaGFkb3dPZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludGVycG9sYXRlIGhpdCByYXkgdXAgdG8gZHJhZyBwbGFuZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FtZXJhUG9zaXRpb24gPSB2ZWN0b3IzLmNvcHkoc2NlbmUuZ2V0Q2FtZXJhKCkucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxwaGEgPSAtb2Zmc2V0IC8gKGNhbWVyYVBvc2l0aW9uLnkgLSBoaXQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmFQb3NpdGlvbi5tdWx0aXBseVNjYWxhcihhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQubXVsdGlwbHlTY2FsYXIoMSAtIGFscGhhKS5hZGQoY2FtZXJhUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZ29hbFBvc2l0aW9uLmFkZChoaXQpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdERyYWdQb3NpdGlvbi5jb3B5KGhpdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlU2NlbmUoZGVsdGEpIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnByZXNlbnRlZFNjZW5lO1xuICAgICAgICBjb25zdCB7IHBvc2l0aW9uLCB5YXcgfSA9IHNjZW5lO1xuICAgICAgICBjb25zdCBib3VuZGluZ1JhZGl1cyA9IHNjZW5lLmJvdW5kaW5nU3BoZXJlLnJhZGl1cztcbiAgICAgICAgY29uc3QgZ29hbCA9IHRoaXMuZ29hbFBvc2l0aW9uO1xuICAgICAgICBjb25zdCBvbGRTY2FsZSA9IHNjZW5lLnNjYWxlLng7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMucGxhY2VtZW50Qm94O1xuICAgICAgICBpZiAoIWdvYWwuZXF1YWxzKHBvc2l0aW9uKSB8fCB0aGlzLmdvYWxTY2FsZSAhPT0gb2xkU2NhbGUpIHtcbiAgICAgICAgICAgIGxldCB7IHgsIHksIHogfSA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgeCA9IHRoaXMueERhbXBlci51cGRhdGUoeCwgZ29hbC54LCBkZWx0YSwgYm91bmRpbmdSYWRpdXMpO1xuICAgICAgICAgICAgeSA9IHRoaXMueURhbXBlci51cGRhdGUoeSwgZ29hbC55LCBkZWx0YSwgYm91bmRpbmdSYWRpdXMpO1xuICAgICAgICAgICAgeiA9IHRoaXMuekRhbXBlci51cGRhdGUoeiwgZ29hbC56LCBkZWx0YSwgYm91bmRpbmdSYWRpdXMpO1xuICAgICAgICAgICAgcG9zaXRpb24uc2V0KHgsIHksIHopO1xuICAgICAgICAgICAgY29uc3QgbmV3U2NhbGUgPSB0aGlzLnNjYWxlRGFtcGVyLnVwZGF0ZShvbGRTY2FsZSwgdGhpcy5nb2FsU2NhbGUsIGRlbHRhLCAxKTtcbiAgICAgICAgICAgIHNjZW5lLnNjYWxlLnNldChuZXdTY2FsZSwgbmV3U2NhbGUsIG5ld1NjYWxlKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1RyYW5zbGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZ29hbC55IC0geTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGFjZW1lbnRDb21wbGV0ZSAmJiB0aGlzLnBsYWNlT25XYWxsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBib3gub2Zmc2V0SGVpZ2h0ID0gb2Zmc2V0IC8gbmV3U2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHNjZW5lLnNldFNoYWRvd09mZnNldChvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnRDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJveC5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNjZW5lLnNldFNoYWRvd0ludGVuc2l0eShBUl9TSEFET1dfSU5URU5TSVRZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYm94LnVwZGF0ZU9wYWNpdHkoZGVsdGEpO1xuICAgICAgICBzY2VuZS51cGRhdGVUYXJnZXQoZGVsdGEpO1xuICAgICAgICAvLyB5YXcgbXVzdCBiZSB1cGRhdGVkIGxhc3QsIHNpbmNlIHRoaXMgYWxzbyB1cGRhdGVzIHRoZSBzaGFkb3cgcG9zaXRpb24uXG4gICAgICAgIHNjZW5lLnlhdyA9IHRoaXMueWF3RGFtcGVyLnVwZGF0ZSh5YXcsIHRoaXMuZ29hbFlhdywgZGVsdGEsIE1hdGguUEkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IHB1YmxpYyB0byBtYWtlIGl0IHRlc3RhYmxlLlxuICAgICAqL1xuICAgIG9uV2ViWFJGcmFtZSh0aW1lLCBmcmFtZSkge1xuICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgICsrdGhpcy5mcmFtZXM7XG4gICAgICAgIGNvbnN0IHJlZlNwYWNlID0gdGhpcy50aHJlZVJlbmRlcmVyLnhyLmdldFJlZmVyZW5jZVNwYWNlKCk7XG4gICAgICAgIGNvbnN0IHBvc2UgPSBmcmFtZS5nZXRWaWV3ZXJQb3NlKHJlZlNwYWNlKTtcbiAgICAgICAgaWYgKHBvc2UgPT0gbnVsbCAmJiB0aGlzLnRyYWNraW5nID09PSB0cnVlICYmIHRoaXMuZnJhbWVzID4gSU5JVF9GUkFNRVMpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICd0cmFja2luZycsIHN0YXR1czogQVJUcmFja2luZy5OT1RfVFJBQ0tJTkcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnByZXNlbnRlZFNjZW5lO1xuICAgICAgICBpZiAocG9zZSA9PSBudWxsIHx8IHNjZW5lID09IG51bGwgfHwgIXNjZW5lLmVsZW1lbnQubG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuY2xlYXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFja2luZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ3RyYWNraW5nJywgc3RhdHVzOiBBUlRyYWNraW5nLlRSQUNLSU5HIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlYlhSIG1heSByZXR1cm4gbXVsdGlwbGUgdmlld3MsIGkuZS4gZm9yIGhlYWRzZXQgQVIuIFRoaXNcbiAgICAgICAgLy8gaXNuJ3QgcmVhbGx5IHN1cHBvcnRlZCBhdCB0aGlzIHBvaW50LCBidXQgbWFrZSBhIGJlc3QtZWZmb3J0XG4gICAgICAgIC8vIGF0dGVtcHQgdG8gcmVuZGVyIG90aGVyIHZpZXdzIGFsc28sIHVzaW5nIHRoZSBmaXJzdCB2aWV3XG4gICAgICAgIC8vIGFzIHRoZSBtYWluIHZpZXdwb2ludC5cbiAgICAgICAgbGV0IGlzRmlyc3RWaWV3ID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCB2aWV3IG9mIHBvc2Uudmlld3MpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlldyh2aWV3KTtcbiAgICAgICAgICAgIGlmIChpc0ZpcnN0Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvRmxvb3IoZnJhbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0lucHV0KGZyYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IHRpbWUgLSB0aGlzLmxhc3RUaWNrO1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZVNjZW5lKGRlbHRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByZVJlbmRlcihzY2VuZSwgdGltZSwgZGVsdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRpY2sgPSB0aW1lO1xuICAgICAgICAgICAgICAgIHNjZW5lLnJlbmRlclNoYWRvdyh0aGlzLnRocmVlUmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnJlbmRlcihzY2VuZSwgc2NlbmUuZ2V0Q2FtZXJhKCkpO1xuICAgICAgICAgICAgaXNGaXJzdFZpZXcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFSUmVuZGVyZXIuanMubWFwIl0sIm5hbWVzIjpbIkV2ZW50RGlzcGF0Y2hlciIsIk1hdHJpeDQiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIlZlY3RvcjMiLCJYUkVzdGltYXRlZExpZ2h0IiwiJGN1cnJlbnRCYWNrZ3JvdW5kIiwiJGN1cnJlbnRFbnZpcm9ubWVudE1hcCIsIiRvblJlc2l6ZSIsImFzc2VydElzQXJDYW5kaWRhdGUiLCJEYW1wZXIiLCJQbGFjZW1lbnRCb3giLCJJTklUX0ZSQU1FUyIsIkFSX1NIQURPV19JTlRFTlNJVFkiLCJST1RBVElPTl9SQVRFIiwiSElUX0FOR0xFX0RFRyIsIlNDQUxFX1NOQVBfSElHSCIsIlNDQUxFX1NOQVBfTE9XIiwiTUlOX1ZJRVdQT1JUX1NDQUxFIiwiTUFYX0RJU1RBTkNFIiwiQVJTdGF0dXMiLCJOT1RfUFJFU0VOVElORyIsIlNFU1NJT05fU1RBUlRFRCIsIk9CSkVDVF9QTEFDRUQiLCJGQUlMRUQiLCJBUlRyYWNraW5nIiwiVFJBQ0tJTkciLCJOT1RfVFJBQ0tJTkciLCJ2ZWN0b3IzIiwibWF0cml4NCIsImhpdFBvc2l0aW9uIiwiY2FtZXJhIiwiQVJSZW5kZXJlciIsImNvbnN0cnVjdG9yIiwicmVuZGVyZXIiLCJjdXJyZW50U2Vzc2lvbiIsInBsYWNlT25XYWxsIiwicGxhY2VtZW50Qm94IiwibGFzdFRpY2siLCJ0dXJudGFibGVSb3RhdGlvbiIsIm9sZFNoYWRvd0ludGVuc2l0eSIsImZyYW1lIiwiaW5pdGlhbEhpdFNvdXJjZSIsInRyYW5zaWVudEhpdFRlc3RTb3VyY2UiLCJpbnB1dFNvdXJjZSIsIl9wcmVzZW50ZWRTY2VuZSIsInJlc29sdmVDbGVhbnVwIiwiZXhpdFdlYlhSQnV0dG9uQ29udGFpbmVyIiwib3ZlcmxheSIsInhyTGlnaHQiLCJ0cmFja2luZyIsImZyYW1lcyIsImluaXRpYWxpemVkIiwib2xkVGFyZ2V0IiwicGxhY2VtZW50Q29tcGxldGUiLCJpc1RyYW5zbGF0aW5nIiwiaXNSb3RhdGluZyIsImlzVHdvRmluZ2VyaW5nIiwibGFzdERyYWdQb3NpdGlvbiIsImZpcnN0UmF0aW8iLCJsYXN0QW5nbGUiLCJnb2FsUG9zaXRpb24iLCJnb2FsWWF3IiwiZ29hbFNjYWxlIiwieERhbXBlciIsInlEYW1wZXIiLCJ6RGFtcGVyIiwieWF3RGFtcGVyIiwic2NhbGVEYW1wZXIiLCJvbkV4aXRXZWJYUkJ1dHRvbkNvbnRhaW5lckNsaWNrIiwic3RvcFByZXNlbnRpbmciLCJvblVwZGF0ZVNjZW5lIiwiaXNQcmVzZW50aW5nIiwiZGlzcG9zZSIsInByZXNlbnRlZFNjZW5lIiwib25TZWxlY3RTdGFydCIsImV2ZW50IiwiaGl0U291cmNlIiwiZmluZ2VycyIsImdldEhpdFRlc3RSZXN1bHRzRm9yVHJhbnNpZW50SW5wdXQiLCJzY2VuZSIsImJveCIsImxlbmd0aCIsImF4ZXMiLCJnYW1lcGFkIiwiZ2V0SGl0Iiwic2hvdyIsImNvcHkiLCJzZXBhcmF0aW9uIiwiZmluZ2VyUG9sYXIiLCJzY2FsZSIsIngiLCJvblNlbGVjdEVuZCIsInkiLCJvZmZzZXRIZWlnaHQiLCJ0aHJlZVJlbmRlcmVyIiwieHIiLCJlbmFibGVkIiwicmVzb2x2ZUFSU2Vzc2lvbiIsInNlc3Npb24iLCJuYXZpZ2F0b3IiLCJyZXF1ZXN0U2Vzc2lvbiIsInJlcXVpcmVkRmVhdHVyZXMiLCJvcHRpb25hbEZlYXR1cmVzIiwiZG9tT3ZlcmxheSIsInJvb3QiLCJ1bmRlZmluZWQiLCJzZXRSZWZlcmVuY2VTcGFjZVR5cGUiLCJzZXRTZXNzaW9uIiwiY2FtZXJhQXV0b1VwZGF0ZSIsInN1cHBvcnRzUHJlc2VudGF0aW9uIiwiaXNTZXNzaW9uU3VwcG9ydGVkIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsInByZXNlbnQiLCJlbnZpcm9ubWVudEVzdGltYXRpb24iLCJ3YWl0Rm9yQW5pbWF0aW9uRnJhbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsIl9yZWplY3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRIb3RzcG90c1Zpc2liaWxpdHkiLCJxdWV1ZVJlbmRlciIsImVsZW1lbnQiLCJzaGFkb3dSb290IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGQiLCJlbnZpcm9ubWVudCIsInBvc3RTZXNzaW9uQ2xlYW51cCIsIm9uY2UiLCJleGl0QnV0dG9uIiwiY2xhc3NMaXN0Iiwidmlld2VyUmVmU3BhY2UiLCJyZXF1ZXN0UmVmZXJlbmNlU3BhY2UiLCJ5YXciLCJiYWNrZ3JvdW5kIiwic2hhZG93SW50ZW5zaXR5Iiwic2V0U2hhZG93SW50ZW5zaXR5IiwiZ2V0VGFyZ2V0IiwicmFkaWFucyIsIk1hdGgiLCJQSSIsInJheSIsIlhSUmF5IiwiRE9NUG9pbnQiLCJzaW4iLCJ6IiwiY29zIiwicmVxdWVzdEhpdFRlc3RTb3VyY2UiLCJzcGFjZSIsIm9mZnNldFJheSIsInRoZW4iLCJoaXRUZXN0U291cmNlIiwicGVyZm9ybWFuY2UiLCJub3ciLCJkaXNwYXRjaEV2ZW50IiwidHlwZSIsInN0YXR1cyIsImNsZWFudXBQcm9taXNlIiwiZW5kIiwidGFyZ2V0IiwidXBkYXRlVGFyZ2V0IiwiYm91bmRpbmdCb3giLCJtaW4iLCJzZXRUYXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwicG9zaXRpb24iLCJzZXQiLCJzZXRTaGFkb3dPZmZzZXQiLCJpbnRlbnNpdHkiLCJzZXRFbnZpcm9ubWVudEFuZFNreWJveCIsInBvaW50IiwieHJDYW1lcmEiLCJvcmllbnRIb3RzcG90cyIsInJlcXVlc3RVcGRhdGUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoZWlnaHQiLCJjYW5jZWwiLCJoaXRTb3VyY2VJbml0aWFsIiwidXBkYXRlVmlldyIsInZpZXciLCJ1cGRhdGVDYW1lcmEiLCJnZXRDYW1lcmEiLCJlbGVtZW50cyIsIm1hdHJpeFdvcmxkIiwiYXRhbjIiLCJwbGFjZUluaXRpYWxseSIsInJlcXVlc3RWaWV3cG9ydFNjYWxlIiwicmVjb21tZW5kZWRWaWV3cG9ydFNjYWxlIiwibWF4IiwibGF5ZXIiLCJyZW5kZXJTdGF0ZSIsImJhc2VMYXllciIsInZpZXdwb3J0IiwiZ2V0Vmlld3BvcnQiLCJzZXRWaWV3cG9ydCIsIndpZHRoIiwic2V0U2l6ZSIsInByb2plY3Rpb25NYXRyaXhJbnZlcnNlIiwicHJvamVjdGlvbk1hdHJpeCIsImludmVydCIsInRoZXRhIiwicmFkaXVzIiwiZ2V0Q2FtZXJhT3JiaXQiLCJjYW1lcmFEaXJlY3Rpb24iLCJnZXRXb3JsZERpcmVjdGlvbiIsIm11bHRpcGx5U2NhbGFyIiwic3ViIiwicmVxdWVzdEhpdFRlc3RTb3VyY2VGb3JUcmFuc2llbnRJbnB1dCIsInByb2ZpbGUiLCJnZXRUb3VjaExvY2F0aW9uIiwibG9jYXRpb24iLCJnZXRFeHBhbmRlZEhpdCIsImdldEhpdFBvaW50IiwiaGl0UmVzdWx0IiwicmVmU3BhY2UiLCJnZXRSZWZlcmVuY2VTcGFjZSIsInBvc2UiLCJnZXRQb3NlIiwiaGl0TWF0cml4IiwiZnJvbUFycmF5IiwidHJhbnNmb3JtIiwibWF0cml4Iiwic2V0RnJvbU1hdHJpeFBvc2l0aW9uIiwibW92ZVRvRmxvb3IiLCJoaXRUZXN0UmVzdWx0cyIsImdldEhpdFRlc3RSZXN1bHRzIiwiaGl0IiwiaGl0UG9pbnQiLCJmaW5nZXJPbmUiLCJmaW5nZXJUd28iLCJkZWx0YVgiLCJkZWx0YVkiLCJhbmdsZSIsImRlbHRhWWF3Iiwic3FydCIsInByb2Nlc3NJbnB1dCIsImNhblNjYWxlIiwiZm9yRWFjaCIsImZpbmdlciIsInJlc3VsdHMiLCJvZmZzZXQiLCJjYW1lcmFQb3NpdGlvbiIsImFscGhhIiwibW92ZVNjZW5lIiwiZGVsdGEiLCJib3VuZGluZ1JhZGl1cyIsImJvdW5kaW5nU3BoZXJlIiwiZ29hbCIsIm9sZFNjYWxlIiwiZXF1YWxzIiwidXBkYXRlIiwibmV3U2NhbGUiLCJ1cGRhdGVPcGFjaXR5Iiwib25XZWJYUkZyYW1lIiwidGltZSIsImdldFZpZXdlclBvc2UiLCJsb2FkZWQiLCJjbGVhciIsImlzRmlyc3RWaWV3Iiwidmlld3MiLCJwcmVSZW5kZXIiLCJyZW5kZXJTaGFkb3ciLCJyZW5kZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $evictionPolicy: () => (/* binding */ $evictionPolicy),\n/* harmony export */   $loader: () => (/* binding */ $loader),\n/* harmony export */   CachingGLTFLoader: () => (/* binding */ CachingGLTFLoader),\n/* harmony export */   loadWithLoader: () => (/* binding */ loadWithLoader)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ \"(ssr)/./node_modules/three/examples/jsm/loaders/DRACOLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader.js */ \"(ssr)/./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_KTX2Loader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/loaders/KTX2Loader.js */ \"(ssr)/./node_modules/three/examples/jsm/loaders/KTX2Loader.js\");\n/* harmony import */ var _utilities_cache_eviction_policy_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/cache-eviction-policy.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/cache-eviction-policy.js\");\n/* harmony import */ var _gltf_instance_VariantMaterialLoaderPlugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gltf-instance/VariantMaterialLoaderPlugin */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialLoaderPlugin.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var _a, _b;\n\n\n\n\n\n\n/**\n * A helper to Promise-ify a Three.js GLTFLoader\n */ const loadWithLoader = (url, loader, progressCallback = ()=>{})=>{\n    const onProgress = (event)=>{\n        const fraction = event.loaded / event.total;\n        progressCallback(Math.max(0, Math.min(1, isFinite(fraction) ? fraction : 1)));\n    };\n    return new Promise((resolve, reject)=>{\n        loader.load(url, resolve, onProgress, reject);\n    });\n};\n/** Helper to load a script tag. */ const fetchScript = (src)=>{\n    return new Promise((resolve, reject)=>{\n        const script = document.createElement(\"script\");\n        document.body.appendChild(script);\n        script.onload = resolve;\n        script.onerror = reject;\n        script.async = true;\n        script.src = src;\n    });\n};\nconst cache = new Map();\nconst preloaded = new Map();\nlet dracoDecoderLocation;\nconst dracoLoader = new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__.DRACOLoader();\nlet ktx2TranscoderLocation;\nconst ktx2Loader = new three_examples_jsm_loaders_KTX2Loader_js__WEBPACK_IMPORTED_MODULE_3__.KTX2Loader();\nlet meshoptDecoderLocation;\nlet meshoptDecoder;\nconst $loader = Symbol(\"loader\");\nconst $evictionPolicy = Symbol(\"evictionPolicy\");\nconst $GLTFInstance = Symbol(\"GLTFInstance\");\nclass CachingGLTFLoader extends three__WEBPACK_IMPORTED_MODULE_4__.EventDispatcher {\n    constructor(GLTFInstance){\n        super();\n        this[_b] = new three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.GLTFLoader().register((parser)=>new _gltf_instance_VariantMaterialLoaderPlugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"](parser));\n        this[$GLTFInstance] = GLTFInstance;\n        this[$loader].setDRACOLoader(dracoLoader);\n        this[$loader].setKTX2Loader(ktx2Loader);\n    }\n    static setDRACODecoderLocation(url) {\n        dracoDecoderLocation = url;\n        dracoLoader.setDecoderPath(url);\n    }\n    static getDRACODecoderLocation() {\n        return dracoDecoderLocation;\n    }\n    static setKTX2TranscoderLocation(url) {\n        ktx2TranscoderLocation = url;\n        ktx2Loader.setTranscoderPath(url);\n    }\n    static getKTX2TranscoderLocation() {\n        return ktx2TranscoderLocation;\n    }\n    static setMeshoptDecoderLocation(url) {\n        if (meshoptDecoderLocation !== url) {\n            meshoptDecoderLocation = url;\n            meshoptDecoder = fetchScript(url).then(()=>MeshoptDecoder.ready).then(()=>MeshoptDecoder);\n        }\n    }\n    static getMeshoptDecoderLocation() {\n        return meshoptDecoderLocation;\n    }\n    static initializeKTX2Loader(renderer) {\n        ktx2Loader.detectSupport(renderer);\n    }\n    static get cache() {\n        return cache;\n    }\n    /** @nocollapse */ static clearCache() {\n        cache.forEach((_value, url)=>{\n            this.delete(url);\n        });\n        this[$evictionPolicy].reset();\n    }\n    static has(url) {\n        return cache.has(url);\n    }\n    /** @nocollapse */ static async delete(url) {\n        if (!this.has(url)) {\n            return;\n        }\n        const gltfLoads = cache.get(url);\n        preloaded.delete(url);\n        cache.delete(url);\n        const gltf = await gltfLoads;\n        // Dispose of the cached glTF's materials and geometries:\n        gltf.dispose();\n    }\n    /**\n     * Returns true if the model that corresponds to the specified url is\n     * available in our local cache.\n     */ static hasFinishedLoading(url) {\n        return !!preloaded.get(url);\n    }\n    get [(_a = $evictionPolicy, _b = $loader, $evictionPolicy)]() {\n        return this.constructor[$evictionPolicy];\n    }\n    /**\n     * Preloads a glTF, populating the cache. Returns a promise that resolves\n     * when the cache is populated.\n     */ async preload(url, element, progressCallback = ()=>{}) {\n        this[$loader].setWithCredentials(CachingGLTFLoader.withCredentials);\n        this.dispatchEvent({\n            type: \"preload\",\n            element: element,\n            src: url\n        });\n        if (!cache.has(url)) {\n            if (meshoptDecoder != null) {\n                this[$loader].setMeshoptDecoder(await meshoptDecoder);\n            }\n            const rawGLTFLoads = loadWithLoader(url, this[$loader], (progress)=>{\n                progressCallback(progress * 0.8);\n            });\n            const GLTFInstance = this[$GLTFInstance];\n            const gltfInstanceLoads = rawGLTFLoads.then((rawGLTF)=>{\n                return GLTFInstance.prepare(rawGLTF);\n            }).then((preparedGLTF)=>{\n                progressCallback(0.9);\n                return new GLTFInstance(preparedGLTF);\n            }).catch((reason)=>{\n                console.error(reason);\n                return new GLTFInstance();\n            });\n            cache.set(url, gltfInstanceLoads);\n        }\n        await cache.get(url);\n        preloaded.set(url, true);\n        if (progressCallback) {\n            progressCallback(1.0);\n        }\n    }\n    /**\n     * Loads a glTF from the specified url and resolves a unique clone of the\n     * glTF. If the glTF has already been loaded, makes a clone of the cached\n     * copy.\n     */ async load(url, element, progressCallback = ()=>{}) {\n        await this.preload(url, element, progressCallback);\n        const gltf = await cache.get(url);\n        const clone = await gltf.clone();\n        this[$evictionPolicy].retain(url);\n        // Patch dispose so that we can properly account for instance use\n        // in the caching layer:\n        clone.dispose = ()=>{\n            this[$evictionPolicy].release(url);\n        };\n        return clone;\n    }\n}\nCachingGLTFLoader[_a] = new _utilities_cache_eviction_policy_js__WEBPACK_IMPORTED_MODULE_0__.CacheEvictionPolicy(CachingGLTFLoader); //# sourceMappingURL=CachingGLTFLoader.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvQ2FjaGluZ0dMVEZMb2FkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRCxJQUFJQSxJQUFJQztBQUNnQztBQUNnQztBQUNGO0FBQ0E7QUFDTTtBQUNhO0FBQ3pGOztDQUVDLEdBQ00sTUFBTU8saUJBQWlCLENBQUNDLEtBQUtDLFFBQVFDLG1CQUFtQixLQUFRLENBQUM7SUFDcEUsTUFBTUMsYUFBYSxDQUFDQztRQUNoQixNQUFNQyxXQUFXRCxNQUFNRSxNQUFNLEdBQUdGLE1BQU1HLEtBQUs7UUFDM0NMLGlCQUFpQk0sS0FBS0MsR0FBRyxDQUFDLEdBQUdELEtBQUtFLEdBQUcsQ0FBQyxHQUFHQyxTQUFTTixZQUFZQSxXQUFXO0lBQzdFO0lBQ0EsT0FBTyxJQUFJTyxRQUFRLENBQUNDLFNBQVNDO1FBQ3pCYixPQUFPYyxJQUFJLENBQUNmLEtBQUthLFNBQVNWLFlBQVlXO0lBQzFDO0FBQ0osRUFBRTtBQUNGLGlDQUFpQyxHQUNqQyxNQUFNRSxjQUFjLENBQUNDO0lBQ2pCLE9BQU8sSUFBSUwsUUFBUSxDQUFDQyxTQUFTQztRQUN6QixNQUFNSSxTQUFTQyxTQUFTQyxhQUFhLENBQUM7UUFDdENELFNBQVNFLElBQUksQ0FBQ0MsV0FBVyxDQUFDSjtRQUMxQkEsT0FBT0ssTUFBTSxHQUFHVjtRQUNoQkssT0FBT00sT0FBTyxHQUFHVjtRQUNqQkksT0FBT08sS0FBSyxHQUFHO1FBQ2ZQLE9BQU9ELEdBQUcsR0FBR0E7SUFDakI7QUFDSjtBQUNBLE1BQU1TLFFBQVEsSUFBSUM7QUFDbEIsTUFBTUMsWUFBWSxJQUFJRDtBQUN0QixJQUFJRTtBQUNKLE1BQU1DLGNBQWMsSUFBSXBDLGtGQUFXQTtBQUNuQyxJQUFJcUM7QUFDSixNQUFNQyxhQUFhLElBQUlwQyxnRkFBVUE7QUFDakMsSUFBSXFDO0FBQ0os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c0QsT0FBTyxDQUFDM0Y7UUFDbEM7UUFDQSxPQUFPeUY7SUFDWDtBQUNKO0FBQ0FsRCxpQkFBaUIsQ0FBQ2hELEdBQUcsR0FBRyxJQUFJTSxvRkFBbUJBLENBQUMwQyxvQkFDaEQsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9DYWNoaW5nR0xURkxvYWRlci5qcz9mMDhmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfYSwgX2I7XG5pbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBEUkFDT0xvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0RSQUNPTG9hZGVyLmpzJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyLmpzJztcbmltcG9ydCB7IEtUWDJMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9LVFgyTG9hZGVyLmpzJztcbmltcG9ydCB7IENhY2hlRXZpY3Rpb25Qb2xpY3kgfSBmcm9tICcuLi91dGlsaXRpZXMvY2FjaGUtZXZpY3Rpb24tcG9saWN5LmpzJztcbmltcG9ydCBHTFRGTWF0ZXJpYWxzVmFyaWFudHNFeHRlbnNpb24gZnJvbSAnLi9nbHRmLWluc3RhbmNlL1ZhcmlhbnRNYXRlcmlhbExvYWRlclBsdWdpbic7XG4vKipcbiAqIEEgaGVscGVyIHRvIFByb21pc2UtaWZ5IGEgVGhyZWUuanMgR0xURkxvYWRlclxuICovXG5leHBvcnQgY29uc3QgbG9hZFdpdGhMb2FkZXIgPSAodXJsLCBsb2FkZXIsIHByb2dyZXNzQ2FsbGJhY2sgPSAoKSA9PiB7IH0pID0+IHtcbiAgICBjb25zdCBvblByb2dyZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGZyYWN0aW9uID0gZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWw7XG4gICAgICAgIHByb2dyZXNzQ2FsbGJhY2soTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgaXNGaW5pdGUoZnJhY3Rpb24pID8gZnJhY3Rpb24gOiAxKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbG9hZGVyLmxvYWQodXJsLCByZXNvbHZlLCBvblByb2dyZXNzLCByZWplY3QpO1xuICAgIH0pO1xufTtcbi8qKiBIZWxwZXIgdG8gbG9hZCBhIHNjcmlwdCB0YWcuICovXG5jb25zdCBmZXRjaFNjcmlwdCA9IChzcmMpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICBzY3JpcHQub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIHNjcmlwdC5zcmMgPSBzcmM7XG4gICAgfSk7XG59O1xuY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG5jb25zdCBwcmVsb2FkZWQgPSBuZXcgTWFwKCk7XG5sZXQgZHJhY29EZWNvZGVyTG9jYXRpb247XG5jb25zdCBkcmFjb0xvYWRlciA9IG5ldyBEUkFDT0xvYWRlcigpO1xubGV0IGt0eDJUcmFuc2NvZGVyTG9jYXRpb247XG5jb25zdCBrdHgyTG9hZGVyID0gbmV3IEtUWDJMb2FkZXIoKTtcbmxldCBtZXNob3B0RGVjb2RlckxvY2F0aW9uO1xubGV0IG1lc2hvcHREZWNvZGVyO1xuZXhwb3J0IGNvbnN0ICRsb2FkZXIgPSBTeW1ib2woJ2xvYWRlcicpO1xuZXhwb3J0IGNvbnN0ICRldmljdGlvblBvbGljeSA9IFN5bWJvbCgnZXZpY3Rpb25Qb2xpY3knKTtcbmNvbnN0ICRHTFRGSW5zdGFuY2UgPSBTeW1ib2woJ0dMVEZJbnN0YW5jZScpO1xuZXhwb3J0IGNsYXNzIENhY2hpbmdHTFRGTG9hZGVyIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcihHTFRGSW5zdGFuY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpc1tfYl0gPSBuZXcgR0xURkxvYWRlcigpLnJlZ2lzdGVyKHBhcnNlciA9PiBuZXcgR0xURk1hdGVyaWFsc1ZhcmlhbnRzRXh0ZW5zaW9uKHBhcnNlcikpO1xuICAgICAgICB0aGlzWyRHTFRGSW5zdGFuY2VdID0gR0xURkluc3RhbmNlO1xuICAgICAgICB0aGlzWyRsb2FkZXJdLnNldERSQUNPTG9hZGVyKGRyYWNvTG9hZGVyKTtcbiAgICAgICAgdGhpc1skbG9hZGVyXS5zZXRLVFgyTG9hZGVyKGt0eDJMb2FkZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgc2V0RFJBQ09EZWNvZGVyTG9jYXRpb24odXJsKSB7XG4gICAgICAgIGRyYWNvRGVjb2RlckxvY2F0aW9uID0gdXJsO1xuICAgICAgICBkcmFjb0xvYWRlci5zZXREZWNvZGVyUGF0aCh1cmwpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RFJBQ09EZWNvZGVyTG9jYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBkcmFjb0RlY29kZXJMb2NhdGlvbjtcbiAgICB9XG4gICAgc3RhdGljIHNldEtUWDJUcmFuc2NvZGVyTG9jYXRpb24odXJsKSB7XG4gICAgICAgIGt0eDJUcmFuc2NvZGVyTG9jYXRpb24gPSB1cmw7XG4gICAgICAgIGt0eDJMb2FkZXIuc2V0VHJhbnNjb2RlclBhdGgodXJsKTtcbiAgICB9XG4gICAgc3RhdGljIGdldEtUWDJUcmFuc2NvZGVyTG9jYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBrdHgyVHJhbnNjb2RlckxvY2F0aW9uO1xuICAgIH1cbiAgICBzdGF0aWMgc2V0TWVzaG9wdERlY29kZXJMb2NhdGlvbih1cmwpIHtcbiAgICAgICAgaWYgKG1lc2hvcHREZWNvZGVyTG9jYXRpb24gIT09IHVybCkge1xuICAgICAgICAgICAgbWVzaG9wdERlY29kZXJMb2NhdGlvbiA9IHVybDtcbiAgICAgICAgICAgIG1lc2hvcHREZWNvZGVyID0gZmV0Y2hTY3JpcHQodXJsKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IE1lc2hvcHREZWNvZGVyLnJlYWR5KVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IE1lc2hvcHREZWNvZGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0TWVzaG9wdERlY29kZXJMb2NhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG1lc2hvcHREZWNvZGVyTG9jYXRpb247XG4gICAgfVxuICAgIHN0YXRpYyBpbml0aWFsaXplS1RYMkxvYWRlcihyZW5kZXJlcikge1xuICAgICAgICBrdHgyTG9hZGVyLmRldGVjdFN1cHBvcnQocmVuZGVyZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGNhY2hlKCkge1xuICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBjbGVhckNhY2hlKCkge1xuICAgICAgICBjYWNoZS5mb3JFYWNoKChfdmFsdWUsIHVybCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZWxldGUodXJsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXNbJGV2aWN0aW9uUG9saWN5XS5yZXNldCgpO1xuICAgIH1cbiAgICBzdGF0aWMgaGFzKHVybCkge1xuICAgICAgICByZXR1cm4gY2FjaGUuaGFzKHVybCk7XG4gICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBhc3luYyBkZWxldGUodXJsKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXModXJsKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdsdGZMb2FkcyA9IGNhY2hlLmdldCh1cmwpO1xuICAgICAgICBwcmVsb2FkZWQuZGVsZXRlKHVybCk7XG4gICAgICAgIGNhY2hlLmRlbGV0ZSh1cmwpO1xuICAgICAgICBjb25zdCBnbHRmID0gYXdhaXQgZ2x0ZkxvYWRzO1xuICAgICAgICAvLyBEaXNwb3NlIG9mIHRoZSBjYWNoZWQgZ2xURidzIG1hdGVyaWFscyBhbmQgZ2VvbWV0cmllczpcbiAgICAgICAgZ2x0Zi5kaXNwb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbW9kZWwgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgc3BlY2lmaWVkIHVybCBpc1xuICAgICAqIGF2YWlsYWJsZSBpbiBvdXIgbG9jYWwgY2FjaGUuXG4gICAgICovXG4gICAgc3RhdGljIGhhc0ZpbmlzaGVkTG9hZGluZyh1cmwpIHtcbiAgICAgICAgcmV0dXJuICEhcHJlbG9hZGVkLmdldCh1cmwpO1xuICAgIH1cbiAgICBnZXQgWyhfYSA9ICRldmljdGlvblBvbGljeSwgX2IgPSAkbG9hZGVyLCAkZXZpY3Rpb25Qb2xpY3kpXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3JbJGV2aWN0aW9uUG9saWN5XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlbG9hZHMgYSBnbFRGLCBwb3B1bGF0aW5nIHRoZSBjYWNoZS4gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlc1xuICAgICAqIHdoZW4gdGhlIGNhY2hlIGlzIHBvcHVsYXRlZC5cbiAgICAgKi9cbiAgICBhc3luYyBwcmVsb2FkKHVybCwgZWxlbWVudCwgcHJvZ3Jlc3NDYWxsYmFjayA9ICgpID0+IHsgfSkge1xuICAgICAgICB0aGlzWyRsb2FkZXJdLnNldFdpdGhDcmVkZW50aWFscyhDYWNoaW5nR0xURkxvYWRlci53aXRoQ3JlZGVudGlhbHMpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAncHJlbG9hZCcsIGVsZW1lbnQ6IGVsZW1lbnQsIHNyYzogdXJsIH0pO1xuICAgICAgICBpZiAoIWNhY2hlLmhhcyh1cmwpKSB7XG4gICAgICAgICAgICBpZiAobWVzaG9wdERlY29kZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGxvYWRlcl0uc2V0TWVzaG9wdERlY29kZXIoYXdhaXQgbWVzaG9wdERlY29kZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmF3R0xURkxvYWRzID0gbG9hZFdpdGhMb2FkZXIodXJsLCB0aGlzWyRsb2FkZXJdLCAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKHByb2dyZXNzICogMC44KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgR0xURkluc3RhbmNlID0gdGhpc1skR0xURkluc3RhbmNlXTtcbiAgICAgICAgICAgIGNvbnN0IGdsdGZJbnN0YW5jZUxvYWRzID0gcmF3R0xURkxvYWRzXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJhd0dMVEYpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR0xURkluc3RhbmNlLnByZXBhcmUocmF3R0xURik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChwcmVwYXJlZEdMVEYpID0+IHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKDAuOSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHTFRGSW5zdGFuY2UocHJlcGFyZWRHTFRGKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChyZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdMVEZJbnN0YW5jZSgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FjaGUuc2V0KHVybCwgZ2x0Zkluc3RhbmNlTG9hZHMpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGNhY2hlLmdldCh1cmwpO1xuICAgICAgICBwcmVsb2FkZWQuc2V0KHVybCwgdHJ1ZSk7XG4gICAgICAgIGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKDEuMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZHMgYSBnbFRGIGZyb20gdGhlIHNwZWNpZmllZCB1cmwgYW5kIHJlc29sdmVzIGEgdW5pcXVlIGNsb25lIG9mIHRoZVxuICAgICAqIGdsVEYuIElmIHRoZSBnbFRGIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLCBtYWtlcyBhIGNsb25lIG9mIHRoZSBjYWNoZWRcbiAgICAgKiBjb3B5LlxuICAgICAqL1xuICAgIGFzeW5jIGxvYWQodXJsLCBlbGVtZW50LCBwcm9ncmVzc0NhbGxiYWNrID0gKCkgPT4geyB9KSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlbG9hZCh1cmwsIGVsZW1lbnQsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgICAgICBjb25zdCBnbHRmID0gYXdhaXQgY2FjaGUuZ2V0KHVybCk7XG4gICAgICAgIGNvbnN0IGNsb25lID0gYXdhaXQgZ2x0Zi5jbG9uZSgpO1xuICAgICAgICB0aGlzWyRldmljdGlvblBvbGljeV0ucmV0YWluKHVybCk7XG4gICAgICAgIC8vIFBhdGNoIGRpc3Bvc2Ugc28gdGhhdCB3ZSBjYW4gcHJvcGVybHkgYWNjb3VudCBmb3IgaW5zdGFuY2UgdXNlXG4gICAgICAgIC8vIGluIHRoZSBjYWNoaW5nIGxheWVyOlxuICAgICAgICBjbG9uZS5kaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpc1skZXZpY3Rpb25Qb2xpY3ldLnJlbGVhc2UodXJsKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbn1cbkNhY2hpbmdHTFRGTG9hZGVyW19hXSA9IG5ldyBDYWNoZUV2aWN0aW9uUG9saWN5KENhY2hpbmdHTFRGTG9hZGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhY2hpbmdHTFRGTG9hZGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJfYSIsIl9iIiwiRXZlbnREaXNwYXRjaGVyIiwiRFJBQ09Mb2FkZXIiLCJHTFRGTG9hZGVyIiwiS1RYMkxvYWRlciIsIkNhY2hlRXZpY3Rpb25Qb2xpY3kiLCJHTFRGTWF0ZXJpYWxzVmFyaWFudHNFeHRlbnNpb24iLCJsb2FkV2l0aExvYWRlciIsInVybCIsImxvYWRlciIsInByb2dyZXNzQ2FsbGJhY2siLCJvblByb2dyZXNzIiwiZXZlbnQiLCJmcmFjdGlvbiIsImxvYWRlZCIsInRvdGFsIiwiTWF0aCIsIm1heCIsIm1pbiIsImlzRmluaXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJsb2FkIiwiZmV0Y2hTY3JpcHQiLCJzcmMiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvbmxvYWQiLCJvbmVycm9yIiwiYXN5bmMiLCJjYWNoZSIsIk1hcCIsInByZWxvYWRlZCIsImRyYWNvRGVjb2RlckxvY2F0aW9uIiwiZHJhY29Mb2FkZXIiLCJrdHgyVHJhbnNjb2RlckxvY2F0aW9uIiwia3R4MkxvYWRlciIsIm1lc2hvcHREZWNvZGVyTG9jYXRpb24iLCJtZXNob3B0RGVjb2RlciIsIiRsb2FkZXIiLCJTeW1ib2wiLCIkZXZpY3Rpb25Qb2xpY3kiLCIkR0xURkluc3RhbmNlIiwiQ2FjaGluZ0dMVEZMb2FkZXIiLCJjb25zdHJ1Y3RvciIsIkdMVEZJbnN0YW5jZSIsInJlZ2lzdGVyIiwicGFyc2VyIiwic2V0RFJBQ09Mb2FkZXIiLCJzZXRLVFgyTG9hZGVyIiwic2V0RFJBQ09EZWNvZGVyTG9jYXRpb24iLCJzZXREZWNvZGVyUGF0aCIsImdldERSQUNPRGVjb2RlckxvY2F0aW9uIiwic2V0S1RYMlRyYW5zY29kZXJMb2NhdGlvbiIsInNldFRyYW5zY29kZXJQYXRoIiwiZ2V0S1RYMlRyYW5zY29kZXJMb2NhdGlvbiIsInNldE1lc2hvcHREZWNvZGVyTG9jYXRpb24iLCJ0aGVuIiwiTWVzaG9wdERlY29kZXIiLCJyZWFkeSIsImdldE1lc2hvcHREZWNvZGVyTG9jYXRpb24iLCJpbml0aWFsaXplS1RYMkxvYWRlciIsInJlbmRlcmVyIiwiZGV0ZWN0U3VwcG9ydCIsImNsZWFyQ2FjaGUiLCJmb3JFYWNoIiwiX3ZhbHVlIiwiZGVsZXRlIiwicmVzZXQiLCJoYXMiLCJnbHRmTG9hZHMiLCJnZXQiLCJnbHRmIiwiZGlzcG9zZSIsImhhc0ZpbmlzaGVkTG9hZGluZyIsInByZWxvYWQiLCJlbGVtZW50Iiwic2V0V2l0aENyZWRlbnRpYWxzIiwid2l0aENyZWRlbnRpYWxzIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJzZXRNZXNob3B0RGVjb2RlciIsInJhd0dMVEZMb2FkcyIsInByb2dyZXNzIiwiZ2x0Zkluc3RhbmNlTG9hZHMiLCJyYXdHTFRGIiwicHJlcGFyZSIsInByZXBhcmVkR0xURiIsImNhdGNoIiwicmVhc29uIiwiY29uc29sZSIsImVycm9yIiwic2V0IiwiY2xvbmUiLCJyZXRhaW4iLCJyZWxlYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Damper.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DECAY_MILLISECONDS: () => (/* binding */ DECAY_MILLISECONDS),\n/* harmony export */   Damper: () => (/* binding */ Damper),\n/* harmony export */   SETTLING_TIME: () => (/* binding */ SETTLING_TIME)\n/* harmony export */ });\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const SETTLING_TIME = 10000; // plenty long enough\nconst MIN_DECAY_MILLISECONDS = 0.001;\nconst DECAY_MILLISECONDS = 50;\n/**\n * The Damper class is a generic second-order critically damped system that does\n * one linear step of the desired length of time. The only parameter is\n * DECAY_MILLISECONDS. This common parameter makes all states converge at the\n * same rate regardless of scale. xNormalization is a number to provide the\n * rough scale of x, such that NIL_SPEED clamping also happens at roughly the\n * same convergence for all states.\n */ class Damper {\n    constructor(decayMilliseconds = DECAY_MILLISECONDS){\n        this.velocity = 0;\n        this.naturalFrequency = 0;\n        this.setDecayTime(decayMilliseconds);\n    }\n    setDecayTime(decayMilliseconds) {\n        this.naturalFrequency = 1 / Math.max(MIN_DECAY_MILLISECONDS, decayMilliseconds);\n    }\n    update(x, xGoal, timeStepMilliseconds, xNormalization) {\n        const nilSpeed = 0.0002 * this.naturalFrequency;\n        if (x == null || xNormalization === 0) {\n            return xGoal;\n        }\n        if (x === xGoal && this.velocity === 0) {\n            return xGoal;\n        }\n        if (timeStepMilliseconds < 0) {\n            return x;\n        }\n        // Exact solution to a critically damped second-order system, where:\n        // acceleration = this.naturalFrequency * this.naturalFrequency * (xGoal\n        // - x) - 2 * this.naturalFrequency * this.velocity;\n        const deltaX = x - xGoal;\n        const intermediateVelocity = this.velocity + this.naturalFrequency * deltaX;\n        const intermediateX = deltaX + timeStepMilliseconds * intermediateVelocity;\n        const decay = Math.exp(-this.naturalFrequency * timeStepMilliseconds);\n        const newVelocity = (intermediateVelocity - this.naturalFrequency * intermediateX) * decay;\n        const acceleration = -this.naturalFrequency * (newVelocity + intermediateVelocity * decay);\n        if (Math.abs(newVelocity) < nilSpeed * Math.abs(xNormalization) && acceleration * deltaX >= 0) {\n            // This ensures the controls settle and stop calling this function instead\n            // of asymptotically approaching their goal.\n            this.velocity = 0;\n            return xGoal;\n        } else {\n            this.velocity = newVelocity;\n            return xGoal + intermediateX * decay;\n        }\n    }\n} //# sourceMappingURL=Damper.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRGFtcGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDTSxNQUFNQSxnQkFBZ0IsTUFBTSxDQUFDLHFCQUFxQjtBQUN6RCxNQUFNQyx5QkFBeUI7QUFDeEIsTUFBTUMscUJBQXFCLEdBQUc7QUFDckM7Ozs7Ozs7Q0FPQyxHQUNNLE1BQU1DO0lBQ1RDLFlBQVlDLG9CQUFvQkgsa0JBQWtCLENBQUU7UUFDaEQsSUFBSSxDQUFDSSxRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRztRQUN4QixJQUFJLENBQUNDLFlBQVksQ0FBQ0g7SUFDdEI7SUFDQUcsYUFBYUgsaUJBQWlCLEVBQUU7UUFDNUIsSUFBSSxDQUFDRSxnQkFBZ0IsR0FDakIsSUFBSUUsS0FBS0MsR0FBRyxDQUFDVCx3QkFBd0JJO0lBQzdDO0lBQ0FNLE9BQU9DLENBQUMsRUFBRUMsS0FBSyxFQUFFQyxvQkFBb0IsRUFBRUMsY0FBYyxFQUFFO1FBQ25ELE1BQU1DLFdBQVcsU0FBUyxJQUFJLENBQUNULGdCQUFnQjtRQUMvQyxJQUFJSyxLQUFLLFFBQVFHLG1CQUFtQixHQUFHO1lBQ25DLE9BQU9GO1FBQ1g7UUFDQSxJQUFJRCxNQUFNQyxTQUFTLElBQUksQ0FBQ1AsUUFBUSxLQUFLLEdBQUc7WUFDcEMsT0FBT087UUFDWDtRQUNBLElBQUlDLHVCQUF1QixHQUFHO1lBQzFCLE9BQU9GO1FBQ1g7UUFDQSxvRUFBb0U7UUFDcEUsd0VBQXdFO1FBQ3hFLG9EQUFvRDtRQUNwRCxNQUFNSyxTQUFVTCxJQUFJQztRQUNwQixNQUFNSyx1QkFBdUIsSUFBSSxDQUFDWixRQUFRLEdBQUcsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR1U7UUFDckUsTUFBTUUsZ0JBQWdCRixTQUFTSCx1QkFBdUJJO1FBQ3RELE1BQU1FLFFBQVFYLEtBQUtZLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQ2QsZ0JBQWdCLEdBQUdPO1FBQ2hELE1BQU1RLGNBQWMsQ0FBQ0osdUJBQXVCLElBQUksQ0FBQ1gsZ0JBQWdCLEdBQUdZLGFBQVksSUFBS0M7UUFDckYsTUFBTUcsZUFBZSxDQUFDLElBQUksQ0FBQ2hCLGdCQUFnQixHQUFJZSxDQUFBQSxjQUFjSix1QkFBdUJFLEtBQUk7UUFDeEYsSUFBSVgsS0FBS2UsR0FBRyxDQUFDRixlQUFlTixXQUFXUCxLQUFLZSxHQUFHLENBQUNULG1CQUM1Q1EsZUFBZU4sVUFBVSxHQUFHO1lBQzVCLDBFQUEwRTtZQUMxRSw0Q0FBNEM7WUFDNUMsSUFBSSxDQUFDWCxRQUFRLEdBQUc7WUFDaEIsT0FBT087UUFDWCxPQUNLO1lBQ0QsSUFBSSxDQUFDUCxRQUFRLEdBQUdnQjtZQUNoQixPQUFPVCxRQUFRTSxnQkFBZ0JDO1FBQ25DO0lBQ0o7QUFDSixFQUNBLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRGFtcGVyLmpzPzRlZTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNFVFRMSU5HX1RJTUUgPSAxMDAwMDsgLy8gcGxlbnR5IGxvbmcgZW5vdWdoXG5jb25zdCBNSU5fREVDQVlfTUlMTElTRUNPTkRTID0gMC4wMDE7XG5leHBvcnQgY29uc3QgREVDQVlfTUlMTElTRUNPTkRTID0gNTA7XG4vKipcbiAqIFRoZSBEYW1wZXIgY2xhc3MgaXMgYSBnZW5lcmljIHNlY29uZC1vcmRlciBjcml0aWNhbGx5IGRhbXBlZCBzeXN0ZW0gdGhhdCBkb2VzXG4gKiBvbmUgbGluZWFyIHN0ZXAgb2YgdGhlIGRlc2lyZWQgbGVuZ3RoIG9mIHRpbWUuIFRoZSBvbmx5IHBhcmFtZXRlciBpc1xuICogREVDQVlfTUlMTElTRUNPTkRTLiBUaGlzIGNvbW1vbiBwYXJhbWV0ZXIgbWFrZXMgYWxsIHN0YXRlcyBjb252ZXJnZSBhdCB0aGVcbiAqIHNhbWUgcmF0ZSByZWdhcmRsZXNzIG9mIHNjYWxlLiB4Tm9ybWFsaXphdGlvbiBpcyBhIG51bWJlciB0byBwcm92aWRlIHRoZVxuICogcm91Z2ggc2NhbGUgb2YgeCwgc3VjaCB0aGF0IE5JTF9TUEVFRCBjbGFtcGluZyBhbHNvIGhhcHBlbnMgYXQgcm91Z2hseSB0aGVcbiAqIHNhbWUgY29udmVyZ2VuY2UgZm9yIGFsbCBzdGF0ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBEYW1wZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlY2F5TWlsbGlzZWNvbmRzID0gREVDQVlfTUlMTElTRUNPTkRTKSB7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgICAgICB0aGlzLm5hdHVyYWxGcmVxdWVuY3kgPSAwO1xuICAgICAgICB0aGlzLnNldERlY2F5VGltZShkZWNheU1pbGxpc2Vjb25kcyk7XG4gICAgfVxuICAgIHNldERlY2F5VGltZShkZWNheU1pbGxpc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5hdHVyYWxGcmVxdWVuY3kgPVxuICAgICAgICAgICAgMSAvIE1hdGgubWF4KE1JTl9ERUNBWV9NSUxMSVNFQ09ORFMsIGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gICAgdXBkYXRlKHgsIHhHb2FsLCB0aW1lU3RlcE1pbGxpc2Vjb25kcywgeE5vcm1hbGl6YXRpb24pIHtcbiAgICAgICAgY29uc3QgbmlsU3BlZWQgPSAwLjAwMDIgKiB0aGlzLm5hdHVyYWxGcmVxdWVuY3k7XG4gICAgICAgIGlmICh4ID09IG51bGwgfHwgeE5vcm1hbGl6YXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB4R29hbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA9PT0geEdvYWwgJiYgdGhpcy52ZWxvY2l0eSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHhHb2FsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lU3RlcE1pbGxpc2Vjb25kcyA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4YWN0IHNvbHV0aW9uIHRvIGEgY3JpdGljYWxseSBkYW1wZWQgc2Vjb25kLW9yZGVyIHN5c3RlbSwgd2hlcmU6XG4gICAgICAgIC8vIGFjY2VsZXJhdGlvbiA9IHRoaXMubmF0dXJhbEZyZXF1ZW5jeSAqIHRoaXMubmF0dXJhbEZyZXF1ZW5jeSAqICh4R29hbFxuICAgICAgICAvLyAtIHgpIC0gMiAqIHRoaXMubmF0dXJhbEZyZXF1ZW5jeSAqIHRoaXMudmVsb2NpdHk7XG4gICAgICAgIGNvbnN0IGRlbHRhWCA9ICh4IC0geEdvYWwpO1xuICAgICAgICBjb25zdCBpbnRlcm1lZGlhdGVWZWxvY2l0eSA9IHRoaXMudmVsb2NpdHkgKyB0aGlzLm5hdHVyYWxGcmVxdWVuY3kgKiBkZWx0YVg7XG4gICAgICAgIGNvbnN0IGludGVybWVkaWF0ZVggPSBkZWx0YVggKyB0aW1lU3RlcE1pbGxpc2Vjb25kcyAqIGludGVybWVkaWF0ZVZlbG9jaXR5O1xuICAgICAgICBjb25zdCBkZWNheSA9IE1hdGguZXhwKC10aGlzLm5hdHVyYWxGcmVxdWVuY3kgKiB0aW1lU3RlcE1pbGxpc2Vjb25kcyk7XG4gICAgICAgIGNvbnN0IG5ld1ZlbG9jaXR5ID0gKGludGVybWVkaWF0ZVZlbG9jaXR5IC0gdGhpcy5uYXR1cmFsRnJlcXVlbmN5ICogaW50ZXJtZWRpYXRlWCkgKiBkZWNheTtcbiAgICAgICAgY29uc3QgYWNjZWxlcmF0aW9uID0gLXRoaXMubmF0dXJhbEZyZXF1ZW5jeSAqIChuZXdWZWxvY2l0eSArIGludGVybWVkaWF0ZVZlbG9jaXR5ICogZGVjYXkpO1xuICAgICAgICBpZiAoTWF0aC5hYnMobmV3VmVsb2NpdHkpIDwgbmlsU3BlZWQgKiBNYXRoLmFicyh4Tm9ybWFsaXphdGlvbikgJiZcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbiAqIGRlbHRhWCA+PSAwKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIGNvbnRyb2xzIHNldHRsZSBhbmQgc3RvcCBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gaW5zdGVhZFxuICAgICAgICAgICAgLy8gb2YgYXN5bXB0b3RpY2FsbHkgYXBwcm9hY2hpbmcgdGhlaXIgZ29hbC5cbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHhHb2FsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IG5ld1ZlbG9jaXR5O1xuICAgICAgICAgICAgcmV0dXJuIHhHb2FsICsgaW50ZXJtZWRpYXRlWCAqIGRlY2F5O1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGFtcGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJTRVRUTElOR19USU1FIiwiTUlOX0RFQ0FZX01JTExJU0VDT05EUyIsIkRFQ0FZX01JTExJU0VDT05EUyIsIkRhbXBlciIsImNvbnN0cnVjdG9yIiwiZGVjYXlNaWxsaXNlY29uZHMiLCJ2ZWxvY2l0eSIsIm5hdHVyYWxGcmVxdWVuY3kiLCJzZXREZWNheVRpbWUiLCJNYXRoIiwibWF4IiwidXBkYXRlIiwieCIsInhHb2FsIiwidGltZVN0ZXBNaWxsaXNlY29uZHMiLCJ4Tm9ybWFsaXphdGlvbiIsIm5pbFNwZWVkIiwiZGVsdGFYIiwiaW50ZXJtZWRpYXRlVmVsb2NpdHkiLCJpbnRlcm1lZGlhdGVYIiwiZGVjYXkiLCJleHAiLCJuZXdWZWxvY2l0eSIsImFjY2VsZXJhdGlvbiIsImFicyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Debugger.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Debugger.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Debugger: () => (/* binding */ Debugger)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n/**\n * This Debugger exposes internal details of the <model-viewer> rendering\n * substructure so that external tools can more easily inspect and operate on\n * them.\n *\n * It also activates shader debugging on the associated GL context. Shader\n * debugging trades performance for useful error information, so it is not\n * recommended to activate this unless needed.\n */ class Debugger {\n    constructor(renderer){\n        // Force WebGL shader debugging on:\n        renderer.threeRenderer.debug = {\n            checkShaderErrors: true\n        };\n        // Announce debug details at microtask timing to give the `Renderer`\n        // constructor time to complete its initialization, just to be on the safe\n        // side:\n        Promise.resolve().then(()=>{\n            self.dispatchEvent(new CustomEvent(\"model-viewer-renderer-debug\", {\n                detail: {\n                    renderer,\n                    THREE: {\n                        ShaderMaterial: three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial,\n                        Texture: three__WEBPACK_IMPORTED_MODULE_0__.Texture,\n                        Mesh: three__WEBPACK_IMPORTED_MODULE_0__.Mesh,\n                        Scene: three__WEBPACK_IMPORTED_MODULE_0__.Scene,\n                        PlaneGeometry: three__WEBPACK_IMPORTED_MODULE_0__.PlaneGeometry,\n                        OrthographicCamera: three__WEBPACK_IMPORTED_MODULE_0__.OrthographicCamera,\n                        WebGLRenderTarget: three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderTarget\n                    }\n                }\n            }));\n        });\n    }\n    addScene(scene) {\n        self.dispatchEvent(new CustomEvent(\"model-viewer-scene-added-debug\", {\n            detail: {\n                scene\n            }\n        }));\n    }\n    removeScene(scene) {\n        self.dispatchEvent(new CustomEvent(\"model-viewer-scene-removed-debug\", {\n            detail: {\n                scene\n            }\n        }));\n    }\n} //# sourceMappingURL=Debugger.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRGVidWdnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQ2tIO0FBQ25IOzs7Ozs7OztDQVFDLEdBQ00sTUFBTU87SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLG1DQUFtQztRQUNuQ0EsU0FBU0MsYUFBYSxDQUFDQyxLQUFLLEdBQUc7WUFBRUMsbUJBQW1CO1FBQUs7UUFDekQsb0VBQW9FO1FBQ3BFLDBFQUEwRTtRQUMxRSxRQUFRO1FBQ1JDLFFBQVFDLE9BQU8sR0FBR0MsSUFBSSxDQUFDO1lBQ25CQyxLQUFLQyxhQUFhLENBQUMsSUFBSUMsWUFBWSwrQkFBK0I7Z0JBQzlEQyxRQUFRO29CQUNKVjtvQkFDQVcsT0FBTzt3QkFDSGhCLGNBQWNBLG1EQUFBQTt3QkFDZEMsT0FBT0EsNENBQUFBO3dCQUNQTCxJQUFJQSx5Q0FBQUE7d0JBQ0pHLEtBQUtBLDBDQUFBQTt3QkFDTEQsYUFBYUEsa0RBQUFBO3dCQUNiRCxrQkFBa0JBLHVEQUFBQTt3QkFDbEJLLGlCQUFpQkEsc0RBQUFBO29CQUNyQjtnQkFDSjtZQUNKO1FBQ0o7SUFDSjtJQUNBZSxTQUFTQyxLQUFLLEVBQUU7UUFDWk4sS0FBS0MsYUFBYSxDQUFDLElBQUlDLFlBQVksa0NBQWtDO1lBQUVDLFFBQVE7Z0JBQUVHO1lBQU07UUFBRTtJQUM3RjtJQUNBQyxZQUFZRCxLQUFLLEVBQUU7UUFDZk4sS0FBS0MsYUFBYSxDQUFDLElBQUlDLFlBQVksb0NBQW9DO1lBQUVDLFFBQVE7Z0JBQUVHO1lBQU07UUFBRTtJQUMvRjtBQUNKLEVBQ0Esb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9EZWJ1Z2dlci5qcz9hOGQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IE1lc2gsIE9ydGhvZ3JhcGhpY0NhbWVyYSwgUGxhbmVHZW9tZXRyeSwgU2NlbmUsIFNoYWRlck1hdGVyaWFsLCBUZXh0dXJlLCBXZWJHTFJlbmRlclRhcmdldCB9IGZyb20gJ3RocmVlJztcbi8qKlxuICogVGhpcyBEZWJ1Z2dlciBleHBvc2VzIGludGVybmFsIGRldGFpbHMgb2YgdGhlIDxtb2RlbC12aWV3ZXI+IHJlbmRlcmluZ1xuICogc3Vic3RydWN0dXJlIHNvIHRoYXQgZXh0ZXJuYWwgdG9vbHMgY2FuIG1vcmUgZWFzaWx5IGluc3BlY3QgYW5kIG9wZXJhdGUgb25cbiAqIHRoZW0uXG4gKlxuICogSXQgYWxzbyBhY3RpdmF0ZXMgc2hhZGVyIGRlYnVnZ2luZyBvbiB0aGUgYXNzb2NpYXRlZCBHTCBjb250ZXh0LiBTaGFkZXJcbiAqIGRlYnVnZ2luZyB0cmFkZXMgcGVyZm9ybWFuY2UgZm9yIHVzZWZ1bCBlcnJvciBpbmZvcm1hdGlvbiwgc28gaXQgaXMgbm90XG4gKiByZWNvbW1lbmRlZCB0byBhY3RpdmF0ZSB0aGlzIHVubGVzcyBuZWVkZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWJ1Z2dlciB7XG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gRm9yY2UgV2ViR0wgc2hhZGVyIGRlYnVnZ2luZyBvbjpcbiAgICAgICAgcmVuZGVyZXIudGhyZWVSZW5kZXJlci5kZWJ1ZyA9IHsgY2hlY2tTaGFkZXJFcnJvcnM6IHRydWUgfTtcbiAgICAgICAgLy8gQW5ub3VuY2UgZGVidWcgZGV0YWlscyBhdCBtaWNyb3Rhc2sgdGltaW5nIHRvIGdpdmUgdGhlIGBSZW5kZXJlcmBcbiAgICAgICAgLy8gY29uc3RydWN0b3IgdGltZSB0byBjb21wbGV0ZSBpdHMgaW5pdGlhbGl6YXRpb24sIGp1c3QgdG8gYmUgb24gdGhlIHNhZmVcbiAgICAgICAgLy8gc2lkZTpcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdtb2RlbC12aWV3ZXItcmVuZGVyZXItZGVidWcnLCB7XG4gICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgICAgICBUSFJFRToge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2hhZGVyTWF0ZXJpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBUZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWVzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFNjZW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgUGxhbmVHZW9tZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE9ydGhvZ3JhcGhpY0NhbWVyYSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyVGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRTY2VuZShzY2VuZSkge1xuICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdtb2RlbC12aWV3ZXItc2NlbmUtYWRkZWQtZGVidWcnLCB7IGRldGFpbDogeyBzY2VuZSB9IH0pKTtcbiAgICB9XG4gICAgcmVtb3ZlU2NlbmUoc2NlbmUpIHtcbiAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbW9kZWwtdmlld2VyLXNjZW5lLXJlbW92ZWQtZGVidWcnLCB7IGRldGFpbDogeyBzY2VuZSB9IH0pKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWJ1Z2dlci5qcy5tYXAiXSwibmFtZXMiOlsiTWVzaCIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsIlBsYW5lR2VvbWV0cnkiLCJTY2VuZSIsIlNoYWRlck1hdGVyaWFsIiwiVGV4dHVyZSIsIldlYkdMUmVuZGVyVGFyZ2V0IiwiRGVidWdnZXIiLCJjb25zdHJ1Y3RvciIsInJlbmRlcmVyIiwidGhyZWVSZW5kZXJlciIsImRlYnVnIiwiY2hlY2tTaGFkZXJFcnJvcnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJzZWxmIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiVEhSRUUiLCJhZGRTY2VuZSIsInNjZW5lIiwicmVtb3ZlU2NlbmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Debugger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentScene.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/EnvironmentScene.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EnvironmentScene)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \nclass EnvironmentScene extends three__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    constructor(){\n        super();\n        this.position.y = -3.5;\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry();\n        geometry.deleteAttribute(\"uv\");\n        const roomMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({\n            metalness: 0,\n            side: three__WEBPACK_IMPORTED_MODULE_0__.BackSide\n        });\n        const boxMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({\n            metalness: 0\n        });\n        const mainLight = new three__WEBPACK_IMPORTED_MODULE_0__.PointLight(0xffffff, 500.0, 28, 2);\n        mainLight.position.set(0.418, 16.199, 0.300);\n        this.add(mainLight);\n        const room = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, roomMaterial);\n        room.position.set(-0.757, 13.219, 0.717);\n        room.scale.set(31.713, 28.305, 28.591);\n        this.add(room);\n        const box1 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box1.position.set(-10.906, 2.009, 1.846);\n        box1.rotation.set(0, -0.195, 0);\n        box1.scale.set(2.328, 7.905, 4.651);\n        this.add(box1);\n        const box2 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box2.position.set(-5.607, -0.754, -0.758);\n        box2.rotation.set(0, 0.994, 0);\n        box2.scale.set(1.970, 1.534, 3.955);\n        this.add(box2);\n        const box3 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box3.position.set(6.167, 0.857, 7.803);\n        box3.rotation.set(0, 0.561, 0);\n        box3.scale.set(3.927, 6.285, 3.687);\n        this.add(box3);\n        const box4 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box4.position.set(-2.017, 0.018, 6.124);\n        box4.rotation.set(0, 0.333, 0);\n        box4.scale.set(2.002, 4.566, 2.064);\n        this.add(box4);\n        const box5 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box5.position.set(2.291, -0.756, -2.621);\n        box5.rotation.set(0, -0.286, 0);\n        box5.scale.set(1.546, 1.552, 1.496);\n        this.add(box5);\n        const box6 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box6.position.set(-2.193, -0.369, -5.547);\n        box6.rotation.set(0, 0.516, 0);\n        box6.scale.set(3.875, 3.487, 2.986);\n        this.add(box6);\n        // -x right\n        const light1 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(50));\n        light1.position.set(-16.116, 14.37, 8.208);\n        light1.scale.set(0.1, 2.428, 2.739);\n        this.add(light1);\n        // -x left\n        const light2 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(50));\n        light2.position.set(-16.109, 18.021, -8.207);\n        light2.scale.set(0.1, 2.425, 2.751);\n        this.add(light2);\n        // +x\n        const light3 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(17));\n        light3.position.set(14.904, 12.198, -1.832);\n        light3.scale.set(0.15, 4.265, 6.331);\n        this.add(light3);\n        // +z\n        const light4 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(43));\n        light4.position.set(-0.462, 8.89, 14.520);\n        light4.scale.set(4.38, 5.441, 0.088);\n        this.add(light4);\n        // -z\n        const light5 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(20));\n        light5.position.set(3.235, 11.486, -12.541);\n        light5.scale.set(2.5, 2.0, 0.1);\n        this.add(light5);\n        // +y\n        const light6 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(100));\n        light6.position.set(0.0, 20.0, 0.0);\n        light6.scale.set(1.0, 0.1, 1.0);\n        this.add(light6);\n    }\n    createAreaLightMaterial(intensity) {\n        const material = new three__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial();\n        material.color.setScalar(intensity);\n        return material;\n    }\n} //# sourceMappingURL=EnvironmentScene.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRW52aXJvbm1lbnRTY2VuZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDK0c7QUFDakcsTUFBTU8seUJBQXlCRCx3Q0FBS0E7SUFDL0NFLGFBQWM7UUFDVixLQUFLO1FBQ0wsSUFBSSxDQUFDQyxRQUFRLENBQUNDLENBQUMsR0FBRyxDQUFDO1FBQ25CLE1BQU1DLFdBQVcsSUFBSVYsOENBQVdBO1FBQ2hDVSxTQUFTQyxlQUFlLENBQUM7UUFDekIsTUFBTUMsZUFBZSxJQUFJVCx1REFBb0JBLENBQUM7WUFBRVUsV0FBVztZQUFHQyxNQUFNZiwyQ0FBUUE7UUFBQztRQUM3RSxNQUFNZ0IsY0FBYyxJQUFJWix1REFBb0JBLENBQUM7WUFBRVUsV0FBVztRQUFFO1FBQzVELE1BQU1HLFlBQVksSUFBSVosNkNBQVVBLENBQUMsVUFBVSxPQUFPLElBQUk7UUFDdERZLFVBQVVSLFFBQVEsQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sUUFBUTtRQUN0QyxJQUFJLENBQUNDLEdBQUcsQ0FBQ0Y7UUFDVCxNQUFNRyxPQUFPLElBQUlsQix1Q0FBSUEsQ0FBQ1MsVUFBVUU7UUFDaENPLEtBQUtYLFFBQVEsQ0FBQ1MsR0FBRyxDQUFDLENBQUMsT0FBTyxRQUFRO1FBQ2xDRSxLQUFLQyxLQUFLLENBQUNILEdBQUcsQ0FBQyxRQUFRLFFBQVE7UUFDL0IsSUFBSSxDQUFDQyxHQUFHLENBQUNDO1FBQ1QsTUFBTUUsT0FBTyxJQUFJcEIsdUNBQUlBLENBQUNTLFVBQVVLO1FBQ2hDTSxLQUFLYixRQUFRLENBQUNTLEdBQUcsQ0FBQyxDQUFDLFFBQVEsT0FBTztRQUNsQ0ksS0FBS0MsUUFBUSxDQUFDTCxHQUFHLENBQUMsR0FBRyxDQUFDLE9BQU87UUFDN0JJLEtBQUtELEtBQUssQ0FBQ0gsR0FBRyxDQUFDLE9BQU8sT0FBTztRQUM3QixJQUFJLENB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UUFDbENlLE9BQU9aLEtBQUssQ0FBQ0gsR0FBRyxDQUFDLE1BQU0sT0FBTztRQUM5QixJQUFJLENBQUNDLEdBQUcsQ0FBQ2M7UUFDVCxLQUFLO1FBQ0wsTUFBTUMsU0FBUyxJQUFJaEMsdUNBQUlBLENBQUNTLFVBQVUsSUFBSSxDQUFDbUIsdUJBQXVCLENBQUM7UUFDL0RJLE9BQU96QixRQUFRLENBQUNTLEdBQUcsQ0FBQyxPQUFPLFFBQVEsQ0FBQztRQUNwQ2dCLE9BQU9iLEtBQUssQ0FBQ0gsR0FBRyxDQUFDLEtBQUssS0FBSztRQUMzQixJQUFJLENBQUNDLEdBQUcsQ0FBQ2U7UUFDVCxLQUFLO1FBQ0wsTUFBTUMsU0FBUyxJQUFJakMsdUNBQUlBLENBQUNTLFVBQVUsSUFBSSxDQUFDbUIsdUJBQXVCLENBQUM7UUFDL0RLLE9BQU8xQixRQUFRLENBQUNTLEdBQUcsQ0FBQyxLQUFLLE1BQU07UUFDL0JpQixPQUFPZCxLQUFLLENBQUNILEdBQUcsQ0FBQyxLQUFLLEtBQUs7UUFDM0IsSUFBSSxDQUFDQyxHQUFHLENBQUNnQjtJQUNiO0lBQ0FMLHdCQUF3Qk0sU0FBUyxFQUFFO1FBQy9CLE1BQU1DLFdBQVcsSUFBSWxDLG9EQUFpQkE7UUFDdENrQyxTQUFTQyxLQUFLLENBQUNDLFNBQVMsQ0FBQ0g7UUFDekIsT0FBT0M7SUFDWDtBQUNKLEVBQ0EsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9FbnZpcm9ubWVudFNjZW5lLmpzPzU2NDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQmFja1NpZGUsIEJveEdlb21ldHJ5LCBNZXNoLCBNZXNoQmFzaWNNYXRlcmlhbCwgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsIFBvaW50TGlnaHQsIFNjZW5lIH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW52aXJvbm1lbnRTY2VuZSBleHRlbmRzIFNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gLTMuNTtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgQm94R2VvbWV0cnkoKTtcbiAgICAgICAgZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCd1dicpO1xuICAgICAgICBjb25zdCByb29tTWF0ZXJpYWwgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBtZXRhbG5lc3M6IDAsIHNpZGU6IEJhY2tTaWRlIH0pO1xuICAgICAgICBjb25zdCBib3hNYXRlcmlhbCA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7IG1ldGFsbmVzczogMCB9KTtcbiAgICAgICAgY29uc3QgbWFpbkxpZ2h0ID0gbmV3IFBvaW50TGlnaHQoMHhmZmZmZmYsIDUwMC4wLCAyOCwgMik7XG4gICAgICAgIG1haW5MaWdodC5wb3NpdGlvbi5zZXQoMC40MTgsIDE2LjE5OSwgMC4zMDApO1xuICAgICAgICB0aGlzLmFkZChtYWluTGlnaHQpO1xuICAgICAgICBjb25zdCByb29tID0gbmV3IE1lc2goZ2VvbWV0cnksIHJvb21NYXRlcmlhbCk7XG4gICAgICAgIHJvb20ucG9zaXRpb24uc2V0KC0wLjc1NywgMTMuMjE5LCAwLjcxNyk7XG4gICAgICAgIHJvb20uc2NhbGUuc2V0KDMxLjcxMywgMjguMzA1LCAyOC41OTEpO1xuICAgICAgICB0aGlzLmFkZChyb29tKTtcbiAgICAgICAgY29uc3QgYm94MSA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDEucG9zaXRpb24uc2V0KC0xMC45MDYsIDIuMDA5LCAxLjg0Nik7XG4gICAgICAgIGJveDEucm90YXRpb24uc2V0KDAsIC0wLjE5NSwgMCk7XG4gICAgICAgIGJveDEuc2NhbGUuc2V0KDIuMzI4LCA3LjkwNSwgNC42NTEpO1xuICAgICAgICB0aGlzLmFkZChib3gxKTtcbiAgICAgICAgY29uc3QgYm94MiA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDIucG9zaXRpb24uc2V0KC01LjYwNywgLTAuNzU0LCAtMC43NTgpO1xuICAgICAgICBib3gyLnJvdGF0aW9uLnNldCgwLCAwLjk5NCwgMCk7XG4gICAgICAgIGJveDIuc2NhbGUuc2V0KDEuOTcwLCAxLjUzNCwgMy45NTUpO1xuICAgICAgICB0aGlzLmFkZChib3gyKTtcbiAgICAgICAgY29uc3QgYm94MyA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDMucG9zaXRpb24uc2V0KDYuMTY3LCAwLjg1NywgNy44MDMpO1xuICAgICAgICBib3gzLnJvdGF0aW9uLnNldCgwLCAwLjU2MSwgMCk7XG4gICAgICAgIGJveDMuc2NhbGUuc2V0KDMuOTI3LCA2LjI4NSwgMy42ODcpO1xuICAgICAgICB0aGlzLmFkZChib3gzKTtcbiAgICAgICAgY29uc3QgYm94NCA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDQucG9zaXRpb24uc2V0KC0yLjAxNywgMC4wMTgsIDYuMTI0KTtcbiAgICAgICAgYm94NC5yb3RhdGlvbi5zZXQoMCwgMC4zMzMsIDApO1xuICAgICAgICBib3g0LnNjYWxlLnNldCgyLjAwMiwgNC41NjYsIDIuMDY0KTtcbiAgICAgICAgdGhpcy5hZGQoYm94NCk7XG4gICAgICAgIGNvbnN0IGJveDUgPSBuZXcgTWVzaChnZW9tZXRyeSwgYm94TWF0ZXJpYWwpO1xuICAgICAgICBib3g1LnBvc2l0aW9uLnNldCgyLjI5MSwgLTAuNzU2LCAtMi42MjEpO1xuICAgICAgICBib3g1LnJvdGF0aW9uLnNldCgwLCAtMC4yODYsIDApO1xuICAgICAgICBib3g1LnNjYWxlLnNldCgxLjU0NiwgMS41NTIsIDEuNDk2KTtcbiAgICAgICAgdGhpcy5hZGQoYm94NSk7XG4gICAgICAgIGNvbnN0IGJveDYgPSBuZXcgTWVzaChnZW9tZXRyeSwgYm94TWF0ZXJpYWwpO1xuICAgICAgICBib3g2LnBvc2l0aW9uLnNldCgtMi4xOTMsIC0wLjM2OSwgLTUuNTQ3KTtcbiAgICAgICAgYm94Ni5yb3RhdGlvbi5zZXQoMCwgMC41MTYsIDApO1xuICAgICAgICBib3g2LnNjYWxlLnNldCgzLjg3NSwgMy40ODcsIDIuOTg2KTtcbiAgICAgICAgdGhpcy5hZGQoYm94Nik7XG4gICAgICAgIC8vIC14IHJpZ2h0XG4gICAgICAgIGNvbnN0IGxpZ2h0MSA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDUwKSk7XG4gICAgICAgIGxpZ2h0MS5wb3NpdGlvbi5zZXQoLTE2LjExNiwgMTQuMzcsIDguMjA4KTtcbiAgICAgICAgbGlnaHQxLnNjYWxlLnNldCgwLjEsIDIuNDI4LCAyLjczOSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0MSk7XG4gICAgICAgIC8vIC14IGxlZnRcbiAgICAgICAgY29uc3QgbGlnaHQyID0gbmV3IE1lc2goZ2VvbWV0cnksIHRoaXMuY3JlYXRlQXJlYUxpZ2h0TWF0ZXJpYWwoNTApKTtcbiAgICAgICAgbGlnaHQyLnBvc2l0aW9uLnNldCgtMTYuMTA5LCAxOC4wMjEsIC04LjIwNyk7XG4gICAgICAgIGxpZ2h0Mi5zY2FsZS5zZXQoMC4xLCAyLjQyNSwgMi43NTEpO1xuICAgICAgICB0aGlzLmFkZChsaWdodDIpO1xuICAgICAgICAvLyAreFxuICAgICAgICBjb25zdCBsaWdodDMgPSBuZXcgTWVzaChnZW9tZXRyeSwgdGhpcy5jcmVhdGVBcmVhTGlnaHRNYXRlcmlhbCgxNykpO1xuICAgICAgICBsaWdodDMucG9zaXRpb24uc2V0KDE0LjkwNCwgMTIuMTk4LCAtMS44MzIpO1xuICAgICAgICBsaWdodDMuc2NhbGUuc2V0KDAuMTUsIDQuMjY1LCA2LjMzMSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0Myk7XG4gICAgICAgIC8vICt6XG4gICAgICAgIGNvbnN0IGxpZ2h0NCA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDQzKSk7XG4gICAgICAgIGxpZ2h0NC5wb3NpdGlvbi5zZXQoLTAuNDYyLCA4Ljg5LCAxNC41MjApO1xuICAgICAgICBsaWdodDQuc2NhbGUuc2V0KDQuMzgsIDUuNDQxLCAwLjA4OCk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0NCk7XG4gICAgICAgIC8vIC16XG4gICAgICAgIGNvbnN0IGxpZ2h0NSA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDIwKSk7XG4gICAgICAgIGxpZ2h0NS5wb3NpdGlvbi5zZXQoMy4yMzUsIDExLjQ4NiwgLTEyLjU0MSk7XG4gICAgICAgIGxpZ2h0NS5zY2FsZS5zZXQoMi41LCAyLjAsIDAuMSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0NSk7XG4gICAgICAgIC8vICt5XG4gICAgICAgIGNvbnN0IGxpZ2h0NiA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDEwMCkpO1xuICAgICAgICBsaWdodDYucG9zaXRpb24uc2V0KDAuMCwgMjAuMCwgMC4wKTtcbiAgICAgICAgbGlnaHQ2LnNjYWxlLnNldCgxLjAsIDAuMSwgMS4wKTtcbiAgICAgICAgdGhpcy5hZGQobGlnaHQ2KTtcbiAgICB9XG4gICAgY3JlYXRlQXJlYUxpZ2h0TWF0ZXJpYWwoaW50ZW5zaXR5KSB7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKCk7XG4gICAgICAgIG1hdGVyaWFsLmNvbG9yLnNldFNjYWxhcihpbnRlbnNpdHkpO1xuICAgICAgICByZXR1cm4gbWF0ZXJpYWw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW52aXJvbm1lbnRTY2VuZS5qcy5tYXAiXSwibmFtZXMiOlsiQmFja1NpZGUiLCJCb3hHZW9tZXRyeSIsIk1lc2giLCJNZXNoQmFzaWNNYXRlcmlhbCIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwiUG9pbnRMaWdodCIsIlNjZW5lIiwiRW52aXJvbm1lbnRTY2VuZSIsImNvbnN0cnVjdG9yIiwicG9zaXRpb24iLCJ5IiwiZ2VvbWV0cnkiLCJkZWxldGVBdHRyaWJ1dGUiLCJyb29tTWF0ZXJpYWwiLCJtZXRhbG5lc3MiLCJzaWRlIiwiYm94TWF0ZXJpYWwiLCJtYWluTGlnaHQiLCJzZXQiLCJhZGQiLCJyb29tIiwic2NhbGUiLCJib3gxIiwicm90YXRpb24iLCJib3gyIiwiYm94MyIsImJveDQiLCJib3g1IiwiYm94NiIsImxpZ2h0MSIsImNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsIiwibGlnaHQyIiwibGlnaHQzIiwibGlnaHQ0IiwibGlnaHQ1IiwibGlnaHQ2IiwiaW50ZW5zaXR5IiwibWF0ZXJpYWwiLCJjb2xvciIsInNldFNjYWxhciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentScene.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentSceneAlt.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/EnvironmentSceneAlt.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EnvironmentSceneAlt)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \nclass EnvironmentSceneAlt extends three__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    constructor(){\n        super();\n        this.position.y = -3.5;\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry();\n        geometry.deleteAttribute(\"uv\");\n        const roomMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({\n            metalness: 0,\n            side: three__WEBPACK_IMPORTED_MODULE_0__.BackSide\n        });\n        const boxMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({\n            metalness: 0\n        });\n        const mainLight = new three__WEBPACK_IMPORTED_MODULE_0__.PointLight(0xffffff, 400.0, 28, 2);\n        mainLight.position.set(0.5, 14.0, 0.5);\n        this.add(mainLight);\n        const room = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, roomMaterial);\n        room.position.set(0.0, 13.2, 0.0);\n        room.scale.set(31.5, 28.5, 31.5);\n        this.add(room);\n        const box1 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box1.position.set(-10.906, -1.0, 1.846);\n        box1.rotation.set(0, -0.195, 0);\n        box1.scale.set(2.328, 7.905, 4.651);\n        this.add(box1);\n        const box2 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box2.position.set(-5.607, -0.754, -0.758);\n        box2.rotation.set(0, 0.994, 0);\n        box2.scale.set(1.970, 1.534, 3.955);\n        this.add(box2);\n        const box3 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box3.position.set(6.167, -0.16, 7.803);\n        box3.rotation.set(0, 0.561, 0);\n        box3.scale.set(3.927, 6.285, 3.687);\n        this.add(box3);\n        const box4 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box4.position.set(-2.017, 0.018, 6.124);\n        box4.rotation.set(0, 0.333, 0);\n        box4.scale.set(2.002, 4.566, 2.064);\n        this.add(box4);\n        const box5 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box5.position.set(2.291, -0.756, -2.621);\n        box5.rotation.set(0, -0.286, 0);\n        box5.scale.set(1.546, 1.552, 1.496);\n        this.add(box5);\n        const box6 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box6.position.set(-2.193, -0.369, -5.547);\n        box6.rotation.set(0, 0.516, 0);\n        box6.scale.set(3.875, 3.487, 2.986);\n        this.add(box6);\n        // -x_left\n        const light1 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(80));\n        light1.position.set(-14.0, 10.0, 8.0);\n        light1.scale.set(0.1, 2.5, 2.5);\n        this.add(light1);\n        // -x_right\n        const light2 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(80));\n        light2.position.set(-14.0, 14.0, -4.0);\n        light2.scale.set(0.1, 2.5, 2.5);\n        this.add(light2);\n        // +x only on light\n        const light3 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(23));\n        light3.position.set(14.0, 12.0, 0.0);\n        light3.scale.set(0.1, 5.0, 5.0);\n        this.add(light3);\n        // +z\n        const light4 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(16));\n        light4.position.set(0.0, 9.0, 14.0);\n        light4.scale.set(5.0, 5.0, 0.1);\n        this.add(light4);\n        // -z right\n        const light5 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(80));\n        light5.position.set(7.0, 8.0, -14.0);\n        light5.scale.set(2.5, 2.5, 0.1);\n        this.add(light5);\n        // -z left\n        const light6 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(80));\n        light6.position.set(-7.0, 16.0, -14.0);\n        light6.scale.set(2.5, 2.5, 0.1);\n        this.add(light6);\n        // +y\n        const light7 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(1));\n        light7.position.set(0.0, 20.0, 0.0);\n        light7.scale.set(0.1, 0.1, 0.1);\n        this.add(light7);\n    }\n    createAreaLightMaterial(intensity) {\n        const material = new three__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial();\n        material.color.setScalar(intensity);\n        return material;\n    }\n} //# sourceMappingURL=EnvironmentSceneAlt.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRW52aXJvbm1lbnRTY2VuZUFsdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDK0c7QUFDakcsTUFBTU8sNEJBQTRCRCx3Q0FBS0E7SUFDbERFLGFBQWM7UUFDVixLQUFLO1FBQ0wsSUFBSSxDQUFDQyxRQUFRLENBQUNDLENBQUMsR0FBRyxDQUFDO1FBQ25CLE1BQU1DLFdBQVcsSUFBSVYsOENBQVdBO1FBQ2hDVSxTQUFTQyxlQUFlLENBQUM7UUFDekIsTUFBTUMsZUFBZSxJQUFJVCx1REFBb0JBLENBQUM7WUFBRVUsV0FBVztZQUFHQyxNQUFNZiwyQ0FBUUE7UUFBQztRQUM3RSxNQUFNZ0IsY0FBYyxJQUFJWix1REFBb0JBLENBQUM7WUFBRVUsV0FBVztRQUFFO1FBQzVELE1BQU1HLFlBQVksSUFBSVosNkNBQVVBLENBQUMsVUFBVSxPQUFPLElBQUk7UUFDdERZLFVBQVVSLFFBQVEsQ0FBQ1MsR0FBRyxDQUFDLEtBQUssTUFBTTtRQUNsQyxJQUFJLENBQUNDLEdBQUcsQ0FBQ0Y7UUFDVCxNQUFNRyxPQUFPLElBQUlsQix1Q0FBSUEsQ0FBQ1MsVUFBVUU7UUFDaENPLEtBQUtYLFFBQVEsQ0FBQ1MsR0FBRyxDQUFDLEtBQUssTUFBTTtRQUM3QkUsS0FBS0MsS0FBSyxDQUFDSCxHQUFHLENBQUMsTUFBTSxNQUFNO1FBQzNCLElBQUksQ0FBQ0MsR0FBRyxDQUFDQztRQUNULE1BQU1FLE9BQU8sSUFBSXBCLHVDQUFJQSxDQUFDUyxVQUFVSztRQUNoQ00sS0FBS2IsUUFBUSxDQUFDUyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSztRQUNqQ0ksS0FBS0MsUUFBUSxDQUFDTCxHQUFHLENBQUMsR0FBRyxDQUFDLE9BQU87UUFDN0JJLEtBQUtELEtBQUssQ0FBQ0gsR0FBRyxDQUFDLE9BQU8sT0FBTztRQUM3QixJQUFJ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O1FBQzlCZSxPQUFPWixLQUFLLENBQUNILEdBQUcsQ0FBQyxLQUFLLEtBQUs7UUFDM0IsSUFBSSxDQUFDQyxHQUFHLENBQUNjO1FBQ1QsV0FBVztRQUNYLE1BQU1DLFNBQVMsSUFBSWhDLHVDQUFJQSxDQUFDUyxVQUFVLElBQUksQ0FBQ21CLHVCQUF1QixDQUFDO1FBQy9ESSxPQUFPekIsUUFBUSxDQUFDUyxHQUFHLENBQUMsS0FBSyxLQUFLLENBQUM7UUFDL0JnQixPQUFPYixLQUFLLENBQUNILEdBQUcsQ0FBQyxLQUFLLEtBQUs7UUFDM0IsSUFBSSxDQUFDQyxHQUFHLENBQUNlO1FBQ1QsVUFBVTtRQUNWLE1BQU1DLFNBQVMsSUFBSWpDLHVDQUFJQSxDQUFDUyxVQUFVLElBQUksQ0FBQ21CLHVCQUF1QixDQUFDO1FBQy9ESyxPQUFPMUIsUUFBUSxDQUFDUyxHQUFHLENBQUMsQ0FBQyxLQUFLLE1BQU0sQ0FBQztRQUNqQ2lCLE9BQU9kLEtBQUssQ0FBQ0gsR0FBRyxDQUFDLEtBQUssS0FBSztRQUMzQixJQUFJLENBQUNDLEdBQUcsQ0FBQ2dCO1FBQ1QsS0FBSztRQUNMLE1BQU1DLFNBQVMsSUFBSWxDLHVDQUFJQSxDQUFDUyxVQUFVLElBQUksQ0FBQ21CLHVCQUF1QixDQUFDO1FBQy9ETSxPQUFPM0IsUUFBUSxDQUFDUyxHQUFHLENBQUMsS0FBSyxNQUFNO1FBQy9Ca0IsT0FBT2YsS0FBSyxDQUFDSCxHQUFHLENBQUMsS0FBSyxLQUFLO1FBQzNCLElBQUksQ0FBQ0MsR0FBRyxDQUFDaUI7SUFDYjtJQUNBTix3QkFBd0JPLFNBQVMsRUFBRTtRQUMvQixNQUFNQyxXQUFXLElBQUluQyxvREFBaUJBO1FBQ3RDbUMsU0FBU0MsS0FBSyxDQUFDQyxTQUFTLENBQUNIO1FBQ3pCLE9BQU9DO0lBQ1g7QUFDSixFQUNBLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRW52aXJvbm1lbnRTY2VuZUFsdC5qcz84ZWQ5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEJhY2tTaWRlLCBCb3hHZW9tZXRyeSwgTWVzaCwgTWVzaEJhc2ljTWF0ZXJpYWwsIE1lc2hTdGFuZGFyZE1hdGVyaWFsLCBQb2ludExpZ2h0LCBTY2VuZSB9IGZyb20gJ3RocmVlJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudmlyb25tZW50U2NlbmVBbHQgZXh0ZW5kcyBTY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IC0zLjU7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IEJveEdlb21ldHJ5KCk7XG4gICAgICAgIGdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgndXYnKTtcbiAgICAgICAgY29uc3Qgcm9vbU1hdGVyaWFsID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgbWV0YWxuZXNzOiAwLCBzaWRlOiBCYWNrU2lkZSB9KTtcbiAgICAgICAgY29uc3QgYm94TWF0ZXJpYWwgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBtZXRhbG5lc3M6IDAgfSk7XG4gICAgICAgIGNvbnN0IG1haW5MaWdodCA9IG5ldyBQb2ludExpZ2h0KDB4ZmZmZmZmLCA0MDAuMCwgMjgsIDIpO1xuICAgICAgICBtYWluTGlnaHQucG9zaXRpb24uc2V0KDAuNSwgMTQuMCwgMC41KTtcbiAgICAgICAgdGhpcy5hZGQobWFpbkxpZ2h0KTtcbiAgICAgICAgY29uc3Qgcm9vbSA9IG5ldyBNZXNoKGdlb21ldHJ5LCByb29tTWF0ZXJpYWwpO1xuICAgICAgICByb29tLnBvc2l0aW9uLnNldCgwLjAsIDEzLjIsIDAuMCk7XG4gICAgICAgIHJvb20uc2NhbGUuc2V0KDMxLjUsIDI4LjUsIDMxLjUpO1xuICAgICAgICB0aGlzLmFkZChyb29tKTtcbiAgICAgICAgY29uc3QgYm94MSA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDEucG9zaXRpb24uc2V0KC0xMC45MDYsIC0xLjAsIDEuODQ2KTtcbiAgICAgICAgYm94MS5yb3RhdGlvbi5zZXQoMCwgLTAuMTk1LCAwKTtcbiAgICAgICAgYm94MS5zY2FsZS5zZXQoMi4zMjgsIDcuOTA1LCA0LjY1MSk7XG4gICAgICAgIHRoaXMuYWRkKGJveDEpO1xuICAgICAgICBjb25zdCBib3gyID0gbmV3IE1lc2goZ2VvbWV0cnksIGJveE1hdGVyaWFsKTtcbiAgICAgICAgYm94Mi5wb3NpdGlvbi5zZXQoLTUuNjA3LCAtMC43NTQsIC0wLjc1OCk7XG4gICAgICAgIGJveDIucm90YXRpb24uc2V0KDAsIDAuOTk0LCAwKTtcbiAgICAgICAgYm94Mi5zY2FsZS5zZXQoMS45NzAsIDEuNTM0LCAzLjk1NSk7XG4gICAgICAgIHRoaXMuYWRkKGJveDIpO1xuICAgICAgICBjb25zdCBib3gzID0gbmV3IE1lc2goZ2VvbWV0cnksIGJveE1hdGVyaWFsKTtcbiAgICAgICAgYm94My5wb3NpdGlvbi5zZXQoNi4xNjcsIC0wLjE2LCA3LjgwMyk7XG4gICAgICAgIGJveDMucm90YXRpb24uc2V0KDAsIDAuNTYxLCAwKTtcbiAgICAgICAgYm94My5zY2FsZS5zZXQoMy45MjcsIDYuMjg1LCAzLjY4Nyk7XG4gICAgICAgIHRoaXMuYWRkKGJveDMpO1xuICAgICAgICBjb25zdCBib3g0ID0gbmV3IE1lc2goZ2VvbWV0cnksIGJveE1hdGVyaWFsKTtcbiAgICAgICAgYm94NC5wb3NpdGlvbi5zZXQoLTIuMDE3LCAwLjAxOCwgNi4xMjQpO1xuICAgICAgICBib3g0LnJvdGF0aW9uLnNldCgwLCAwLjMzMywgMCk7XG4gICAgICAgIGJveDQuc2NhbGUuc2V0KDIuMDAyLCA0LjU2NiwgMi4wNjQpO1xuICAgICAgICB0aGlzLmFkZChib3g0KTtcbiAgICAgICAgY29uc3QgYm94NSA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDUucG9zaXRpb24uc2V0KDIuMjkxLCAtMC43NTYsIC0yLjYyMSk7XG4gICAgICAgIGJveDUucm90YXRpb24uc2V0KDAsIC0wLjI4NiwgMCk7XG4gICAgICAgIGJveDUuc2NhbGUuc2V0KDEuNTQ2LCAxLjU1MiwgMS40OTYpO1xuICAgICAgICB0aGlzLmFkZChib3g1KTtcbiAgICAgICAgY29uc3QgYm94NiA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDYucG9zaXRpb24uc2V0KC0yLjE5MywgLTAuMzY5LCAtNS41NDcpO1xuICAgICAgICBib3g2LnJvdGF0aW9uLnNldCgwLCAwLjUxNiwgMCk7XG4gICAgICAgIGJveDYuc2NhbGUuc2V0KDMuODc1LCAzLjQ4NywgMi45ODYpO1xuICAgICAgICB0aGlzLmFkZChib3g2KTtcbiAgICAgICAgLy8gLXhfbGVmdFxuICAgICAgICBjb25zdCBsaWdodDEgPSBuZXcgTWVzaChnZW9tZXRyeSwgdGhpcy5jcmVhdGVBcmVhTGlnaHRNYXRlcmlhbCg4MCkpO1xuICAgICAgICBsaWdodDEucG9zaXRpb24uc2V0KC0xNC4wLCAxMC4wLCA4LjApO1xuICAgICAgICBsaWdodDEuc2NhbGUuc2V0KDAuMSwgMi41LCAyLjUpO1xuICAgICAgICB0aGlzLmFkZChsaWdodDEpO1xuICAgICAgICAvLyAteF9yaWdodFxuICAgICAgICBjb25zdCBsaWdodDIgPSBuZXcgTWVzaChnZW9tZXRyeSwgdGhpcy5jcmVhdGVBcmVhTGlnaHRNYXRlcmlhbCg4MCkpO1xuICAgICAgICBsaWdodDIucG9zaXRpb24uc2V0KC0xNC4wLCAxNC4wLCAtNC4wKTtcbiAgICAgICAgbGlnaHQyLnNjYWxlLnNldCgwLjEsIDIuNSwgMi41KTtcbiAgICAgICAgdGhpcy5hZGQobGlnaHQyKTtcbiAgICAgICAgLy8gK3ggb25seSBvbiBsaWdodFxuICAgICAgICBjb25zdCBsaWdodDMgPSBuZXcgTWVzaChnZW9tZXRyeSwgdGhpcy5jcmVhdGVBcmVhTGlnaHRNYXRlcmlhbCgyMykpO1xuICAgICAgICBsaWdodDMucG9zaXRpb24uc2V0KDE0LjAsIDEyLjAsIDAuMCk7XG4gICAgICAgIGxpZ2h0My5zY2FsZS5zZXQoMC4xLCA1LjAsIDUuMCk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0Myk7XG4gICAgICAgIC8vICt6XG4gICAgICAgIGNvbnN0IGxpZ2h0NCA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDE2KSk7XG4gICAgICAgIGxpZ2h0NC5wb3NpdGlvbi5zZXQoMC4wLCA5LjAsIDE0LjApO1xuICAgICAgICBsaWdodDQuc2NhbGUuc2V0KDUuMCwgNS4wLCAwLjEpO1xuICAgICAgICB0aGlzLmFkZChsaWdodDQpO1xuICAgICAgICAvLyAteiByaWdodFxuICAgICAgICBjb25zdCBsaWdodDUgPSBuZXcgTWVzaChnZW9tZXRyeSwgdGhpcy5jcmVhdGVBcmVhTGlnaHRNYXRlcmlhbCg4MCkpO1xuICAgICAgICBsaWdodDUucG9zaXRpb24uc2V0KDcuMCwgOC4wLCAtMTQuMCk7XG4gICAgICAgIGxpZ2h0NS5zY2FsZS5zZXQoMi41LCAyLjUsIDAuMSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0NSk7XG4gICAgICAgIC8vIC16IGxlZnRcbiAgICAgICAgY29uc3QgbGlnaHQ2ID0gbmV3IE1lc2goZ2VvbWV0cnksIHRoaXMuY3JlYXRlQXJlYUxpZ2h0TWF0ZXJpYWwoODApKTtcbiAgICAgICAgbGlnaHQ2LnBvc2l0aW9uLnNldCgtNy4wLCAxNi4wLCAtMTQuMCk7XG4gICAgICAgIGxpZ2h0Ni5zY2FsZS5zZXQoMi41LCAyLjUsIDAuMSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0Nik7XG4gICAgICAgIC8vICt5XG4gICAgICAgIGNvbnN0IGxpZ2h0NyA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDEpKTtcbiAgICAgICAgbGlnaHQ3LnBvc2l0aW9uLnNldCgwLjAsIDIwLjAsIDAuMCk7XG4gICAgICAgIGxpZ2h0Ny5zY2FsZS5zZXQoMC4xLCAwLjEsIDAuMSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0Nyk7XG4gICAgfVxuICAgIGNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKGludGVuc2l0eSkge1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCgpO1xuICAgICAgICBtYXRlcmlhbC5jb2xvci5zZXRTY2FsYXIoaW50ZW5zaXR5KTtcbiAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVudmlyb25tZW50U2NlbmVBbHQuanMubWFwIl0sIm5hbWVzIjpbIkJhY2tTaWRlIiwiQm94R2VvbWV0cnkiLCJNZXNoIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsIlBvaW50TGlnaHQiLCJTY2VuZSIsIkVudmlyb25tZW50U2NlbmVBbHQiLCJjb25zdHJ1Y3RvciIsInBvc2l0aW9uIiwieSIsImdlb21ldHJ5IiwiZGVsZXRlQXR0cmlidXRlIiwicm9vbU1hdGVyaWFsIiwibWV0YWxuZXNzIiwic2lkZSIsImJveE1hdGVyaWFsIiwibWFpbkxpZ2h0Iiwic2V0IiwiYWRkIiwicm9vbSIsInNjYWxlIiwiYm94MSIsInJvdGF0aW9uIiwiYm94MiIsImJveDMiLCJib3g0IiwiYm94NSIsImJveDYiLCJsaWdodDEiLCJjcmVhdGVBcmVhTGlnaHRNYXRlcmlhbCIsImxpZ2h0MiIsImxpZ2h0MyIsImxpZ2h0NCIsImxpZ2h0NSIsImxpZ2h0NiIsImxpZ2h0NyIsImludGVuc2l0eSIsIm1hdGVyaWFsIiwiY29sb3IiLCJzZXRTY2FsYXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentSceneAlt.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/GLTFInstance.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/GLTFInstance.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $clone: () => (/* binding */ $clone),\n/* harmony export */   $prepare: () => (/* binding */ $prepare),\n/* harmony export */   $prepared: () => (/* binding */ $prepared),\n/* harmony export */   $preparedGLTF: () => (/* binding */ $preparedGLTF),\n/* harmony export */   GLTFInstance: () => (/* binding */ GLTFInstance)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_utils_SkeletonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/utils/SkeletonUtils.js */ \"(ssr)/./node_modules/three/examples/jsm/utils/SkeletonUtils.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\nconst $prepared = Symbol(\"prepared\");\nconst $prepare = Symbol(\"prepare\");\nconst $preparedGLTF = Symbol(\"preparedGLTF\");\nconst $clone = Symbol(\"clone\");\n/**\n * Represents the preparation and enhancement of the output of a Three.js\n * GLTFLoader (a Three.js-flavor \"GLTF\"), to make it suitable for optimal,\n * correct viewing in a given presentation context and also make the cloning\n * process more explicit and legible.\n *\n * A GLTFInstance is API-compatible with a Three.js-flavor \"GLTF\", so it should\n * be considered to be interchangeable with the loaded result of a GLTFLoader.\n *\n * This basic implementation only implements trivial preparation and enhancement\n * of a GLTF. These operations are intended to be enhanced by inheriting\n * classes.\n */ class GLTFInstance {\n    constructor(preparedGLTF){\n        this[$preparedGLTF] = preparedGLTF;\n    }\n    /**\n     * Prepares a given GLTF for presentation and future cloning. A GLTF that is\n     * prepared can safely have this method invoked on it multiple times; it will\n     * only be prepared once, including after being cloned.\n     */ static prepare(source) {\n        if (source.scene == null) {\n            throw new Error(\"Model does not have a scene\");\n        }\n        if (source[$prepared]) {\n            return source;\n        }\n        const prepared = this[$prepare](source);\n        // NOTE: ES5 Symbol polyfill is not compatible with spread operator\n        // so {...prepared, [$prepared]: true} does not work\n        prepared[$prepared] = true;\n        return prepared;\n    }\n    /**\n     * Override in an inheriting class to apply specialty one-time preparations\n     * for a given input GLTF.\n     */ static [$prepare](source) {\n        // TODO(#195,#1003): We don't currently support multiple scenes, so we don't\n        // bother preparing extra scenes for now:\n        const { scene } = source;\n        const scenes = [\n            scene\n        ];\n        return Object.assign(Object.assign({}, source), {\n            scene,\n            scenes\n        });\n    }\n    get parser() {\n        return this[$preparedGLTF].parser;\n    }\n    get animations() {\n        return this[$preparedGLTF].animations;\n    }\n    get scene() {\n        return this[$preparedGLTF].scene;\n    }\n    get scenes() {\n        return this[$preparedGLTF].scenes;\n    }\n    get cameras() {\n        return this[$preparedGLTF].cameras;\n    }\n    get asset() {\n        return this[$preparedGLTF].asset;\n    }\n    get userData() {\n        return this[$preparedGLTF].userData;\n    }\n    /**\n     * Creates and returns a copy of this instance.\n     */ clone() {\n        const GLTFInstanceConstructor = this.constructor;\n        const clonedGLTF = this[$clone]();\n        return new GLTFInstanceConstructor(clonedGLTF);\n    }\n    /**\n     * Cleans up any retained memory that might not otherwise be released when\n     * this instance is done being used.\n     */ dispose() {\n        this.scenes.forEach((scene)=>{\n            scene.traverse((object)=>{\n                if (!object.isMesh) {\n                    return;\n                }\n                const mesh = object;\n                const materials = Array.isArray(mesh.material) ? mesh.material : [\n                    mesh.material\n                ];\n                materials.forEach((material)=>{\n                    // Explicitly dispose any textures assigned to this material\n                    for(const propertyName in material){\n                        const texture = material[propertyName];\n                        if (texture instanceof three__WEBPACK_IMPORTED_MODULE_0__.Texture) {\n                            const image = texture.source.data;\n                            if (image.close != null) {\n                                image.close();\n                            }\n                            texture.dispose();\n                        }\n                    }\n                    material.dispose();\n                });\n                mesh.geometry.dispose();\n            });\n        });\n    }\n    /**\n     * Override in an inheriting class to implement specialized cloning strategies\n     */ [$clone]() {\n        const source = this[$preparedGLTF];\n        // TODO(#195,#1003): We don't currently support multiple scenes, so we don't\n        // bother cloning extra scenes for now:\n        const scene = three_examples_jsm_utils_SkeletonUtils_js__WEBPACK_IMPORTED_MODULE_1__.clone(this.scene);\n        cloneVariantMaterials(scene, this.scene);\n        const scenes = [\n            scene\n        ];\n        const userData = source.userData ? Object.assign({}, source.userData) : {};\n        return Object.assign(Object.assign({}, source), {\n            scene,\n            scenes,\n            userData\n        });\n    }\n}\n// Variant materials and original material instances are stored under\n// object.userData.variantMaterials/originalMaterial.\n// Three.js Object3D.clone() doesn't clone Three.js objects under\n// .userData so this function is a workaround.\nconst cloneVariantMaterials = (dst, src)=>{\n    traversePair(dst, src, (dst, src)=>{\n        if (src.userData.variantMaterials !== undefined) {\n            dst.userData.variantMaterials = new Map(src.userData.variantMaterials);\n        }\n        if (src.userData.variantData !== undefined) {\n            dst.userData.variantData = src.userData.variantData;\n        }\n        if (src.userData.originalMaterial !== undefined) {\n            dst.userData.originalMaterial = src.userData.originalMaterial;\n        }\n    });\n};\nconst traversePair = (obj1, obj2, callback)=>{\n    callback(obj1, obj2);\n    // Assume obj1 and obj2 have the same tree structure\n    for(let i = 0; i < obj1.children.length; i++){\n        traversePair(obj1.children[i], obj2.children[i], callback);\n    }\n}; //# sourceMappingURL=GLTFInstance.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvR0xURkluc3RhbmNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQytCO0FBQzJDO0FBQ3BFLE1BQU1FLFlBQVlDLE9BQU8sWUFBWTtBQUNyQyxNQUFNQyxXQUFXRCxPQUFPLFdBQVc7QUFDbkMsTUFBTUUsZ0JBQWdCRixPQUFPLGdCQUFnQjtBQUM3QyxNQUFNRyxTQUFTSCxPQUFPLFNBQVM7QUFDdEM7Ozs7Ozs7Ozs7OztDQVlDLEdBQ00sTUFBTUk7SUFDVEMsWUFBWUMsWUFBWSxDQUFFO1FBQ3RCLElBQUksQ0FBQ0osY0FBYyxHQUFHSTtJQUMxQjtJQUNBOzs7O0tBSUMsR0FDRCxPQUFPQyxRQUFRQyxNQUFNLEVBQUU7UUFDbkIsSUFBSUEsT0FBT0MsS0FBSyxJQUFJLE1BQU07WUFDdEIsTUFBTSxJQUFJQyxNQUFNO1FBQ3BCO1FBQ0EsSUFBSUYsTUFBTSxDQUFDVCxVQUFVLEVBQUU7WUFDbkIsT0FBT1M7UUFDWDtRQUNBLE1BQU1HLFdBQVcsSUFBSSxDQUFDVixTQUFTLENBQUNPO1FBQ2hDLG1FQUFtRTtRQUNuRSxvREFBb0Q7UUFDcERHLFFBQVEsQ0FBQ1osVUFBVSxHQUFHO1FBQ3RCLE9BQU9ZO0lBQ1g7SUFDQTs7O0tBR0MsR0FDRCxPQUFPLENBQUNWLFNBQVMsQ0FBQ08sTUFBTSxFQUFFO1FBQ3RCLDRFQUE0RTtRQUM1RSx5Q0FBeUM7UUFDekMsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBR0Q7UUFDbEIsTUFBTUksU0FBUztZQUFDSDtTQUFNO1FBQ3RCLE9BQU9JLE9BQU9DLE1BQU0sQ0FBQ0QsT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBR04sU0FBUztZQUFFQztZQUFPRztRQUFPO0lBQ3BFO0lBQ0EsSUFBSUcsU0FBUztRQUNULE9BQU8sSUFBSSxDQUFDYixjQUFjLENBQUNhLE1BQU07SUFDckM7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dEIsUUFBUSxDQUFDMkIsV0FBVztRQUN2RDtRQUNBLElBQUlMLElBQUl0QixRQUFRLENBQUM0QixnQkFBZ0IsS0FBS0gsV0FBVztZQUM3Q0osSUFBSXJCLFFBQVEsQ0FBQzRCLGdCQUFnQixHQUFHTixJQUFJdEIsUUFBUSxDQUFDNEIsZ0JBQWdCO1FBQ2pFO0lBQ0o7QUFDSjtBQUNBLE1BQU1MLGVBQWUsQ0FBQ00sTUFBTUMsTUFBTUM7SUFDOUJBLFNBQVNGLE1BQU1DO0lBQ2Ysb0RBQW9EO0lBQ3BELElBQUssSUFBSUUsSUFBSSxHQUFHQSxJQUFJSCxLQUFLSSxRQUFRLENBQUNDLE1BQU0sRUFBRUYsSUFBSztRQUMzQ1QsYUFBYU0sS0FBS0ksUUFBUSxDQUFDRCxFQUFFLEVBQUVGLEtBQUtHLFFBQVEsQ0FBQ0QsRUFBRSxFQUFFRDtJQUNyRDtBQUNKLEdBQ0Esd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9HTFRGSW5zdGFuY2UuanM/NzI3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0ICogYXMgU2tlbGV0b25VdGlscyBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vdXRpbHMvU2tlbGV0b25VdGlscy5qcyc7XG5leHBvcnQgY29uc3QgJHByZXBhcmVkID0gU3ltYm9sKCdwcmVwYXJlZCcpO1xuZXhwb3J0IGNvbnN0ICRwcmVwYXJlID0gU3ltYm9sKCdwcmVwYXJlJyk7XG5leHBvcnQgY29uc3QgJHByZXBhcmVkR0xURiA9IFN5bWJvbCgncHJlcGFyZWRHTFRGJyk7XG5leHBvcnQgY29uc3QgJGNsb25lID0gU3ltYm9sKCdjbG9uZScpO1xuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBwcmVwYXJhdGlvbiBhbmQgZW5oYW5jZW1lbnQgb2YgdGhlIG91dHB1dCBvZiBhIFRocmVlLmpzXG4gKiBHTFRGTG9hZGVyIChhIFRocmVlLmpzLWZsYXZvciBcIkdMVEZcIiksIHRvIG1ha2UgaXQgc3VpdGFibGUgZm9yIG9wdGltYWwsXG4gKiBjb3JyZWN0IHZpZXdpbmcgaW4gYSBnaXZlbiBwcmVzZW50YXRpb24gY29udGV4dCBhbmQgYWxzbyBtYWtlIHRoZSBjbG9uaW5nXG4gKiBwcm9jZXNzIG1vcmUgZXhwbGljaXQgYW5kIGxlZ2libGUuXG4gKlxuICogQSBHTFRGSW5zdGFuY2UgaXMgQVBJLWNvbXBhdGlibGUgd2l0aCBhIFRocmVlLmpzLWZsYXZvciBcIkdMVEZcIiwgc28gaXQgc2hvdWxkXG4gKiBiZSBjb25zaWRlcmVkIHRvIGJlIGludGVyY2hhbmdlYWJsZSB3aXRoIHRoZSBsb2FkZWQgcmVzdWx0IG9mIGEgR0xURkxvYWRlci5cbiAqXG4gKiBUaGlzIGJhc2ljIGltcGxlbWVudGF0aW9uIG9ubHkgaW1wbGVtZW50cyB0cml2aWFsIHByZXBhcmF0aW9uIGFuZCBlbmhhbmNlbWVudFxuICogb2YgYSBHTFRGLiBUaGVzZSBvcGVyYXRpb25zIGFyZSBpbnRlbmRlZCB0byBiZSBlbmhhbmNlZCBieSBpbmhlcml0aW5nXG4gKiBjbGFzc2VzLlxuICovXG5leHBvcnQgY2xhc3MgR0xURkluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihwcmVwYXJlZEdMVEYpIHtcbiAgICAgICAgdGhpc1skcHJlcGFyZWRHTFRGXSA9IHByZXBhcmVkR0xURjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgYSBnaXZlbiBHTFRGIGZvciBwcmVzZW50YXRpb24gYW5kIGZ1dHVyZSBjbG9uaW5nLiBBIEdMVEYgdGhhdCBpc1xuICAgICAqIHByZXBhcmVkIGNhbiBzYWZlbHkgaGF2ZSB0aGlzIG1ldGhvZCBpbnZva2VkIG9uIGl0IG11bHRpcGxlIHRpbWVzOyBpdCB3aWxsXG4gICAgICogb25seSBiZSBwcmVwYXJlZCBvbmNlLCBpbmNsdWRpbmcgYWZ0ZXIgYmVpbmcgY2xvbmVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlKHNvdXJjZSkge1xuICAgICAgICBpZiAoc291cmNlLnNjZW5lID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW9kZWwgZG9lcyBub3QgaGF2ZSBhIHNjZW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZVskcHJlcGFyZWRdKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXBhcmVkID0gdGhpc1skcHJlcGFyZV0oc291cmNlKTtcbiAgICAgICAgLy8gTk9URTogRVM1IFN5bWJvbCBwb2x5ZmlsbCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHNwcmVhZCBvcGVyYXRvclxuICAgICAgICAvLyBzbyB7Li4ucHJlcGFyZWQsIFskcHJlcGFyZWRdOiB0cnVlfSBkb2VzIG5vdCB3b3JrXG4gICAgICAgIHByZXBhcmVkWyRwcmVwYXJlZF0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gcHJlcGFyZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIGluIGFuIGluaGVyaXRpbmcgY2xhc3MgdG8gYXBwbHkgc3BlY2lhbHR5IG9uZS10aW1lIHByZXBhcmF0aW9uc1xuICAgICAqIGZvciBhIGdpdmVuIGlucHV0IEdMVEYuXG4gICAgICovXG4gICAgc3RhdGljIFskcHJlcGFyZV0oc291cmNlKSB7XG4gICAgICAgIC8vIFRPRE8oIzE5NSwjMTAwMyk6IFdlIGRvbid0IGN1cnJlbnRseSBzdXBwb3J0IG11bHRpcGxlIHNjZW5lcywgc28gd2UgZG9uJ3RcbiAgICAgICAgLy8gYm90aGVyIHByZXBhcmluZyBleHRyYSBzY2VuZXMgZm9yIG5vdzpcbiAgICAgICAgY29uc3QgeyBzY2VuZSB9ID0gc291cmNlO1xuICAgICAgICBjb25zdCBzY2VuZXMgPSBbc2NlbmVdO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzb3VyY2UpLCB7IHNjZW5lLCBzY2VuZXMgfSk7XG4gICAgfVxuICAgIGdldCBwYXJzZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdLnBhcnNlcjtcbiAgICB9XG4gICAgZ2V0IGFuaW1hdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdLmFuaW1hdGlvbnM7XG4gICAgfVxuICAgIGdldCBzY2VuZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHByZXBhcmVkR0xURl0uc2NlbmU7XG4gICAgfVxuICAgIGdldCBzY2VuZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdLnNjZW5lcztcbiAgICB9XG4gICAgZ2V0IGNhbWVyYXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdLmNhbWVyYXM7XG4gICAgfVxuICAgIGdldCBhc3NldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHByZXBhcmVkR0xURl0uYXNzZXQ7XG4gICAgfVxuICAgIGdldCB1c2VyRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHByZXBhcmVkR0xURl0udXNlckRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBjb3B5IG9mIHRoaXMgaW5zdGFuY2UuXG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IEdMVEZJbnN0YW5jZUNvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgY2xvbmVkR0xURiA9IHRoaXNbJGNsb25lXSgpO1xuICAgICAgICByZXR1cm4gbmV3IEdMVEZJbnN0YW5jZUNvbnN0cnVjdG9yKGNsb25lZEdMVEYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbnMgdXAgYW55IHJldGFpbmVkIG1lbW9yeSB0aGF0IG1pZ2h0IG5vdCBvdGhlcndpc2UgYmUgcmVsZWFzZWQgd2hlblxuICAgICAqIHRoaXMgaW5zdGFuY2UgaXMgZG9uZSBiZWluZyB1c2VkLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuc2NlbmVzLmZvckVhY2goKHNjZW5lKSA9PiB7XG4gICAgICAgICAgICBzY2VuZS50cmF2ZXJzZSgob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFvYmplY3QuaXNNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzaCA9IG9iamVjdDtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbHMgPSBBcnJheS5pc0FycmF5KG1lc2gubWF0ZXJpYWwpID8gbWVzaC5tYXRlcmlhbCA6IFttZXNoLm1hdGVyaWFsXTtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbHMuZm9yRWFjaChtYXRlcmlhbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4cGxpY2l0bHkgZGlzcG9zZSBhbnkgdGV4dHVyZXMgYXNzaWduZWQgdG8gdGhpcyBtYXRlcmlhbFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBtYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IG1hdGVyaWFsW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRleHR1cmUuc291cmNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmNsb3NlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1lc2guZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBpbiBhbiBpbmhlcml0aW5nIGNsYXNzIHRvIGltcGxlbWVudCBzcGVjaWFsaXplZCBjbG9uaW5nIHN0cmF0ZWdpZXNcbiAgICAgKi9cbiAgICBbJGNsb25lXSgpIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpc1skcHJlcGFyZWRHTFRGXTtcbiAgICAgICAgLy8gVE9ETygjMTk1LCMxMDAzKTogV2UgZG9uJ3QgY3VycmVudGx5IHN1cHBvcnQgbXVsdGlwbGUgc2NlbmVzLCBzbyB3ZSBkb24ndFxuICAgICAgICAvLyBib3RoZXIgY2xvbmluZyBleHRyYSBzY2VuZXMgZm9yIG5vdzpcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBTa2VsZXRvblV0aWxzLmNsb25lKHRoaXMuc2NlbmUpO1xuICAgICAgICBjbG9uZVZhcmlhbnRNYXRlcmlhbHMoc2NlbmUsIHRoaXMuc2NlbmUpO1xuICAgICAgICBjb25zdCBzY2VuZXMgPSBbc2NlbmVdO1xuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHNvdXJjZS51c2VyRGF0YSA/IE9iamVjdC5hc3NpZ24oe30sIHNvdXJjZS51c2VyRGF0YSkgOiB7fTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc291cmNlKSwgeyBzY2VuZSwgc2NlbmVzLCB1c2VyRGF0YSB9KTtcbiAgICB9XG59XG4vLyBWYXJpYW50IG1hdGVyaWFscyBhbmQgb3JpZ2luYWwgbWF0ZXJpYWwgaW5zdGFuY2VzIGFyZSBzdG9yZWQgdW5kZXJcbi8vIG9iamVjdC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzL29yaWdpbmFsTWF0ZXJpYWwuXG4vLyBUaHJlZS5qcyBPYmplY3QzRC5jbG9uZSgpIGRvZXNuJ3QgY2xvbmUgVGhyZWUuanMgb2JqZWN0cyB1bmRlclxuLy8gLnVzZXJEYXRhIHNvIHRoaXMgZnVuY3Rpb24gaXMgYSB3b3JrYXJvdW5kLlxuY29uc3QgY2xvbmVWYXJpYW50TWF0ZXJpYWxzID0gKGRzdCwgc3JjKSA9PiB7XG4gICAgdHJhdmVyc2VQYWlyKGRzdCwgc3JjLCAoZHN0LCBzcmMpID0+IHtcbiAgICAgICAgaWYgKHNyYy51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRzdC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzID0gbmV3IE1hcChzcmMudXNlckRhdGEudmFyaWFudE1hdGVyaWFscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYy51c2VyRGF0YS52YXJpYW50RGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkc3QudXNlckRhdGEudmFyaWFudERhdGEgPSBzcmMudXNlckRhdGEudmFyaWFudERhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYy51c2VyRGF0YS5vcmlnaW5hbE1hdGVyaWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRzdC51c2VyRGF0YS5vcmlnaW5hbE1hdGVyaWFsID0gc3JjLnVzZXJEYXRhLm9yaWdpbmFsTWF0ZXJpYWw7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5jb25zdCB0cmF2ZXJzZVBhaXIgPSAob2JqMSwgb2JqMiwgY2FsbGJhY2spID0+IHtcbiAgICBjYWxsYmFjayhvYmoxLCBvYmoyKTtcbiAgICAvLyBBc3N1bWUgb2JqMSBhbmQgb2JqMiBoYXZlIHRoZSBzYW1lIHRyZWUgc3RydWN0dXJlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoxLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRyYXZlcnNlUGFpcihvYmoxLmNoaWxkcmVuW2ldLCBvYmoyLmNoaWxkcmVuW2ldLCBjYWxsYmFjayk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdMVEZJbnN0YW5jZS5qcy5tYXAiXSwibmFtZXMiOlsiVGV4dHVyZSIsIlNrZWxldG9uVXRpbHMiLCIkcHJlcGFyZWQiLCJTeW1ib2wiLCIkcHJlcGFyZSIsIiRwcmVwYXJlZEdMVEYiLCIkY2xvbmUiLCJHTFRGSW5zdGFuY2UiLCJjb25zdHJ1Y3RvciIsInByZXBhcmVkR0xURiIsInByZXBhcmUiLCJzb3VyY2UiLCJzY2VuZSIsIkVycm9yIiwicHJlcGFyZWQiLCJzY2VuZXMiLCJPYmplY3QiLCJhc3NpZ24iLCJwYXJzZXIiLCJhbmltYXRpb25zIiwiY2FtZXJhcyIsImFzc2V0IiwidXNlckRhdGEiLCJjbG9uZSIsIkdMVEZJbnN0YW5jZUNvbnN0cnVjdG9yIiwiY2xvbmVkR0xURiIsImRpc3Bvc2UiLCJmb3JFYWNoIiwidHJhdmVyc2UiLCJvYmplY3QiLCJpc01lc2giLCJtZXNoIiwibWF0ZXJpYWxzIiwiQXJyYXkiLCJpc0FycmF5IiwibWF0ZXJpYWwiLCJwcm9wZXJ0eU5hbWUiLCJ0ZXh0dXJlIiwiaW1hZ2UiLCJkYXRhIiwiY2xvc2UiLCJnZW9tZXRyeSIsImNsb25lVmFyaWFudE1hdGVyaWFscyIsImRzdCIsInNyYyIsInRyYXZlcnNlUGFpciIsInZhcmlhbnRNYXRlcmlhbHMiLCJ1bmRlZmluZWQiLCJNYXAiLCJ2YXJpYW50RGF0YSIsIm9yaWdpbmFsTWF0ZXJpYWwiLCJvYmoxIiwib2JqMiIsImNhbGxiYWNrIiwiaSIsImNoaWxkcmVuIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/GLTFInstance.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Hotspot.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Hotspot.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Hotspot: () => (/* binding */ Hotspot)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/renderers/CSS2DRenderer.js */ \"(ssr)/./node_modules/three/examples/jsm/renderers/CSS2DRenderer.js\");\n/* harmony import */ var _styles_conversions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../styles/conversions.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _styles_parsers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\n/**\n * The Hotspot object is a reference-counted slot. If decrement() returns true,\n * it should be removed from the tree so it can be garbage-collected.\n */ class Hotspot extends three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_2__.CSS2DObject {\n    constructor(config){\n        super(document.createElement(\"div\"));\n        this.normal = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0);\n        this.initialized = false;\n        this.referenceCount = 1;\n        this.pivot = document.createElement(\"div\");\n        this.slot = document.createElement(\"slot\");\n        this.element.classList.add(\"annotation-wrapper\");\n        this.slot.name = config.name;\n        this.element.appendChild(this.pivot);\n        this.pivot.appendChild(this.slot);\n        this.updatePosition(config.position);\n        this.updateNormal(config.normal);\n    }\n    get facingCamera() {\n        return !this.element.classList.contains(\"hide\");\n    }\n    /**\n     * Sets the hotspot to be in the highly visible foreground state.\n     */ show() {\n        if (!this.facingCamera || !this.initialized) {\n            this.updateVisibility(true);\n        }\n    }\n    /**\n     * Sets the hotspot to be in the diminished background state.\n     */ hide() {\n        if (this.facingCamera || !this.initialized) {\n            this.updateVisibility(false);\n        }\n    }\n    /**\n     * Call this when adding elements to the same slot to keep track.\n     */ increment() {\n        this.referenceCount++;\n    }\n    /**\n     * Call this when removing elements from the slot; returns true when the slot\n     * is unused.\n     */ decrement() {\n        if (this.referenceCount > 0) {\n            --this.referenceCount;\n        }\n        return this.referenceCount === 0;\n    }\n    /**\n     * Change the position of the hotspot to the input string, in the same format\n     * as the data-position attribute.\n     */ updatePosition(position) {\n        if (position == null) return;\n        const positionNodes = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_1__.parseExpressions)(position)[0].terms;\n        for(let i = 0; i < 3; ++i){\n            this.position.setComponent(i, (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(positionNodes[i]).number);\n        }\n        this.updateMatrixWorld();\n    }\n    /**\n     * Change the hotspot's normal to the input string, in the same format as the\n     * data-normal attribute.\n     */ updateNormal(normal) {\n        if (normal == null) return;\n        const normalNodes = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_1__.parseExpressions)(normal)[0].terms;\n        for(let i = 0; i < 3; ++i){\n            this.normal.setComponent(i, (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(normalNodes[i]).number);\n        }\n    }\n    orient(radians) {\n        this.pivot.style.transform = `rotate(${radians}rad)`;\n    }\n    updateVisibility(show) {\n        // NOTE: IE11 doesn't support a second arg for classList.toggle\n        if (show) {\n            this.element.classList.remove(\"hide\");\n        } else {\n            this.element.classList.add(\"hide\");\n        }\n        // NOTE: ShadyDOM doesn't support slot.assignedElements, otherwise we could\n        // use that here.\n        this.slot.assignedNodes().forEach((node)=>{\n            if (node.nodeType !== Node.ELEMENT_NODE) {\n                return;\n            }\n            const element = node;\n            // Visibility attribute can be configured per-node in the hotspot:\n            const visibilityAttribute = element.dataset.visibilityAttribute;\n            if (visibilityAttribute != null) {\n                const attributeName = `data-${visibilityAttribute}`;\n                // NOTE: IE11 doesn't support toggleAttribute\n                if (show) {\n                    element.setAttribute(attributeName, \"\");\n                } else {\n                    element.removeAttribute(attributeName);\n                }\n            }\n            element.dispatchEvent(new CustomEvent(\"hotspot-visibility\", {\n                detail: {\n                    visible: show\n                }\n            }));\n        });\n        this.initialized = true;\n    }\n} //# sourceMappingURL=Hotspot.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvSG90c3BvdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDK0I7QUFDNEM7QUFDbkI7QUFDRDtBQUN4RDs7O0NBR0MsR0FDTSxNQUFNSSxnQkFBZ0JILHNGQUFXQTtJQUNwQ0ksWUFBWUMsTUFBTSxDQUFFO1FBQ2hCLEtBQUssQ0FBQ0MsU0FBU0MsYUFBYSxDQUFDO1FBQzdCLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUlULDBDQUFPQSxDQUFDLEdBQUcsR0FBRztRQUNoQyxJQUFJLENBQUNVLFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNDLGNBQWMsR0FBRztRQUN0QixJQUFJLENBQUNDLEtBQUssR0FBR0wsU0FBU0MsYUFBYSxDQUFDO1FBQ3BDLElBQUksQ0FBQ0ssSUFBSSxHQUFHTixTQUFTQyxhQUFhLENBQUM7UUFDbkMsSUFBSSxDQUFDTSxPQUFPLENBQUNDLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDO1FBQzNCLElBQUksQ0FBQ0gsSUFBSSxDQUFDSSxJQUFJLEdBQUdYLE9BQU9XLElBQUk7UUFDNUIsSUFBSSxDQUFDSCxPQUFPLENBQUNJLFdBQVcsQ0FBQyxJQUFJLENBQUNOLEtBQUs7UUFDbkMsSUFBSSxDQUFDQSxLQUFLLENBQUNNLFdBQVcsQ0FBQyxJQUFJLENBQUNMLElBQUk7UUFDaEMsSUFBSSxDQUFDTSxjQUFjLENBQUNiLE9BQU9jLFFBQVE7UUFDbkMsSUFBSSxDQUFDQyxZQUFZLENBQUNmLE9BQU9HLE1BQU07SUFDbkM7SUFDQSxJQUFJYSxlQUFlO1FBQ2YsT0FBTyxDQUFDLElBQUksQ0FBQ1IsT0FBTyxDQUFDQyxTQUFTLENBQUNRLFFBQVEsQ0FBQztJQUM1QztJQUNBOztLQUVDLEdBQ0RDLE9BQU87UUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDRixZQUFZLElBQUksQ0FBQyxJQUFJLENBQUNaLFdBQVcsRUFBRTtZQUN6QyxJQUFJLENBQUNlLGdCQUFnQixDQUFDO1FBQzFCO0lBQ0o7SUFDQTs7S0FFQyxHQUNEQyxPQUFPO1FBQ0gsSUFBSSxJQUFJLENBQUNKLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQ1osV0FBVyxFQUFFO1lBQ3hDLElBQUksQ0FBQ2UsZ0JBQWdCLENBQUM7UUFDMUI7SUFDSjtJQUNBOztLQUVDLEdBQ0RFLFlBQVk7UUFDUixJQUFJLENBQUNoQixjQUFjO0lBQ3ZCO0lBQ0E7OztLQUdDLEdBQ0RpQixZQUFZO1FBQ1IsSUFBSSxJQUFJLENBQUNqQixjQUFjLEdBQUcsR0FBRztZQUN6QixFQUFFLElBQUksQ0FBQ0EsY0FBYztRQUN6QjtRQUNBLE9BQU8sSUFBSSxDQUFDQSxjQUFjLEtBQUs7SUFDbkM7SUFDQTs7O0tBR0MsR0FDRFEsZUFBZUMsUUFBUSxFQUFFO1FBQ3JCLElBQUlBLFlBQVksTUFDWjtRQUNKLE1BQU1TLGdCQUFnQjFCLG9FQUFnQkEsQ0FBQ2lCLFNBQVMsQ0FBQyxFQUFFLENBQUNVLEtBQUs7UUFDekQsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUksR0FBRyxFQUFFQSxFQUFHO1lBQ3hCLElBQUksQ0FBQ1gsUUFBUSxDQUFDWSxZQUFZLENBQUNELEdBQUc3QixxRUFBYUEsQ0FBQzJCLGFBQWEsQ0FBQ0UsRUFBRSxFQUFFRSxNQUFNO1FBQ3hFO1FBQ0EsSUFBSSxDQUFDQyxpQkFBaUI7SUFDMUI7SUFDQTs7O0tBR0MsR0FDRGIsYUFBYVosTUFBTSxFQUFFO1FBQ2pCLElBQUlBLFVBQVUsTUFDVjtRQUNKLE1BQU0wQixjQUFjaEMsb0VBQWdCQSxDQUFDTSxPQUFPLENBQUMsRUFBRSxDQUFDcUIsS0FBSztRQUNyRCxJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSSxHQUFHLEVBQUVBLEVBQUc7WUFDeEIsSUFBSSxDQUFDdEIsTUFBTSxDQUFDdUIsWUFBWSxDQUFDRCxHQUFHN0IscUVBQWFBLENBQUNpQyxXQUFXLENBQUNKLEVBQUUsRUFBRUUsTUFBTTtRQUNwRTtJQUNKO0lBQ0FHLE9BQU9DLE9BQU8sRUFBRTtRQUNaLElBQUksQ0FBQ3pCLEtBQUssQ0FBQzBCLEtBQUssQ0FBQ0MsU0FBUyxHQUFHLENBQUMsT0FBTyxFQUFFRixRQUFRLElBQUksQ0FBQztJQUN4RDtJQUNBWixpQkFBaUJELElBQUksRUFBRTtRQUNuQiwrREFBK0Q7UUFDL0QsSUFBSUEsTUFBTTtZQUNOLElBQUksQ0FBQ1YsT0FBTyxDQUFDQyxTQUFTLENBQUN5QixNQUFNLENBQUM7UUFDbEMsT0FDSztZQUNELElBQUksQ0FBQzFCLE9BQU8sQ0FBQ0MsU0FBUyxDQUFDQyxHQUFHLENBQUM7UUFDL0I7UUFDQSwyRUFBMkU7UUFDM0UsaUJBQWlCO1FBQ2pCLElBQUksQ0FBQ0gsSUFBSSxDQUFDNEIsYUFBYSxHQUFHQyxPQUFPLENBQUMsQ0FBQ0M7WUFDL0IsSUFBSUEsS0FBS0MsUUFBUSxLQUFLQyxLQUFLQyxZQUFZLEVBQUU7Z0JBQ3JDO1lBQ0o7WUFDQSxNQUFNaEMsVUFBVTZCO1lBQ2hCLGtFQUFrRTtZQUNsRSxNQUFNSSxzQkFBc0JqQyxRQUFRa0MsT0FBTyxDQUFDRCxtQkFBbUI7WUFDL0QsSUFBSUEsdUJBQXVCLE1BQU07Z0JBQzdCLE1BQU1FLGdCQUFnQixDQUFDLEtBQUssRUFBRUYsb0JBQW9CLENBQUM7Z0JBQ25ELDZDQUE2QztnQkFDN0MsSUFBSXZCLE1BQU07b0JBQ05WLFFBQVFvQyxZQUFZLENBQUNELGVBQWU7Z0JBQ3hDLE9BQ0s7b0JBQ0RuQyxRQUFRcUMsZUFBZSxDQUFDRjtnQkFDNUI7WUFDSjtZQUNBbkMsUUFBUXNDLGFBQWEsQ0FBQyxJQUFJQyxZQUFZLHNCQUFzQjtnQkFDeERDLFFBQVE7b0JBQ0pDLFNBQVMvQjtnQkFDYjtZQUNKO1FBQ0o7UUFDQSxJQUFJLENBQUNkLFdBQVcsR0FBRztJQUN2QjtBQUNKLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9Ib3RzcG90LmpzPzIxZmIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IENTUzJET2JqZWN0IH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3JlbmRlcmVycy9DU1MyRFJlbmRlcmVyLmpzJztcbmltcG9ydCB7IG5vcm1hbGl6ZVVuaXQgfSBmcm9tICcuLi9zdHlsZXMvY29udmVyc2lvbnMuanMnO1xuaW1wb3J0IHsgcGFyc2VFeHByZXNzaW9ucyB9IGZyb20gJy4uL3N0eWxlcy9wYXJzZXJzLmpzJztcbi8qKlxuICogVGhlIEhvdHNwb3Qgb2JqZWN0IGlzIGEgcmVmZXJlbmNlLWNvdW50ZWQgc2xvdC4gSWYgZGVjcmVtZW50KCkgcmV0dXJucyB0cnVlLFxuICogaXQgc2hvdWxkIGJlIHJlbW92ZWQgZnJvbSB0aGUgdHJlZSBzbyBpdCBjYW4gYmUgZ2FyYmFnZS1jb2xsZWN0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBIb3RzcG90IGV4dGVuZHMgQ1NTMkRPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gICAgICAgIHRoaXMubm9ybWFsID0gbmV3IFZlY3RvcjMoMCwgMSwgMCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VDb3VudCA9IDE7XG4gICAgICAgIHRoaXMucGl2b3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5zbG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2xvdCcpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYW5ub3RhdGlvbi13cmFwcGVyJyk7XG4gICAgICAgIHRoaXMuc2xvdC5uYW1lID0gY29uZmlnLm5hbWU7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnBpdm90KTtcbiAgICAgICAgdGhpcy5waXZvdC5hcHBlbmRDaGlsZCh0aGlzLnNsb3QpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKGNvbmZpZy5wb3NpdGlvbik7XG4gICAgICAgIHRoaXMudXBkYXRlTm9ybWFsKGNvbmZpZy5ub3JtYWwpO1xuICAgIH1cbiAgICBnZXQgZmFjaW5nQ2FtZXJhKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaG90c3BvdCB0byBiZSBpbiB0aGUgaGlnaGx5IHZpc2libGUgZm9yZWdyb3VuZCBzdGF0ZS5cbiAgICAgKi9cbiAgICBzaG93KCkge1xuICAgICAgICBpZiAoIXRoaXMuZmFjaW5nQ2FtZXJhIHx8ICF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc2liaWxpdHkodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaG90c3BvdCB0byBiZSBpbiB0aGUgZGltaW5pc2hlZCBiYWNrZ3JvdW5kIHN0YXRlLlxuICAgICAqL1xuICAgIGhpZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZ0NhbWVyYSB8fCAhdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHRoaXMgd2hlbiBhZGRpbmcgZWxlbWVudHMgdG8gdGhlIHNhbWUgc2xvdCB0byBrZWVwIHRyYWNrLlxuICAgICAqL1xuICAgIGluY3JlbWVudCgpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VDb3VudCsrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHRoaXMgd2hlbiByZW1vdmluZyBlbGVtZW50cyBmcm9tIHRoZSBzbG90OyByZXR1cm5zIHRydWUgd2hlbiB0aGUgc2xvdFxuICAgICAqIGlzIHVudXNlZC5cbiAgICAgKi9cbiAgICBkZWNyZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlZmVyZW5jZUNvdW50ID4gMCkge1xuICAgICAgICAgICAgLS10aGlzLnJlZmVyZW5jZUNvdW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZUNvdW50ID09PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBob3RzcG90IHRvIHRoZSBpbnB1dCBzdHJpbmcsIGluIHRoZSBzYW1lIGZvcm1hdFxuICAgICAqIGFzIHRoZSBkYXRhLXBvc2l0aW9uIGF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICB1cGRhdGVQb3NpdGlvbihwb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24gPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcG9zaXRpb25Ob2RlcyA9IHBhcnNlRXhwcmVzc2lvbnMocG9zaXRpb24pWzBdLnRlcm1zO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5zZXRDb21wb25lbnQoaSwgbm9ybWFsaXplVW5pdChwb3NpdGlvbk5vZGVzW2ldKS5udW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlTWF0cml4V29ybGQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBob3RzcG90J3Mgbm9ybWFsIHRvIHRoZSBpbnB1dCBzdHJpbmcsIGluIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGVcbiAgICAgKiBkYXRhLW5vcm1hbCBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgdXBkYXRlTm9ybWFsKG5vcm1hbCkge1xuICAgICAgICBpZiAobm9ybWFsID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG5vcm1hbE5vZGVzID0gcGFyc2VFeHByZXNzaW9ucyhub3JtYWwpWzBdLnRlcm1zO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5ub3JtYWwuc2V0Q29tcG9uZW50KGksIG5vcm1hbGl6ZVVuaXQobm9ybWFsTm9kZXNbaV0pLm51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb3JpZW50KHJhZGlhbnMpIHtcbiAgICAgICAgdGhpcy5waXZvdC5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlKCR7cmFkaWFuc31yYWQpYDtcbiAgICB9XG4gICAgdXBkYXRlVmlzaWJpbGl0eShzaG93KSB7XG4gICAgICAgIC8vIE5PVEU6IElFMTEgZG9lc24ndCBzdXBwb3J0IGEgc2Vjb25kIGFyZyBmb3IgY2xhc3NMaXN0LnRvZ2dsZVxuICAgICAgICBpZiAoc2hvdykge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTk9URTogU2hhZHlET00gZG9lc24ndCBzdXBwb3J0IHNsb3QuYXNzaWduZWRFbGVtZW50cywgb3RoZXJ3aXNlIHdlIGNvdWxkXG4gICAgICAgIC8vIHVzZSB0aGF0IGhlcmUuXG4gICAgICAgIHRoaXMuc2xvdC5hc3NpZ25lZE5vZGVzKCkuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG5vZGU7XG4gICAgICAgICAgICAvLyBWaXNpYmlsaXR5IGF0dHJpYnV0ZSBjYW4gYmUgY29uZmlndXJlZCBwZXItbm9kZSBpbiB0aGUgaG90c3BvdDpcbiAgICAgICAgICAgIGNvbnN0IHZpc2liaWxpdHlBdHRyaWJ1dGUgPSBlbGVtZW50LmRhdGFzZXQudmlzaWJpbGl0eUF0dHJpYnV0ZTtcbiAgICAgICAgICAgIGlmICh2aXNpYmlsaXR5QXR0cmlidXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gYGRhdGEtJHt2aXNpYmlsaXR5QXR0cmlidXRlfWA7XG4gICAgICAgICAgICAgICAgLy8gTk9URTogSUUxMSBkb2Vzbid0IHN1cHBvcnQgdG9nZ2xlQXR0cmlidXRlXG4gICAgICAgICAgICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnaG90c3BvdC12aXNpYmlsaXR5Jywge1xuICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBzaG93LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ib3RzcG90LmpzLm1hcCJdLCJuYW1lcyI6WyJWZWN0b3IzIiwiQ1NTMkRPYmplY3QiLCJub3JtYWxpemVVbml0IiwicGFyc2VFeHByZXNzaW9ucyIsIkhvdHNwb3QiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm5vcm1hbCIsImluaXRpYWxpemVkIiwicmVmZXJlbmNlQ291bnQiLCJwaXZvdCIsInNsb3QiLCJlbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwibmFtZSIsImFwcGVuZENoaWxkIiwidXBkYXRlUG9zaXRpb24iLCJwb3NpdGlvbiIsInVwZGF0ZU5vcm1hbCIsImZhY2luZ0NhbWVyYSIsImNvbnRhaW5zIiwic2hvdyIsInVwZGF0ZVZpc2liaWxpdHkiLCJoaWRlIiwiaW5jcmVtZW50IiwiZGVjcmVtZW50IiwicG9zaXRpb25Ob2RlcyIsInRlcm1zIiwiaSIsInNldENvbXBvbmVudCIsIm51bWJlciIsInVwZGF0ZU1hdHJpeFdvcmxkIiwibm9ybWFsTm9kZXMiLCJvcmllbnQiLCJyYWRpYW5zIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJyZW1vdmUiLCJhc3NpZ25lZE5vZGVzIiwiZm9yRWFjaCIsIm5vZGUiLCJub2RlVHlwZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJ2aXNpYmlsaXR5QXR0cmlidXRlIiwiZGF0YXNldCIsImF0dHJpYnV0ZU5hbWUiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJ2aXNpYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Hotspot.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelScene.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/ModelScene.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IlluminationRole: () => (/* binding */ IlluminationRole),\n/* harmony export */   ModelScene: () => (/* binding */ ModelScene)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! three/examples/jsm/renderers/CSS2DRenderer.js */ \"(ssr)/./node_modules/three/examples/jsm/renderers/CSS2DRenderer.js\");\n/* harmony import */ var _features_scene_graph_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../features/scene-graph.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _styles_conversions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/conversions.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _styles_parsers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _Damper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* harmony import */ var _Hotspot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Hotspot.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Hotspot.js\");\n/* harmony import */ var _ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ModelUtils.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelUtils.js\");\n/* harmony import */ var _Shadow_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Shadow.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Shadow.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\n\n\n\n\n\n\n\nconst MIN_SHADOW_RATIO = 100;\nconst IlluminationRole = {\n    Primary: \"primary\",\n    Secondary: \"secondary\"\n};\nconst view = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\nconst target = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\nconst normalWorld = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\nconst raycaster = new three__WEBPACK_IMPORTED_MODULE_9__.Raycaster();\nconst vector3 = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\nconst ndc = new three__WEBPACK_IMPORTED_MODULE_9__.Vector2();\n/**\n * A THREE.Scene object that takes a Model and CanvasHTMLElement and\n * constructs a framed scene based off of the canvas dimensions.\n * Provides lights and cameras to be used in a renderer.\n */ class ModelScene extends three__WEBPACK_IMPORTED_MODULE_9__.Scene {\n    constructor({ canvas, element, width, height }){\n        super();\n        this.annotationRenderer = new three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_10__.CSS2DRenderer();\n        this.schemaElement = document.createElement(\"script\");\n        this.width = 1;\n        this.height = 1;\n        this.aspect = 1;\n        this.scaleStep = 0;\n        this.renderCount = 0;\n        this.externalRenderer = null;\n        // These default camera values are never used, as they are reset once the\n        // model is loaded and framing is computed.\n        this.camera = new three__WEBPACK_IMPORTED_MODULE_9__.PerspectiveCamera(45, 1, 0.1, 100);\n        this.xrCamera = null;\n        this.url = null;\n        this.target = new three__WEBPACK_IMPORTED_MODULE_9__.Object3D();\n        this.animationNames = [];\n        this.boundingBox = new three__WEBPACK_IMPORTED_MODULE_9__.Box3();\n        this.boundingSphere = new three__WEBPACK_IMPORTED_MODULE_9__.Sphere();\n        this.size = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\n        this.idealAspect = 0;\n        this.framedFoVDeg = 0;\n        this.shadow = null;\n        this.shadowIntensity = 0;\n        this.shadowSoftness = 1;\n        this.bakedShadows = new Set();\n        this.exposure = 1;\n        this.canScale = true;\n        this.isDirty = false;\n        this.goalTarget = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\n        this.targetDamperX = new _Damper_js__WEBPACK_IMPORTED_MODULE_5__.Damper();\n        this.targetDamperY = new _Damper_js__WEBPACK_IMPORTED_MODULE_5__.Damper();\n        this.targetDamperZ = new _Damper_js__WEBPACK_IMPORTED_MODULE_5__.Damper();\n        this._currentGLTF = null;\n        this._model = null;\n        this.cancelPendingSourceChange = null;\n        this.animationsByName = new Map();\n        this.currentAnimationAction = null;\n        this.name = \"ModelScene\";\n        this.element = element;\n        this.canvas = canvas;\n        // These default camera values are never used, as they are reset once the\n        // model is loaded and framing is computed.\n        this.camera = new three__WEBPACK_IMPORTED_MODULE_9__.PerspectiveCamera(45, 1, 0.1, 100);\n        this.camera.name = \"MainCamera\";\n        this.add(this.target);\n        this.setSize(width, height);\n        this.target.name = \"Target\";\n        this.mixer = new three__WEBPACK_IMPORTED_MODULE_9__.AnimationMixer(this.target);\n        const { domElement } = this.annotationRenderer;\n        const { style } = domElement;\n        style.display = \"none\";\n        style.pointerEvents = \"none\";\n        style.position = \"absolute\";\n        style.top = \"0\";\n        this.element.shadowRoot.querySelector(\".default\").appendChild(domElement);\n        this.schemaElement.setAttribute(\"type\", \"application/ld+json\");\n    }\n    /**\n     * Function to create the context lazily, as when there is only one\n     * <model-viewer> element, the renderer's 3D context can be displayed\n     * directly. This extra context is necessary to copy the renderings into when\n     * there are more than one.\n     */ get context() {\n        return this.canvas.getContext(\"2d\");\n    }\n    getCamera() {\n        return this.xrCamera != null ? this.xrCamera : this.camera;\n    }\n    queueRender() {\n        this.isDirty = true;\n    }\n    shouldRender() {\n        return this.isDirty;\n    }\n    hasRendered() {\n        this.isDirty = false;\n    }\n    forceRescale() {\n        this.scaleStep = -1;\n        this.queueRender();\n    }\n    /**\n     * Pass in a THREE.Object3D to be controlled\n     * by this model.\n     */ async setObject(model) {\n        this.reset();\n        this._model = model;\n        this.target.add(model);\n        await this.setupScene();\n    }\n    /**\n     * Sets the model via URL.\n     */ async setSource(url, progressCallback = ()=>{}) {\n        if (!url || url === this.url) {\n            progressCallback(1);\n            return;\n        }\n        this.reset();\n        this.url = url;\n        if (this.externalRenderer != null) {\n            const framingInfo = await this.externalRenderer.load(progressCallback);\n            this.boundingSphere.radius = framingInfo.framedRadius;\n            this.idealAspect = framingInfo.fieldOfViewAspect;\n            return;\n        }\n        // If we have pending work due to a previous source change in progress,\n        // cancel it so that we do not incur a race condition:\n        if (this.cancelPendingSourceChange != null) {\n            this.cancelPendingSourceChange();\n            this.cancelPendingSourceChange = null;\n        }\n        let gltf;\n        try {\n            gltf = await new Promise(async (resolve, reject)=>{\n                this.cancelPendingSourceChange = ()=>reject();\n                try {\n                    const result = await this.element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer].loader.load(url, this.element, progressCallback);\n                    resolve(result);\n                } catch (error) {\n                    reject(error);\n                }\n            });\n        } catch (error) {\n            if (error == null) {\n                // Loading was cancelled, so silently return\n                return;\n            }\n            throw error;\n        }\n        this.cancelPendingSourceChange = null;\n        this.reset();\n        this.url = url;\n        this._currentGLTF = gltf;\n        if (gltf != null) {\n            this._model = gltf.scene;\n            this.target.add(gltf.scene);\n        }\n        const { animations } = gltf;\n        const animationsByName = new Map();\n        const animationNames = [];\n        for (const animation of animations){\n            animationsByName.set(animation.name, animation);\n            animationNames.push(animation.name);\n        }\n        this.animations = animations;\n        this.animationsByName = animationsByName;\n        this.animationNames = animationNames;\n        await this.setupScene();\n    }\n    async setupScene() {\n        this.applyTransform();\n        this.updateBoundingBox();\n        await this.updateFraming();\n        this.updateShadow();\n        this.setShadowIntensity(this.shadowIntensity);\n    }\n    reset() {\n        this.url = null;\n        this.queueRender();\n        if (this.shadow != null) {\n            this.shadow.setIntensity(0);\n        }\n        this.bakedShadows.clear();\n        const { _model } = this;\n        if (_model != null) {\n            _model.removeFromParent();\n            this._model = null;\n        }\n        const gltf = this._currentGLTF;\n        if (gltf != null) {\n            gltf.dispose();\n            this._currentGLTF = null;\n        }\n        if (this.currentAnimationAction != null) {\n            this.currentAnimationAction.stop();\n            this.currentAnimationAction = null;\n        }\n        this.mixer.stopAllAction();\n        this.mixer.uncacheRoot(this);\n    }\n    dispose() {\n        this.reset();\n        if (this.shadow != null) {\n            this.shadow.dispose();\n            this.shadow = null;\n        }\n        this.element[_features_scene_graph_js__WEBPACK_IMPORTED_MODULE_0__.$currentGLTF] = null;\n        this.element[_features_scene_graph_js__WEBPACK_IMPORTED_MODULE_0__.$originalGltfJson] = null;\n        this.element[_features_scene_graph_js__WEBPACK_IMPORTED_MODULE_0__.$model] = null;\n    }\n    get currentGLTF() {\n        return this._currentGLTF;\n    }\n    /**\n     * Updates the ModelScene for a new container size in CSS pixels.\n     */ setSize(width, height) {\n        if (this.width === width && this.height === height) {\n            return;\n        }\n        this.width = Math.max(width, 1);\n        this.height = Math.max(height, 1);\n        this.annotationRenderer.setSize(width, height);\n        this.aspect = this.width / this.height;\n        if (this.externalRenderer != null) {\n            const dpr = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_4__.resolveDpr)();\n            this.externalRenderer.resize(width * dpr, height * dpr);\n        }\n        this.queueRender();\n    }\n    markBakedShadow(mesh) {\n        mesh.userData.shadow = true;\n        this.bakedShadows.add(mesh);\n    }\n    unmarkBakedShadow(mesh) {\n        mesh.userData.shadow = false;\n        mesh.visible = true;\n        this.bakedShadows.delete(mesh);\n        this.boundingBox.expandByObject(mesh);\n    }\n    findBakedShadows(group) {\n        const boundingBox = new three__WEBPACK_IMPORTED_MODULE_9__.Box3();\n        group.traverse((object)=>{\n            const mesh = object;\n            if (!mesh.isMesh) {\n                return;\n            }\n            const material = mesh.material;\n            if (!material.transparent) {\n                return;\n            }\n            boundingBox.setFromObject(mesh);\n            const size = boundingBox.getSize(vector3);\n            const minDim = Math.min(size.x, size.y, size.z);\n            const maxDim = Math.max(size.x, size.y, size.z);\n            if (maxDim < MIN_SHADOW_RATIO * minDim) {\n                return;\n            }\n            this.markBakedShadow(mesh);\n        });\n    }\n    checkBakedShadows() {\n        const { min, max } = this.boundingBox;\n        const shadowBox = new three__WEBPACK_IMPORTED_MODULE_9__.Box3();\n        this.boundingBox.getSize(this.size);\n        for (const mesh of this.bakedShadows){\n            shadowBox.setFromObject(mesh);\n            if (shadowBox.min.y < min.y + this.size.y / MIN_SHADOW_RATIO && shadowBox.min.x <= min.x && shadowBox.max.x >= max.x && shadowBox.min.z <= min.z && shadowBox.max.z >= max.z) {\n                continue;\n            }\n            if (shadowBox.min.z < min.z + this.size.z / MIN_SHADOW_RATIO && shadowBox.min.x <= min.x && shadowBox.max.x >= max.x && shadowBox.min.y <= min.y && shadowBox.max.y >= max.y) {\n                continue;\n            }\n            this.unmarkBakedShadow(mesh);\n        }\n    }\n    applyTransform() {\n        const { model } = this;\n        if (model == null) {\n            return;\n        }\n        const orientation = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_3__.parseExpressions)(this.element.orientation)[0].terms;\n        const roll = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_2__.normalizeUnit)(orientation[0]).number;\n        const pitch = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_2__.normalizeUnit)(orientation[1]).number;\n        const yaw = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_2__.normalizeUnit)(orientation[2]).number;\n        model.quaternion.setFromEuler(new three__WEBPACK_IMPORTED_MODULE_9__.Euler(pitch, yaw, roll, \"YXZ\"));\n        const scale = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_3__.parseExpressions)(this.element.scale)[0].terms;\n        model.scale.set(scale[0].number, scale[1].number, scale[2].number);\n    }\n    updateBoundingBox() {\n        const { model } = this;\n        if (model == null) {\n            return;\n        }\n        this.target.remove(model);\n        this.findBakedShadows(model);\n        const bound = (box, vertex)=>{\n            return box.expandByPoint(vertex);\n        };\n        this.setBakedShadowVisibility(false);\n        this.boundingBox = (0,_ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__.reduceVertices)(model, bound, new three__WEBPACK_IMPORTED_MODULE_9__.Box3());\n        // If there's nothing but the baked shadow, then it's not a baked shadow.\n        if (this.boundingBox.isEmpty()) {\n            this.setBakedShadowVisibility(true);\n            this.bakedShadows.forEach((mesh)=>this.unmarkBakedShadow(mesh));\n            this.boundingBox = (0,_ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__.reduceVertices)(model, bound, new three__WEBPACK_IMPORTED_MODULE_9__.Box3());\n        }\n        this.checkBakedShadows();\n        this.setBakedShadowVisibility();\n        this.boundingBox.getSize(this.size);\n        this.target.add(model);\n    }\n    /**\n     * Calculates the boundingSphere and idealAspect that allows the 3D\n     * object to be framed tightly in a 2D window of any aspect ratio without\n     * clipping at any camera orbit. The camera's center target point can be\n     * optionally specified. If no center is specified, it defaults to the center\n     * of the bounding box, which means asymmetric models will tend to be tight on\n     * one side instead of both. Proper choice of center can correct this.\n     */ async updateFraming() {\n        const { model } = this;\n        if (model == null) {\n            return;\n        }\n        this.target.remove(model);\n        this.setBakedShadowVisibility(false);\n        const { center } = this.boundingSphere;\n        this.element.requestUpdate(\"cameraTarget\");\n        await this.element.updateComplete;\n        center.copy(this.getTarget());\n        const radiusSquared = (value, vertex)=>{\n            return Math.max(value, center.distanceToSquared(vertex));\n        };\n        this.boundingSphere.radius = Math.sqrt((0,_ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__.reduceVertices)(model, radiusSquared, 0));\n        const horizontalTanFov = (value, vertex)=>{\n            vertex.sub(center);\n            const radiusXZ = Math.sqrt(vertex.x * vertex.x + vertex.z * vertex.z);\n            return Math.max(value, radiusXZ / (this.idealCameraDistance() - Math.abs(vertex.y)));\n        };\n        this.idealAspect = (0,_ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__.reduceVertices)(model, horizontalTanFov, 0) / Math.tan(this.framedFoVDeg / 2 * Math.PI / 180);\n        this.setBakedShadowVisibility();\n        this.target.add(model);\n    }\n    setBakedShadowVisibility(visible = this.shadowIntensity <= 0) {\n        for (const shadow of this.bakedShadows){\n            shadow.visible = visible;\n        }\n    }\n    idealCameraDistance() {\n        const halfFovRad = this.framedFoVDeg / 2 * Math.PI / 180;\n        return this.boundingSphere.radius / Math.sin(halfFovRad);\n    }\n    /**\n     * Set's the framedFieldOfView based on the aspect ratio of the window in\n     * order to keep the model fully visible at any camera orientation.\n     */ adjustedFoV(fovDeg) {\n        const vertical = Math.tan(fovDeg / 2 * Math.PI / 180) * Math.max(1, this.idealAspect / this.aspect);\n        return 2 * Math.atan(vertical) * 180 / Math.PI;\n    }\n    getNDC(clientX, clientY) {\n        if (this.xrCamera != null) {\n            ndc.set(clientX / window.screen.width, clientY / window.screen.height);\n        } else {\n            const rect = this.element.getBoundingClientRect();\n            ndc.set((clientX - rect.x) / this.width, (clientY - rect.y) / this.height);\n        }\n        ndc.multiplyScalar(2).subScalar(1);\n        ndc.y *= -1;\n        return ndc;\n    }\n    /**\n     * Returns the size of the corresponding canvas element.\n     */ getSize() {\n        return {\n            width: this.width,\n            height: this.height\n        };\n    }\n    setEnvironmentAndSkybox(environment, skybox) {\n        if (this.element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer].arRenderer.presentedScene === this) {\n            return;\n        }\n        this.environment = environment;\n        this.background = skybox;\n        this.queueRender();\n    }\n    /**\n     * Sets the point in model coordinates the model should orbit/pivot around.\n     */ setTarget(modelX, modelY, modelZ) {\n        this.goalTarget.set(-modelX, -modelY, -modelZ);\n    }\n    /**\n     * Set the decay time of, affects the speed of target transitions.\n     */ setTargetDamperDecayTime(decayMilliseconds) {\n        this.targetDamperX.setDecayTime(decayMilliseconds);\n        this.targetDamperY.setDecayTime(decayMilliseconds);\n        this.targetDamperZ.setDecayTime(decayMilliseconds);\n    }\n    /**\n     * Gets the point in model coordinates the model should orbit/pivot around.\n     */ getTarget() {\n        return this.goalTarget.clone().multiplyScalar(-1);\n    }\n    /**\n     * Shifts the model to the target point immediately instead of easing in.\n     */ jumpToGoal() {\n        this.updateTarget(_Damper_js__WEBPACK_IMPORTED_MODULE_5__.SETTLING_TIME);\n    }\n    /**\n     * This should be called every frame with the frame delta to cause the target\n     * to transition to its set point.\n     */ updateTarget(delta) {\n        const goal = this.goalTarget;\n        const target = this.target.position;\n        if (!goal.equals(target)) {\n            const normalization = this.boundingSphere.radius / 10;\n            let { x, y, z } = target;\n            x = this.targetDamperX.update(x, goal.x, delta, normalization);\n            y = this.targetDamperY.update(y, goal.y, delta, normalization);\n            z = this.targetDamperZ.update(z, goal.z, delta, normalization);\n            this.target.position.set(x, y, z);\n            this.target.updateMatrixWorld();\n            this.queueRender();\n            return true;\n        } else {\n            return false;\n        }\n    }\n    /**\n     * Yaw the +z (front) of the model toward the indicated world coordinates.\n     */ pointTowards(worldX, worldZ) {\n        const { x, z } = this.position;\n        this.yaw = Math.atan2(worldX - x, worldZ - z);\n    }\n    get model() {\n        return this._model;\n    }\n    /**\n     * Yaw is the scene's orientation about the y-axis, around the rotation\n     * center.\n     */ set yaw(radiansY) {\n        this.rotation.y = radiansY;\n        this.queueRender();\n    }\n    get yaw() {\n        return this.rotation.y;\n    }\n    set animationTime(value) {\n        this.mixer.setTime(value);\n        this.queueShadowRender();\n    }\n    get animationTime() {\n        if (this.currentAnimationAction != null) {\n            const loopCount = Math.max(this.currentAnimationAction._loopCount, 0);\n            if (this.currentAnimationAction.loop === three__WEBPACK_IMPORTED_MODULE_9__.LoopPingPong && (loopCount & 1) === 1) {\n                return this.duration - this.currentAnimationAction.time;\n            } else {\n                return this.currentAnimationAction.time;\n            }\n        }\n        return 0;\n    }\n    set animationTimeScale(value) {\n        this.mixer.timeScale = value;\n    }\n    get animationTimeScale() {\n        return this.mixer.timeScale;\n    }\n    get duration() {\n        if (this.currentAnimationAction != null && this.currentAnimationAction.getClip()) {\n            return this.currentAnimationAction.getClip().duration;\n        }\n        return 0;\n    }\n    get hasActiveAnimation() {\n        return this.currentAnimationAction != null;\n    }\n    /**\n     * Plays an animation if there are any associated with the current model.\n     * Accepts an optional string name of an animation to play. If no name is\n     * provided, or if no animation is found by the given name, always falls back\n     * to playing the first animation.\n     */ playAnimation(name = null, crossfadeTime = 0, loopMode = three__WEBPACK_IMPORTED_MODULE_9__.LoopRepeat, repetitionCount = Infinity) {\n        if (this._currentGLTF == null) {\n            return;\n        }\n        const { animations } = this;\n        if (animations == null || animations.length === 0) {\n            console.warn(`Cannot play animation (model does not have any animations)`);\n            return;\n        }\n        let animationClip = null;\n        if (name != null) {\n            animationClip = this.animationsByName.get(name);\n            if (animationClip == null) {\n                const parsedAnimationIndex = parseInt(name);\n                if (!isNaN(parsedAnimationIndex) && parsedAnimationIndex >= 0 && parsedAnimationIndex < animations.length) {\n                    animationClip = animations[parsedAnimationIndex];\n                }\n            }\n        }\n        if (animationClip == null) {\n            animationClip = animations[0];\n        }\n        try {\n            const { currentAnimationAction: lastAnimationAction } = this;\n            const action = this.mixer.clipAction(animationClip, this);\n            this.currentAnimationAction = action;\n            if (this.element.paused) {\n                this.mixer.stopAllAction();\n            } else {\n                action.paused = false;\n                if (lastAnimationAction != null && action !== lastAnimationAction) {\n                    action.crossFadeFrom(lastAnimationAction, crossfadeTime, false);\n                } else if (this.animationTimeScale > 0 && this.animationTime == this.duration) {\n                    // This is a workaround for what I believe is a three.js bug.\n                    this.animationTime = 0;\n                }\n            }\n            action.setLoop(loopMode, repetitionCount);\n            action.enabled = true;\n            action.clampWhenFinished = true;\n            action.play();\n        } catch (error) {\n            console.error(error);\n        }\n    }\n    stopAnimation() {\n        this.currentAnimationAction = null;\n        this.mixer.stopAllAction();\n    }\n    updateAnimation(step) {\n        this.mixer.update(step);\n        this.queueShadowRender();\n    }\n    subscribeMixerEvent(event, callback) {\n        this.mixer.addEventListener(event, callback);\n    }\n    /**\n     * Call if the object has been changed in such a way that the shadow's shape\n     * has changed (not a rotation about the Y axis).\n     */ updateShadow() {\n        const shadow = this.shadow;\n        if (shadow != null) {\n            const side = this.element.arPlacement === \"wall\" ? \"back\" : \"bottom\";\n            shadow.setScene(this, this.shadowSoftness, side);\n            shadow.needsUpdate = true;\n        }\n    }\n    renderShadow(renderer) {\n        const shadow = this.shadow;\n        if (shadow != null && shadow.needsUpdate == true) {\n            shadow.render(renderer, this);\n            shadow.needsUpdate = false;\n        }\n    }\n    queueShadowRender() {\n        if (this.shadow != null) {\n            this.shadow.needsUpdate = true;\n        }\n    }\n    /**\n     * Sets the shadow's intensity, lazily creating the shadow as necessary.\n     */ setShadowIntensity(shadowIntensity) {\n        this.shadowIntensity = shadowIntensity;\n        if (this._currentGLTF == null) {\n            return;\n        }\n        this.setBakedShadowVisibility();\n        if (shadowIntensity <= 0 && this.shadow == null) {\n            return;\n        }\n        if (this.shadow == null) {\n            const side = this.element.arPlacement === \"wall\" ? \"back\" : \"bottom\";\n            this.shadow = new _Shadow_js__WEBPACK_IMPORTED_MODULE_8__.Shadow(this, this.shadowSoftness, side);\n        }\n        this.shadow.setIntensity(shadowIntensity);\n    }\n    /**\n     * Sets the shadow's softness by mapping a [0, 1] softness parameter to the\n     * shadow's resolution. This involves reallocation, so it should not be\n     * changed frequently. Softer shadows are cheaper to render.\n     */ setShadowSoftness(softness) {\n        this.shadowSoftness = softness;\n        const shadow = this.shadow;\n        if (shadow != null) {\n            shadow.setSoftness(softness);\n        }\n    }\n    /**\n     * Shift the floor vertically from the bottom of the model's bounding box by\n     * offset (should generally be negative).\n     */ setShadowOffset(offset) {\n        const shadow = this.shadow;\n        if (shadow != null) {\n            shadow.setOffset(offset);\n        }\n    }\n    get raycaster() {\n        return raycaster;\n    }\n    /**\n     * This method returns the world position, model-space normal and texture\n     * coordinate of the point on the mesh corresponding to the input pixel\n     * coordinates given relative to the model-viewer element. If the mesh\n     * is not hit, the result is null.\n     */ positionAndNormalFromPoint(ndcPosition, object = this) {\n        this.raycaster.setFromCamera(ndcPosition, this.getCamera());\n        const hits = this.raycaster.intersectObject(object, true);\n        const hit = hits.find((hit)=>hit.object.visible && !hit.object.userData.shadow);\n        if (hit == null || hit.face == null) {\n            return null;\n        }\n        if (hit.uv == null) {\n            return {\n                position: hit.point,\n                normal: hit.face.normal,\n                uv: null\n            };\n        }\n        hit.face.normal.applyNormalMatrix(new three__WEBPACK_IMPORTED_MODULE_9__.Matrix3().getNormalMatrix(hit.object.matrixWorld));\n        return {\n            position: hit.point,\n            normal: hit.face.normal,\n            uv: hit.uv\n        };\n    }\n    /**\n     * The following methods are for operating on the set of Hotspot objects\n     * attached to the scene. These come from DOM elements, provided to slots by\n     * the Annotation Mixin.\n     */ addHotspot(hotspot) {\n        this.target.add(hotspot);\n        // This happens automatically in render(), but we do it early so that\n        // the slots appear in the shadow DOM and the elements get attached,\n        // allowing us to dispatch events on them.\n        this.annotationRenderer.domElement.appendChild(hotspot.element);\n    }\n    removeHotspot(hotspot) {\n        this.target.remove(hotspot);\n    }\n    /**\n     * Helper method to apply a function to all hotspots.\n     */ forHotspots(func) {\n        const { children } = this.target;\n        for(let i = 0, l = children.length; i < l; i++){\n            const hotspot = children[i];\n            if (hotspot instanceof _Hotspot_js__WEBPACK_IMPORTED_MODULE_6__.Hotspot) {\n                func(hotspot);\n            }\n        }\n    }\n    /**\n     * Update the CSS visibility of the hotspots based on whether their normals\n     * point toward the camera.\n     */ updateHotspots(viewerPosition) {\n        this.forHotspots((hotspot)=>{\n            view.copy(viewerPosition);\n            target.setFromMatrixPosition(hotspot.matrixWorld);\n            view.sub(target);\n            normalWorld.copy(hotspot.normal).transformDirection(this.target.matrixWorld);\n            if (view.dot(normalWorld) < 0) {\n                hotspot.hide();\n            } else {\n                hotspot.show();\n            }\n        });\n    }\n    /**\n     * Rotate all hotspots to an absolute orientation given by the input number of\n     * radians. Zero returns them to upright.\n     */ orientHotspots(radians) {\n        this.forHotspots((hotspot)=>{\n            hotspot.orient(radians);\n        });\n    }\n    /**\n     * Set the rendering visibility of all hotspots. This is used to hide them\n     * during transitions and such.\n     */ setHotspotsVisibility(visible) {\n        this.forHotspots((hotspot)=>{\n            hotspot.visible = visible;\n        });\n    }\n    updateSchema(src) {\n        var _a;\n        const { schemaElement, element } = this;\n        const { alt, poster, iosSrc } = element;\n        if (src != null) {\n            const encoding = [\n                {\n                    \"@type\": \"MediaObject\",\n                    contentUrl: src,\n                    encodingFormat: ((_a = src.split(\".\").pop()) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === \"gltf\" ? \"model/gltf+json\" : \"model/gltf-binary\"\n                }\n            ];\n            if (iosSrc) {\n                encoding.push({\n                    \"@type\": \"MediaObject\",\n                    contentUrl: iosSrc,\n                    encodingFormat: \"model/vnd.usdz+zip\"\n                });\n            }\n            const structuredData = {\n                \"@context\": \"http://schema.org/\",\n                \"@type\": \"3DModel\",\n                image: poster !== null && poster !== void 0 ? poster : undefined,\n                name: alt !== null && alt !== void 0 ? alt : undefined,\n                encoding\n            };\n            schemaElement.textContent = JSON.stringify(structuredData);\n            document.head.appendChild(schemaElement);\n        } else if (schemaElement.parentElement != null) {\n            schemaElement.parentElement.removeChild(schemaElement);\n        }\n    }\n} //# sourceMappingURL=ModelScene.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvTW9kZWxTY2VuZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUMrSjtBQUNsRjtBQUNPO0FBQ2pDO0FBQ0s7QUFDRDtBQUNYO0FBQ087QUFDYjtBQUNVO0FBQ1o7QUFDckMsTUFBTTBCLG1CQUFtQjtBQUNsQixNQUFNQyxtQkFBbUI7SUFDNUJDLFNBQVM7SUFDVEMsV0FBVztBQUNmLEVBQUU7QUFDRixNQUFNQyxPQUFPLElBQUlsQiwwQ0FBT0E7QUFDeEIsTUFBTW1CLFNBQVMsSUFBSW5CLDBDQUFPQTtBQUMxQixNQUFNb0IsY0FBYyxJQUFJcEIsMENBQU9BO0FBQy9CLE1BQU1xQixZQUFZLElBQUl6Qiw0Q0FBU0E7QUFDL0IsTUFBTTBCLFVBQVUsSUFBSXRCLDBDQUFPQTtBQUMzQixNQUFNdUIsTUFBTSxJQUFJeEIsMENBQU9BO0FBQ3ZCOzs7O0NBSUMsR0FDTSxNQUFNeUIsbUJBQW1CM0Isd0NBQUtBO0lBQ2pDNEIsWUFBWSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUUsQ0FBRTtRQUM1QyxLQUFLO1FBQ0wsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRyxJQUFJN0IseUZBQWFBO1FBQzNDLElBQUksQ0FBQzhCLGFBQWEsR0FBR0MsU0FBU0MsYUFBYSxDQUFDO1FBQzVDLElBQUksQ0FBQ0wsS0FBSyxHQUFHO1FBQ2IsSUFBSSxDQUFDQyxNQUFNLEdBQUc7UUFDZCxJQUFJLENBQUNLLE1BQU0sR0FBRztRQUNkLElBQUksQ0FBQ0MsU0FBUyxHQUFHO1FBQ2pCLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUc7UUFDeEIseUVBQXlFO1FBQ3pFLDJDQUEyQztRQUMzQyxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJM0Msb0RB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SUFBSUEsY0FBYzZTLGFBQWEsSUFBSSxNQUFNO1lBQzFDN1MsY0FBYzZTLGFBQWEsQ0FBQ0MsV0FBVyxDQUFDOVM7UUFDNUM7SUFDSjtBQUNKLEVBQ0Esc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9Nb2RlbFNjZW5lLmpzP2MyNTciXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQW5pbWF0aW9uTWl4ZXIsIEJveDMsIEV1bGVyLCBMb29wUGluZ1BvbmcsIExvb3BSZXBlYXQsIE1hdHJpeDMsIE9iamVjdDNELCBQZXJzcGVjdGl2ZUNhbWVyYSwgUmF5Y2FzdGVyLCBTY2VuZSwgU3BoZXJlLCBWZWN0b3IyLCBWZWN0b3IzIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgQ1NTMkRSZW5kZXJlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9yZW5kZXJlcnMvQ1NTMkRSZW5kZXJlci5qcyc7XG5pbXBvcnQgeyAkY3VycmVudEdMVEYsICRtb2RlbCwgJG9yaWdpbmFsR2x0Zkpzb24gfSBmcm9tICcuLi9mZWF0dXJlcy9zY2VuZS1ncmFwaC5qcyc7XG5pbXBvcnQgeyAkcmVuZGVyZXIgfSBmcm9tICcuLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgeyBub3JtYWxpemVVbml0IH0gZnJvbSAnLi4vc3R5bGVzL2NvbnZlcnNpb25zLmpzJztcbmltcG9ydCB7IHBhcnNlRXhwcmVzc2lvbnMgfSBmcm9tICcuLi9zdHlsZXMvcGFyc2Vycy5qcyc7XG5pbXBvcnQgeyByZXNvbHZlRHByIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IERhbXBlciwgU0VUVExJTkdfVElNRSB9IGZyb20gJy4vRGFtcGVyLmpzJztcbmltcG9ydCB7IEhvdHNwb3QgfSBmcm9tICcuL0hvdHNwb3QuanMnO1xuaW1wb3J0IHsgcmVkdWNlVmVydGljZXMgfSBmcm9tICcuL01vZGVsVXRpbHMuanMnO1xuaW1wb3J0IHsgU2hhZG93IH0gZnJvbSAnLi9TaGFkb3cuanMnO1xuY29uc3QgTUlOX1NIQURPV19SQVRJTyA9IDEwMDtcbmV4cG9ydCBjb25zdCBJbGx1bWluYXRpb25Sb2xlID0ge1xuICAgIFByaW1hcnk6ICdwcmltYXJ5JyxcbiAgICBTZWNvbmRhcnk6ICdzZWNvbmRhcnknXG59O1xuY29uc3QgdmlldyA9IG5ldyBWZWN0b3IzKCk7XG5jb25zdCB0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuY29uc3Qgbm9ybWFsV29ybGQgPSBuZXcgVmVjdG9yMygpO1xuY29uc3QgcmF5Y2FzdGVyID0gbmV3IFJheWNhc3RlcigpO1xuY29uc3QgdmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XG5jb25zdCBuZGMgPSBuZXcgVmVjdG9yMigpO1xuLyoqXG4gKiBBIFRIUkVFLlNjZW5lIG9iamVjdCB0aGF0IHRha2VzIGEgTW9kZWwgYW5kIENhbnZhc0hUTUxFbGVtZW50IGFuZFxuICogY29uc3RydWN0cyBhIGZyYW1lZCBzY2VuZSBiYXNlZCBvZmYgb2YgdGhlIGNhbnZhcyBkaW1lbnNpb25zLlxuICogUHJvdmlkZXMgbGlnaHRzIGFuZCBjYW1lcmFzIHRvIGJlIHVzZWQgaW4gYSByZW5kZXJlci5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsU2NlbmUgZXh0ZW5kcyBTY2VuZSB7XG4gICAgY29uc3RydWN0b3IoeyBjYW52YXMsIGVsZW1lbnQsIHdpZHRoLCBoZWlnaHQgfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmFubm90YXRpb25SZW5kZXJlciA9IG5ldyBDU1MyRFJlbmRlcmVyKCk7XG4gICAgICAgIHRoaXMuc2NoZW1hRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICB0aGlzLndpZHRoID0gMTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAxO1xuICAgICAgICB0aGlzLmFzcGVjdCA9IDE7XG4gICAgICAgIHRoaXMuc2NhbGVTdGVwID0gMDtcbiAgICAgICAgdGhpcy5yZW5kZXJDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIC8vIFRoZXNlIGRlZmF1bHQgY2FtZXJhIHZhbHVlcyBhcmUgbmV2ZXIgdXNlZCwgYXMgdGhleSBhcmUgcmVzZXQgb25jZSB0aGVcbiAgICAgICAgLy8gbW9kZWwgaXMgbG9hZGVkIGFuZCBmcmFtaW5nIGlzIGNvbXB1dGVkLlxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg0NSwgMSwgMC4xLCAxMDApO1xuICAgICAgICB0aGlzLnhyQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgdGhpcy51cmwgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldCA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbk5hbWVzID0gW107XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgQm94MygpO1xuICAgICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlID0gbmV3IFNwaGVyZSgpO1xuICAgICAgICB0aGlzLnNpemUgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLmlkZWFsQXNwZWN0ID0gMDtcbiAgICAgICAgdGhpcy5mcmFtZWRGb1ZEZWcgPSAwO1xuICAgICAgICB0aGlzLnNoYWRvdyA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZG93SW50ZW5zaXR5ID0gMDtcbiAgICAgICAgdGhpcy5zaGFkb3dTb2Z0bmVzcyA9IDE7XG4gICAgICAgIHRoaXMuYmFrZWRTaGFkb3dzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmV4cG9zdXJlID0gMTtcbiAgICAgICAgdGhpcy5jYW5TY2FsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdvYWxUYXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnRhcmdldERhbXBlclggPSBuZXcgRGFtcGVyKCk7XG4gICAgICAgIHRoaXMudGFyZ2V0RGFtcGVyWSA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy50YXJnZXREYW1wZXJaID0gbmV3IERhbXBlcigpO1xuICAgICAgICB0aGlzLl9jdXJyZW50R0xURiA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vZGVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW5jZWxQZW5kaW5nU291cmNlQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zQnlOYW1lID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb25BY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTW9kZWxTY2VuZSc7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICAvLyBUaGVzZSBkZWZhdWx0IGNhbWVyYSB2YWx1ZXMgYXJlIG5ldmVyIHVzZWQsIGFzIHRoZXkgYXJlIHJlc2V0IG9uY2UgdGhlXG4gICAgICAgIC8vIG1vZGVsIGlzIGxvYWRlZCBhbmQgZnJhbWluZyBpcyBjb21wdXRlZC5cbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoNDUsIDEsIDAuMSwgMTAwKTtcbiAgICAgICAgdGhpcy5jYW1lcmEubmFtZSA9ICdNYWluQ2FtZXJhJztcbiAgICAgICAgdGhpcy5hZGQodGhpcy50YXJnZXQpO1xuICAgICAgICB0aGlzLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMudGFyZ2V0Lm5hbWUgPSAnVGFyZ2V0JztcbiAgICAgICAgdGhpcy5taXhlciA9IG5ldyBBbmltYXRpb25NaXhlcih0aGlzLnRhcmdldCk7XG4gICAgICAgIGNvbnN0IHsgZG9tRWxlbWVudCB9ID0gdGhpcy5hbm5vdGF0aW9uUmVuZGVyZXI7XG4gICAgICAgIGNvbnN0IHsgc3R5bGUgfSA9IGRvbUVsZW1lbnQ7XG4gICAgICAgIHN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgc3R5bGUudG9wID0gJzAnO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuZGVmYXVsdCcpLmFwcGVuZENoaWxkKGRvbUVsZW1lbnQpO1xuICAgICAgICB0aGlzLnNjaGVtYUVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2FwcGxpY2F0aW9uL2xkK2pzb24nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBjb250ZXh0IGxhemlseSwgYXMgd2hlbiB0aGVyZSBpcyBvbmx5IG9uZVxuICAgICAqIDxtb2RlbC12aWV3ZXI+IGVsZW1lbnQsIHRoZSByZW5kZXJlcidzIDNEIGNvbnRleHQgY2FuIGJlIGRpc3BsYXllZFxuICAgICAqIGRpcmVjdGx5LiBUaGlzIGV4dHJhIGNvbnRleHQgaXMgbmVjZXNzYXJ5IHRvIGNvcHkgdGhlIHJlbmRlcmluZ3MgaW50byB3aGVuXG4gICAgICogdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUuXG4gICAgICovXG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIH1cbiAgICBnZXRDYW1lcmEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnhyQ2FtZXJhICE9IG51bGwgPyB0aGlzLnhyQ2FtZXJhIDogdGhpcy5jYW1lcmE7XG4gICAgfVxuICAgIHF1ZXVlUmVuZGVyKCkge1xuICAgICAgICB0aGlzLmlzRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICBzaG91bGRSZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGlydHk7XG4gICAgfVxuICAgIGhhc1JlbmRlcmVkKCkge1xuICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgICB9XG4gICAgZm9yY2VSZXNjYWxlKCkge1xuICAgICAgICB0aGlzLnNjYWxlU3RlcCA9IC0xO1xuICAgICAgICB0aGlzLnF1ZXVlUmVuZGVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhc3MgaW4gYSBUSFJFRS5PYmplY3QzRCB0byBiZSBjb250cm9sbGVkXG4gICAgICogYnkgdGhpcyBtb2RlbC5cbiAgICAgKi9cbiAgICBhc3luYyBzZXRPYmplY3QobW9kZWwpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLl9tb2RlbCA9IG1vZGVsO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGQobW9kZWwpO1xuICAgICAgICBhd2FpdCB0aGlzLnNldHVwU2NlbmUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbW9kZWwgdmlhIFVSTC5cbiAgICAgKi9cbiAgICBhc3luYyBzZXRTb3VyY2UodXJsLCBwcm9ncmVzc0NhbGxiYWNrID0gKCkgPT4geyB9KSB7XG4gICAgICAgIGlmICghdXJsIHx8IHVybCA9PT0gdGhpcy51cmwpIHtcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2soMSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgaWYgKHRoaXMuZXh0ZXJuYWxSZW5kZXJlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBmcmFtaW5nSW5mbyA9IGF3YWl0IHRoaXMuZXh0ZXJuYWxSZW5kZXJlci5sb2FkKHByb2dyZXNzQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXMgPSBmcmFtaW5nSW5mby5mcmFtZWRSYWRpdXM7XG4gICAgICAgICAgICB0aGlzLmlkZWFsQXNwZWN0ID0gZnJhbWluZ0luZm8uZmllbGRPZlZpZXdBc3BlY3Q7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBwZW5kaW5nIHdvcmsgZHVlIHRvIGEgcHJldmlvdXMgc291cmNlIGNoYW5nZSBpbiBwcm9ncmVzcyxcbiAgICAgICAgLy8gY2FuY2VsIGl0IHNvIHRoYXQgd2UgZG8gbm90IGluY3VyIGEgcmFjZSBjb25kaXRpb246XG4gICAgICAgIGlmICh0aGlzLmNhbmNlbFBlbmRpbmdTb3VyY2VDaGFuZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxQZW5kaW5nU291cmNlQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFBlbmRpbmdTb3VyY2VDaGFuZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBnbHRmO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZ2x0ZiA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFBlbmRpbmdTb3VyY2VDaGFuZ2UgPSAoKSA9PiByZWplY3QoKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmVsZW1lbnRbJHJlbmRlcmVyXS5sb2FkZXIubG9hZCh1cmwsIHRoaXMuZWxlbWVudCwgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIExvYWRpbmcgd2FzIGNhbmNlbGxlZCwgc28gc2lsZW50bHkgcmV0dXJuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW5jZWxQZW5kaW5nU291cmNlQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5fY3VycmVudEdMVEYgPSBnbHRmO1xuICAgICAgICBpZiAoZ2x0ZiAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tb2RlbCA9IGdsdGYuc2NlbmU7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5hZGQoZ2x0Zi5zY2VuZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBhbmltYXRpb25zIH0gPSBnbHRmO1xuICAgICAgICBjb25zdCBhbmltYXRpb25zQnlOYW1lID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBhbmltYXRpb25OYW1lcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGFuaW1hdGlvbiBvZiBhbmltYXRpb25zKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zQnlOYW1lLnNldChhbmltYXRpb24ubmFtZSwgYW5pbWF0aW9uKTtcbiAgICAgICAgICAgIGFuaW1hdGlvbk5hbWVzLnB1c2goYW5pbWF0aW9uLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGFuaW1hdGlvbnM7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc0J5TmFtZSA9IGFuaW1hdGlvbnNCeU5hbWU7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uTmFtZXMgPSBhbmltYXRpb25OYW1lcztcbiAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFNjZW5lKCk7XG4gICAgfVxuICAgIGFzeW5jIHNldHVwU2NlbmUoKSB7XG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ0JveCgpO1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUZyYW1pbmcoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTaGFkb3coKTtcbiAgICAgICAgdGhpcy5zZXRTaGFkb3dJbnRlbnNpdHkodGhpcy5zaGFkb3dJbnRlbnNpdHkpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy51cmwgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlUmVuZGVyKCk7XG4gICAgICAgIGlmICh0aGlzLnNoYWRvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRvdy5zZXRJbnRlbnNpdHkoMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYWtlZFNoYWRvd3MuY2xlYXIoKTtcbiAgICAgICAgY29uc3QgeyBfbW9kZWwgfSA9IHRoaXM7XG4gICAgICAgIGlmIChfbW9kZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgX21vZGVsLnJlbW92ZUZyb21QYXJlbnQoKTtcbiAgICAgICAgICAgIHRoaXMuX21vZGVsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBnbHRmID0gdGhpcy5fY3VycmVudEdMVEY7XG4gICAgICAgIGlmIChnbHRmICE9IG51bGwpIHtcbiAgICAgICAgICAgIGdsdGYuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudEdMVEYgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBbmltYXRpb25BY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbkFjdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taXhlci5zdG9wQWxsQWN0aW9uKCk7XG4gICAgICAgIHRoaXMubWl4ZXIudW5jYWNoZVJvb3QodGhpcyk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnRbJGN1cnJlbnRHTFRGXSA9IG51bGw7XG4gICAgICAgIHRoaXMuZWxlbWVudFskb3JpZ2luYWxHbHRmSnNvbl0gPSBudWxsO1xuICAgICAgICB0aGlzLmVsZW1lbnRbJG1vZGVsXSA9IG51bGw7XG4gICAgfVxuICAgIGdldCBjdXJyZW50R0xURigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRHTFRGO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBNb2RlbFNjZW5lIGZvciBhIG5ldyBjb250YWluZXIgc2l6ZSBpbiBDU1MgcGl4ZWxzLlxuICAgICAqL1xuICAgIHNldFNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA9PT0gd2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1heCh3aWR0aCwgMSk7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCAxKTtcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uUmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5hc3BlY3QgPSB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG4gICAgICAgIGlmICh0aGlzLmV4dGVybmFsUmVuZGVyZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZHByID0gcmVzb2x2ZURwcigpO1xuICAgICAgICAgICAgdGhpcy5leHRlcm5hbFJlbmRlcmVyLnJlc2l6ZSh3aWR0aCAqIGRwciwgaGVpZ2h0ICogZHByKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlUmVuZGVyKCk7XG4gICAgfVxuICAgIG1hcmtCYWtlZFNoYWRvdyhtZXNoKSB7XG4gICAgICAgIG1lc2gudXNlckRhdGEuc2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iYWtlZFNoYWRvd3MuYWRkKG1lc2gpO1xuICAgIH1cbiAgICB1bm1hcmtCYWtlZFNoYWRvdyhtZXNoKSB7XG4gICAgICAgIG1lc2gudXNlckRhdGEuc2hhZG93ID0gZmFsc2U7XG4gICAgICAgIG1lc2gudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmFrZWRTaGFkb3dzLmRlbGV0ZShtZXNoKTtcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5leHBhbmRCeU9iamVjdChtZXNoKTtcbiAgICB9XG4gICAgZmluZEJha2VkU2hhZG93cyhncm91cCkge1xuICAgICAgICBjb25zdCBib3VuZGluZ0JveCA9IG5ldyBCb3gzKCk7XG4gICAgICAgIGdyb3VwLnRyYXZlcnNlKChvYmplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc2ggPSBvYmplY3Q7XG4gICAgICAgICAgICBpZiAoIW1lc2guaXNNZXNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsO1xuICAgICAgICAgICAgaWYgKCFtYXRlcmlhbC50cmFuc3BhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvdW5kaW5nQm94LnNldEZyb21PYmplY3QobWVzaCk7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gYm91bmRpbmdCb3guZ2V0U2l6ZSh2ZWN0b3IzKTtcbiAgICAgICAgICAgIGNvbnN0IG1pbkRpbSA9IE1hdGgubWluKHNpemUueCwgc2l6ZS55LCBzaXplLnopO1xuICAgICAgICAgICAgY29uc3QgbWF4RGltID0gTWF0aC5tYXgoc2l6ZS54LCBzaXplLnksIHNpemUueik7XG4gICAgICAgICAgICBpZiAobWF4RGltIDwgTUlOX1NIQURPV19SQVRJTyAqIG1pbkRpbSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWFya0Jha2VkU2hhZG93KG1lc2gpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2hlY2tCYWtlZFNoYWRvd3MoKSB7XG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHRoaXMuYm91bmRpbmdCb3g7XG4gICAgICAgIGNvbnN0IHNoYWRvd0JveCA9IG5ldyBCb3gzKCk7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3guZ2V0U2l6ZSh0aGlzLnNpemUpO1xuICAgICAgICBmb3IgKGNvbnN0IG1lc2ggb2YgdGhpcy5iYWtlZFNoYWRvd3MpIHtcbiAgICAgICAgICAgIHNoYWRvd0JveC5zZXRGcm9tT2JqZWN0KG1lc2gpO1xuICAgICAgICAgICAgaWYgKHNoYWRvd0JveC5taW4ueSA8IG1pbi55ICsgdGhpcy5zaXplLnkgLyBNSU5fU0hBRE9XX1JBVElPICYmXG4gICAgICAgICAgICAgICAgc2hhZG93Qm94Lm1pbi54IDw9IG1pbi54ICYmIHNoYWRvd0JveC5tYXgueCA+PSBtYXgueCAmJlxuICAgICAgICAgICAgICAgIHNoYWRvd0JveC5taW4ueiA8PSBtaW4ueiAmJiBzaGFkb3dCb3gubWF4LnogPj0gbWF4LnopIHtcbiAgICAgICAgICAgICAgICAvLyBmbG9vciBzaGFkb3dcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaGFkb3dCb3gubWluLnogPCBtaW4ueiArIHRoaXMuc2l6ZS56IC8gTUlOX1NIQURPV19SQVRJTyAmJlxuICAgICAgICAgICAgICAgIHNoYWRvd0JveC5taW4ueCA8PSBtaW4ueCAmJiBzaGFkb3dCb3gubWF4LnggPj0gbWF4LnggJiZcbiAgICAgICAgICAgICAgICBzaGFkb3dCb3gubWluLnkgPD0gbWluLnkgJiYgc2hhZG93Qm94Lm1heC55ID49IG1heC55KSB7XG4gICAgICAgICAgICAgICAgLy8gd2FsbCBzaGFkb3dcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudW5tYXJrQmFrZWRTaGFkb3cobWVzaCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXBwbHlUcmFuc2Zvcm0oKSB7XG4gICAgICAgIGNvbnN0IHsgbW9kZWwgfSA9IHRoaXM7XG4gICAgICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb24gPSBwYXJzZUV4cHJlc3Npb25zKHRoaXMuZWxlbWVudC5vcmllbnRhdGlvbilbMF1cbiAgICAgICAgICAgIC50ZXJtcztcbiAgICAgICAgY29uc3Qgcm9sbCA9IG5vcm1hbGl6ZVVuaXQob3JpZW50YXRpb25bMF0pLm51bWJlcjtcbiAgICAgICAgY29uc3QgcGl0Y2ggPSBub3JtYWxpemVVbml0KG9yaWVudGF0aW9uWzFdKS5udW1iZXI7XG4gICAgICAgIGNvbnN0IHlhdyA9IG5vcm1hbGl6ZVVuaXQob3JpZW50YXRpb25bMl0pLm51bWJlcjtcbiAgICAgICAgbW9kZWwucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIobmV3IEV1bGVyKHBpdGNoLCB5YXcsIHJvbGwsICdZWFonKSk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gcGFyc2VFeHByZXNzaW9ucyh0aGlzLmVsZW1lbnQuc2NhbGUpWzBdXG4gICAgICAgICAgICAudGVybXM7XG4gICAgICAgIG1vZGVsLnNjYWxlLnNldChzY2FsZVswXS5udW1iZXIsIHNjYWxlWzFdLm51bWJlciwgc2NhbGVbMl0ubnVtYmVyKTtcbiAgICB9XG4gICAgdXBkYXRlQm91bmRpbmdCb3goKSB7XG4gICAgICAgIGNvbnN0IHsgbW9kZWwgfSA9IHRoaXM7XG4gICAgICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50YXJnZXQucmVtb3ZlKG1vZGVsKTtcbiAgICAgICAgdGhpcy5maW5kQmFrZWRTaGFkb3dzKG1vZGVsKTtcbiAgICAgICAgY29uc3QgYm91bmQgPSAoYm94LCB2ZXJ0ZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBib3guZXhwYW5kQnlQb2ludCh2ZXJ0ZXgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldEJha2VkU2hhZG93VmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSByZWR1Y2VWZXJ0aWNlcyhtb2RlbCwgYm91bmQsIG5ldyBCb3gzKCkpO1xuICAgICAgICAvLyBJZiB0aGVyZSdzIG5vdGhpbmcgYnV0IHRoZSBiYWtlZCBzaGFkb3csIHRoZW4gaXQncyBub3QgYSBiYWtlZCBzaGFkb3cuXG4gICAgICAgIGlmICh0aGlzLmJvdW5kaW5nQm94LmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRCYWtlZFNoYWRvd1Zpc2liaWxpdHkodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmJha2VkU2hhZG93cy5mb3JFYWNoKChtZXNoKSA9PiB0aGlzLnVubWFya0Jha2VkU2hhZG93KG1lc2gpKTtcbiAgICAgICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSByZWR1Y2VWZXJ0aWNlcyhtb2RlbCwgYm91bmQsIG5ldyBCb3gzKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hlY2tCYWtlZFNoYWRvd3MoKTtcbiAgICAgICAgdGhpcy5zZXRCYWtlZFNoYWRvd1Zpc2liaWxpdHkoKTtcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5nZXRTaXplKHRoaXMuc2l6ZSk7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZChtb2RlbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kaW5nU3BoZXJlIGFuZCBpZGVhbEFzcGVjdCB0aGF0IGFsbG93cyB0aGUgM0RcbiAgICAgKiBvYmplY3QgdG8gYmUgZnJhbWVkIHRpZ2h0bHkgaW4gYSAyRCB3aW5kb3cgb2YgYW55IGFzcGVjdCByYXRpbyB3aXRob3V0XG4gICAgICogY2xpcHBpbmcgYXQgYW55IGNhbWVyYSBvcmJpdC4gVGhlIGNhbWVyYSdzIGNlbnRlciB0YXJnZXQgcG9pbnQgY2FuIGJlXG4gICAgICogb3B0aW9uYWxseSBzcGVjaWZpZWQuIElmIG5vIGNlbnRlciBpcyBzcGVjaWZpZWQsIGl0IGRlZmF1bHRzIHRvIHRoZSBjZW50ZXJcbiAgICAgKiBvZiB0aGUgYm91bmRpbmcgYm94LCB3aGljaCBtZWFucyBhc3ltbWV0cmljIG1vZGVscyB3aWxsIHRlbmQgdG8gYmUgdGlnaHQgb25cbiAgICAgKiBvbmUgc2lkZSBpbnN0ZWFkIG9mIGJvdGguIFByb3BlciBjaG9pY2Ugb2YgY2VudGVyIGNhbiBjb3JyZWN0IHRoaXMuXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlRnJhbWluZygpIHtcbiAgICAgICAgY29uc3QgeyBtb2RlbCB9ID0gdGhpcztcbiAgICAgICAgaWYgKG1vZGVsID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmUobW9kZWwpO1xuICAgICAgICB0aGlzLnNldEJha2VkU2hhZG93VmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgIGNvbnN0IHsgY2VudGVyIH0gPSB0aGlzLmJvdW5kaW5nU3BoZXJlO1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVxdWVzdFVwZGF0ZSgnY2FtZXJhVGFyZ2V0Jyk7XG4gICAgICAgIGF3YWl0IHRoaXMuZWxlbWVudC51cGRhdGVDb21wbGV0ZTtcbiAgICAgICAgY2VudGVyLmNvcHkodGhpcy5nZXRUYXJnZXQoKSk7XG4gICAgICAgIGNvbnN0IHJhZGl1c1NxdWFyZWQgPSAodmFsdWUsIHZlcnRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHZhbHVlLCBjZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQodmVydGV4KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzID1cbiAgICAgICAgICAgIE1hdGguc3FydChyZWR1Y2VWZXJ0aWNlcyhtb2RlbCwgcmFkaXVzU3F1YXJlZCwgMCkpO1xuICAgICAgICBjb25zdCBob3Jpem9udGFsVGFuRm92ID0gKHZhbHVlLCB2ZXJ0ZXgpID0+IHtcbiAgICAgICAgICAgIHZlcnRleC5zdWIoY2VudGVyKTtcbiAgICAgICAgICAgIGNvbnN0IHJhZGl1c1haID0gTWF0aC5zcXJ0KHZlcnRleC54ICogdmVydGV4LnggKyB2ZXJ0ZXgueiAqIHZlcnRleC56KTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWx1ZSwgcmFkaXVzWFogLyAodGhpcy5pZGVhbENhbWVyYURpc3RhbmNlKCkgLSBNYXRoLmFicyh2ZXJ0ZXgueSkpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pZGVhbEFzcGVjdCA9IHJlZHVjZVZlcnRpY2VzKG1vZGVsLCBob3Jpem9udGFsVGFuRm92LCAwKSAvXG4gICAgICAgICAgICBNYXRoLnRhbigodGhpcy5mcmFtZWRGb1ZEZWcgLyAyKSAqIE1hdGguUEkgLyAxODApO1xuICAgICAgICB0aGlzLnNldEJha2VkU2hhZG93VmlzaWJpbGl0eSgpO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGQobW9kZWwpO1xuICAgIH1cbiAgICBzZXRCYWtlZFNoYWRvd1Zpc2liaWxpdHkodmlzaWJsZSA9IHRoaXMuc2hhZG93SW50ZW5zaXR5IDw9IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBzaGFkb3cgb2YgdGhpcy5iYWtlZFNoYWRvd3MpIHtcbiAgICAgICAgICAgIHNoYWRvdy52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZGVhbENhbWVyYURpc3RhbmNlKCkge1xuICAgICAgICBjb25zdCBoYWxmRm92UmFkID0gKHRoaXMuZnJhbWVkRm9WRGVnIC8gMikgKiBNYXRoLlBJIC8gMTgwO1xuICAgICAgICByZXR1cm4gdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXMgLyBNYXRoLnNpbihoYWxmRm92UmFkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0J3MgdGhlIGZyYW1lZEZpZWxkT2ZWaWV3IGJhc2VkIG9uIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIHdpbmRvdyBpblxuICAgICAqIG9yZGVyIHRvIGtlZXAgdGhlIG1vZGVsIGZ1bGx5IHZpc2libGUgYXQgYW55IGNhbWVyYSBvcmllbnRhdGlvbi5cbiAgICAgKi9cbiAgICBhZGp1c3RlZEZvVihmb3ZEZWcpIHtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBNYXRoLnRhbigoZm92RGVnIC8gMikgKiBNYXRoLlBJIC8gMTgwKSAqXG4gICAgICAgICAgICBNYXRoLm1heCgxLCB0aGlzLmlkZWFsQXNwZWN0IC8gdGhpcy5hc3BlY3QpO1xuICAgICAgICByZXR1cm4gMiAqIE1hdGguYXRhbih2ZXJ0aWNhbCkgKiAxODAgLyBNYXRoLlBJO1xuICAgIH1cbiAgICBnZXROREMoY2xpZW50WCwgY2xpZW50WSkge1xuICAgICAgICBpZiAodGhpcy54ckNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICBuZGMuc2V0KGNsaWVudFggLyB3aW5kb3cuc2NyZWVuLndpZHRoLCBjbGllbnRZIC8gd2luZG93LnNjcmVlbi5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIG5kYy5zZXQoKGNsaWVudFggLSByZWN0LngpIC8gdGhpcy53aWR0aCwgKGNsaWVudFkgLSByZWN0LnkpIC8gdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIG5kYy5tdWx0aXBseVNjYWxhcigyKS5zdWJTY2FsYXIoMSk7XG4gICAgICAgIG5kYy55ICo9IC0xO1xuICAgICAgICByZXR1cm4gbmRjO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSBjb3JyZXNwb25kaW5nIGNhbnZhcyBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldFNpemUoKSB7XG4gICAgICAgIHJldHVybiB7IHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH07XG4gICAgfVxuICAgIHNldEVudmlyb25tZW50QW5kU2t5Ym94KGVudmlyb25tZW50LCBza3lib3gpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudFskcmVuZGVyZXJdLmFyUmVuZGVyZXIucHJlc2VudGVkU2NlbmUgPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gZW52aXJvbm1lbnQ7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHNreWJveDtcbiAgICAgICAgdGhpcy5xdWV1ZVJlbmRlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2ludCBpbiBtb2RlbCBjb29yZGluYXRlcyB0aGUgbW9kZWwgc2hvdWxkIG9yYml0L3Bpdm90IGFyb3VuZC5cbiAgICAgKi9cbiAgICBzZXRUYXJnZXQobW9kZWxYLCBtb2RlbFksIG1vZGVsWikge1xuICAgICAgICB0aGlzLmdvYWxUYXJnZXQuc2V0KC1tb2RlbFgsIC1tb2RlbFksIC1tb2RlbFopO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRlY2F5IHRpbWUgb2YsIGFmZmVjdHMgdGhlIHNwZWVkIG9mIHRhcmdldCB0cmFuc2l0aW9ucy5cbiAgICAgKi9cbiAgICBzZXRUYXJnZXREYW1wZXJEZWNheVRpbWUoZGVjYXlNaWxsaXNlY29uZHMpIHtcbiAgICAgICAgdGhpcy50YXJnZXREYW1wZXJYLnNldERlY2F5VGltZShkZWNheU1pbGxpc2Vjb25kcyk7XG4gICAgICAgIHRoaXMudGFyZ2V0RGFtcGVyWS5zZXREZWNheVRpbWUoZGVjYXlNaWxsaXNlY29uZHMpO1xuICAgICAgICB0aGlzLnRhcmdldERhbXBlclouc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcG9pbnQgaW4gbW9kZWwgY29vcmRpbmF0ZXMgdGhlIG1vZGVsIHNob3VsZCBvcmJpdC9waXZvdCBhcm91bmQuXG4gICAgICovXG4gICAgZ2V0VGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nb2FsVGFyZ2V0LmNsb25lKCkubXVsdGlwbHlTY2FsYXIoLTEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaGlmdHMgdGhlIG1vZGVsIHRvIHRoZSB0YXJnZXQgcG9pbnQgaW1tZWRpYXRlbHkgaW5zdGVhZCBvZiBlYXNpbmcgaW4uXG4gICAgICovXG4gICAganVtcFRvR29hbCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQoU0VUVExJTkdfVElNRSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBldmVyeSBmcmFtZSB3aXRoIHRoZSBmcmFtZSBkZWx0YSB0byBjYXVzZSB0aGUgdGFyZ2V0XG4gICAgICogdG8gdHJhbnNpdGlvbiB0byBpdHMgc2V0IHBvaW50LlxuICAgICAqL1xuICAgIHVwZGF0ZVRhcmdldChkZWx0YSkge1xuICAgICAgICBjb25zdCBnb2FsID0gdGhpcy5nb2FsVGFyZ2V0O1xuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnRhcmdldC5wb3NpdGlvbjtcbiAgICAgICAgaWYgKCFnb2FsLmVxdWFscyh0YXJnZXQpKSB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemF0aW9uID0gdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXMgLyAxMDtcbiAgICAgICAgICAgIGxldCB7IHgsIHksIHogfSA9IHRhcmdldDtcbiAgICAgICAgICAgIHggPSB0aGlzLnRhcmdldERhbXBlclgudXBkYXRlKHgsIGdvYWwueCwgZGVsdGEsIG5vcm1hbGl6YXRpb24pO1xuICAgICAgICAgICAgeSA9IHRoaXMudGFyZ2V0RGFtcGVyWS51cGRhdGUoeSwgZ29hbC55LCBkZWx0YSwgbm9ybWFsaXphdGlvbik7XG4gICAgICAgICAgICB6ID0gdGhpcy50YXJnZXREYW1wZXJaLnVwZGF0ZSh6LCBnb2FsLnosIGRlbHRhLCBub3JtYWxpemF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlUmVuZGVyKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBZYXcgdGhlICt6IChmcm9udCkgb2YgdGhlIG1vZGVsIHRvd2FyZCB0aGUgaW5kaWNhdGVkIHdvcmxkIGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIHBvaW50VG93YXJkcyh3b3JsZFgsIHdvcmxkWikge1xuICAgICAgICBjb25zdCB7IHgsIHogfSA9IHRoaXMucG9zaXRpb247XG4gICAgICAgIHRoaXMueWF3ID0gTWF0aC5hdGFuMih3b3JsZFggLSB4LCB3b3JsZFogLSB6KTtcbiAgICB9XG4gICAgZ2V0IG1vZGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFlhdyBpcyB0aGUgc2NlbmUncyBvcmllbnRhdGlvbiBhYm91dCB0aGUgeS1heGlzLCBhcm91bmQgdGhlIHJvdGF0aW9uXG4gICAgICogY2VudGVyLlxuICAgICAqL1xuICAgIHNldCB5YXcocmFkaWFuc1kpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbi55ID0gcmFkaWFuc1k7XG4gICAgICAgIHRoaXMucXVldWVSZW5kZXIoKTtcbiAgICB9XG4gICAgZ2V0IHlhdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRpb24ueTtcbiAgICB9XG4gICAgc2V0IGFuaW1hdGlvblRpbWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5taXhlci5zZXRUaW1lKHZhbHVlKTtcbiAgICAgICAgdGhpcy5xdWV1ZVNoYWRvd1JlbmRlcigpO1xuICAgIH1cbiAgICBnZXQgYW5pbWF0aW9uVGltZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEFuaW1hdGlvbkFjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBsb29wQ291bnQgPSBNYXRoLm1heCh0aGlzLmN1cnJlbnRBbmltYXRpb25BY3Rpb24uX2xvb3BDb3VudCwgMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uLmxvb3AgPT09IExvb3BQaW5nUG9uZyAmJlxuICAgICAgICAgICAgICAgIChsb29wQ291bnQgJiAxKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmR1cmF0aW9uIC0gdGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uLnRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uLnRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHNldCBhbmltYXRpb25UaW1lU2NhbGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5taXhlci50aW1lU2NhbGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGFuaW1hdGlvblRpbWVTY2FsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWl4ZXIudGltZVNjYWxlO1xuICAgIH1cbiAgICBnZXQgZHVyYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBbmltYXRpb25BY3Rpb24gIT0gbnVsbCAmJlxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uLmdldENsaXAoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEFuaW1hdGlvbkFjdGlvbi5nZXRDbGlwKCkuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldCBoYXNBY3RpdmVBbmltYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRBbmltYXRpb25BY3Rpb24gIT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGxheXMgYW4gYW5pbWF0aW9uIGlmIHRoZXJlIGFyZSBhbnkgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vZGVsLlxuICAgICAqIEFjY2VwdHMgYW4gb3B0aW9uYWwgc3RyaW5nIG5hbWUgb2YgYW4gYW5pbWF0aW9uIHRvIHBsYXkuIElmIG5vIG5hbWUgaXNcbiAgICAgKiBwcm92aWRlZCwgb3IgaWYgbm8gYW5pbWF0aW9uIGlzIGZvdW5kIGJ5IHRoZSBnaXZlbiBuYW1lLCBhbHdheXMgZmFsbHMgYmFja1xuICAgICAqIHRvIHBsYXlpbmcgdGhlIGZpcnN0IGFuaW1hdGlvbi5cbiAgICAgKi9cbiAgICBwbGF5QW5pbWF0aW9uKG5hbWUgPSBudWxsLCBjcm9zc2ZhZGVUaW1lID0gMCwgbG9vcE1vZGUgPSBMb29wUmVwZWF0LCByZXBldGl0aW9uQ291bnQgPSBJbmZpbml0eSkge1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudEdMVEYgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYW5pbWF0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgaWYgKGFuaW1hdGlvbnMgPT0gbnVsbCB8fCBhbmltYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgcGxheSBhbmltYXRpb24gKG1vZGVsIGRvZXMgbm90IGhhdmUgYW55IGFuaW1hdGlvbnMpYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFuaW1hdGlvbkNsaXAgPSBudWxsO1xuICAgICAgICBpZiAobmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBhbmltYXRpb25DbGlwID0gdGhpcy5hbmltYXRpb25zQnlOYW1lLmdldChuYW1lKTtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25DbGlwID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBbmltYXRpb25JbmRleCA9IHBhcnNlSW50KG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkQW5pbWF0aW9uSW5kZXgpICYmIHBhcnNlZEFuaW1hdGlvbkluZGV4ID49IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkQW5pbWF0aW9uSW5kZXggPCBhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25DbGlwID0gYW5pbWF0aW9uc1twYXJzZWRBbmltYXRpb25JbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhbmltYXRpb25DbGlwID09IG51bGwpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbkNsaXAgPSBhbmltYXRpb25zWzBdO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGN1cnJlbnRBbmltYXRpb25BY3Rpb246IGxhc3RBbmltYXRpb25BY3Rpb24gfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oYW5pbWF0aW9uQ2xpcCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb25BY3Rpb24gPSBhY3Rpb247XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LnBhdXNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWl4ZXIuc3RvcEFsbEFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QW5pbWF0aW9uQWN0aW9uICE9IG51bGwgJiYgYWN0aW9uICE9PSBsYXN0QW5pbWF0aW9uQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5jcm9zc0ZhZGVGcm9tKGxhc3RBbmltYXRpb25BY3Rpb24sIGNyb3NzZmFkZVRpbWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5hbmltYXRpb25UaW1lU2NhbGUgPiAwICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZSA9PSB0aGlzLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciB3aGF0IEkgYmVsaWV2ZSBpcyBhIHRocmVlLmpzIGJ1Zy5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3Rpb24uc2V0TG9vcChsb29wTW9kZSwgcmVwZXRpdGlvbkNvdW50KTtcbiAgICAgICAgICAgIGFjdGlvbi5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGFjdGlvbi5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICBhY3Rpb24ucGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcEFuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5taXhlci5zdG9wQWxsQWN0aW9uKCk7XG4gICAgfVxuICAgIHVwZGF0ZUFuaW1hdGlvbihzdGVwKSB7XG4gICAgICAgIHRoaXMubWl4ZXIudXBkYXRlKHN0ZXApO1xuICAgICAgICB0aGlzLnF1ZXVlU2hhZG93UmVuZGVyKCk7XG4gICAgfVxuICAgIHN1YnNjcmliZU1peGVyRXZlbnQoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubWl4ZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIGlmIHRoZSBvYmplY3QgaGFzIGJlZW4gY2hhbmdlZCBpbiBzdWNoIGEgd2F5IHRoYXQgdGhlIHNoYWRvdydzIHNoYXBlXG4gICAgICogaGFzIGNoYW5nZWQgKG5vdCBhIHJvdGF0aW9uIGFib3V0IHRoZSBZIGF4aXMpLlxuICAgICAqL1xuICAgIHVwZGF0ZVNoYWRvdygpIHtcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5zaGFkb3c7XG4gICAgICAgIGlmIChzaGFkb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc2lkZSA9IHRoaXMuZWxlbWVudC5hclBsYWNlbWVudCA9PT0gJ3dhbGwnID8gJ2JhY2snIDogJ2JvdHRvbSc7XG4gICAgICAgICAgICBzaGFkb3cuc2V0U2NlbmUodGhpcywgdGhpcy5zaGFkb3dTb2Z0bmVzcywgc2lkZSk7XG4gICAgICAgICAgICBzaGFkb3cubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlclNoYWRvdyhyZW5kZXJlcikge1xuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLnNoYWRvdztcbiAgICAgICAgaWYgKHNoYWRvdyAhPSBudWxsICYmIHNoYWRvdy5uZWVkc1VwZGF0ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICBzaGFkb3cucmVuZGVyKHJlbmRlcmVyLCB0aGlzKTtcbiAgICAgICAgICAgIHNoYWRvdy5uZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlU2hhZG93UmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zaGFkb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNoYWRvdydzIGludGVuc2l0eSwgbGF6aWx5IGNyZWF0aW5nIHRoZSBzaGFkb3cgYXMgbmVjZXNzYXJ5LlxuICAgICAqL1xuICAgIHNldFNoYWRvd0ludGVuc2l0eShzaGFkb3dJbnRlbnNpdHkpIHtcbiAgICAgICAgdGhpcy5zaGFkb3dJbnRlbnNpdHkgPSBzaGFkb3dJbnRlbnNpdHk7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50R0xURiA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRCYWtlZFNoYWRvd1Zpc2liaWxpdHkoKTtcbiAgICAgICAgaWYgKHNoYWRvd0ludGVuc2l0eSA8PSAwICYmIHRoaXMuc2hhZG93ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zaGFkb3cgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc2lkZSA9IHRoaXMuZWxlbWVudC5hclBsYWNlbWVudCA9PT0gJ3dhbGwnID8gJ2JhY2snIDogJ2JvdHRvbSc7XG4gICAgICAgICAgICB0aGlzLnNoYWRvdyA9IG5ldyBTaGFkb3codGhpcywgdGhpcy5zaGFkb3dTb2Z0bmVzcywgc2lkZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaGFkb3cuc2V0SW50ZW5zaXR5KHNoYWRvd0ludGVuc2l0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNoYWRvdydzIHNvZnRuZXNzIGJ5IG1hcHBpbmcgYSBbMCwgMV0gc29mdG5lc3MgcGFyYW1ldGVyIHRvIHRoZVxuICAgICAqIHNoYWRvdydzIHJlc29sdXRpb24uIFRoaXMgaW52b2x2ZXMgcmVhbGxvY2F0aW9uLCBzbyBpdCBzaG91bGQgbm90IGJlXG4gICAgICogY2hhbmdlZCBmcmVxdWVudGx5LiBTb2Z0ZXIgc2hhZG93cyBhcmUgY2hlYXBlciB0byByZW5kZXIuXG4gICAgICovXG4gICAgc2V0U2hhZG93U29mdG5lc3Moc29mdG5lc3MpIHtcbiAgICAgICAgdGhpcy5zaGFkb3dTb2Z0bmVzcyA9IHNvZnRuZXNzO1xuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLnNoYWRvdztcbiAgICAgICAgaWYgKHNoYWRvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICBzaGFkb3cuc2V0U29mdG5lc3Moc29mdG5lc3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNoaWZ0IHRoZSBmbG9vciB2ZXJ0aWNhbGx5IGZyb20gdGhlIGJvdHRvbSBvZiB0aGUgbW9kZWwncyBib3VuZGluZyBib3ggYnlcbiAgICAgKiBvZmZzZXQgKHNob3VsZCBnZW5lcmFsbHkgYmUgbmVnYXRpdmUpLlxuICAgICAqL1xuICAgIHNldFNoYWRvd09mZnNldChvZmZzZXQpIHtcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5zaGFkb3c7XG4gICAgICAgIGlmIChzaGFkb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2hhZG93LnNldE9mZnNldChvZmZzZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCByYXljYXN0ZXIoKSB7XG4gICAgICAgIHJldHVybiByYXljYXN0ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIHdvcmxkIHBvc2l0aW9uLCBtb2RlbC1zcGFjZSBub3JtYWwgYW5kIHRleHR1cmVcbiAgICAgKiBjb29yZGluYXRlIG9mIHRoZSBwb2ludCBvbiB0aGUgbWVzaCBjb3JyZXNwb25kaW5nIHRvIHRoZSBpbnB1dCBwaXhlbFxuICAgICAqIGNvb3JkaW5hdGVzIGdpdmVuIHJlbGF0aXZlIHRvIHRoZSBtb2RlbC12aWV3ZXIgZWxlbWVudC4gSWYgdGhlIG1lc2hcbiAgICAgKiBpcyBub3QgaGl0LCB0aGUgcmVzdWx0IGlzIG51bGwuXG4gICAgICovXG4gICAgcG9zaXRpb25BbmROb3JtYWxGcm9tUG9pbnQobmRjUG9zaXRpb24sIG9iamVjdCA9IHRoaXMpIHtcbiAgICAgICAgdGhpcy5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShuZGNQb3NpdGlvbiwgdGhpcy5nZXRDYW1lcmEoKSk7XG4gICAgICAgIGNvbnN0IGhpdHMgPSB0aGlzLnJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3Qob2JqZWN0LCB0cnVlKTtcbiAgICAgICAgY29uc3QgaGl0ID0gaGl0cy5maW5kKChoaXQpID0+IGhpdC5vYmplY3QudmlzaWJsZSAmJiAhaGl0Lm9iamVjdC51c2VyRGF0YS5zaGFkb3cpO1xuICAgICAgICBpZiAoaGl0ID09IG51bGwgfHwgaGl0LmZhY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdC51diA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4geyBwb3NpdGlvbjogaGl0LnBvaW50LCBub3JtYWw6IGhpdC5mYWNlLm5vcm1hbCwgdXY6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBoaXQuZmFjZS5ub3JtYWwuYXBwbHlOb3JtYWxNYXRyaXgobmV3IE1hdHJpeDMoKS5nZXROb3JtYWxNYXRyaXgoaGl0Lm9iamVjdC5tYXRyaXhXb3JsZCkpO1xuICAgICAgICByZXR1cm4geyBwb3NpdGlvbjogaGl0LnBvaW50LCBub3JtYWw6IGhpdC5mYWNlLm5vcm1hbCwgdXY6IGhpdC51diB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZm9sbG93aW5nIG1ldGhvZHMgYXJlIGZvciBvcGVyYXRpbmcgb24gdGhlIHNldCBvZiBIb3RzcG90IG9iamVjdHNcbiAgICAgKiBhdHRhY2hlZCB0byB0aGUgc2NlbmUuIFRoZXNlIGNvbWUgZnJvbSBET00gZWxlbWVudHMsIHByb3ZpZGVkIHRvIHNsb3RzIGJ5XG4gICAgICogdGhlIEFubm90YXRpb24gTWl4aW4uXG4gICAgICovXG4gICAgYWRkSG90c3BvdChob3RzcG90KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZChob3RzcG90KTtcbiAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGF1dG9tYXRpY2FsbHkgaW4gcmVuZGVyKCksIGJ1dCB3ZSBkbyBpdCBlYXJseSBzbyB0aGF0XG4gICAgICAgIC8vIHRoZSBzbG90cyBhcHBlYXIgaW4gdGhlIHNoYWRvdyBET00gYW5kIHRoZSBlbGVtZW50cyBnZXQgYXR0YWNoZWQsXG4gICAgICAgIC8vIGFsbG93aW5nIHVzIHRvIGRpc3BhdGNoIGV2ZW50cyBvbiB0aGVtLlxuICAgICAgICB0aGlzLmFubm90YXRpb25SZW5kZXJlci5kb21FbGVtZW50LmFwcGVuZENoaWxkKGhvdHNwb3QuZWxlbWVudCk7XG4gICAgfVxuICAgIHJlbW92ZUhvdHNwb3QoaG90c3BvdCkge1xuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmUoaG90c3BvdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gYXBwbHkgYSBmdW5jdGlvbiB0byBhbGwgaG90c3BvdHMuXG4gICAgICovXG4gICAgZm9ySG90c3BvdHMoZnVuYykge1xuICAgICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnRhcmdldDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGhvdHNwb3QgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChob3RzcG90IGluc3RhbmNlb2YgSG90c3BvdCkge1xuICAgICAgICAgICAgICAgIGZ1bmMoaG90c3BvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBDU1MgdmlzaWJpbGl0eSBvZiB0aGUgaG90c3BvdHMgYmFzZWQgb24gd2hldGhlciB0aGVpciBub3JtYWxzXG4gICAgICogcG9pbnQgdG93YXJkIHRoZSBjYW1lcmEuXG4gICAgICovXG4gICAgdXBkYXRlSG90c3BvdHModmlld2VyUG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5mb3JIb3RzcG90cygoaG90c3BvdCkgPT4ge1xuICAgICAgICAgICAgdmlldy5jb3B5KHZpZXdlclBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRhcmdldC5zZXRGcm9tTWF0cml4UG9zaXRpb24oaG90c3BvdC5tYXRyaXhXb3JsZCk7XG4gICAgICAgICAgICB2aWV3LnN1Yih0YXJnZXQpO1xuICAgICAgICAgICAgbm9ybWFsV29ybGQuY29weShob3RzcG90Lm5vcm1hbClcbiAgICAgICAgICAgICAgICAudHJhbnNmb3JtRGlyZWN0aW9uKHRoaXMudGFyZ2V0Lm1hdHJpeFdvcmxkKTtcbiAgICAgICAgICAgIGlmICh2aWV3LmRvdChub3JtYWxXb3JsZCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgaG90c3BvdC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3RzcG90LnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBhbGwgaG90c3BvdHMgdG8gYW4gYWJzb2x1dGUgb3JpZW50YXRpb24gZ2l2ZW4gYnkgdGhlIGlucHV0IG51bWJlciBvZlxuICAgICAqIHJhZGlhbnMuIFplcm8gcmV0dXJucyB0aGVtIHRvIHVwcmlnaHQuXG4gICAgICovXG4gICAgb3JpZW50SG90c3BvdHMocmFkaWFucykge1xuICAgICAgICB0aGlzLmZvckhvdHNwb3RzKChob3RzcG90KSA9PiB7XG4gICAgICAgICAgICBob3RzcG90Lm9yaWVudChyYWRpYW5zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVuZGVyaW5nIHZpc2liaWxpdHkgb2YgYWxsIGhvdHNwb3RzLiBUaGlzIGlzIHVzZWQgdG8gaGlkZSB0aGVtXG4gICAgICogZHVyaW5nIHRyYW5zaXRpb25zIGFuZCBzdWNoLlxuICAgICAqL1xuICAgIHNldEhvdHNwb3RzVmlzaWJpbGl0eSh2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuZm9ySG90c3BvdHMoKGhvdHNwb3QpID0+IHtcbiAgICAgICAgICAgIGhvdHNwb3QudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGVTY2hlbWEoc3JjKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBzY2hlbWFFbGVtZW50LCBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGFsdCwgcG9zdGVyLCBpb3NTcmMgfSA9IGVsZW1lbnQ7XG4gICAgICAgIGlmIChzcmMgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RpbmcgPSBbe1xuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnTWVkaWFPYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VXJsOiBzcmMsXG4gICAgICAgICAgICAgICAgICAgIGVuY29kaW5nRm9ybWF0OiAoKF9hID0gc3JjLnNwbGl0KCcuJykucG9wKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpKSA9PT0gJ2dsdGYnID9cbiAgICAgICAgICAgICAgICAgICAgICAgICdtb2RlbC9nbHRmK2pzb24nIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICdtb2RlbC9nbHRmLWJpbmFyeSdcbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgIGlmIChpb3NTcmMpIHtcbiAgICAgICAgICAgICAgICBlbmNvZGluZy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ01lZGlhT2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFVybDogaW9zU3JjLFxuICAgICAgICAgICAgICAgICAgICBlbmNvZGluZ0Zvcm1hdDogJ21vZGVsL3ZuZC51c2R6K3ppcCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0cnVjdHVyZWREYXRhID0ge1xuICAgICAgICAgICAgICAgICdAY29udGV4dCc6ICdodHRwOi8vc2NoZW1hLm9yZy8nLFxuICAgICAgICAgICAgICAgICdAdHlwZSc6ICczRE1vZGVsJyxcbiAgICAgICAgICAgICAgICBpbWFnZTogcG9zdGVyICE9PSBudWxsICYmIHBvc3RlciAhPT0gdm9pZCAwID8gcG9zdGVyIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGFsdCAhPT0gbnVsbCAmJiBhbHQgIT09IHZvaWQgMCA/IGFsdCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBlbmNvZGluZ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNjaGVtYUVsZW1lbnQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShzdHJ1Y3R1cmVkRGF0YSk7XG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjaGVtYUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjaGVtYUVsZW1lbnQucGFyZW50RWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzY2hlbWFFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoc2NoZW1hRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2RlbFNjZW5lLmpzLm1hcCJdLCJuYW1lcyI6WyJBbmltYXRpb25NaXhlciIsIkJveDMiLCJFdWxlciIsIkxvb3BQaW5nUG9uZyIsIkxvb3BSZXBlYXQiLCJNYXRyaXgzIiwiT2JqZWN0M0QiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIlJheWNhc3RlciIsIlNjZW5lIiwiU3BoZXJlIiwiVmVjdG9yMiIsIlZlY3RvcjMiLCJDU1MyRFJlbmRlcmVyIiwiJGN1cnJlbnRHTFRGIiwiJG1vZGVsIiwiJG9yaWdpbmFsR2x0Zkpzb24iLCIkcmVuZGVyZXIiLCJub3JtYWxpemVVbml0IiwicGFyc2VFeHByZXNzaW9ucyIsInJlc29sdmVEcHIiLCJEYW1wZXIiLCJTRVRUTElOR19USU1FIiwiSG90c3BvdCIsInJlZHVjZVZlcnRpY2VzIiwiU2hhZG93IiwiTUlOX1NIQURPV19SQVRJTyIsIklsbHVtaW5hdGlvblJvbGUiLCJQcmltYXJ5IiwiU2Vjb25kYXJ5IiwidmlldyIsInRhcmdldCIsIm5vcm1hbFdvcmxkIiwicmF5Y2FzdGVyIiwidmVjdG9yMyIsIm5kYyIsIk1vZGVsU2NlbmUiLCJjb25zdHJ1Y3RvciIsImNhbnZhcyIsImVsZW1lbnQiLCJ3aWR0aCIsImhlaWdodCIsImFubm90YXRpb25SZW5kZXJlciIsInNjaGVtYUVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhc3BlY3QiLCJzY2FsZVN0ZXAiLCJyZW5kZXJDb3VudCIsImV4dGVybmFsUmVuZGVyZXIiLCJjYW1lcmEiLCJ4ckNhbWVyYSIsInVybCIsImFuaW1hdGlvbk5hbWVzIiwiYm91bmRpbmdCb3giLCJib3VuZGluZ1NwaGVyZSIsInNpemUiLCJpZGVhbEFzcGVjdCIsImZyYW1lZEZvVkRlZyIsInNoYWRvdyIsInNoYWRvd0ludGVuc2l0eSIsInNoYWRvd1NvZnRuZXNzIiwiYmFrZWRTaGFkb3dzIiwiU2V0IiwiZXhwb3N1cmUiLCJjYW5TY2FsZSIsImlzRGlydHkiLCJnb2FsVGFyZ2V0IiwidGFyZ2V0RGFtcGVyWCIsInRhcmdldERhbXBlclkiLCJ0YXJnZXREYW1wZXJaIiwiX2N1cnJlbnRHTFRGIiwiX21vZGVsIiwiY2FuY2VsUGVuZGluZ1NvdXJjZUNoYW5nZSIsImFuaW1hdGlvbnNCeU5hbWUiLCJNYXAiLCJjdXJyZW50QW5pbWF0aW9uQWN0aW9uIiwibmFtZSIsImFkZCIsInNldFNpemUiLCJtaXhlciIsImRvbUVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJwb2ludGVyRXZlbnRzIiwicG9zaXRpb24iLCJ0b3AiLCJzaGFkb3dSb290IiwicXVlcnlTZWxlY3RvciIsImFwcGVuZENoaWxkIiwic2V0QXR0cmlidXRlIiwiY29udGV4dCIsImdldENvbnRleHQiLCJnZXRDYW1lcmEiLCJxdWV1ZVJlbmRlciIsInNob3VsZFJlbmRlciIsImhhc1JlbmRlcmVkIiwiZm9yY2VSZXNjYWxlIiwic2V0T2JqZWN0IiwibW9kZWwiLCJyZXNldCIsInNldHVwU2NlbmUiLCJzZXRTb3VyY2UiLCJwcm9ncmVzc0NhbGxiYWNrIiwiZnJhbWluZ0luZm8iLCJsb2FkIiwicmFkaXVzIiwiZnJhbWVkUmFkaXVzIiwiZmllbGRPZlZpZXdBc3BlY3QiLCJnbHRmIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHQiLCJsb2FkZXIiLCJlcnJvciIsInNjZW5lIiwiYW5pbWF0aW9ucyIsImFuaW1hdGlvbiIsInNldCIsInB1c2giLCJhcHBseVRyYW5zZm9ybSIsInVwZGF0ZUJvdW5kaW5nQm94IiwidXBkYXRlRnJhbWluZyIsInVwZGF0ZVNoYWRvdyIsInNldFNoYWRvd0ludGVuc2l0eSIsInNldEludGVuc2l0eSIsImNsZWFyIiwicmVtb3ZlRnJvbVBhcmVudCIsImRpc3Bvc2UiLCJzdG9wIiwic3RvcEFsbEFjdGlvbiIsInVuY2FjaGVSb290IiwiY3VycmVudEdMVEYiLCJNYXRoIiwibWF4IiwiZHByIiwicmVzaXplIiwibWFya0Jha2VkU2hhZG93IiwibWVzaCIsInVzZXJEYXRhIiwidW5tYXJrQmFrZWRTaGFkb3ciLCJ2aXNpYmxlIiwiZGVsZXRlIiwiZXhwYW5kQnlPYmplY3QiLCJmaW5kQmFrZWRTaGFkb3dzIiwiZ3JvdXAiLCJ0cmF2ZXJzZSIsIm9iamVjdCIsImlzTWVzaCIsIm1hdGVyaWFsIiwidHJhbnNwYXJlbnQiLCJzZXRGcm9tT2JqZWN0IiwiZ2V0U2l6ZSIsIm1pbkRpbSIsIm1pbiIsIngiLCJ5IiwieiIsIm1heERpbSIsImNoZWNrQmFrZWRTaGFkb3dzIiwic2hhZG93Qm94Iiwib3JpZW50YXRpb24iLCJ0ZXJtcyIsInJvbGwiLCJudW1iZXIiLCJwaXRjaCIsInlhdyIsInF1YXRlcm5pb24iLCJzZXRGcm9tRXVsZXIiLCJzY2FsZSIsInJlbW92ZSIsImJvdW5kIiwiYm94IiwidmVydGV4IiwiZXhwYW5kQnlQb2ludCIsInNldEJha2VkU2hhZG93VmlzaWJpbGl0eSIsImlzRW1wdHkiLCJmb3JFYWNoIiwiY2VudGVyIiwicmVxdWVzdFVwZGF0ZSIsInVwZGF0ZUNvbXBsZXRlIiwiY29weSIsImdldFRhcmdldCIsInJhZGl1c1NxdWFyZWQiLCJ2YWx1ZSIsImRpc3RhbmNlVG9TcXVhcmVkIiwic3FydCIsImhvcml6b250YWxUYW5Gb3YiLCJzdWIiLCJyYWRpdXNYWiIsImlkZWFsQ2FtZXJhRGlzdGFuY2UiLCJhYnMiLCJ0YW4iLCJQSSIsImhhbGZGb3ZSYWQiLCJzaW4iLCJhZGp1c3RlZEZvViIsImZvdkRlZyIsInZlcnRpY2FsIiwiYXRhbiIsImdldE5EQyIsImNsaWVudFgiLCJjbGllbnRZIiwid2luZG93Iiwic2NyZWVuIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm11bHRpcGx5U2NhbGFyIiwic3ViU2NhbGFyIiwic2V0RW52aXJvbm1lbnRBbmRTa3lib3giLCJlbnZpcm9ubWVudCIsInNreWJveCIsImFyUmVuZGVyZXIiLCJwcmVzZW50ZWRTY2VuZSIsImJhY2tncm91bmQiLCJzZXRUYXJnZXQiLCJtb2RlbFgiLCJtb2RlbFkiLCJtb2RlbFoiLCJzZXRUYXJnZXREYW1wZXJEZWNheVRpbWUiLCJkZWNheU1pbGxpc2Vjb25kcyIsInNldERlY2F5VGltZSIsImNsb25lIiwianVtcFRvR29hbCIsInVwZGF0ZVRhcmdldCIsImRlbHRhIiwiZ29hbCIsImVxdWFscyIsIm5vcm1hbGl6YXRpb24iLCJ1cGRhdGUiLCJ1cGRhdGVNYXRyaXhXb3JsZCIsInBvaW50VG93YXJkcyIsIndvcmxkWCIsIndvcmxkWiIsImF0YW4yIiwicmFkaWFuc1kiLCJyb3RhdGlvbiIsImFuaW1hdGlvblRpbWUiLCJzZXRUaW1lIiwicXVldWVTaGFkb3dSZW5kZXIiLCJsb29wQ291bnQiLCJfbG9vcENvdW50IiwibG9vcCIsImR1cmF0aW9uIiwidGltZSIsImFuaW1hdGlvblRpbWVTY2FsZSIsInRpbWVTY2FsZSIsImdldENsaXAiLCJoYXNBY3RpdmVBbmltYXRpb24iLCJwbGF5QW5pbWF0aW9uIiwiY3Jvc3NmYWRlVGltZSIsImxvb3BNb2RlIiwicmVwZXRpdGlvbkNvdW50IiwiSW5maW5pdHkiLCJsZW5ndGgiLCJjb25zb2xlIiwid2FybiIsImFuaW1hdGlvbkNsaXAiLCJnZXQiLCJwYXJzZWRBbmltYXRpb25JbmRleCIsInBhcnNlSW50IiwiaXNOYU4iLCJsYXN0QW5pbWF0aW9uQWN0aW9uIiwiYWN0aW9uIiwiY2xpcEFjdGlvbiIsInBhdXNlZCIsImNyb3NzRmFkZUZyb20iLCJzZXRMb29wIiwiZW5hYmxlZCIsImNsYW1wV2hlbkZpbmlzaGVkIiwicGxheSIsInN0b3BBbmltYXRpb24iLCJ1cGRhdGVBbmltYXRpb24iLCJzdGVwIiwic3Vic2NyaWJlTWl4ZXJFdmVudCIsImV2ZW50IiwiY2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwic2lkZSIsImFyUGxhY2VtZW50Iiwic2V0U2NlbmUiLCJuZWVkc1VwZGF0ZSIsInJlbmRlclNoYWRvdyIsInJlbmRlcmVyIiwicmVuZGVyIiwic2V0U2hhZG93U29mdG5lc3MiLCJzb2Z0bmVzcyIsInNldFNvZnRuZXNzIiwic2V0U2hhZG93T2Zmc2V0Iiwib2Zmc2V0Iiwic2V0T2Zmc2V0IiwicG9zaXRpb25BbmROb3JtYWxGcm9tUG9pbnQiLCJuZGNQb3NpdGlvbiIsInNldEZyb21DYW1lcmEiLCJoaXRzIiwiaW50ZXJzZWN0T2JqZWN0IiwiaGl0IiwiZmluZCIsImZhY2UiLCJ1diIsInBvaW50Iiwibm9ybWFsIiwiYXBwbHlOb3JtYWxNYXRyaXgiLCJnZXROb3JtYWxNYXRyaXgiLCJtYXRyaXhXb3JsZCIsImFkZEhvdHNwb3QiLCJob3RzcG90IiwicmVtb3ZlSG90c3BvdCIsImZvckhvdHNwb3RzIiwiZnVuYyIsImNoaWxkcmVuIiwiaSIsImwiLCJ1cGRhdGVIb3RzcG90cyIsInZpZXdlclBvc2l0aW9uIiwic2V0RnJvbU1hdHJpeFBvc2l0aW9uIiwidHJhbnNmb3JtRGlyZWN0aW9uIiwiZG90IiwiaGlkZSIsInNob3ciLCJvcmllbnRIb3RzcG90cyIsInJhZGlhbnMiLCJvcmllbnQiLCJzZXRIb3RzcG90c1Zpc2liaWxpdHkiLCJ1cGRhdGVTY2hlbWEiLCJzcmMiLCJfYSIsImFsdCIsInBvc3RlciIsImlvc1NyYyIsImVuY29kaW5nIiwiY29udGVudFVybCIsImVuY29kaW5nRm9ybWF0Iiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsInN0cnVjdHVyZWREYXRhIiwiaW1hZ2UiLCJ1bmRlZmluZWQiLCJ0ZXh0Q29udGVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelScene.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelUtils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/ModelUtils.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   moveChildren: () => (/* binding */ moveChildren),\n/* harmony export */   reduceVertices: () => (/* binding */ reduceVertices)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n/**\n * Moves Three.js objects from one parent to another\n */ const moveChildren = (from, to)=>{\n    while(from.children.length){\n        to.add(from.children.shift());\n    }\n};\n/**\n * Performs a reduction across all the vertices of the input model and all its\n * children. The supplied function takes the reduced value and a vertex and\n * returns the newly reduced value. The value is initialized as zero.\n *\n * Adapted from Three.js, @see https://github.com/mrdoob/three.js/blob/7e0a78beb9317e580d7fa4da9b5b12be051c6feb/src/math/Box3.js#L241\n */ const reduceVertices = (model, func, initialValue)=>{\n    let value = initialValue;\n    const vertex = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    model.traverseVisible((object)=>{\n        let i, l;\n        object.updateWorldMatrix(false, false);\n        const geometry = object.geometry;\n        if (geometry !== undefined) {\n            if (geometry.isGeometry) {\n                const vertices = geometry.vertices;\n                for(i = 0, l = vertices.length; i < l; i++){\n                    vertex.copy(vertices[i]);\n                    if (object.isSkinnedMesh) {\n                        object.boneTransform(i, vertex);\n                    } else {\n                        vertex.applyMatrix4(object.matrixWorld);\n                    }\n                    value = func(value, vertex);\n                }\n            } else if (geometry.isBufferGeometry) {\n                const { position } = geometry.attributes;\n                if (position !== undefined) {\n                    for(i = 0, l = position.count; i < l; i++){\n                        vertex.fromBufferAttribute(position, i);\n                        if (object.isSkinnedMesh) {\n                            object.boneTransform(i, vertex);\n                        } else {\n                            vertex.applyMatrix4(object.matrixWorld);\n                        }\n                        value = func(value, vertex);\n                    }\n                }\n            }\n        }\n    });\n    return value;\n}; //# sourceMappingURL=ModelUtils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvTW9kZWxVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQytCO0FBQ2hDOztDQUVDLEdBQ00sTUFBTUMsZUFBZSxDQUFDQyxNQUFNQztJQUMvQixNQUFPRCxLQUFLRSxRQUFRLENBQUNDLE1BQU0sQ0FBRTtRQUN6QkYsR0FBR0csR0FBRyxDQUFDSixLQUFLRSxRQUFRLENBQUNHLEtBQUs7SUFDOUI7QUFDSixFQUFFO0FBQ0Y7Ozs7OztDQU1DLEdBQ00sTUFBTUMsaUJBQWlCLENBQUNDLE9BQU9DLE1BQU1DO0lBQ3hDLElBQUlDLFFBQVFEO0lBQ1osTUFBTUUsU0FBUyxJQUFJYiwwQ0FBT0E7SUFDMUJTLE1BQU1LLGVBQWUsQ0FBQyxDQUFDQztRQUNuQixJQUFJQyxHQUFHQztRQUNQRixPQUFPRyxpQkFBaUIsQ0FBQyxPQUFPO1FBQ2hDLE1BQU1DLFdBQVdKLE9BQU9JLFFBQVE7UUFDaEMsSUFBSUEsYUFBYUMsV0FBVztZQUN4QixJQUFJRCxTQUFTRSxVQUFVLEVBQUU7Z0JBQ3JCLE1BQU1DLFdBQVdILFNBQVNHLFFBQVE7Z0JBQ2xDLElBQUtOLElBQUksR0FBR0MsSUFBSUssU0FBU2pCLE1BQU0sRUFBRVcsSUFBSUMsR0FBR0QsSUFBSztvQkFDekNILE9BQU9VLElBQUksQ0FBQ0QsUUFBUSxDQUFDTixFQUFFO29CQUN2QixJQUFJRCxPQUFPUyxhQUFhLEVBQUU7d0JBQ3RCVCxPQUFPVSxhQUFhLENBQUNULEdBQUdIO29CQUM1QixPQUNLO3dCQUNEQSxPQUFPYSxZQUFZLENBQUNYLE9BQU9ZLFdBQVc7b0JBQzFDO29CQUNBZixRQUFRRixLQUFLRSxPQUFPQztnQkFDeEI7WUFDSixPQUNLLElBQUlNLFNBQVNTLGdCQUFnQixFQUFFO2dCQUNoQyxNQUFNLEVBQUVDLFFBQVEsRUFBRSxHQUFHVixTQUFTVyxVQUFVO2dCQUN4QyxJQUFJRCxhQUFhVCxXQUFXO29CQUN4QixJQUFLSixJQUFJLEdBQUdDLElBQUlZLFNBQVNFLEtBQUssRUFBRWYsSUFBSUMsR0FBR0QsSUFBSzt3QkFDeENILE9BQU9tQixtQkFBbUIsQ0FBQ0gsVUFBVWI7d0JBQ3JDLElBQUlELE9BQU9TLGFBQWEsRUFBRTs0QkFDdEJULE9BQU9VLGFBQWEsQ0FBQ1QsR0FBR0g7d0JBQzVCLE9BQ0s7NEJBQ0RBLE9BQU9hLFlBQVksQ0FBQ1gsT0FBT1ksV0FBVzt3QkFDMUM7d0JBQ0FmLFFBQVFGLEtBQUtFLE9BQU9DO29CQUN4QjtnQkFDSjtZQUNKO1FBQ0o7SUFDSjtJQUNBLE9BQU9EO0FBQ1gsRUFBRSxDQUNGLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvTW9kZWxVdGlscy5qcz9iZTdkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG4vKipcbiAqIE1vdmVzIFRocmVlLmpzIG9iamVjdHMgZnJvbSBvbmUgcGFyZW50IHRvIGFub3RoZXJcbiAqL1xuZXhwb3J0IGNvbnN0IG1vdmVDaGlsZHJlbiA9IChmcm9tLCB0bykgPT4ge1xuICAgIHdoaWxlIChmcm9tLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICB0by5hZGQoZnJvbS5jaGlsZHJlbi5zaGlmdCgpKTtcbiAgICB9XG59O1xuLyoqXG4gKiBQZXJmb3JtcyBhIHJlZHVjdGlvbiBhY3Jvc3MgYWxsIHRoZSB2ZXJ0aWNlcyBvZiB0aGUgaW5wdXQgbW9kZWwgYW5kIGFsbCBpdHNcbiAqIGNoaWxkcmVuLiBUaGUgc3VwcGxpZWQgZnVuY3Rpb24gdGFrZXMgdGhlIHJlZHVjZWQgdmFsdWUgYW5kIGEgdmVydGV4IGFuZFxuICogcmV0dXJucyB0aGUgbmV3bHkgcmVkdWNlZCB2YWx1ZS4gVGhlIHZhbHVlIGlzIGluaXRpYWxpemVkIGFzIHplcm8uXG4gKlxuICogQWRhcHRlZCBmcm9tIFRocmVlLmpzLCBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi83ZTBhNzhiZWI5MzE3ZTU4MGQ3ZmE0ZGE5YjViMTJiZTA1MWM2ZmViL3NyYy9tYXRoL0JveDMuanMjTDI0MVxuICovXG5leHBvcnQgY29uc3QgcmVkdWNlVmVydGljZXMgPSAobW9kZWwsIGZ1bmMsIGluaXRpYWxWYWx1ZSkgPT4ge1xuICAgIGxldCB2YWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICBjb25zdCB2ZXJ0ZXggPSBuZXcgVmVjdG9yMygpO1xuICAgIG1vZGVsLnRyYXZlcnNlVmlzaWJsZSgob2JqZWN0KSA9PiB7XG4gICAgICAgIGxldCBpLCBsO1xuICAgICAgICBvYmplY3QudXBkYXRlV29ybGRNYXRyaXgoZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBvYmplY3QuZ2VvbWV0cnk7XG4gICAgICAgIGlmIChnZW9tZXRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaXNHZW9tZXRyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2VzID0gZ2VvbWV0cnkudmVydGljZXM7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHZlcnRpY2VzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXguY29weSh2ZXJ0aWNlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaXNTa2lubmVkTWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmJvbmVUcmFuc2Zvcm0oaSwgdmVydGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleC5hcHBseU1hdHJpeDQob2JqZWN0Lm1hdHJpeFdvcmxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmModmFsdWUsIHZlcnRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcG9zaXRpb24gfSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHBvc2l0aW9uLmNvdW50OyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXguZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbiwgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmlzU2tpbm5lZE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYm9uZVRyYW5zZm9ybShpLCB2ZXJ0ZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGV4LmFwcGx5TWF0cml4NChvYmplY3QubWF0cml4V29ybGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHZhbHVlLCB2ZXJ0ZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1vZGVsVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbIlZlY3RvcjMiLCJtb3ZlQ2hpbGRyZW4iLCJmcm9tIiwidG8iLCJjaGlsZHJlbiIsImxlbmd0aCIsImFkZCIsInNoaWZ0IiwicmVkdWNlVmVydGljZXMiLCJtb2RlbCIsImZ1bmMiLCJpbml0aWFsVmFsdWUiLCJ2YWx1ZSIsInZlcnRleCIsInRyYXZlcnNlVmlzaWJsZSIsIm9iamVjdCIsImkiLCJsIiwidXBkYXRlV29ybGRNYXRyaXgiLCJnZW9tZXRyeSIsInVuZGVmaW5lZCIsImlzR2VvbWV0cnkiLCJ2ZXJ0aWNlcyIsImNvcHkiLCJpc1NraW5uZWRNZXNoIiwiYm9uZVRyYW5zZm9ybSIsImFwcGx5TWF0cml4NCIsIm1hdHJpeFdvcmxkIiwiaXNCdWZmZXJHZW9tZXRyeSIsInBvc2l0aW9uIiwiYXR0cmlidXRlcyIsImNvdW50IiwiZnJvbUJ1ZmZlckF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/PlacementBox.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/PlacementBox.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PlacementBox: () => (/* binding */ PlacementBox)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _Damper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\nconst RADIUS = 0.2;\nconst LINE_WIDTH = 0.03;\nconst MAX_OPACITY = 0.75;\nconst SEGMENTS = 12;\nconst DELTA_PHI = Math.PI / (2 * SEGMENTS);\nconst vector2 = new three__WEBPACK_IMPORTED_MODULE_1__.Vector2();\n/**\n * Adds a quarter-annulus of vertices to the array, centered on cornerX,\n * cornerY.\n */ const addCorner = (vertices, cornerX, cornerY)=>{\n    let phi = cornerX > 0 ? cornerY > 0 ? 0 : -Math.PI / 2 : cornerY > 0 ? Math.PI / 2 : Math.PI;\n    for(let i = 0; i <= SEGMENTS; ++i){\n        vertices.push(cornerX + (RADIUS - LINE_WIDTH) * Math.cos(phi), cornerY + (RADIUS - LINE_WIDTH) * Math.sin(phi), 0, cornerX + RADIUS * Math.cos(phi), cornerY + RADIUS * Math.sin(phi), 0);\n        phi += DELTA_PHI;\n    }\n};\n/**\n * This class is a set of two coincident planes. The first is just a cute box\n * outline with rounded corners and damped opacity to indicate the floor extents\n * of a scene. It is purposely larger than the scene's bounding box by RADIUS on\n * all sides so that small scenes are still visible / selectable. Its center is\n * actually carved out by vertices to ensure its fragment shader doesn't add\n * much time.\n *\n * The child plane is a simple plane with the same extents for use in hit\n * testing (translation is triggered when the touch hits the plane, rotation\n * otherwise).\n */ class PlacementBox extends three__WEBPACK_IMPORTED_MODULE_1__.Mesh {\n    constructor(scene, side){\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_1__.BufferGeometry();\n        const triangles = [];\n        const vertices = [];\n        const { size, boundingBox } = scene;\n        const x = size.x / 2;\n        const y = (side === \"back\" ? size.y : size.z) / 2;\n        addCorner(vertices, x, y);\n        addCorner(vertices, -x, y);\n        addCorner(vertices, -x, -y);\n        addCorner(vertices, x, -y);\n        const numVertices = vertices.length / 3;\n        for(let i = 0; i < numVertices - 2; i += 2){\n            triangles.push(i, i + 1, i + 3, i, i + 3, i + 2);\n        }\n        const i = numVertices - 2;\n        triangles.push(i, i + 1, 1, i, 1, 0);\n        geometry.setAttribute(\"position\", new three__WEBPACK_IMPORTED_MODULE_1__.Float32BufferAttribute(vertices, 3));\n        geometry.setIndex(triangles);\n        super(geometry);\n        this.side = side;\n        const material = this.material;\n        material.side = three__WEBPACK_IMPORTED_MODULE_1__.DoubleSide;\n        material.transparent = true;\n        material.opacity = 0;\n        this.goalOpacity = 0;\n        this.opacityDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_0__.Damper();\n        this.hitPlane = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(new three__WEBPACK_IMPORTED_MODULE_1__.PlaneGeometry(2 * (x + RADIUS), 2 * (y + RADIUS)));\n        this.hitPlane.visible = false;\n        this.hitPlane.material.side = three__WEBPACK_IMPORTED_MODULE_1__.DoubleSide;\n        this.add(this.hitPlane);\n        boundingBox.getCenter(this.position);\n        switch(side){\n            case \"bottom\":\n                this.rotateX(-Math.PI / 2);\n                this.shadowHeight = boundingBox.min.y;\n                this.position.y = this.shadowHeight;\n                break;\n            case \"back\":\n                this.shadowHeight = boundingBox.min.z;\n                this.position.z = this.shadowHeight;\n        }\n        scene.target.add(this);\n        this.offsetHeight = 0;\n    }\n    /**\n     * Get the world hit position if the touch coordinates hit the box, and null\n     * otherwise. Pass the scene in to get access to its raycaster.\n     */ getHit(scene, screenX, screenY) {\n        vector2.set(screenX, -screenY);\n        this.hitPlane.visible = true;\n        const hitResult = scene.positionAndNormalFromPoint(vector2, this.hitPlane);\n        this.hitPlane.visible = false;\n        return hitResult == null ? null : hitResult.position;\n    }\n    getExpandedHit(scene, screenX, screenY) {\n        this.hitPlane.scale.set(1000, 1000, 1000);\n        this.hitPlane.updateMatrixWorld();\n        const hitResult = this.getHit(scene, screenX, screenY);\n        this.hitPlane.scale.set(1, 1, 1);\n        return hitResult;\n    }\n    /**\n     * Offset the height of the box relative to the bottom of the scene. Positive\n     * is up, so generally only negative values are used.\n     */ set offsetHeight(offset) {\n        offset -= 0.001; // push 1 mm below shadow to avoid z-fighting\n        if (this.side === \"back\") {\n            this.position.z = this.shadowHeight + offset;\n        } else {\n            this.position.y = this.shadowHeight + offset;\n        }\n    }\n    get offsetHeight() {\n        if (this.side === \"back\") {\n            return this.position.z - this.shadowHeight;\n        } else {\n            return this.position.y - this.shadowHeight;\n        }\n    }\n    /**\n     * Set the box's visibility; it will fade in and out.\n     */ set show(visible) {\n        this.goalOpacity = visible ? MAX_OPACITY : 0;\n    }\n    /**\n     * Call on each frame with the frame delta to fade the box.\n     */ updateOpacity(delta) {\n        const material = this.material;\n        material.opacity = this.opacityDamper.update(material.opacity, this.goalOpacity, delta, 1);\n        this.visible = material.opacity > 0;\n    }\n    /**\n     * Call this to clean up Three's cache when you remove the box.\n     */ dispose() {\n        var _a;\n        const { geometry, material } = this.hitPlane;\n        geometry.dispose();\n        material.dispose();\n        this.geometry.dispose();\n        this.material.dispose();\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.remove(this);\n    }\n} //# sourceMappingURL=PlacementBox.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvUGxhY2VtZW50Qm94LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDd0c7QUFDcEU7QUFDckMsTUFBTU8sU0FBUztBQUNmLE1BQU1DLGFBQWE7QUFDbkIsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxXQUFXO0FBQ2pCLE1BQU1DLFlBQVlDLEtBQUtDLEVBQUUsR0FBSSxLQUFJSCxRQUFPO0FBQ3hDLE1BQU1JLFVBQVUsSUFBSVQsMENBQU9BO0FBQzNCOzs7Q0FHQyxHQUNELE1BQU1VLFlBQVksQ0FBQ0MsVUFBVUMsU0FBU0M7SUFDbEMsSUFBSUMsTUFBTUYsVUFBVSxJQUFLQyxVQUFVLElBQUksSUFBSSxDQUFDTixLQUFLQyxFQUFFLEdBQUcsSUFDakRLLFVBQVUsSUFBSU4sS0FBS0MsRUFBRSxHQUFHLElBQUlELEtBQUtDLEVBQUU7SUFDeEMsSUFBSyxJQUFJTyxJQUFJLEdBQUdBLEtBQUtWLFVBQVUsRUFBRVUsRUFBRztRQUNoQ0osU0FBU0ssSUFBSSxDQUFDSixVQUFVLENBQUNWLFNBQVNDLFVBQVMsSUFBS0ksS0FBS1UsR0FBRyxDQUFDSCxNQUFNRCxVQUFVLENBQUNYLFNBQVNDLFVBQVMsSUFBS0ksS0FBS1csR0FBRyxDQUFDSixNQUFNLEdBQUdGLFVBQVVWLFNBQVNLLEtBQUtVLEdBQUcsQ0FBQ0gsTUFBTUQsVUFBVVgsU0FBU0ssS0FBS1csR0FBRyxDQUFDSixNQUFNO1FBQ3ZMQSxPQUFPUjtJQUNYO0FBQ0o7QUFDQTs7Ozs7Ozs7Ozs7Q0FXQyxHQUNNLE1BQU1hLHFCQUFxQnJCLHVDQUFJQTtJQUNsQ3NCLFlBQVlDLEtBQUssRUFBRUMsSUFBSSxDQUFFO1FBQ3JCLE1BQU1DLFdBQVcsSUFBSTVCLGlEQUFjQTtRQUNuQyxNQUFNNkIsWUFBWSxFQUFFO1FBQ3BCLE1BQU1iLFdBQVcsRUFBRTtRQUNuQixNQUFN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QUM1QixTQUFTRSxPQUFPLEVBQUUsSUFBSSxDQUFDQyxXQUFXLEVBQUV3QixPQUFPO1FBQ3pFLElBQUksQ0FBQ3JCLE9BQU8sR0FBR04sU0FBU0UsT0FBTyxHQUFHO0lBQ3RDO0lBQ0E7O0tBRUMsR0FDRDJCLFVBQVU7UUFDTixJQUFJQztRQUNKLE1BQU0sRUFBRXpDLFFBQVEsRUFBRVcsUUFBUSxFQUFFLEdBQUcsSUFBSSxDQUFDSyxRQUFRO1FBQzVDaEIsU0FBU3dDLE9BQU87UUFDaEI3QixTQUFTNkIsT0FBTztRQUNoQixJQUFJLENBQUN4QyxRQUFRLENBQUN3QyxPQUFPO1FBQ3JCLElBQUksQ0FBQzdCLFFBQVEsQ0FBQzZCLE9BQU87UUFDcEJDLENBQUFBLEtBQUssSUFBSSxDQUFDQyxNQUFNLE1BQU0sUUFBUUQsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHRSxNQUFNLENBQUMsSUFBSTtJQUMxRTtBQUNKLEVBQ0Esd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9QbGFjZW1lbnRCb3guanM/ODY2OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBCdWZmZXJHZW9tZXRyeSwgRG91YmxlU2lkZSwgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSwgTWVzaCwgUGxhbmVHZW9tZXRyeSwgVmVjdG9yMiB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IERhbXBlciB9IGZyb20gJy4vRGFtcGVyLmpzJztcbmNvbnN0IFJBRElVUyA9IDAuMjtcbmNvbnN0IExJTkVfV0lEVEggPSAwLjAzO1xuY29uc3QgTUFYX09QQUNJVFkgPSAwLjc1O1xuY29uc3QgU0VHTUVOVFMgPSAxMjtcbmNvbnN0IERFTFRBX1BISSA9IE1hdGguUEkgLyAoMiAqIFNFR01FTlRTKTtcbmNvbnN0IHZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuLyoqXG4gKiBBZGRzIGEgcXVhcnRlci1hbm51bHVzIG9mIHZlcnRpY2VzIHRvIHRoZSBhcnJheSwgY2VudGVyZWQgb24gY29ybmVyWCxcbiAqIGNvcm5lclkuXG4gKi9cbmNvbnN0IGFkZENvcm5lciA9ICh2ZXJ0aWNlcywgY29ybmVyWCwgY29ybmVyWSkgPT4ge1xuICAgIGxldCBwaGkgPSBjb3JuZXJYID4gMCA/IChjb3JuZXJZID4gMCA/IDAgOiAtTWF0aC5QSSAvIDIpIDpcbiAgICAgICAgKGNvcm5lclkgPiAwID8gTWF0aC5QSSAvIDIgOiBNYXRoLlBJKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBTRUdNRU5UUzsgKytpKSB7XG4gICAgICAgIHZlcnRpY2VzLnB1c2goY29ybmVyWCArIChSQURJVVMgLSBMSU5FX1dJRFRIKSAqIE1hdGguY29zKHBoaSksIGNvcm5lclkgKyAoUkFESVVTIC0gTElORV9XSURUSCkgKiBNYXRoLnNpbihwaGkpLCAwLCBjb3JuZXJYICsgUkFESVVTICogTWF0aC5jb3MocGhpKSwgY29ybmVyWSArIFJBRElVUyAqIE1hdGguc2luKHBoaSksIDApO1xuICAgICAgICBwaGkgKz0gREVMVEFfUEhJO1xuICAgIH1cbn07XG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBzZXQgb2YgdHdvIGNvaW5jaWRlbnQgcGxhbmVzLiBUaGUgZmlyc3QgaXMganVzdCBhIGN1dGUgYm94XG4gKiBvdXRsaW5lIHdpdGggcm91bmRlZCBjb3JuZXJzIGFuZCBkYW1wZWQgb3BhY2l0eSB0byBpbmRpY2F0ZSB0aGUgZmxvb3IgZXh0ZW50c1xuICogb2YgYSBzY2VuZS4gSXQgaXMgcHVycG9zZWx5IGxhcmdlciB0aGFuIHRoZSBzY2VuZSdzIGJvdW5kaW5nIGJveCBieSBSQURJVVMgb25cbiAqIGFsbCBzaWRlcyBzbyB0aGF0IHNtYWxsIHNjZW5lcyBhcmUgc3RpbGwgdmlzaWJsZSAvIHNlbGVjdGFibGUuIEl0cyBjZW50ZXIgaXNcbiAqIGFjdHVhbGx5IGNhcnZlZCBvdXQgYnkgdmVydGljZXMgdG8gZW5zdXJlIGl0cyBmcmFnbWVudCBzaGFkZXIgZG9lc24ndCBhZGRcbiAqIG11Y2ggdGltZS5cbiAqXG4gKiBUaGUgY2hpbGQgcGxhbmUgaXMgYSBzaW1wbGUgcGxhbmUgd2l0aCB0aGUgc2FtZSBleHRlbnRzIGZvciB1c2UgaW4gaGl0XG4gKiB0ZXN0aW5nICh0cmFuc2xhdGlvbiBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdG91Y2ggaGl0cyB0aGUgcGxhbmUsIHJvdGF0aW9uXG4gKiBvdGhlcndpc2UpLlxuICovXG5leHBvcnQgY2xhc3MgUGxhY2VtZW50Qm94IGV4dGVuZHMgTWVzaCB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHNpZGUpIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gW107XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gW107XG4gICAgICAgIGNvbnN0IHsgc2l6ZSwgYm91bmRpbmdCb3ggfSA9IHNjZW5lO1xuICAgICAgICBjb25zdCB4ID0gc2l6ZS54IC8gMjtcbiAgICAgICAgY29uc3QgeSA9IChzaWRlID09PSAnYmFjaycgPyBzaXplLnkgOiBzaXplLnopIC8gMjtcbiAgICAgICAgYWRkQ29ybmVyKHZlcnRpY2VzLCB4LCB5KTtcbiAgICAgICAgYWRkQ29ybmVyKHZlcnRpY2VzLCAteCwgeSk7XG4gICAgICAgIGFkZENvcm5lcih2ZXJ0aWNlcywgLXgsIC15KTtcbiAgICAgICAgYWRkQ29ybmVyKHZlcnRpY2VzLCB4LCAteSk7XG4gICAgICAgIGNvbnN0IG51bVZlcnRpY2VzID0gdmVydGljZXMubGVuZ3RoIC8gMztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WZXJ0aWNlcyAtIDI7IGkgKz0gMikge1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goaSwgaSArIDEsIGkgKyAzLCBpLCBpICsgMywgaSArIDIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGkgPSBudW1WZXJ0aWNlcyAtIDI7XG4gICAgICAgIHRyaWFuZ2xlcy5wdXNoKGksIGkgKyAxLCAxLCBpLCAxLCAwKTtcbiAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLCAzKSk7XG4gICAgICAgIGdlb21ldHJ5LnNldEluZGV4KHRyaWFuZ2xlcyk7XG4gICAgICAgIHN1cGVyKGdlb21ldHJ5KTtcbiAgICAgICAgdGhpcy5zaWRlID0gc2lkZTtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xuICAgICAgICBtYXRlcmlhbC5zaWRlID0gRG91YmxlU2lkZTtcbiAgICAgICAgbWF0ZXJpYWwudHJhbnNwYXJlbnQgPSB0cnVlO1xuICAgICAgICBtYXRlcmlhbC5vcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5nb2FsT3BhY2l0eSA9IDA7XG4gICAgICAgIHRoaXMub3BhY2l0eURhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy5oaXRQbGFuZSA9XG4gICAgICAgICAgICBuZXcgTWVzaChuZXcgUGxhbmVHZW9tZXRyeSgyICogKHggKyBSQURJVVMpLCAyICogKHkgKyBSQURJVVMpKSk7XG4gICAgICAgIHRoaXMuaGl0UGxhbmUudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpdFBsYW5lLm1hdGVyaWFsLnNpZGUgPSBEb3VibGVTaWRlO1xuICAgICAgICB0aGlzLmFkZCh0aGlzLmhpdFBsYW5lKTtcbiAgICAgICAgYm91bmRpbmdCb3guZ2V0Q2VudGVyKHRoaXMucG9zaXRpb24pO1xuICAgICAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVYKC1NYXRoLlBJIC8gMik7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dIZWlnaHQgPSBib3VuZGluZ0JveC5taW4ueTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB0aGlzLnNoYWRvd0hlaWdodDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2JhY2snOlxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93SGVpZ2h0ID0gYm91bmRpbmdCb3gubWluLno7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi56ID0gdGhpcy5zaGFkb3dIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgc2NlbmUudGFyZ2V0LmFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vZmZzZXRIZWlnaHQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHdvcmxkIGhpdCBwb3NpdGlvbiBpZiB0aGUgdG91Y2ggY29vcmRpbmF0ZXMgaGl0IHRoZSBib3gsIGFuZCBudWxsXG4gICAgICogb3RoZXJ3aXNlLiBQYXNzIHRoZSBzY2VuZSBpbiB0byBnZXQgYWNjZXNzIHRvIGl0cyByYXljYXN0ZXIuXG4gICAgICovXG4gICAgZ2V0SGl0KHNjZW5lLCBzY3JlZW5YLCBzY3JlZW5ZKSB7XG4gICAgICAgIHZlY3RvcjIuc2V0KHNjcmVlblgsIC1zY3JlZW5ZKTtcbiAgICAgICAgdGhpcy5oaXRQbGFuZS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgaGl0UmVzdWx0ID0gc2NlbmUucG9zaXRpb25BbmROb3JtYWxGcm9tUG9pbnQodmVjdG9yMiwgdGhpcy5oaXRQbGFuZSk7XG4gICAgICAgIHRoaXMuaGl0UGxhbmUudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gaGl0UmVzdWx0ID09IG51bGwgPyBudWxsIDogaGl0UmVzdWx0LnBvc2l0aW9uO1xuICAgIH1cbiAgICBnZXRFeHBhbmRlZEhpdChzY2VuZSwgc2NyZWVuWCwgc2NyZWVuWSkge1xuICAgICAgICB0aGlzLmhpdFBsYW5lLnNjYWxlLnNldCgxMDAwLCAxMDAwLCAxMDAwKTtcbiAgICAgICAgdGhpcy5oaXRQbGFuZS51cGRhdGVNYXRyaXhXb3JsZCgpO1xuICAgICAgICBjb25zdCBoaXRSZXN1bHQgPSB0aGlzLmdldEhpdChzY2VuZSwgc2NyZWVuWCwgc2NyZWVuWSk7XG4gICAgICAgIHRoaXMuaGl0UGxhbmUuc2NhbGUuc2V0KDEsIDEsIDEpO1xuICAgICAgICByZXR1cm4gaGl0UmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPZmZzZXQgdGhlIGhlaWdodCBvZiB0aGUgYm94IHJlbGF0aXZlIHRvIHRoZSBib3R0b20gb2YgdGhlIHNjZW5lLiBQb3NpdGl2ZVxuICAgICAqIGlzIHVwLCBzbyBnZW5lcmFsbHkgb25seSBuZWdhdGl2ZSB2YWx1ZXMgYXJlIHVzZWQuXG4gICAgICovXG4gICAgc2V0IG9mZnNldEhlaWdodChvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0IC09IDAuMDAxOyAvLyBwdXNoIDEgbW0gYmVsb3cgc2hhZG93IHRvIGF2b2lkIHotZmlnaHRpbmdcbiAgICAgICAgaWYgKHRoaXMuc2lkZSA9PT0gJ2JhY2snKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnogPSB0aGlzLnNoYWRvd0hlaWdodCArIG9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHRoaXMuc2hhZG93SGVpZ2h0ICsgb2Zmc2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvZmZzZXRIZWlnaHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnNpZGUgPT09ICdiYWNrJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueiAtIHRoaXMuc2hhZG93SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueSAtIHRoaXMuc2hhZG93SGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYm94J3MgdmlzaWJpbGl0eTsgaXQgd2lsbCBmYWRlIGluIGFuZCBvdXQuXG4gICAgICovXG4gICAgc2V0IHNob3codmlzaWJsZSkge1xuICAgICAgICB0aGlzLmdvYWxPcGFjaXR5ID0gdmlzaWJsZSA/IE1BWF9PUEFDSVRZIDogMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCBvbiBlYWNoIGZyYW1lIHdpdGggdGhlIGZyYW1lIGRlbHRhIHRvIGZhZGUgdGhlIGJveC5cbiAgICAgKi9cbiAgICB1cGRhdGVPcGFjaXR5KGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcbiAgICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHlEYW1wZXIudXBkYXRlKG1hdGVyaWFsLm9wYWNpdHksIHRoaXMuZ29hbE9wYWNpdHksIGRlbHRhLCAxKTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gbWF0ZXJpYWwub3BhY2l0eSA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgdGhpcyB0byBjbGVhbiB1cCBUaHJlZSdzIGNhY2hlIHdoZW4geW91IHJlbW92ZSB0aGUgYm94LlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBnZW9tZXRyeSwgbWF0ZXJpYWwgfSA9IHRoaXMuaGl0UGxhbmU7XG4gICAgICAgIGdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgbWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgIChfYSA9IHRoaXMucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlKHRoaXMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsYWNlbWVudEJveC5qcy5tYXAiXSwibmFtZXMiOlsiQnVmZmVyR2VvbWV0cnkiLCJEb3VibGVTaWRlIiwiRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSIsIk1lc2giLCJQbGFuZUdlb21ldHJ5IiwiVmVjdG9yMiIsIkRhbXBlciIsIlJBRElVUyIsIkxJTkVfV0lEVEgiLCJNQVhfT1BBQ0lUWSIsIlNFR01FTlRTIiwiREVMVEFfUEhJIiwiTWF0aCIsIlBJIiwidmVjdG9yMiIsImFkZENvcm5lciIsInZlcnRpY2VzIiwiY29ybmVyWCIsImNvcm5lclkiLCJwaGkiLCJpIiwicHVzaCIsImNvcyIsInNpbiIsIlBsYWNlbWVudEJveCIsImNvbnN0cnVjdG9yIiwic2NlbmUiLCJzaWRlIiwiZ2VvbWV0cnkiLCJ0cmlhbmdsZXMiLCJzaXplIiwiYm91bmRpbmdCb3giLCJ4IiwieSIsInoiLCJudW1WZXJ0aWNlcyIsImxlbmd0aCIsInNldEF0dHJpYnV0ZSIsInNldEluZGV4IiwibWF0ZXJpYWwiLCJ0cmFuc3BhcmVudCIsIm9wYWNpdHkiLCJnb2FsT3BhY2l0eSIsIm9wYWNpdHlEYW1wZXIiLCJoaXRQbGFuZSIsInZpc2libGUiLCJhZGQiLCJnZXRDZW50ZXIiLCJwb3NpdGlvbiIsInJvdGF0ZVgiLCJzaGFkb3dIZWlnaHQiLCJtaW4iLCJ0YXJnZXQiLCJvZmZzZXRIZWlnaHQiLCJnZXRIaXQiLCJzY3JlZW5YIiwic2NyZWVuWSIsInNldCIsImhpdFJlc3VsdCIsInBvc2l0aW9uQW5kTm9ybWFsRnJvbVBvaW50IiwiZ2V0RXhwYW5kZWRIaXQiLCJzY2FsZSIsInVwZGF0ZU1hdHJpeFdvcmxkIiwib2Zmc2V0Iiwic2hvdyIsInVwZGF0ZU9wYWNpdHkiLCJkZWx0YSIsInVwZGF0ZSIsImRpc3Bvc2UiLCJfYSIsInBhcmVudCIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/PlacementBox.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Renderer.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_POWER_PREFERENCE: () => (/* binding */ DEFAULT_POWER_PREFERENCE),\n/* harmony export */   Renderer: () => (/* binding */ Renderer)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _features_environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../features/environment.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _ARRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ARRenderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js\");\n/* harmony import */ var _CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CachingGLTFLoader.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js\");\n/* harmony import */ var _Debugger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Debugger.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Debugger.js\");\n/* harmony import */ var _gltf_instance_ModelViewerGLTFInstance_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./gltf-instance/ModelViewerGLTFInstance.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/ModelViewerGLTFInstance.js\");\n/* harmony import */ var _TextureUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TextureUtils.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/TextureUtils.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\n\n\n\n\n\n// Between 0 and 1: larger means the average responds faster and is less smooth.\nconst DURATION_DECAY = 0.2;\nconst LOW_FRAME_DURATION_MS = 40;\nconst HIGH_FRAME_DURATION_MS = 60;\nconst MAX_AVG_CHANGE_MS = 5;\nconst SCALE_STEPS = [\n    1,\n    0.79,\n    0.62,\n    0.5,\n    0.4,\n    0.31,\n    0.25\n];\nconst DEFAULT_LAST_STEP = 3;\nconst DEFAULT_POWER_PREFERENCE = \"high-performance\";\n/**\n * Registers canvases with Canvas2DRenderingContexts and renders them\n * all in the same WebGLRenderingContext, spitting out textures to apply\n * to the canvases. Creates a fullscreen WebGL canvas that is not added\n * to the DOM, and on each frame, renders each registered canvas on a portion\n * of the WebGL canvas, and applies the texture on the registered canvas.\n *\n * In the future, can use ImageBitmapRenderingContext instead of\n * Canvas2DRenderingContext if supported for cheaper transferring of\n * the texture.\n */ class Renderer extends three__WEBPACK_IMPORTED_MODULE_8__.EventDispatcher {\n    constructor(options){\n        super();\n        this.loader = new _CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_4__.CachingGLTFLoader(_gltf_instance_ModelViewerGLTFInstance_js__WEBPACK_IMPORTED_MODULE_6__.ModelViewerGLTFInstance);\n        this.width = 0;\n        this.height = 0;\n        this.dpr = 1;\n        this.debugger = null;\n        this.scenes = new Set();\n        this.multipleScenesVisible = false;\n        this.lastTick = performance.now();\n        this.renderedLastFrame = false;\n        this.scaleStep = 0;\n        this.lastStep = DEFAULT_LAST_STEP;\n        this.avgFrameDuration = (HIGH_FRAME_DURATION_MS + LOW_FRAME_DURATION_MS) / 2;\n        this.onWebGLContextLost = (event)=>{\n            this.dispatchEvent({\n                type: \"contextlost\",\n                sourceEvent: event\n            });\n        };\n        this.onWebGLContextRestored = ()=>{\n            var _a;\n            (_a = this.textureUtils) === null || _a === void 0 ? void 0 : _a.dispose();\n            this.textureUtils = new _TextureUtils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this.threeRenderer);\n            for (const scene of this.scenes){\n                scene.element[_features_environment_js__WEBPACK_IMPORTED_MODULE_0__.$updateEnvironment]();\n            }\n        };\n        this.dpr = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.resolveDpr)();\n        this.canvas3D = document.createElement(\"canvas\");\n        this.canvas3D.id = \"webgl-canvas\";\n        this.canvas3D.classList.add(\"show\");\n        try {\n            this.threeRenderer = new three__WEBPACK_IMPORTED_MODULE_8__.WebGLRenderer({\n                canvas: this.canvas3D,\n                alpha: true,\n                antialias: true,\n                powerPreference: options.powerPreference,\n                preserveDrawingBuffer: true\n            });\n            this.threeRenderer.autoClear = true;\n            this.threeRenderer.outputEncoding = three__WEBPACK_IMPORTED_MODULE_8__.sRGBEncoding;\n            this.threeRenderer.physicallyCorrectLights = true;\n            this.threeRenderer.setPixelRatio(1); // handle pixel ratio externally\n            this.debugger = !!options.debug ? new _Debugger_js__WEBPACK_IMPORTED_MODULE_5__.Debugger(this) : null;\n            this.threeRenderer.debug = {\n                checkShaderErrors: !!this.debugger\n            };\n            // ACESFilmicToneMapping appears to be the most \"saturated\",\n            // and similar to Filament's gltf-viewer.\n            this.threeRenderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_8__.ACESFilmicToneMapping;\n        } catch (error) {\n            console.warn(error);\n        }\n        this.arRenderer = new _ARRenderer_js__WEBPACK_IMPORTED_MODULE_3__.ARRenderer(this);\n        this.textureUtils = this.canRender ? new _TextureUtils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this.threeRenderer) : null;\n        _CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_4__.CachingGLTFLoader.initializeKTX2Loader(this.threeRenderer);\n        this.canvas3D.addEventListener(\"webglcontextlost\", this.onWebGLContextLost);\n        this.canvas3D.addEventListener(\"webglcontextrestored\", this.onWebGLContextRestored);\n        this.updateRendererSize();\n    }\n    static get singleton() {\n        return this._singleton;\n    }\n    static resetSingleton() {\n        const elements = this._singleton.dispose();\n        for (const element of elements){\n            element.disconnectedCallback();\n        }\n        this._singleton = new Renderer({\n            powerPreference: (self.ModelViewerElement || {}).powerPreference || DEFAULT_POWER_PREFERENCE,\n            debug: (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.isDebugMode)()\n        });\n        for (const element of elements){\n            element.connectedCallback();\n        }\n    }\n    get canRender() {\n        return this.threeRenderer != null;\n    }\n    get scaleFactor() {\n        return SCALE_STEPS[this.scaleStep];\n    }\n    set minScale(scale) {\n        let i = 1;\n        while(i < SCALE_STEPS.length){\n            if (SCALE_STEPS[i] < scale) {\n                break;\n            }\n            ++i;\n        }\n        this.lastStep = i - 1;\n    }\n    registerScene(scene) {\n        this.scenes.add(scene);\n        scene.forceRescale();\n        const size = new three__WEBPACK_IMPORTED_MODULE_8__.Vector2();\n        this.threeRenderer.getSize(size);\n        scene.canvas.width = size.x;\n        scene.canvas.height = size.y;\n        if (this.canRender && this.scenes.size > 0) {\n            this.threeRenderer.setAnimationLoop((time, frame)=>this.render(time, frame));\n        }\n        if (this.debugger != null) {\n            this.debugger.addScene(scene);\n        }\n    }\n    unregisterScene(scene) {\n        this.scenes.delete(scene);\n        if (this.canvas3D.parentElement === scene.canvas.parentElement) {\n            scene.canvas.parentElement.removeChild(this.canvas3D);\n        }\n        if (this.canRender && this.scenes.size === 0) {\n            this.threeRenderer.setAnimationLoop(null);\n        }\n        if (this.debugger != null) {\n            this.debugger.removeScene(scene);\n        }\n    }\n    displayCanvas(scene) {\n        return this.multipleScenesVisible ? scene.element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$canvas] : this.canvas3D;\n    }\n    /**\n     * The function enables an optimization, where when there is only a single\n     * <model-viewer> element, we can use the renderer's 3D canvas directly for\n     * display. Otherwise we need to use the element's 2D canvas and copy the\n     * renderer's result into it.\n     */ countVisibleScenes() {\n        const { canvas3D } = this;\n        let visibleScenes = 0;\n        let canvas3DScene = null;\n        for (const scene of this.scenes){\n            const { element } = scene;\n            if (element.modelIsVisible && scene.externalRenderer == null) {\n                ++visibleScenes;\n            }\n            if (canvas3D.parentElement === scene.canvas.parentElement) {\n                canvas3DScene = scene;\n            }\n        }\n        const multipleScenesVisible = visibleScenes > 1;\n        if (canvas3DScene != null) {\n            const newlyMultiple = multipleScenesVisible && !this.multipleScenesVisible;\n            const disappearing = !canvas3DScene.element.modelIsVisible;\n            if (newlyMultiple || disappearing) {\n                const { width, height } = this.sceneSize(canvas3DScene);\n                this.copyPixels(canvas3DScene, width, height);\n                canvas3D.parentElement.removeChild(canvas3D);\n            }\n        }\n        this.multipleScenesVisible = multipleScenesVisible;\n    }\n    /**\n     * Updates the renderer's size based on the largest scene and any changes to\n     * device pixel ratio.\n     */ updateRendererSize() {\n        const dpr = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.resolveDpr)();\n        if (dpr !== this.dpr) {\n            // If the device pixel ratio has changed due to page zoom, elements\n            // specified by % width do not fire a resize event even though their CSS\n            // pixel dimensions change, so we force them to update their size here.\n            for (const scene of this.scenes){\n                const { element } = scene;\n                element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$updateSize](element.getBoundingClientRect());\n            }\n        }\n        // Make the renderer the size of the largest scene\n        let width = 0;\n        let height = 0;\n        for (const scene of this.scenes){\n            width = Math.max(width, scene.width);\n            height = Math.max(height, scene.height);\n        }\n        if (width === this.width && height === this.height && dpr === this.dpr) {\n            return;\n        }\n        this.width = width;\n        this.height = height;\n        this.dpr = dpr;\n        width = Math.ceil(width * dpr);\n        height = Math.ceil(height * dpr);\n        if (this.canRender) {\n            this.threeRenderer.setSize(width, height, false);\n        }\n        // Each scene's canvas must match the renderer size. In general they can be\n        // larger than the element that contains them, but the overflow is hidden\n        // and only the portion that is shown is copied over.\n        for (const scene of this.scenes){\n            const { canvas } = scene;\n            canvas.width = width;\n            canvas.height = height;\n            scene.forceRescale();\n        }\n    }\n    updateRendererScale(delta) {\n        const scaleStep = this.scaleStep;\n        this.avgFrameDuration += (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.clamp)(DURATION_DECAY * (delta - this.avgFrameDuration), -MAX_AVG_CHANGE_MS, MAX_AVG_CHANGE_MS);\n        if (this.avgFrameDuration > HIGH_FRAME_DURATION_MS) {\n            ++this.scaleStep;\n        } else if (this.avgFrameDuration < LOW_FRAME_DURATION_MS && this.scaleStep > 0) {\n            --this.scaleStep;\n        }\n        this.scaleStep = Math.min(this.scaleStep, this.lastStep);\n        if (scaleStep !== this.scaleStep) {\n            this.avgFrameDuration = (HIGH_FRAME_DURATION_MS + LOW_FRAME_DURATION_MS) / 2;\n        }\n    }\n    shouldRender(scene) {\n        if (!scene.shouldRender()) {\n            // The first frame we stop rendering the scene (because it stops moving),\n            // trigger one extra render at full scale.\n            if (scene.scaleStep != 0) {\n                scene.scaleStep = 0;\n                this.rescaleCanvas(scene);\n            } else {\n                return false;\n            }\n        } else if (scene.scaleStep != this.scaleStep) {\n            // Update render scale\n            scene.scaleStep = this.scaleStep;\n            this.rescaleCanvas(scene);\n        }\n        return true;\n    }\n    rescaleCanvas(scene) {\n        const scale = SCALE_STEPS[scene.scaleStep];\n        const width = Math.ceil(this.width / scale);\n        const height = Math.ceil(this.height / scale);\n        const { style } = scene.canvas;\n        style.width = `${width}px`;\n        style.height = `${height}px`;\n        this.canvas3D.style.width = `${width}px`;\n        this.canvas3D.style.height = `${height}px`;\n        const renderedDpr = this.dpr * scale;\n        const reason = scale < 1 ? \"GPU throttling\" : this.dpr !== window.devicePixelRatio ? \"No meta viewport tag\" : \"\";\n        scene.element.dispatchEvent(new CustomEvent(\"render-scale\", {\n            detail: {\n                reportedDpr: window.devicePixelRatio,\n                renderedDpr: renderedDpr,\n                minimumDpr: this.dpr * SCALE_STEPS[this.lastStep],\n                pixelWidth: Math.ceil(scene.width * renderedDpr),\n                pixelHeight: Math.ceil(scene.height * renderedDpr),\n                reason: reason\n            }\n        }));\n    }\n    sceneSize(scene) {\n        const { dpr } = this;\n        const scaleFactor = SCALE_STEPS[scene.scaleStep];\n        // We avoid using the Three.js PixelRatio and handle it ourselves here so\n        // that we can do proper rounding and avoid white boundary pixels.\n        const width = Math.min(Math.ceil(scene.width * scaleFactor * dpr), this.canvas3D.width);\n        const height = Math.min(Math.ceil(scene.height * scaleFactor * dpr), this.canvas3D.height);\n        return {\n            width,\n            height\n        };\n    }\n    copyPixels(scene, width, height) {\n        const context2D = scene.context;\n        if (context2D == null) {\n            console.log(\"could not acquire 2d context\");\n            return;\n        }\n        context2D.clearRect(0, 0, width, height);\n        context2D.drawImage(this.canvas3D, 0, 0, width, height, 0, 0, width, height);\n        scene.canvas.classList.add(\"show\");\n    }\n    /**\n     * Returns an array version of this.scenes where the non-visible ones are\n     * first. This allows eager scenes to be rendered before they are visible,\n     * without needing the multi-canvas render path.\n     */ orderedScenes() {\n        const scenes = [];\n        for (const visible of [\n            false,\n            true\n        ]){\n            for (const scene of this.scenes){\n                if (scene.element.modelIsVisible === visible) {\n                    scenes.push(scene);\n                }\n            }\n        }\n        return scenes;\n    }\n    get isPresenting() {\n        return this.arRenderer.isPresenting;\n    }\n    /**\n     * This method takes care of updating the element and renderer state based on\n     * the time that has passed since the last rendered frame.\n     */ preRender(scene, t, delta) {\n        const { element, exposure } = scene;\n        element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$tick](t, delta);\n        const exposureIsNumber = typeof exposure === \"number\" && !Number.isNaN(exposure);\n        this.threeRenderer.toneMappingExposure = exposureIsNumber ? exposure : 1.0;\n    }\n    render(t, frame) {\n        if (frame != null) {\n            this.arRenderer.onWebXRFrame(t, frame);\n            return;\n        }\n        const delta = t - this.lastTick;\n        this.lastTick = t;\n        if (!this.canRender || this.isPresenting) {\n            return;\n        }\n        this.countVisibleScenes();\n        this.updateRendererSize();\n        if (this.renderedLastFrame) {\n            this.updateRendererScale(delta);\n            this.renderedLastFrame = false;\n        }\n        const { canvas3D } = this;\n        for (const scene of this.orderedScenes()){\n            const { element } = scene;\n            if (!element.loaded || !element.modelIsVisible && scene.renderCount > 0) {\n                continue;\n            }\n            this.preRender(scene, t, delta);\n            if (!this.shouldRender(scene)) {\n                continue;\n            }\n            if (scene.externalRenderer != null) {\n                const camera = scene.getCamera();\n                camera.updateMatrix();\n                const { matrix, projectionMatrix } = camera;\n                const viewMatrix = matrix.elements.slice();\n                const target = scene.getTarget();\n                viewMatrix[12] += target.x;\n                viewMatrix[13] += target.y;\n                viewMatrix[14] += target.z;\n                scene.externalRenderer.render({\n                    viewMatrix: viewMatrix,\n                    projectionMatrix: projectionMatrix.elements\n                });\n                continue;\n            }\n            if (!element.modelIsVisible && !this.multipleScenesVisible) {\n                // Here we are pre-rendering on the visible canvas, so we must mark the\n                // visible scene dirty to ensure it overwrites us.\n                for (const visibleScene of this.scenes){\n                    if (visibleScene.element.modelIsVisible) {\n                        visibleScene.queueRender();\n                    }\n                }\n            }\n            const { width, height } = this.sceneSize(scene);\n            scene.renderShadow(this.threeRenderer);\n            // Need to set the render target in order to prevent\n            // clearing the depth from a different buffer\n            this.threeRenderer.setRenderTarget(null);\n            this.threeRenderer.setViewport(0, Math.ceil(this.height * this.dpr) - height, width, height);\n            this.threeRenderer.render(scene, scene.camera);\n            if (this.multipleScenesVisible || scene.renderCount === 0) {\n                this.copyPixels(scene, width, height);\n            } else {\n                if (canvas3D.parentElement !== scene.canvas.parentElement) {\n                    scene.canvas.parentElement.appendChild(canvas3D);\n                    scene.canvas.classList.remove(\"show\");\n                }\n            }\n            scene.hasRendered();\n            ++scene.renderCount;\n            this.renderedLastFrame = true;\n        }\n    }\n    dispose() {\n        if (this.textureUtils != null) {\n            this.textureUtils.dispose();\n        }\n        if (this.threeRenderer != null) {\n            this.threeRenderer.dispose();\n        }\n        this.textureUtils = null;\n        this.threeRenderer = null;\n        const elements = [];\n        for (const scene of this.scenes){\n            elements.push(scene.element);\n        }\n        this.canvas3D.removeEventListener(\"webglcontextlost\", this.onWebGLContextLost);\n        this.canvas3D.removeEventListener(\"webglcontextrestored\", this.onWebGLContextRestored);\n        return elements;\n    }\n}\nRenderer._singleton = new Renderer({\n    powerPreference: (self.ModelViewerElement || {}).powerPreference || DEFAULT_POWER_PREFERENCE,\n    debug: (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.isDebugMode)()\n}); //# sourceMappingURL=Renderer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvUmVuZGVyZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQ29HO0FBQ3JDO0FBQ007QUFDTDtBQUNwQjtBQUNjO0FBQ2xCO0FBQzRDO0FBQ3hDO0FBQzdDLGdGQUFnRjtBQUNoRixNQUFNaUIsaUJBQWlCO0FBQ3ZCLE1BQU1DLHdCQUF3QjtBQUM5QixNQUFNQyx5QkFBeUI7QUFDL0IsTUFBTUMsb0JBQW9CO0FBQzFCLE1BQU1DLGNBQWM7SUFBQztJQUFHO0lBQU07SUFBTTtJQUFLO0lBQUs7SUFBTTtDQUFLO0FBQ3pELE1BQU1DLG9CQUFvQjtBQUNuQixNQUFNQywyQkFBMkIsbUJBQW1CO0FBQzNEOzs7Ozs7Ozs7O0NBVUMsR0FDTSxNQUFNQyxpQkFBaUJ2QixrREFBZUE7SUFDekN3QixZQUFZQyxPQUFPLENBQUU7UUFDakIsS0FBSztRQUNMLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUlkLG9FQUFpQkEsQ0FBQ0UsOEZBQXVCQTtRQUMzRCxJQUFJLENBQUNhLEtBQUssR0FBRztRQUNiLElBQUksQ0FBQ0MsTUFBTSxHQUFHO1FBQ2QsSUFBSSxDQUFDQyxHQUFHLEdBQUc7UUFDWCxJQUFJLENBQUNDLFFBQVEsR0FBRztRQUNoQixJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJQztRQUNsQixJQUFJLENBQUNDLHFCQUFxQixHQUFHO1FBQzdCLElBQUksQ0FBQ0MsUUFBUSxHQUFHQyxZQUFZQyxHQUFHO1FBQy9CLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUc7UUFDekIsSUFBSSxDQUFDQyxTQUFTLEdBQUc7UUFDakIsSUFBSSxDQUFDQyxRQUFRLEdBQUdsQjtRQUNoQixJQUFJLENBQUNtQixnQkFBZ0IsR0FBRyxDQUFDdEIseUJBQXlCRCxxQkFBb0IsSUFBSztRQUMzRSxJQUFJLENBQUN3QixrQkFBa0IsR0FB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d2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvUmVuZGVyZXIuanM/ZTRiNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBBQ0VTRmlsbWljVG9uZU1hcHBpbmcsIEV2ZW50RGlzcGF0Y2hlciwgc1JHQkVuY29kaW5nLCBWZWN0b3IyLCBXZWJHTFJlbmRlcmVyIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgJHVwZGF0ZUVudmlyb25tZW50IH0gZnJvbSAnLi4vZmVhdHVyZXMvZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgJGNhbnZhcywgJHRpY2ssICR1cGRhdGVTaXplIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgY2xhbXAsIGlzRGVidWdNb2RlLCByZXNvbHZlRHByIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IEFSUmVuZGVyZXIgfSBmcm9tICcuL0FSUmVuZGVyZXIuanMnO1xuaW1wb3J0IHsgQ2FjaGluZ0dMVEZMb2FkZXIgfSBmcm9tICcuL0NhY2hpbmdHTFRGTG9hZGVyLmpzJztcbmltcG9ydCB7IERlYnVnZ2VyIH0gZnJvbSAnLi9EZWJ1Z2dlci5qcyc7XG5pbXBvcnQgeyBNb2RlbFZpZXdlckdMVEZJbnN0YW5jZSB9IGZyb20gJy4vZ2x0Zi1pbnN0YW5jZS9Nb2RlbFZpZXdlckdMVEZJbnN0YW5jZS5qcyc7XG5pbXBvcnQgVGV4dHVyZVV0aWxzIGZyb20gJy4vVGV4dHVyZVV0aWxzLmpzJztcbi8vIEJldHdlZW4gMCBhbmQgMTogbGFyZ2VyIG1lYW5zIHRoZSBhdmVyYWdlIHJlc3BvbmRzIGZhc3RlciBhbmQgaXMgbGVzcyBzbW9vdGguXG5jb25zdCBEVVJBVElPTl9ERUNBWSA9IDAuMjtcbmNvbnN0IExPV19GUkFNRV9EVVJBVElPTl9NUyA9IDQwO1xuY29uc3QgSElHSF9GUkFNRV9EVVJBVElPTl9NUyA9IDYwO1xuY29uc3QgTUFYX0FWR19DSEFOR0VfTVMgPSA1O1xuY29uc3QgU0NBTEVfU1RFUFMgPSBbMSwgMC43OSwgMC42MiwgMC41LCAwLjQsIDAuMzEsIDAuMjVdO1xuY29uc3QgREVGQVVMVF9MQVNUX1NURVAgPSAzO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9XRVJfUFJFRkVSRU5DRSA9ICdoaWdoLXBlcmZvcm1hbmNlJztcbi8qKlxuICogUmVnaXN0ZXJzIGNhbnZhc2VzIHdpdGggQ2FudmFzMkRSZW5kZXJpbmdDb250ZXh0cyBhbmQgcmVuZGVycyB0aGVtXG4gKiBhbGwgaW4gdGhlIHNhbWUgV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBzcGl0dGluZyBvdXQgdGV4dHVyZXMgdG8gYXBwbHlcbiAqIHRvIHRoZSBjYW52YXNlcy4gQ3JlYXRlcyBhIGZ1bGxzY3JlZW4gV2ViR0wgY2FudmFzIHRoYXQgaXMgbm90IGFkZGVkXG4gKiB0byB0aGUgRE9NLCBhbmQgb24gZWFjaCBmcmFtZSwgcmVuZGVycyBlYWNoIHJlZ2lzdGVyZWQgY2FudmFzIG9uIGEgcG9ydGlvblxuICogb2YgdGhlIFdlYkdMIGNhbnZhcywgYW5kIGFwcGxpZXMgdGhlIHRleHR1cmUgb24gdGhlIHJlZ2lzdGVyZWQgY2FudmFzLlxuICpcbiAqIEluIHRoZSBmdXR1cmUsIGNhbiB1c2UgSW1hZ2VCaXRtYXBSZW5kZXJpbmdDb250ZXh0IGluc3RlYWQgb2ZcbiAqIENhbnZhczJEUmVuZGVyaW5nQ29udGV4dCBpZiBzdXBwb3J0ZWQgZm9yIGNoZWFwZXIgdHJhbnNmZXJyaW5nIG9mXG4gKiB0aGUgdGV4dHVyZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlcmVyIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbmV3IENhY2hpbmdHTFRGTG9hZGVyKE1vZGVsVmlld2VyR0xURkluc3RhbmNlKTtcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5kcHIgPSAxO1xuICAgICAgICB0aGlzLmRlYnVnZ2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2VuZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMubXVsdGlwbGVTY2VuZXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdFRpY2sgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlZExhc3RGcmFtZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjYWxlU3RlcCA9IDA7XG4gICAgICAgIHRoaXMubGFzdFN0ZXAgPSBERUZBVUxUX0xBU1RfU1RFUDtcbiAgICAgICAgdGhpcy5hdmdGcmFtZUR1cmF0aW9uID0gKEhJR0hfRlJBTUVfRFVSQVRJT05fTVMgKyBMT1dfRlJBTUVfRFVSQVRJT05fTVMpIC8gMjtcbiAgICAgICAgdGhpcy5vbldlYkdMQ29udGV4dExvc3QgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICdjb250ZXh0bG9zdCcsIHNvdXJjZUV2ZW50OiBldmVudCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbldlYkdMQ29udGV4dFJlc3RvcmVkID0gKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGhpcy50ZXh0dXJlVXRpbHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVVdGlscyA9IG5ldyBUZXh0dXJlVXRpbHModGhpcy50aHJlZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2NlbmUgb2YgdGhpcy5zY2VuZXMpIHtcbiAgICAgICAgICAgICAgICBzY2VuZS5lbGVtZW50WyR1cGRhdGVFbnZpcm9ubWVudF0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kcHIgPSByZXNvbHZlRHByKCk7XG4gICAgICAgIHRoaXMuY2FudmFzM0QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGhpcy5jYW52YXMzRC5pZCA9ICd3ZWJnbC1jYW52YXMnO1xuICAgICAgICB0aGlzLmNhbnZhczNELmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMudGhyZWVSZW5kZXJlciA9IG5ldyBXZWJHTFJlbmRlcmVyKHtcbiAgICAgICAgICAgICAgICBjYW52YXM6IHRoaXMuY2FudmFzM0QsXG4gICAgICAgICAgICAgICAgYWxwaGE6IHRydWUsXG4gICAgICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogb3B0aW9ucy5wb3dlclByZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5hdXRvQ2xlYXIgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLm91dHB1dEVuY29kaW5nID0gc1JHQkVuY29kaW5nO1xuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRQaXhlbFJhdGlvKDEpOyAvLyBoYW5kbGUgcGl4ZWwgcmF0aW8gZXh0ZXJuYWxseVxuICAgICAgICAgICAgdGhpcy5kZWJ1Z2dlciA9ICEhb3B0aW9ucy5kZWJ1ZyA/IG5ldyBEZWJ1Z2dlcih0aGlzKSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuZGVidWcgPSB7IGNoZWNrU2hhZGVyRXJyb3JzOiAhIXRoaXMuZGVidWdnZXIgfTtcbiAgICAgICAgICAgIC8vIEFDRVNGaWxtaWNUb25lTWFwcGluZyBhcHBlYXJzIHRvIGJlIHRoZSBtb3N0IFwic2F0dXJhdGVkXCIsXG4gICAgICAgICAgICAvLyBhbmQgc2ltaWxhciB0byBGaWxhbWVudCdzIGdsdGYtdmlld2VyLlxuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnRvbmVNYXBwaW5nID0gQUNFU0ZpbG1pY1RvbmVNYXBwaW5nO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyUmVuZGVyZXIgPSBuZXcgQVJSZW5kZXJlcih0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlVXRpbHMgPVxuICAgICAgICAgICAgdGhpcy5jYW5SZW5kZXIgPyBuZXcgVGV4dHVyZVV0aWxzKHRoaXMudGhyZWVSZW5kZXJlcikgOiBudWxsO1xuICAgICAgICBDYWNoaW5nR0xURkxvYWRlci5pbml0aWFsaXplS1RYMkxvYWRlcih0aGlzLnRocmVlUmVuZGVyZXIpO1xuICAgICAgICB0aGlzLmNhbnZhczNELmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLm9uV2ViR0xDb250ZXh0TG9zdCk7XG4gICAgICAgIHRoaXMuY2FudmFzM0QuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLm9uV2ViR0xDb250ZXh0UmVzdG9yZWQpO1xuICAgICAgICB0aGlzLnVwZGF0ZVJlbmRlcmVyU2l6ZSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IHNpbmdsZXRvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpbmdsZXRvbjtcbiAgICB9XG4gICAgc3RhdGljIHJlc2V0U2luZ2xldG9uKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuX3NpbmdsZXRvbi5kaXNwb3NlKCk7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgZWxlbWVudC5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NpbmdsZXRvbiA9IG5ldyBSZW5kZXJlcih7XG4gICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IChzZWxmLk1vZGVsVmlld2VyRWxlbWVudCB8fCB7fSlcbiAgICAgICAgICAgICAgICAucG93ZXJQcmVmZXJlbmNlIHx8XG4gICAgICAgICAgICAgICAgREVGQVVMVF9QT1dFUl9QUkVGRVJFTkNFLFxuICAgICAgICAgICAgZGVidWc6IGlzRGVidWdNb2RlKClcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgZWxlbWVudC5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjYW5SZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocmVlUmVuZGVyZXIgIT0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IHNjYWxlRmFjdG9yKCkge1xuICAgICAgICByZXR1cm4gU0NBTEVfU1RFUFNbdGhpcy5zY2FsZVN0ZXBdO1xuICAgIH1cbiAgICBzZXQgbWluU2NhbGUoc2NhbGUpIHtcbiAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICB3aGlsZSAoaSA8IFNDQUxFX1NURVBTLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKFNDQUxFX1NURVBTW2ldIDwgc2NhbGUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RTdGVwID0gaSAtIDE7XG4gICAgfVxuICAgIHJlZ2lzdGVyU2NlbmUoc2NlbmUpIHtcbiAgICAgICAgdGhpcy5zY2VuZXMuYWRkKHNjZW5lKTtcbiAgICAgICAgc2NlbmUuZm9yY2VSZXNjYWxlKCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuZ2V0U2l6ZShzaXplKTtcbiAgICAgICAgc2NlbmUuY2FudmFzLndpZHRoID0gc2l6ZS54O1xuICAgICAgICBzY2VuZS5jYW52YXMuaGVpZ2h0ID0gc2l6ZS55O1xuICAgICAgICBpZiAodGhpcy5jYW5SZW5kZXIgJiYgdGhpcy5zY2VuZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRBbmltYXRpb25Mb29wKCh0aW1lLCBmcmFtZSkgPT4gdGhpcy5yZW5kZXIodGltZSwgZnJhbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1Z2dlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnZ2VyLmFkZFNjZW5lKHNjZW5lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnJlZ2lzdGVyU2NlbmUoc2NlbmUpIHtcbiAgICAgICAgdGhpcy5zY2VuZXMuZGVsZXRlKHNjZW5lKTtcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzM0QucGFyZW50RWxlbWVudCA9PT0gc2NlbmUuY2FudmFzLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHNjZW5lLmNhbnZhcy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuY2FudmFzM0QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNhblJlbmRlciAmJiB0aGlzLnNjZW5lcy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0QW5pbWF0aW9uTG9vcChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1Z2dlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnZ2VyLnJlbW92ZVNjZW5lKHNjZW5lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwbGF5Q2FudmFzKHNjZW5lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm11bHRpcGxlU2NlbmVzVmlzaWJsZSA/IHNjZW5lLmVsZW1lbnRbJGNhbnZhc10gOiB0aGlzLmNhbnZhczNEO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gZW5hYmxlcyBhbiBvcHRpbWl6YXRpb24sIHdoZXJlIHdoZW4gdGhlcmUgaXMgb25seSBhIHNpbmdsZVxuICAgICAqIDxtb2RlbC12aWV3ZXI+IGVsZW1lbnQsIHdlIGNhbiB1c2UgdGhlIHJlbmRlcmVyJ3MgM0QgY2FudmFzIGRpcmVjdGx5IGZvclxuICAgICAqIGRpc3BsYXkuIE90aGVyd2lzZSB3ZSBuZWVkIHRvIHVzZSB0aGUgZWxlbWVudCdzIDJEIGNhbnZhcyBhbmQgY29weSB0aGVcbiAgICAgKiByZW5kZXJlcidzIHJlc3VsdCBpbnRvIGl0LlxuICAgICAqL1xuICAgIGNvdW50VmlzaWJsZVNjZW5lcygpIHtcbiAgICAgICAgY29uc3QgeyBjYW52YXMzRCB9ID0gdGhpcztcbiAgICAgICAgbGV0IHZpc2libGVTY2VuZXMgPSAwO1xuICAgICAgICBsZXQgY2FudmFzM0RTY2VuZSA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3Qgc2NlbmUgb2YgdGhpcy5zY2VuZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gc2NlbmU7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5tb2RlbElzVmlzaWJsZSAmJiBzY2VuZS5leHRlcm5hbFJlbmRlcmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICArK3Zpc2libGVTY2VuZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FudmFzM0QucGFyZW50RWxlbWVudCA9PT0gc2NlbmUuY2FudmFzLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMzRFNjZW5lID0gc2NlbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbXVsdGlwbGVTY2VuZXNWaXNpYmxlID0gdmlzaWJsZVNjZW5lcyA+IDE7XG4gICAgICAgIGlmIChjYW52YXMzRFNjZW5lICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld2x5TXVsdGlwbGUgPSBtdWx0aXBsZVNjZW5lc1Zpc2libGUgJiYgIXRoaXMubXVsdGlwbGVTY2VuZXNWaXNpYmxlO1xuICAgICAgICAgICAgY29uc3QgZGlzYXBwZWFyaW5nID0gIWNhbnZhczNEU2NlbmUuZWxlbWVudC5tb2RlbElzVmlzaWJsZTtcbiAgICAgICAgICAgIGlmIChuZXdseU11bHRpcGxlIHx8IGRpc2FwcGVhcmluZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2VuZVNpemUoY2FudmFzM0RTY2VuZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3B5UGl4ZWxzKGNhbnZhczNEU2NlbmUsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNhbnZhczNELnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2FudmFzM0QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGlwbGVTY2VuZXNWaXNpYmxlID0gbXVsdGlwbGVTY2VuZXNWaXNpYmxlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSByZW5kZXJlcidzIHNpemUgYmFzZWQgb24gdGhlIGxhcmdlc3Qgc2NlbmUgYW5kIGFueSBjaGFuZ2VzIHRvXG4gICAgICogZGV2aWNlIHBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIHVwZGF0ZVJlbmRlcmVyU2l6ZSgpIHtcbiAgICAgICAgY29uc3QgZHByID0gcmVzb2x2ZURwcigpO1xuICAgICAgICBpZiAoZHByICE9PSB0aGlzLmRwcikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGRldmljZSBwaXhlbCByYXRpbyBoYXMgY2hhbmdlZCBkdWUgdG8gcGFnZSB6b29tLCBlbGVtZW50c1xuICAgICAgICAgICAgLy8gc3BlY2lmaWVkIGJ5ICUgd2lkdGggZG8gbm90IGZpcmUgYSByZXNpemUgZXZlbnQgZXZlbiB0aG91Z2ggdGhlaXIgQ1NTXG4gICAgICAgICAgICAvLyBwaXhlbCBkaW1lbnNpb25zIGNoYW5nZSwgc28gd2UgZm9yY2UgdGhlbSB0byB1cGRhdGUgdGhlaXIgc2l6ZSBoZXJlLlxuICAgICAgICAgICAgZm9yIChjb25zdCBzY2VuZSBvZiB0aGlzLnNjZW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gc2NlbmU7XG4gICAgICAgICAgICAgICAgZWxlbWVudFskdXBkYXRlU2l6ZV0oZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSB0aGUgcmVuZGVyZXIgdGhlIHNpemUgb2YgdGhlIGxhcmdlc3Qgc2NlbmVcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qgc2NlbmUgb2YgdGhpcy5zY2VuZXMpIHtcbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIHNjZW5lLndpZHRoKTtcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgc2NlbmUuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2lkdGggPT09IHRoaXMud2lkdGggJiYgaGVpZ2h0ID09PSB0aGlzLmhlaWdodCAmJiBkcHIgPT09IHRoaXMuZHByKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kcHIgPSBkcHI7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoICogZHByKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCAqIGRwcik7XG4gICAgICAgIGlmICh0aGlzLmNhblJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVhY2ggc2NlbmUncyBjYW52YXMgbXVzdCBtYXRjaCB0aGUgcmVuZGVyZXIgc2l6ZS4gSW4gZ2VuZXJhbCB0aGV5IGNhbiBiZVxuICAgICAgICAvLyBsYXJnZXIgdGhhbiB0aGUgZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZW0sIGJ1dCB0aGUgb3ZlcmZsb3cgaXMgaGlkZGVuXG4gICAgICAgIC8vIGFuZCBvbmx5IHRoZSBwb3J0aW9uIHRoYXQgaXMgc2hvd24gaXMgY29waWVkIG92ZXIuXG4gICAgICAgIGZvciAoY29uc3Qgc2NlbmUgb2YgdGhpcy5zY2VuZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY2FudmFzIH0gPSBzY2VuZTtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHNjZW5lLmZvcmNlUmVzY2FsZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVJlbmRlcmVyU2NhbGUoZGVsdGEpIHtcbiAgICAgICAgY29uc3Qgc2NhbGVTdGVwID0gdGhpcy5zY2FsZVN0ZXA7XG4gICAgICAgIHRoaXMuYXZnRnJhbWVEdXJhdGlvbiArPSBjbGFtcChEVVJBVElPTl9ERUNBWSAqIChkZWx0YSAtIHRoaXMuYXZnRnJhbWVEdXJhdGlvbiksIC1NQVhfQVZHX0NIQU5HRV9NUywgTUFYX0FWR19DSEFOR0VfTVMpO1xuICAgICAgICBpZiAodGhpcy5hdmdGcmFtZUR1cmF0aW9uID4gSElHSF9GUkFNRV9EVVJBVElPTl9NUykge1xuICAgICAgICAgICAgKyt0aGlzLnNjYWxlU3RlcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF2Z0ZyYW1lRHVyYXRpb24gPCBMT1dfRlJBTUVfRFVSQVRJT05fTVMgJiYgdGhpcy5zY2FsZVN0ZXAgPiAwKSB7XG4gICAgICAgICAgICAtLXRoaXMuc2NhbGVTdGVwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NhbGVTdGVwID0gTWF0aC5taW4odGhpcy5zY2FsZVN0ZXAsIHRoaXMubGFzdFN0ZXApO1xuICAgICAgICBpZiAoc2NhbGVTdGVwICE9PSB0aGlzLnNjYWxlU3RlcCkge1xuICAgICAgICAgICAgdGhpcy5hdmdGcmFtZUR1cmF0aW9uID1cbiAgICAgICAgICAgICAgICAoSElHSF9GUkFNRV9EVVJBVElPTl9NUyArIExPV19GUkFNRV9EVVJBVElPTl9NUykgLyAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3VsZFJlbmRlcihzY2VuZSkge1xuICAgICAgICBpZiAoIXNjZW5lLnNob3VsZFJlbmRlcigpKSB7XG4gICAgICAgICAgICAvLyBUaGUgZmlyc3QgZnJhbWUgd2Ugc3RvcCByZW5kZXJpbmcgdGhlIHNjZW5lIChiZWNhdXNlIGl0IHN0b3BzIG1vdmluZyksXG4gICAgICAgICAgICAvLyB0cmlnZ2VyIG9uZSBleHRyYSByZW5kZXIgYXQgZnVsbCBzY2FsZS5cbiAgICAgICAgICAgIGlmIChzY2VuZS5zY2FsZVN0ZXAgIT0gMCkge1xuICAgICAgICAgICAgICAgIHNjZW5lLnNjYWxlU3RlcCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNjYWxlQ2FudmFzKHNjZW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzY2VuZS5zY2FsZVN0ZXAgIT0gdGhpcy5zY2FsZVN0ZXApIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSByZW5kZXIgc2NhbGVcbiAgICAgICAgICAgIHNjZW5lLnNjYWxlU3RlcCA9IHRoaXMuc2NhbGVTdGVwO1xuICAgICAgICAgICAgdGhpcy5yZXNjYWxlQ2FudmFzKHNjZW5lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVzY2FsZUNhbnZhcyhzY2VuZSkge1xuICAgICAgICBjb25zdCBzY2FsZSA9IFNDQUxFX1NURVBTW3NjZW5lLnNjYWxlU3RlcF07XG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKHRoaXMud2lkdGggLyBzY2FsZSk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmhlaWdodCAvIHNjYWxlKTtcbiAgICAgICAgY29uc3QgeyBzdHlsZSB9ID0gc2NlbmUuY2FudmFzO1xuICAgICAgICBzdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICAgICAgdGhpcy5jYW52YXMzRC5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICAgICAgdGhpcy5jYW52YXMzRC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICBjb25zdCByZW5kZXJlZERwciA9IHRoaXMuZHByICogc2NhbGU7XG4gICAgICAgIGNvbnN0IHJlYXNvbiA9IHNjYWxlIDwgMSA/ICdHUFUgdGhyb3R0bGluZycgOlxuICAgICAgICAgICAgdGhpcy5kcHIgIT09IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID8gJ05vIG1ldGEgdmlld3BvcnQgdGFnJyA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgIHNjZW5lLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3JlbmRlci1zY2FsZScsIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIHJlcG9ydGVkRHByOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICByZW5kZXJlZERwcjogcmVuZGVyZWREcHIsXG4gICAgICAgICAgICAgICAgbWluaW11bURwcjogdGhpcy5kcHIgKiBTQ0FMRV9TVEVQU1t0aGlzLmxhc3RTdGVwXSxcbiAgICAgICAgICAgICAgICBwaXhlbFdpZHRoOiBNYXRoLmNlaWwoc2NlbmUud2lkdGggKiByZW5kZXJlZERwciksXG4gICAgICAgICAgICAgICAgcGl4ZWxIZWlnaHQ6IE1hdGguY2VpbChzY2VuZS5oZWlnaHQgKiByZW5kZXJlZERwciksXG4gICAgICAgICAgICAgICAgcmVhc29uOiByZWFzb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzY2VuZVNpemUoc2NlbmUpIHtcbiAgICAgICAgY29uc3QgeyBkcHIgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gU0NBTEVfU1RFUFNbc2NlbmUuc2NhbGVTdGVwXTtcbiAgICAgICAgLy8gV2UgYXZvaWQgdXNpbmcgdGhlIFRocmVlLmpzIFBpeGVsUmF0aW8gYW5kIGhhbmRsZSBpdCBvdXJzZWx2ZXMgaGVyZSBzb1xuICAgICAgICAvLyB0aGF0IHdlIGNhbiBkbyBwcm9wZXIgcm91bmRpbmcgYW5kIGF2b2lkIHdoaXRlIGJvdW5kYXJ5IHBpeGVscy5cbiAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLm1pbihNYXRoLmNlaWwoc2NlbmUud2lkdGggKiBzY2FsZUZhY3RvciAqIGRwciksIHRoaXMuY2FudmFzM0Qud2lkdGgpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1pbihNYXRoLmNlaWwoc2NlbmUuaGVpZ2h0ICogc2NhbGVGYWN0b3IgKiBkcHIpLCB0aGlzLmNhbnZhczNELmhlaWdodCk7XG4gICAgICAgIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgICB9XG4gICAgY29weVBpeGVscyhzY2VuZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBjb25zdCBjb250ZXh0MkQgPSBzY2VuZS5jb250ZXh0O1xuICAgICAgICBpZiAoY29udGV4dDJEID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb3VsZCBub3QgYWNxdWlyZSAyZCBjb250ZXh0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dDJELmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dDJELmRyYXdJbWFnZSh0aGlzLmNhbnZhczNELCAwLCAwLCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgc2NlbmUuY2FudmFzLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSB2ZXJzaW9uIG9mIHRoaXMuc2NlbmVzIHdoZXJlIHRoZSBub24tdmlzaWJsZSBvbmVzIGFyZVxuICAgICAqIGZpcnN0LiBUaGlzIGFsbG93cyBlYWdlciBzY2VuZXMgdG8gYmUgcmVuZGVyZWQgYmVmb3JlIHRoZXkgYXJlIHZpc2libGUsXG4gICAgICogd2l0aG91dCBuZWVkaW5nIHRoZSBtdWx0aS1jYW52YXMgcmVuZGVyIHBhdGguXG4gICAgICovXG4gICAgb3JkZXJlZFNjZW5lcygpIHtcbiAgICAgICAgY29uc3Qgc2NlbmVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgdmlzaWJsZSBvZiBbZmFsc2UsIHRydWVdKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNjZW5lIG9mIHRoaXMuc2NlbmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjZW5lLmVsZW1lbnQubW9kZWxJc1Zpc2libGUgPT09IHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NlbmVzLnB1c2goc2NlbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NlbmVzO1xuICAgIH1cbiAgICBnZXQgaXNQcmVzZW50aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hclJlbmRlcmVyLmlzUHJlc2VudGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgdGFrZXMgY2FyZSBvZiB1cGRhdGluZyB0aGUgZWxlbWVudCBhbmQgcmVuZGVyZXIgc3RhdGUgYmFzZWQgb25cbiAgICAgKiB0aGUgdGltZSB0aGF0IGhhcyBwYXNzZWQgc2luY2UgdGhlIGxhc3QgcmVuZGVyZWQgZnJhbWUuXG4gICAgICovXG4gICAgcHJlUmVuZGVyKHNjZW5lLCB0LCBkZWx0YSkge1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQsIGV4cG9zdXJlIH0gPSBzY2VuZTtcbiAgICAgICAgZWxlbWVudFskdGlja10odCwgZGVsdGEpO1xuICAgICAgICBjb25zdCBleHBvc3VyZUlzTnVtYmVyID0gdHlwZW9mIGV4cG9zdXJlID09PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzTmFOKGV4cG9zdXJlKTtcbiAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSBleHBvc3VyZUlzTnVtYmVyID8gZXhwb3N1cmUgOiAxLjA7XG4gICAgfVxuICAgIHJlbmRlcih0LCBmcmFtZSkge1xuICAgICAgICBpZiAoZnJhbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hclJlbmRlcmVyLm9uV2ViWFJGcmFtZSh0LCBmcmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVsdGEgPSB0IC0gdGhpcy5sYXN0VGljaztcbiAgICAgICAgdGhpcy5sYXN0VGljayA9IHQ7XG4gICAgICAgIGlmICghdGhpcy5jYW5SZW5kZXIgfHwgdGhpcy5pc1ByZXNlbnRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50VmlzaWJsZVNjZW5lcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVJlbmRlcmVyU2l6ZSgpO1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlZExhc3RGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVSZW5kZXJlclNjYWxlKGRlbHRhKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRMYXN0RnJhbWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNhbnZhczNEIH0gPSB0aGlzO1xuICAgICAgICBmb3IgKGNvbnN0IHNjZW5lIG9mIHRoaXMub3JkZXJlZFNjZW5lcygpKSB7XG4gICAgICAgICAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHNjZW5lO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmxvYWRlZCB8fFxuICAgICAgICAgICAgICAgICghZWxlbWVudC5tb2RlbElzVmlzaWJsZSAmJiBzY2VuZS5yZW5kZXJDb3VudCA+IDApKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnByZVJlbmRlcihzY2VuZSwgdCwgZGVsdGEpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNob3VsZFJlbmRlcihzY2VuZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzY2VuZS5leHRlcm5hbFJlbmRlcmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW1lcmEgPSBzY2VuZS5nZXRDYW1lcmEoKTtcbiAgICAgICAgICAgICAgICBjYW1lcmEudXBkYXRlTWF0cml4KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBtYXRyaXgsIHByb2plY3Rpb25NYXRyaXggfSA9IGNhbWVyYTtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3TWF0cml4ID0gbWF0cml4LmVsZW1lbnRzLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gc2NlbmUuZ2V0VGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgdmlld01hdHJpeFsxMl0gKz0gdGFyZ2V0Lng7XG4gICAgICAgICAgICAgICAgdmlld01hdHJpeFsxM10gKz0gdGFyZ2V0Lnk7XG4gICAgICAgICAgICAgICAgdmlld01hdHJpeFsxNF0gKz0gdGFyZ2V0Lno7XG4gICAgICAgICAgICAgICAgc2NlbmUuZXh0ZXJuYWxSZW5kZXJlci5yZW5kZXIoe1xuICAgICAgICAgICAgICAgICAgICB2aWV3TWF0cml4OiB2aWV3TWF0cml4LFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4OiBwcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQubW9kZWxJc1Zpc2libGUgJiYgIXRoaXMubXVsdGlwbGVTY2VuZXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSBhcmUgcHJlLXJlbmRlcmluZyBvbiB0aGUgdmlzaWJsZSBjYW52YXMsIHNvIHdlIG11c3QgbWFyayB0aGVcbiAgICAgICAgICAgICAgICAvLyB2aXNpYmxlIHNjZW5lIGRpcnR5IHRvIGVuc3VyZSBpdCBvdmVyd3JpdGVzIHVzLlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmlzaWJsZVNjZW5lIG9mIHRoaXMuc2NlbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlU2NlbmUuZWxlbWVudC5tb2RlbElzVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNjZW5lLnF1ZXVlUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NlbmVTaXplKHNjZW5lKTtcbiAgICAgICAgICAgIHNjZW5lLnJlbmRlclNoYWRvdyh0aGlzLnRocmVlUmVuZGVyZXIpO1xuICAgICAgICAgICAgLy8gTmVlZCB0byBzZXQgdGhlIHJlbmRlciB0YXJnZXQgaW4gb3JkZXIgdG8gcHJldmVudFxuICAgICAgICAgICAgLy8gY2xlYXJpbmcgdGhlIGRlcHRoIGZyb20gYSBkaWZmZXJlbnQgYnVmZmVyXG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KG51bGwpO1xuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldFZpZXdwb3J0KDAsIE1hdGguY2VpbCh0aGlzLmhlaWdodCAqIHRoaXMuZHByKSAtIGhlaWdodCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIucmVuZGVyKHNjZW5lLCBzY2VuZS5jYW1lcmEpO1xuICAgICAgICAgICAgaWYgKHRoaXMubXVsdGlwbGVTY2VuZXNWaXNpYmxlIHx8IHNjZW5lLnJlbmRlckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3B5UGl4ZWxzKHNjZW5lLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjYW52YXMzRC5wYXJlbnRFbGVtZW50ICE9PSBzY2VuZS5jYW52YXMucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBzY2VuZS5jYW52YXMucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChjYW52YXMzRCk7XG4gICAgICAgICAgICAgICAgICAgIHNjZW5lLmNhbnZhcy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2NlbmUuaGFzUmVuZGVyZWQoKTtcbiAgICAgICAgICAgICsrc2NlbmUucmVuZGVyQ291bnQ7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkTGFzdEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy50ZXh0dXJlVXRpbHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXRpbHMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRocmVlUmVuZGVyZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVVdGlscyA9IG51bGw7XG4gICAgICAgIHRoaXMudGhyZWVSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc2NlbmUgb2YgdGhpcy5zY2VuZXMpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goc2NlbmUuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW52YXMzRC5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5vbldlYkdMQ29udGV4dExvc3QpO1xuICAgICAgICB0aGlzLmNhbnZhczNELnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5vbldlYkdMQ29udGV4dFJlc3RvcmVkKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cbn1cblJlbmRlcmVyLl9zaW5nbGV0b24gPSBuZXcgUmVuZGVyZXIoe1xuICAgIHBvd2VyUHJlZmVyZW5jZTogKHNlbGYuTW9kZWxWaWV3ZXJFbGVtZW50IHx8IHt9KVxuICAgICAgICAucG93ZXJQcmVmZXJlbmNlIHx8XG4gICAgICAgIERFRkFVTFRfUE9XRVJfUFJFRkVSRU5DRSxcbiAgICBkZWJ1ZzogaXNEZWJ1Z01vZGUoKVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJlci5qcy5tYXAiXSwibmFtZXMiOlsiQUNFU0ZpbG1pY1RvbmVNYXBwaW5nIiwiRXZlbnREaXNwYXRjaGVyIiwic1JHQkVuY29kaW5nIiwiVmVjdG9yMiIsIldlYkdMUmVuZGVyZXIiLCIkdXBkYXRlRW52aXJvbm1lbnQiLCIkY2FudmFzIiwiJHRpY2siLCIkdXBkYXRlU2l6ZSIsImNsYW1wIiwiaXNEZWJ1Z01vZGUiLCJyZXNvbHZlRHByIiwiQVJSZW5kZXJlciIsIkNhY2hpbmdHTFRGTG9hZGVyIiwiRGVidWdnZXIiLCJNb2RlbFZpZXdlckdMVEZJbnN0YW5jZSIsIlRleHR1cmVVdGlscyIsIkRVUkFUSU9OX0RFQ0FZIiwiTE9XX0ZSQU1FX0RVUkFUSU9OX01TIiwiSElHSF9GUkFNRV9EVVJBVElPTl9NUyIsIk1BWF9BVkdfQ0hBTkdFX01TIiwiU0NBTEVfU1RFUFMiLCJERUZBVUxUX0xBU1RfU1RFUCIsIkRFRkFVTFRfUE9XRVJfUFJFRkVSRU5DRSIsIlJlbmRlcmVyIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwibG9hZGVyIiwid2lkdGgiLCJoZWlnaHQiLCJkcHIiLCJkZWJ1Z2dlciIsInNjZW5lcyIsIlNldCIsIm11bHRpcGxlU2NlbmVzVmlzaWJsZSIsImxhc3RUaWNrIiwicGVyZm9ybWFuY2UiLCJub3ciLCJyZW5kZXJlZExhc3RGcmFtZSIsInNjYWxlU3RlcCIsImxhc3RTdGVwIiwiYXZnRnJhbWVEdXJhdGlvbiIsIm9uV2ViR0xDb250ZXh0TG9zdCIsImV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJzb3VyY2VFdmVudCIsIm9uV2ViR0xDb250ZXh0UmVzdG9yZWQiLCJfYSIsInRleHR1cmVVdGlscyIsImRpc3Bvc2UiLCJ0aHJlZVJlbmRlcmVyIiwic2NlbmUiLCJlbGVtZW50IiwiY2FudmFzM0QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsImNhbnZhcyIsImFscGhhIiwiYW50aWFsaWFzIiwicG93ZXJQcmVmZXJlbmNlIiwicHJlc2VydmVEcmF3aW5nQnVmZmVyIiwiYXV0b0NsZWFyIiwib3V0cHV0RW5jb2RpbmciLCJwaHlzaWNhbGx5Q29ycmVjdExpZ2h0cyIsInNldFBpeGVsUmF0aW8iLCJkZWJ1ZyIsImNoZWNrU2hhZGVyRXJyb3JzIiwidG9uZU1hcHBpbmciLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiYXJSZW5kZXJlciIsImNhblJlbmRlciIsImluaXRpYWxpemVLVFgyTG9hZGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVwZGF0ZVJlbmRlcmVyU2l6ZSIsInNpbmdsZXRvbiIsIl9zaW5nbGV0b24iLCJyZXNldFNpbmdsZXRvbiIsImVsZW1lbnRzIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJzZWxmIiwiTW9kZWxWaWV3ZXJFbGVtZW50IiwiY29ubmVjdGVkQ2FsbGJhY2siLCJzY2FsZUZhY3RvciIsIm1pblNjYWxlIiwic2NhbGUiLCJpIiwibGVuZ3RoIiwicmVnaXN0ZXJTY2VuZSIsImZvcmNlUmVzY2FsZSIsInNpemUiLCJnZXRTaXplIiwieCIsInkiLCJzZXRBbmltYXRpb25Mb29wIiwidGltZSIsImZyYW1lIiwicmVuZGVyIiwiYWRkU2NlbmUiLCJ1bnJlZ2lzdGVyU2NlbmUiLCJkZWxldGUiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTY2VuZSIsImRpc3BsYXlDYW52YXMiLCJjb3VudFZpc2libGVTY2VuZXMiLCJ2aXNpYmxlU2NlbmVzIiwiY2FudmFzM0RTY2VuZSIsIm1vZGVsSXNWaXNpYmxlIiwiZXh0ZXJuYWxSZW5kZXJlciIsIm5ld2x5TXVsdGlwbGUiLCJkaXNhcHBlYXJpbmciLCJzY2VuZVNpemUiLCJjb3B5UGl4ZWxzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiTWF0aCIsIm1heCIsImNlaWwiLCJzZXRTaXplIiwidXBkYXRlUmVuZGVyZXJTY2FsZSIsImRlbHRhIiwibWluIiwic2hvdWxkUmVuZGVyIiwicmVzY2FsZUNhbnZhcyIsInN0eWxlIiwicmVuZGVyZWREcHIiLCJyZWFzb24iLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJyZXBvcnRlZERwciIsIm1pbmltdW1EcHIiLCJwaXhlbFdpZHRoIiwicGl4ZWxIZWlnaHQiLCJjb250ZXh0MkQiLCJjb250ZXh0IiwibG9nIiwiY2xlYXJSZWN0IiwiZHJhd0ltYWdlIiwib3JkZXJlZFNjZW5lcyIsInZpc2libGUiLCJwdXNoIiwiaXNQcmVzZW50aW5nIiwicHJlUmVuZGVyIiwidCIsImV4cG9zdXJlIiwiZXhwb3N1cmVJc051bWJlciIsIk51bWJlciIsImlzTmFOIiwidG9uZU1hcHBpbmdFeHBvc3VyZSIsIm9uV2ViWFJGcmFtZSIsImxvYWRlZCIsInJlbmRlckNvdW50IiwiY2FtZXJhIiwiZ2V0Q2FtZXJhIiwidXBkYXRlTWF0cml4IiwibWF0cml4IiwicHJvamVjdGlvbk1hdHJpeCIsInZpZXdNYXRyaXgiLCJzbGljZSIsInRhcmdldCIsImdldFRhcmdldCIsInoiLCJ2aXNpYmxlU2NlbmUiLCJxdWV1ZVJlbmRlciIsInJlbmRlclNoYWRvdyIsInNldFJlbmRlclRhcmdldCIsInNldFZpZXdwb3J0IiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmUiLCJoYXNSZW5kZXJlZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Shadow.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Shadow.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Shadow: () => (/* binding */ Shadow)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_shaders_HorizontalBlurShader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/shaders/HorizontalBlurShader.js */ \"(ssr)/./node_modules/three/examples/jsm/shaders/HorizontalBlurShader.js\");\n/* harmony import */ var three_examples_jsm_shaders_VerticalBlurShader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/shaders/VerticalBlurShader.js */ \"(ssr)/./node_modules/three/examples/jsm/shaders/VerticalBlurShader.js\");\n/* harmony import */ var three_src_math_MathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/src/math/MathUtils.js */ \"(ssr)/./node_modules/three/src/math/MathUtils.js\");\n/* @license\n * Copyright 2022 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\n// The softness [0, 1] of the shadow is mapped to a resolution between\n// 2^LOG_MAX_RESOLUTION and 2^LOG_MIN_RESOLUTION.\nconst LOG_MAX_RESOLUTION = 9;\nconst LOG_MIN_RESOLUTION = 6;\n// Animated models are not in general contained in their bounding box, as this\n// is calculated only for their resting pose. We create a cubic shadow volume\n// for animated models sized to their largest bounding box dimension multiplied\n// by this scale factor.\nconst ANIMATION_SCALING = 2;\n// Since hard shadows are not lightened by blurring and depth, set a lower\n// default intensity to make them more perceptually similar to the intensity of\n// the soft shadows.\nconst DEFAULT_HARD_INTENSITY = 0.3;\n/**\n * The Shadow class creates a shadow that fits a given scene and follows a\n * target. This shadow will follow the scene without any updates needed so long\n * as the shadow and scene are both parented to the same object (call it the\n * scene) and this scene is passed as the target parameter to the shadow's\n * constructor. We also must constrain the scene to motion within the horizontal\n * plane and call the setRotation() method whenever the scene's Y-axis rotation\n * changes. For motion outside of the horizontal plane, this.needsUpdate must be\n * set to true.\n *\n * The softness of the shadow is controlled by changing its resolution, making\n * softer shadows faster, but less precise.\n */ class Shadow extends three__WEBPACK_IMPORTED_MODULE_0__.Object3D {\n    constructor(scene, softness, side){\n        super();\n        this.camera = new three__WEBPACK_IMPORTED_MODULE_0__.OrthographicCamera();\n        // private cameraHelper = new CameraHelper(this.camera);\n        this.renderTarget = null;\n        this.renderTargetBlur = null;\n        this.depthMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshDepthMaterial();\n        this.horizontalBlurMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial(three_examples_jsm_shaders_HorizontalBlurShader_js__WEBPACK_IMPORTED_MODULE_1__.HorizontalBlurShader);\n        this.verticalBlurMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial(three_examples_jsm_shaders_VerticalBlurShader_js__WEBPACK_IMPORTED_MODULE_2__.VerticalBlurShader);\n        this.intensity = 0;\n        this.softness = 1;\n        this.boundingBox = new three__WEBPACK_IMPORTED_MODULE_0__.Box3;\n        this.size = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3;\n        this.maxDimension = 0;\n        this.isAnimated = false;\n        this.needsUpdate = false;\n        const { camera } = this;\n        camera.rotation.x = Math.PI / 2;\n        camera.left = -0.5;\n        camera.right = 0.5;\n        camera.bottom = -0.5;\n        camera.top = 0.5;\n        this.add(camera);\n        // this.add(this.cameraHelper);\n        // this.cameraHelper.updateMatrixWorld = function() {\n        //   this.matrixWorld = this.camera.matrixWorld;\n        // };\n        const plane = new three__WEBPACK_IMPORTED_MODULE_0__.PlaneGeometry();\n        const shadowMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial({\n            // color: new Color(1, 0, 0),\n            opacity: 1,\n            transparent: true,\n            side: three__WEBPACK_IMPORTED_MODULE_0__.BackSide\n        });\n        this.floor = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(plane, shadowMaterial);\n        this.floor.userData.shadow = true;\n        camera.add(this.floor);\n        // the plane onto which to blur the texture\n        this.blurPlane = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(plane);\n        this.blurPlane.visible = false;\n        camera.add(this.blurPlane);\n        scene.target.add(this);\n        // like MeshDepthMaterial, but goes from black to transparent\n        this.depthMaterial.onBeforeCompile = function(shader) {\n            shader.fragmentShader = shader.fragmentShader.replace(\"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\", \"gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * opacity );\");\n        };\n        this.horizontalBlurMaterial.depthTest = false;\n        this.verticalBlurMaterial.depthTest = false;\n        this.setScene(scene, softness, side);\n    }\n    /**\n     * Update the shadow's size and position for a new scene. Softness is also\n     * needed, as this controls the shadow's resolution.\n     */ setScene(scene, softness, side) {\n        const { boundingBox, size, rotation, position } = this;\n        this.isAnimated = scene.animationNames.length > 0;\n        this.boundingBox.copy(scene.boundingBox);\n        this.size.copy(scene.size);\n        this.maxDimension = Math.max(size.x, size.y, size.z) * (this.isAnimated ? ANIMATION_SCALING : 1);\n        this.boundingBox.getCenter(position);\n        if (side === \"back\") {\n            const { min, max } = boundingBox;\n            [min.y, min.z] = [\n                min.z,\n                min.y\n            ];\n            [max.y, max.z] = [\n                max.z,\n                max.y\n            ];\n            [size.y, size.z] = [\n                size.z,\n                size.y\n            ];\n            rotation.x = Math.PI / 2;\n            rotation.y = Math.PI;\n        } else {\n            rotation.x = 0;\n            rotation.y = 0;\n        }\n        if (this.isAnimated) {\n            const minY = boundingBox.min.y;\n            const maxY = boundingBox.max.y;\n            size.y = this.maxDimension;\n            boundingBox.expandByVector(size.subScalar(this.maxDimension).multiplyScalar(-0.5));\n            boundingBox.min.y = minY;\n            boundingBox.max.y = maxY;\n            size.set(this.maxDimension, maxY - minY, this.maxDimension);\n        }\n        if (side === \"bottom\") {\n            position.y = boundingBox.min.y;\n        } else {\n            position.z = boundingBox.min.y;\n        }\n        this.setSoftness(softness);\n    }\n    /**\n     * Update the shadow's resolution based on softness (between 0 and 1). Should\n     * not be called frequently, as this results in reallocation.\n     */ setSoftness(softness) {\n        this.softness = softness;\n        const { size, camera } = this;\n        const scaleY = this.isAnimated ? ANIMATION_SCALING : 1;\n        const resolution = scaleY * Math.pow(2, LOG_MAX_RESOLUTION - softness * (LOG_MAX_RESOLUTION - LOG_MIN_RESOLUTION));\n        this.setMapSize(resolution);\n        const softFar = size.y / 2;\n        const hardFar = size.y * scaleY;\n        camera.near = 0;\n        camera.far = (0,three_src_math_MathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(hardFar, softFar, softness);\n        // we have co-opted opacity to scale the depth to clip\n        this.depthMaterial.opacity = 1.0 / softness;\n        camera.updateProjectionMatrix();\n        // this.cameraHelper.update();\n        this.setIntensity(this.intensity);\n        this.setOffset(0);\n    }\n    /**\n     * Lower-level version of the above function.\n     */ setMapSize(maxMapSize) {\n        const { size } = this;\n        if (this.isAnimated) {\n            maxMapSize *= ANIMATION_SCALING;\n        }\n        const baseWidth = Math.floor(size.x > size.z ? maxMapSize : maxMapSize * size.x / size.z);\n        const baseHeight = Math.floor(size.x > size.z ? maxMapSize * size.z / size.x : maxMapSize);\n        // width of blur filter in pixels (not adjustable)\n        const TAP_WIDTH = 10;\n        const width = TAP_WIDTH + baseWidth;\n        const height = TAP_WIDTH + baseHeight;\n        if (this.renderTarget != null && (this.renderTarget.width !== width || this.renderTarget.height !== height)) {\n            this.renderTarget.dispose();\n            this.renderTarget = null;\n            this.renderTargetBlur.dispose();\n            this.renderTargetBlur = null;\n        }\n        if (this.renderTarget == null) {\n            const params = {\n                format: three__WEBPACK_IMPORTED_MODULE_0__.RGBAFormat\n            };\n            this.renderTarget = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderTarget(width, height, params);\n            this.renderTargetBlur = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderTarget(width, height, params);\n            this.floor.material.map = this.renderTarget.texture;\n        }\n        // These pads account for the softening radius around the shadow.\n        this.camera.scale.set(size.x * (1 + TAP_WIDTH / baseWidth), size.z * (1 + TAP_WIDTH / baseHeight), 1);\n        this.needsUpdate = true;\n    }\n    /**\n     * Set the shadow's intensity (0 to 1), which is just its opacity. Turns off\n     * shadow rendering if zero.\n     */ setIntensity(intensity) {\n        this.intensity = intensity;\n        if (intensity > 0) {\n            this.visible = true;\n            this.floor.visible = true;\n            this.floor.material.opacity = intensity * (0,three_src_math_MathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(DEFAULT_HARD_INTENSITY, 1, this.softness * this.softness);\n        } else {\n            this.visible = false;\n            this.floor.visible = false;\n        }\n    }\n    getIntensity() {\n        return this.intensity;\n    }\n    /**\n     * An offset can be specified to move the\n     * shadow vertically relative to the bottom of the scene. Positive is up, so\n     * values are generally negative. A small offset keeps our shadow from\n     * z-fighting with any baked-in shadow plane.\n     */ setOffset(offset) {\n        this.floor.position.z = -offset + 0.001 * this.maxDimension;\n    }\n    render(renderer, scene) {\n        // this.cameraHelper.visible = false;\n        // force the depthMaterial to everything\n        scene.overrideMaterial = this.depthMaterial;\n        // set renderer clear alpha\n        const initialClearAlpha = renderer.getClearAlpha();\n        renderer.setClearAlpha(0);\n        this.floor.visible = false;\n        // disable XR for offscreen rendering\n        const xrEnabled = renderer.xr.enabled;\n        renderer.xr.enabled = false;\n        // render to the render target to get the depths\n        const oldRenderTarget = renderer.getRenderTarget();\n        renderer.setRenderTarget(this.renderTarget);\n        renderer.render(scene, this.camera);\n        // and reset the override material\n        scene.overrideMaterial = null;\n        this.floor.visible = true;\n        this.blurShadow(renderer);\n        // reset and render the normal scene\n        renderer.xr.enabled = xrEnabled;\n        renderer.setRenderTarget(oldRenderTarget);\n        renderer.setClearAlpha(initialClearAlpha);\n    // this.cameraHelper.visible = true;\n    }\n    blurShadow(renderer) {\n        const { camera, horizontalBlurMaterial, verticalBlurMaterial, renderTarget, renderTargetBlur, blurPlane } = this;\n        blurPlane.visible = true;\n        // blur horizontally and draw in the renderTargetBlur\n        blurPlane.material = horizontalBlurMaterial;\n        horizontalBlurMaterial.uniforms.h.value = 1 / this.renderTarget.width;\n        horizontalBlurMaterial.uniforms.tDiffuse.value = this.renderTarget.texture;\n        renderer.setRenderTarget(renderTargetBlur);\n        renderer.render(blurPlane, camera);\n        // blur vertically and draw in the main renderTarget\n        blurPlane.material = verticalBlurMaterial;\n        verticalBlurMaterial.uniforms.v.value = 1 / this.renderTarget.height;\n        verticalBlurMaterial.uniforms.tDiffuse.value = this.renderTargetBlur.texture;\n        renderer.setRenderTarget(renderTarget);\n        renderer.render(blurPlane, camera);\n        blurPlane.visible = false;\n    }\n    dispose() {\n        if (this.renderTarget != null) {\n            this.renderTarget.dispose();\n        }\n        if (this.renderTargetBlur != null) {\n            this.renderTargetBlur.dispose();\n        }\n        this.depthMaterial.dispose();\n        this.horizontalBlurMaterial.dispose();\n        this.verticalBlurMaterial.dispose();\n        this.floor.material.dispose();\n        this.floor.geometry.dispose();\n        this.blurPlane.geometry.dispose();\n        this.removeFromParent();\n    }\n} //# sourceMappingURL=Shadow.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvU2hhZG93LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUN1TDtBQUM5RjtBQUNKO0FBQ25DO0FBQ25ELHNFQUFzRTtBQUN0RSxpREFBaUQ7QUFDakQsTUFBTWUscUJBQXFCO0FBQzNCLE1BQU1DLHFCQUFxQjtBQUMzQiw4RUFBOEU7QUFDOUUsNkVBQTZFO0FBQzdFLCtFQUErRTtBQUMvRSx3QkFBd0I7QUFDeEIsTUFBTUMsb0JBQW9CO0FBQzFCLDBFQUEwRTtBQUMxRSwrRUFBK0U7QUFDL0Usb0JBQW9CO0FBQ3BCLE1BQU1DLHlCQUF5QjtBQUMvQjs7Ozs7Ozs7Ozs7O0NBWUMsR0FDTSxNQUFNQyxlQUFlZCwyQ0FBUUE7SUFDaENlLFlBQVlDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxJQUFJLENBQUU7UUFDL0IsS0FBSztRQUNMLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUlsQixxREFBa0JBO1FBQ3BDLHdEQUF3RDtRQUN4RCxJQUFJLENBQUNtQixZQUFZLEdBQUc7UUFDcEIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRztRQUN4QixJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJdkIsb0RBQWlCQTtRQUMxQyxJQUFJLENBQUN3QixzQkFBc0IsR0FBRyxJQUFJbkIsaURBQWNBLENBQUNHLG9HQUFvQkE7UUFDckUsSUFBSSxDQUFDaUIsb0JBQW9CLEdBQUcsSUFBSXBCLGlEQUFjQSxDQUFDSSxnR0FBa0JBO1FBQ2pFLElBQUksQ0FBQ2lCLFNBQVMsR0FBRztRQUNqQixJQUFJLENBQUNSLFFBQVEsR0FBRztRQUNoQixJQUFJLENBQUNTLFdBQVcsR0FBRyxJQUFJOUIsdUNBQUlBO1FBQzNCLElBQUksQ0FBQytCLElBQUksR0FBRyxJQUFJdEIsMENBQU9BO1FBQ3ZCLElBQUksQ0FBQ3VCLFlBQVksR0FBRztRQUNwQixJQUFJ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cEUsZ0JBQWdCLElBQUksTUFBTTtZQUMvQixJQUFJLENBQUNBLGdCQUFnQixDQUFDb0UsT0FBTztRQUNqQztRQUNBLElBQUksQ0FBQ25FLGFBQWEsQ0FBQ21FLE9BQU87UUFDMUIsSUFBSSxDQUFDbEUsc0JBQXNCLENBQUNrRSxPQUFPO1FBQ25DLElBQUksQ0FBQ2pFLG9CQUFvQixDQUFDaUUsT0FBTztRQUNqQyxJQUFJLENBQUM3QyxLQUFLLENBQUNnRCxRQUFRLENBQUNILE9BQU87UUFDM0IsSUFBSSxDQUFDN0MsS0FBSyxDQUFDd0UsUUFBUSxDQUFDM0IsT0FBTztRQUMzQixJQUFJLENBQUMxQyxTQUFTLENBQUNxRSxRQUFRLENBQUMzQixPQUFPO1FBQy9CLElBQUksQ0FBQzRCLGdCQUFnQjtJQUN6QjtBQUNKLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9TaGFkb3cuanM/ZDJlNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBCYWNrU2lkZSwgQm94MywgTWVzaCwgTWVzaEJhc2ljTWF0ZXJpYWwsIE1lc2hEZXB0aE1hdGVyaWFsLCBPYmplY3QzRCwgT3J0aG9ncmFwaGljQ2FtZXJhLCBQbGFuZUdlb21ldHJ5LCBSR0JBRm9ybWF0LCBTaGFkZXJNYXRlcmlhbCwgVmVjdG9yMywgV2ViR0xSZW5kZXJUYXJnZXQgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBIb3Jpem9udGFsQmx1clNoYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9zaGFkZXJzL0hvcml6b250YWxCbHVyU2hhZGVyLmpzJztcbmltcG9ydCB7IFZlcnRpY2FsQmx1clNoYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9zaGFkZXJzL1ZlcnRpY2FsQmx1clNoYWRlci5qcyc7XG5pbXBvcnQgeyBsZXJwIH0gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0aFV0aWxzLmpzJztcbi8vIFRoZSBzb2Z0bmVzcyBbMCwgMV0gb2YgdGhlIHNoYWRvdyBpcyBtYXBwZWQgdG8gYSByZXNvbHV0aW9uIGJldHdlZW5cbi8vIDJeTE9HX01BWF9SRVNPTFVUSU9OIGFuZCAyXkxPR19NSU5fUkVTT0xVVElPTi5cbmNvbnN0IExPR19NQVhfUkVTT0xVVElPTiA9IDk7XG5jb25zdCBMT0dfTUlOX1JFU09MVVRJT04gPSA2O1xuLy8gQW5pbWF0ZWQgbW9kZWxzIGFyZSBub3QgaW4gZ2VuZXJhbCBjb250YWluZWQgaW4gdGhlaXIgYm91bmRpbmcgYm94LCBhcyB0aGlzXG4vLyBpcyBjYWxjdWxhdGVkIG9ubHkgZm9yIHRoZWlyIHJlc3RpbmcgcG9zZS4gV2UgY3JlYXRlIGEgY3ViaWMgc2hhZG93IHZvbHVtZVxuLy8gZm9yIGFuaW1hdGVkIG1vZGVscyBzaXplZCB0byB0aGVpciBsYXJnZXN0IGJvdW5kaW5nIGJveCBkaW1lbnNpb24gbXVsdGlwbGllZFxuLy8gYnkgdGhpcyBzY2FsZSBmYWN0b3IuXG5jb25zdCBBTklNQVRJT05fU0NBTElORyA9IDI7XG4vLyBTaW5jZSBoYXJkIHNoYWRvd3MgYXJlIG5vdCBsaWdodGVuZWQgYnkgYmx1cnJpbmcgYW5kIGRlcHRoLCBzZXQgYSBsb3dlclxuLy8gZGVmYXVsdCBpbnRlbnNpdHkgdG8gbWFrZSB0aGVtIG1vcmUgcGVyY2VwdHVhbGx5IHNpbWlsYXIgdG8gdGhlIGludGVuc2l0eSBvZlxuLy8gdGhlIHNvZnQgc2hhZG93cy5cbmNvbnN0IERFRkFVTFRfSEFSRF9JTlRFTlNJVFkgPSAwLjM7XG4vKipcbiAqIFRoZSBTaGFkb3cgY2xhc3MgY3JlYXRlcyBhIHNoYWRvdyB0aGF0IGZpdHMgYSBnaXZlbiBzY2VuZSBhbmQgZm9sbG93cyBhXG4gKiB0YXJnZXQuIFRoaXMgc2hhZG93IHdpbGwgZm9sbG93IHRoZSBzY2VuZSB3aXRob3V0IGFueSB1cGRhdGVzIG5lZWRlZCBzbyBsb25nXG4gKiBhcyB0aGUgc2hhZG93IGFuZCBzY2VuZSBhcmUgYm90aCBwYXJlbnRlZCB0byB0aGUgc2FtZSBvYmplY3QgKGNhbGwgaXQgdGhlXG4gKiBzY2VuZSkgYW5kIHRoaXMgc2NlbmUgaXMgcGFzc2VkIGFzIHRoZSB0YXJnZXQgcGFyYW1ldGVyIHRvIHRoZSBzaGFkb3cnc1xuICogY29uc3RydWN0b3IuIFdlIGFsc28gbXVzdCBjb25zdHJhaW4gdGhlIHNjZW5lIHRvIG1vdGlvbiB3aXRoaW4gdGhlIGhvcml6b250YWxcbiAqIHBsYW5lIGFuZCBjYWxsIHRoZSBzZXRSb3RhdGlvbigpIG1ldGhvZCB3aGVuZXZlciB0aGUgc2NlbmUncyBZLWF4aXMgcm90YXRpb25cbiAqIGNoYW5nZXMuIEZvciBtb3Rpb24gb3V0c2lkZSBvZiB0aGUgaG9yaXpvbnRhbCBwbGFuZSwgdGhpcy5uZWVkc1VwZGF0ZSBtdXN0IGJlXG4gKiBzZXQgdG8gdHJ1ZS5cbiAqXG4gKiBUaGUgc29mdG5lc3Mgb2YgdGhlIHNoYWRvdyBpcyBjb250cm9sbGVkIGJ5IGNoYW5naW5nIGl0cyByZXNvbHV0aW9uLCBtYWtpbmdcbiAqIHNvZnRlciBzaGFkb3dzIGZhc3RlciwgYnV0IGxlc3MgcHJlY2lzZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFNoYWRvdyBleHRlbmRzIE9iamVjdDNEIHtcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgc29mdG5lc3MsIHNpZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKCk7XG4gICAgICAgIC8vIHByaXZhdGUgY2FtZXJhSGVscGVyID0gbmV3IENhbWVyYUhlbHBlcih0aGlzLmNhbWVyYSk7XG4gICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXRCbHVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXB0aE1hdGVyaWFsID0gbmV3IE1lc2hEZXB0aE1hdGVyaWFsKCk7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbEJsdXJNYXRlcmlhbCA9IG5ldyBTaGFkZXJNYXRlcmlhbChIb3Jpem9udGFsQmx1clNoYWRlcik7XG4gICAgICAgIHRoaXMudmVydGljYWxCbHVyTWF0ZXJpYWwgPSBuZXcgU2hhZGVyTWF0ZXJpYWwoVmVydGljYWxCbHVyU2hhZGVyKTtcbiAgICAgICAgdGhpcy5pbnRlbnNpdHkgPSAwO1xuICAgICAgICB0aGlzLnNvZnRuZXNzID0gMTtcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveCA9IG5ldyBCb3gzO1xuICAgICAgICB0aGlzLnNpemUgPSBuZXcgVmVjdG9yMztcbiAgICAgICAgdGhpcy5tYXhEaW1lbnNpb24gPSAwO1xuICAgICAgICB0aGlzLmlzQW5pbWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCB7IGNhbWVyYSB9ID0gdGhpcztcbiAgICAgICAgY2FtZXJhLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgY2FtZXJhLmxlZnQgPSAtMC41O1xuICAgICAgICBjYW1lcmEucmlnaHQgPSAwLjU7XG4gICAgICAgIGNhbWVyYS5ib3R0b20gPSAtMC41O1xuICAgICAgICBjYW1lcmEudG9wID0gMC41O1xuICAgICAgICB0aGlzLmFkZChjYW1lcmEpO1xuICAgICAgICAvLyB0aGlzLmFkZCh0aGlzLmNhbWVyYUhlbHBlcik7XG4gICAgICAgIC8vIHRoaXMuY2FtZXJhSGVscGVyLnVwZGF0ZU1hdHJpeFdvcmxkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vICAgdGhpcy5tYXRyaXhXb3JsZCA9IHRoaXMuY2FtZXJhLm1hdHJpeFdvcmxkO1xuICAgICAgICAvLyB9O1xuICAgICAgICBjb25zdCBwbGFuZSA9IG5ldyBQbGFuZUdlb21ldHJ5KCk7XG4gICAgICAgIGNvbnN0IHNoYWRvd01hdGVyaWFsID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgIC8vIGNvbG9yOiBuZXcgQ29sb3IoMSwgMCwgMCksXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXG4gICAgICAgICAgICBzaWRlOiBCYWNrU2lkZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZmxvb3IgPSBuZXcgTWVzaChwbGFuZSwgc2hhZG93TWF0ZXJpYWwpO1xuICAgICAgICB0aGlzLmZsb29yLnVzZXJEYXRhLnNoYWRvdyA9IHRydWU7XG4gICAgICAgIGNhbWVyYS5hZGQodGhpcy5mbG9vcik7XG4gICAgICAgIC8vIHRoZSBwbGFuZSBvbnRvIHdoaWNoIHRvIGJsdXIgdGhlIHRleHR1cmVcbiAgICAgICAgdGhpcy5ibHVyUGxhbmUgPSBuZXcgTWVzaChwbGFuZSk7XG4gICAgICAgIHRoaXMuYmx1clBsYW5lLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgY2FtZXJhLmFkZCh0aGlzLmJsdXJQbGFuZSk7XG4gICAgICAgIHNjZW5lLnRhcmdldC5hZGQodGhpcyk7XG4gICAgICAgIC8vIGxpa2UgTWVzaERlcHRoTWF0ZXJpYWwsIGJ1dCBnb2VzIGZyb20gYmxhY2sgdG8gdHJhbnNwYXJlbnRcbiAgICAgICAgdGhpcy5kZXB0aE1hdGVyaWFsLm9uQmVmb3JlQ29tcGlsZSA9IGZ1bmN0aW9uIChzaGFkZXIpIHtcbiAgICAgICAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKCdnbF9GcmFnQ29sb3IgPSB2ZWM0KCB2ZWMzKCAxLjAgLSBmcmFnQ29vcmRaICksIG9wYWNpdHkgKTsnLCAnZ2xfRnJhZ0NvbG9yID0gdmVjNCggdmVjMyggMC4wICksICggMS4wIC0gZnJhZ0Nvb3JkWiApICogb3BhY2l0eSApOycpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhvcml6b250YWxCbHVyTWF0ZXJpYWwuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmVydGljYWxCbHVyTWF0ZXJpYWwuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0U2NlbmUoc2NlbmUsIHNvZnRuZXNzLCBzaWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBzaGFkb3cncyBzaXplIGFuZCBwb3NpdGlvbiBmb3IgYSBuZXcgc2NlbmUuIFNvZnRuZXNzIGlzIGFsc29cbiAgICAgKiBuZWVkZWQsIGFzIHRoaXMgY29udHJvbHMgdGhlIHNoYWRvdydzIHJlc29sdXRpb24uXG4gICAgICovXG4gICAgc2V0U2NlbmUoc2NlbmUsIHNvZnRuZXNzLCBzaWRlKSB7XG4gICAgICAgIGNvbnN0IHsgYm91bmRpbmdCb3gsIHNpemUsIHJvdGF0aW9uLCBwb3NpdGlvbiB9ID0gdGhpcztcbiAgICAgICAgdGhpcy5pc0FuaW1hdGVkID0gc2NlbmUuYW5pbWF0aW9uTmFtZXMubGVuZ3RoID4gMDtcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5jb3B5KHNjZW5lLmJvdW5kaW5nQm94KTtcbiAgICAgICAgdGhpcy5zaXplLmNvcHkoc2NlbmUuc2l6ZSk7XG4gICAgICAgIHRoaXMubWF4RGltZW5zaW9uID0gTWF0aC5tYXgoc2l6ZS54LCBzaXplLnksIHNpemUueikgKlxuICAgICAgICAgICAgKHRoaXMuaXNBbmltYXRlZCA/IEFOSU1BVElPTl9TQ0FMSU5HIDogMSk7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKHBvc2l0aW9uKTtcbiAgICAgICAgaWYgKHNpZGUgPT09ICdiYWNrJykge1xuICAgICAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gYm91bmRpbmdCb3g7XG4gICAgICAgICAgICBbbWluLnksIG1pbi56XSA9IFttaW4ueiwgbWluLnldO1xuICAgICAgICAgICAgW21heC55LCBtYXguel0gPSBbbWF4LnosIG1heC55XTtcbiAgICAgICAgICAgIFtzaXplLnksIHNpemUuel0gPSBbc2l6ZS56LCBzaXplLnldO1xuICAgICAgICAgICAgcm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICAgICAgICAgICAgcm90YXRpb24ueSA9IE1hdGguUEk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByb3RhdGlvbi54ID0gMDtcbiAgICAgICAgICAgIHJvdGF0aW9uLnkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzQW5pbWF0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblkgPSBib3VuZGluZ0JveC5taW4ueTtcbiAgICAgICAgICAgIGNvbnN0IG1heFkgPSBib3VuZGluZ0JveC5tYXgueTtcbiAgICAgICAgICAgIHNpemUueSA9IHRoaXMubWF4RGltZW5zaW9uO1xuICAgICAgICAgICAgYm91bmRpbmdCb3guZXhwYW5kQnlWZWN0b3Ioc2l6ZS5zdWJTY2FsYXIodGhpcy5tYXhEaW1lbnNpb24pLm11bHRpcGx5U2NhbGFyKC0wLjUpKTtcbiAgICAgICAgICAgIGJvdW5kaW5nQm94Lm1pbi55ID0gbWluWTtcbiAgICAgICAgICAgIGJvdW5kaW5nQm94Lm1heC55ID0gbWF4WTtcbiAgICAgICAgICAgIHNpemUuc2V0KHRoaXMubWF4RGltZW5zaW9uLCBtYXhZIC0gbWluWSwgdGhpcy5tYXhEaW1lbnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaWRlID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgcG9zaXRpb24ueSA9IGJvdW5kaW5nQm94Lm1pbi55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb24ueiA9IGJvdW5kaW5nQm94Lm1pbi55O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U29mdG5lc3Moc29mdG5lc3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHNoYWRvdydzIHJlc29sdXRpb24gYmFzZWQgb24gc29mdG5lc3MgKGJldHdlZW4gMCBhbmQgMSkuIFNob3VsZFxuICAgICAqIG5vdCBiZSBjYWxsZWQgZnJlcXVlbnRseSwgYXMgdGhpcyByZXN1bHRzIGluIHJlYWxsb2NhdGlvbi5cbiAgICAgKi9cbiAgICBzZXRTb2Z0bmVzcyhzb2Z0bmVzcykge1xuICAgICAgICB0aGlzLnNvZnRuZXNzID0gc29mdG5lc3M7XG4gICAgICAgIGNvbnN0IHsgc2l6ZSwgY2FtZXJhIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzY2FsZVkgPSAodGhpcy5pc0FuaW1hdGVkID8gQU5JTUFUSU9OX1NDQUxJTkcgOiAxKTtcbiAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHNjYWxlWSAqXG4gICAgICAgICAgICBNYXRoLnBvdygyLCBMT0dfTUFYX1JFU09MVVRJT04gLVxuICAgICAgICAgICAgICAgIHNvZnRuZXNzICogKExPR19NQVhfUkVTT0xVVElPTiAtIExPR19NSU5fUkVTT0xVVElPTikpO1xuICAgICAgICB0aGlzLnNldE1hcFNpemUocmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnN0IHNvZnRGYXIgPSBzaXplLnkgLyAyO1xuICAgICAgICBjb25zdCBoYXJkRmFyID0gc2l6ZS55ICogc2NhbGVZO1xuICAgICAgICBjYW1lcmEubmVhciA9IDA7XG4gICAgICAgIGNhbWVyYS5mYXIgPSBsZXJwKGhhcmRGYXIsIHNvZnRGYXIsIHNvZnRuZXNzKTtcbiAgICAgICAgLy8gd2UgaGF2ZSBjby1vcHRlZCBvcGFjaXR5IHRvIHNjYWxlIHRoZSBkZXB0aCB0byBjbGlwXG4gICAgICAgIHRoaXMuZGVwdGhNYXRlcmlhbC5vcGFjaXR5ID0gMS4wIC8gc29mdG5lc3M7XG4gICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIC8vIHRoaXMuY2FtZXJhSGVscGVyLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnNldEludGVuc2l0eSh0aGlzLmludGVuc2l0eSk7XG4gICAgICAgIHRoaXMuc2V0T2Zmc2V0KDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb3dlci1sZXZlbCB2ZXJzaW9uIG9mIHRoZSBhYm92ZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBzZXRNYXBTaXplKG1heE1hcFNpemUpIHtcbiAgICAgICAgY29uc3QgeyBzaXplIH0gPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5pc0FuaW1hdGVkKSB7XG4gICAgICAgICAgICBtYXhNYXBTaXplICo9IEFOSU1BVElPTl9TQ0FMSU5HO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhc2VXaWR0aCA9IE1hdGguZmxvb3Ioc2l6ZS54ID4gc2l6ZS56ID8gbWF4TWFwU2l6ZSA6IG1heE1hcFNpemUgKiBzaXplLnggLyBzaXplLnopO1xuICAgICAgICBjb25zdCBiYXNlSGVpZ2h0ID0gTWF0aC5mbG9vcihzaXplLnggPiBzaXplLnogPyBtYXhNYXBTaXplICogc2l6ZS56IC8gc2l6ZS54IDogbWF4TWFwU2l6ZSk7XG4gICAgICAgIC8vIHdpZHRoIG9mIGJsdXIgZmlsdGVyIGluIHBpeGVscyAobm90IGFkanVzdGFibGUpXG4gICAgICAgIGNvbnN0IFRBUF9XSURUSCA9IDEwO1xuICAgICAgICBjb25zdCB3aWR0aCA9IFRBUF9XSURUSCArIGJhc2VXaWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gVEFQX1dJRFRIICsgYmFzZUhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyVGFyZ2V0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICh0aGlzLnJlbmRlclRhcmdldC53aWR0aCAhPT0gd2lkdGggfHxcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclRhcmdldC5oZWlnaHQgIT09IGhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0Qmx1ci5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRhcmdldEJsdXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlbmRlclRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7IGZvcm1hdDogUkdCQUZvcm1hdCB9O1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXQgPSBuZXcgV2ViR0xSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0Qmx1ciA9IG5ldyBXZWJHTFJlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCBwYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5mbG9vci5tYXRlcmlhbC5tYXAgPVxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0LnRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlc2UgcGFkcyBhY2NvdW50IGZvciB0aGUgc29mdGVuaW5nIHJhZGl1cyBhcm91bmQgdGhlIHNoYWRvdy5cbiAgICAgICAgdGhpcy5jYW1lcmEuc2NhbGUuc2V0KHNpemUueCAqICgxICsgVEFQX1dJRFRIIC8gYmFzZVdpZHRoKSwgc2l6ZS56ICogKDEgKyBUQVBfV0lEVEggLyBiYXNlSGVpZ2h0KSwgMSk7XG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNoYWRvdydzIGludGVuc2l0eSAoMCB0byAxKSwgd2hpY2ggaXMganVzdCBpdHMgb3BhY2l0eS4gVHVybnMgb2ZmXG4gICAgICogc2hhZG93IHJlbmRlcmluZyBpZiB6ZXJvLlxuICAgICAqL1xuICAgIHNldEludGVuc2l0eShpbnRlbnNpdHkpIHtcbiAgICAgICAgdGhpcy5pbnRlbnNpdHkgPSBpbnRlbnNpdHk7XG4gICAgICAgIGlmIChpbnRlbnNpdHkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5mbG9vci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmxvb3IubWF0ZXJpYWwub3BhY2l0eSA9IGludGVuc2l0eSAqXG4gICAgICAgICAgICAgICAgbGVycChERUZBVUxUX0hBUkRfSU5URU5TSVRZLCAxLCB0aGlzLnNvZnRuZXNzICogdGhpcy5zb2Z0bmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZmxvb3IudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEludGVuc2l0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZW5zaXR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiBvZmZzZXQgY2FuIGJlIHNwZWNpZmllZCB0byBtb3ZlIHRoZVxuICAgICAqIHNoYWRvdyB2ZXJ0aWNhbGx5IHJlbGF0aXZlIHRvIHRoZSBib3R0b20gb2YgdGhlIHNjZW5lLiBQb3NpdGl2ZSBpcyB1cCwgc29cbiAgICAgKiB2YWx1ZXMgYXJlIGdlbmVyYWxseSBuZWdhdGl2ZS4gQSBzbWFsbCBvZmZzZXQga2VlcHMgb3VyIHNoYWRvdyBmcm9tXG4gICAgICogei1maWdodGluZyB3aXRoIGFueSBiYWtlZC1pbiBzaGFkb3cgcGxhbmUuXG4gICAgICovXG4gICAgc2V0T2Zmc2V0KG9mZnNldCkge1xuICAgICAgICB0aGlzLmZsb29yLnBvc2l0aW9uLnogPSAtb2Zmc2V0ICsgMC4wMDEgKiB0aGlzLm1heERpbWVuc2lvbjtcbiAgICB9XG4gICAgcmVuZGVyKHJlbmRlcmVyLCBzY2VuZSkge1xuICAgICAgICAvLyB0aGlzLmNhbWVyYUhlbHBlci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIC8vIGZvcmNlIHRoZSBkZXB0aE1hdGVyaWFsIHRvIGV2ZXJ5dGhpbmdcbiAgICAgICAgc2NlbmUub3ZlcnJpZGVNYXRlcmlhbCA9IHRoaXMuZGVwdGhNYXRlcmlhbDtcbiAgICAgICAgLy8gc2V0IHJlbmRlcmVyIGNsZWFyIGFscGhhXG4gICAgICAgIGNvbnN0IGluaXRpYWxDbGVhckFscGhhID0gcmVuZGVyZXIuZ2V0Q2xlYXJBbHBoYSgpO1xuICAgICAgICByZW5kZXJlci5zZXRDbGVhckFscGhhKDApO1xuICAgICAgICB0aGlzLmZsb29yLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgLy8gZGlzYWJsZSBYUiBmb3Igb2Zmc2NyZWVuIHJlbmRlcmluZ1xuICAgICAgICBjb25zdCB4ckVuYWJsZWQgPSByZW5kZXJlci54ci5lbmFibGVkO1xuICAgICAgICByZW5kZXJlci54ci5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIC8vIHJlbmRlciB0byB0aGUgcmVuZGVyIHRhcmdldCB0byBnZXQgdGhlIGRlcHRoc1xuICAgICAgICBjb25zdCBvbGRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTtcbiAgICAgICAgcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHRoaXMucmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgICAgIC8vIGFuZCByZXNldCB0aGUgb3ZlcnJpZGUgbWF0ZXJpYWxcbiAgICAgICAgc2NlbmUub3ZlcnJpZGVNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuZmxvb3IudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmx1clNoYWRvdyhyZW5kZXJlcik7XG4gICAgICAgIC8vIHJlc2V0IGFuZCByZW5kZXIgdGhlIG5vcm1hbCBzY2VuZVxuICAgICAgICByZW5kZXJlci54ci5lbmFibGVkID0geHJFbmFibGVkO1xuICAgICAgICByZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQob2xkUmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgcmVuZGVyZXIuc2V0Q2xlYXJBbHBoYShpbml0aWFsQ2xlYXJBbHBoYSk7XG4gICAgICAgIC8vIHRoaXMuY2FtZXJhSGVscGVyLnZpc2libGUgPSB0cnVlO1xuICAgIH1cbiAgICBibHVyU2hhZG93KHJlbmRlcmVyKSB7XG4gICAgICAgIGNvbnN0IHsgY2FtZXJhLCBob3Jpem9udGFsQmx1ck1hdGVyaWFsLCB2ZXJ0aWNhbEJsdXJNYXRlcmlhbCwgcmVuZGVyVGFyZ2V0LCByZW5kZXJUYXJnZXRCbHVyLCBibHVyUGxhbmUgfSA9IHRoaXM7XG4gICAgICAgIGJsdXJQbGFuZS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgLy8gYmx1ciBob3Jpem9udGFsbHkgYW5kIGRyYXcgaW4gdGhlIHJlbmRlclRhcmdldEJsdXJcbiAgICAgICAgYmx1clBsYW5lLm1hdGVyaWFsID0gaG9yaXpvbnRhbEJsdXJNYXRlcmlhbDtcbiAgICAgICAgaG9yaXpvbnRhbEJsdXJNYXRlcmlhbC51bmlmb3Jtcy5oLnZhbHVlID0gMSAvIHRoaXMucmVuZGVyVGFyZ2V0LndpZHRoO1xuICAgICAgICBob3Jpem9udGFsQmx1ck1hdGVyaWFsLnVuaWZvcm1zLnREaWZmdXNlLnZhbHVlID0gdGhpcy5yZW5kZXJUYXJnZXQudGV4dHVyZTtcbiAgICAgICAgcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldEJsdXIpO1xuICAgICAgICByZW5kZXJlci5yZW5kZXIoYmx1clBsYW5lLCBjYW1lcmEpO1xuICAgICAgICAvLyBibHVyIHZlcnRpY2FsbHkgYW5kIGRyYXcgaW4gdGhlIG1haW4gcmVuZGVyVGFyZ2V0XG4gICAgICAgIGJsdXJQbGFuZS5tYXRlcmlhbCA9IHZlcnRpY2FsQmx1ck1hdGVyaWFsO1xuICAgICAgICB2ZXJ0aWNhbEJsdXJNYXRlcmlhbC51bmlmb3Jtcy52LnZhbHVlID0gMSAvIHRoaXMucmVuZGVyVGFyZ2V0LmhlaWdodDtcbiAgICAgICAgdmVydGljYWxCbHVyTWF0ZXJpYWwudW5pZm9ybXMudERpZmZ1c2UudmFsdWUgPVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXRCbHVyLnRleHR1cmU7XG4gICAgICAgIHJlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICByZW5kZXJlci5yZW5kZXIoYmx1clBsYW5lLCBjYW1lcmEpO1xuICAgICAgICBibHVyUGxhbmUudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJUYXJnZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXQuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlbmRlclRhcmdldEJsdXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXRCbHVyLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlcHRoTWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmhvcml6b250YWxCbHVyTWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZlcnRpY2FsQmx1ck1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5mbG9vci5tYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZmxvb3IuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmJsdXJQbGFuZS5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlRnJvbVBhcmVudCgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNoYWRvdy5qcy5tYXAiXSwibmFtZXMiOlsiQmFja1NpZGUiLCJCb3gzIiwiTWVzaCIsIk1lc2hCYXNpY01hdGVyaWFsIiwiTWVzaERlcHRoTWF0ZXJpYWwiLCJPYmplY3QzRCIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsIlBsYW5lR2VvbWV0cnkiLCJSR0JBRm9ybWF0IiwiU2hhZGVyTWF0ZXJpYWwiLCJWZWN0b3IzIiwiV2ViR0xSZW5kZXJUYXJnZXQiLCJIb3Jpem9udGFsQmx1clNoYWRlciIsIlZlcnRpY2FsQmx1clNoYWRlciIsImxlcnAiLCJMT0dfTUFYX1JFU09MVVRJT04iLCJMT0dfTUlOX1JFU09MVVRJT04iLCJBTklNQVRJT05fU0NBTElORyIsIkRFRkFVTFRfSEFSRF9JTlRFTlNJVFkiLCJTaGFkb3ciLCJjb25zdHJ1Y3RvciIsInNjZW5lIiwic29mdG5lc3MiLCJzaWRlIiwiY2FtZXJhIiwicmVuZGVyVGFyZ2V0IiwicmVuZGVyVGFyZ2V0Qmx1ciIsImRlcHRoTWF0ZXJpYWwiLCJob3Jpem9udGFsQmx1ck1hdGVyaWFsIiwidmVydGljYWxCbHVyTWF0ZXJpYWwiLCJpbnRlbnNpdHkiLCJib3VuZGluZ0JveCIsInNpemUiLCJtYXhEaW1lbnNpb24iLCJpc0FuaW1hdGVkIiwibmVlZHNVcGRhdGUiLCJyb3RhdGlvbiIsIngiLCJNYXRoIiwiUEkiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJ0b3AiLCJhZGQiLCJwbGFuZSIsInNoYWRvd01hdGVyaWFsIiwib3BhY2l0eSIsInRyYW5zcGFyZW50IiwiZmxvb3IiLCJ1c2VyRGF0YSIsInNoYWRvdyIsImJsdXJQbGFuZSIsInZpc2libGUiLCJ0YXJnZXQiLCJvbkJlZm9yZUNvbXBpbGUiLCJzaGFkZXIiLCJmcmFnbWVudFNoYWRlciIsInJlcGxhY2UiLCJkZXB0aFRlc3QiLCJzZXRTY2VuZSIsInBvc2l0aW9uIiwiYW5pbWF0aW9uTmFtZXMiLCJsZW5ndGgiLCJjb3B5IiwibWF4IiwieSIsInoiLCJnZXRDZW50ZXIiLCJtaW4iLCJtaW5ZIiwibWF4WSIsImV4cGFuZEJ5VmVjdG9yIiwic3ViU2NhbGFyIiwibXVsdGlwbHlTY2FsYXIiLCJzZXQiLCJzZXRTb2Z0bmVzcyIsInNjYWxlWSIsInJlc29sdXRpb24iLCJwb3ciLCJzZXRNYXBTaXplIiwic29mdEZhciIsImhhcmRGYXIiLCJuZWFyIiwiZmFyIiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsInNldEludGVuc2l0eSIsInNldE9mZnNldCIsIm1heE1hcFNpemUiLCJiYXNlV2lkdGgiLCJiYXNlSGVpZ2h0IiwiVEFQX1dJRFRIIiwid2lkdGgiLCJoZWlnaHQiLCJkaXNwb3NlIiwicGFyYW1zIiwiZm9ybWF0IiwibWF0ZXJpYWwiLCJtYXAiLCJ0ZXh0dXJlIiwic2NhbGUiLCJnZXRJbnRlbnNpdHkiLCJvZmZzZXQiLCJyZW5kZXIiLCJyZW5kZXJlciIsIm92ZXJyaWRlTWF0ZXJpYWwiLCJpbml0aWFsQ2xlYXJBbHBoYSIsImdldENsZWFyQWxwaGEiLCJzZXRDbGVhckFscGhhIiwieHJFbmFibGVkIiwieHIiLCJlbmFibGVkIiwib2xkUmVuZGVyVGFyZ2V0IiwiZ2V0UmVuZGVyVGFyZ2V0Iiwic2V0UmVuZGVyVGFyZ2V0IiwiYmx1clNoYWRvdyIsInVuaWZvcm1zIiwiaCIsInZhbHVlIiwidERpZmZ1c2UiLCJ2IiwiZ2VvbWV0cnkiLCJyZW1vdmVGcm9tUGFyZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Shadow.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/SmoothControls.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/SmoothControls.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChangeSource: () => (/* binding */ ChangeSource),\n/* harmony export */   DEFAULT_OPTIONS: () => (/* binding */ DEFAULT_OPTIONS),\n/* harmony export */   KeyCode: () => (/* binding */ KeyCode),\n/* harmony export */   SmoothControls: () => (/* binding */ SmoothControls)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _features_controls_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../features/controls.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/controls.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _Damper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* @license\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\nconst PAN_SENSITIVITY = 0.018;\nconst TAP_DISTANCE = 2;\nconst TAP_MS = 300;\nconst vector2 = new three__WEBPACK_IMPORTED_MODULE_3__.Vector2();\nconst vector3 = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3();\nconst DEFAULT_OPTIONS = Object.freeze({\n    minimumRadius: 0,\n    maximumRadius: Infinity,\n    minimumPolarAngle: Math.PI / 8,\n    maximumPolarAngle: Math.PI - Math.PI / 8,\n    minimumAzimuthalAngle: -Infinity,\n    maximumAzimuthalAngle: Infinity,\n    minimumFieldOfView: 10,\n    maximumFieldOfView: 45,\n    touchAction: \"none\"\n});\n// Constants\nconst KEYBOARD_ORBIT_INCREMENT = Math.PI / 8;\nconst ZOOM_SENSITIVITY = 0.04;\n// The move size on pan key event\nconst PAN_KEY_INCREMENT = 10;\nconst KeyCode = {\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40\n};\nconst ChangeSource = {\n    USER_INTERACTION: \"user-interaction\",\n    NONE: \"none\",\n    AUTOMATIC: \"automatic\"\n};\n/**\n * SmoothControls is a Three.js helper for adding delightful pointer and\n * keyboard-based input to a staged Three.js scene. Its API is very similar to\n * OrbitControls, but it offers more opinionated (subjectively more delightful)\n * defaults, easy extensibility and subjectively better out-of-the-box keyboard\n * support.\n *\n * One important change compared to OrbitControls is that the `update` method\n * of SmoothControls must be invoked on every frame, otherwise the controls\n * will not have an effect.\n *\n * Another notable difference compared to OrbitControls is that SmoothControls\n * does not currently support panning (but probably will in a future revision).\n *\n * Like OrbitControls, SmoothControls assumes that the orientation of the camera\n * has been set in terms of position, rotation and scale, so it is important to\n * ensure that the camera's matrixWorld is in sync before using SmoothControls.\n */ class SmoothControls extends three__WEBPACK_IMPORTED_MODULE_3__.EventDispatcher {\n    constructor(camera, element, scene){\n        super();\n        this.camera = camera;\n        this.element = element;\n        this.scene = scene;\n        this.orbitSensitivity = 1;\n        this.inputSensitivity = 1;\n        this.changeSource = ChangeSource.NONE;\n        this._interactionEnabled = false;\n        this._disableZoom = false;\n        this.isUserPointing = false;\n        // Pan state\n        this.enablePan = true;\n        this.enableTap = true;\n        this.panProjection = new three__WEBPACK_IMPORTED_MODULE_3__.Matrix3();\n        this.panPerPixel = 0;\n        // Internal orbital position state\n        this.spherical = new three__WEBPACK_IMPORTED_MODULE_3__.Spherical();\n        this.goalSpherical = new three__WEBPACK_IMPORTED_MODULE_3__.Spherical();\n        this.thetaDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_2__.Damper();\n        this.phiDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_2__.Damper();\n        this.radiusDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_2__.Damper();\n        this.logFov = Math.log(DEFAULT_OPTIONS.maximumFieldOfView);\n        this.goalLogFov = this.logFov;\n        this.fovDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_2__.Damper();\n        // Pointer state\n        this.touchMode = null;\n        this.pointers = [];\n        this.startTime = 0;\n        this.startPointerPosition = {\n            clientX: 0,\n            clientY: 0\n        };\n        this.lastSeparation = 0;\n        this.touchDecided = false;\n        this.onContext = (event)=>{\n            if (this.enablePan) {\n                event.preventDefault();\n            } else {\n                for (const pointer of this.pointers){\n                    // Required because of a common browser bug where the context menu never\n                    // fires a pointercancel event.\n                    this.onPointerUp(new PointerEvent(\"pointercancel\", Object.assign(Object.assign({}, this.startPointerPosition), {\n                        pointerId: pointer.id\n                    })));\n                }\n            }\n        };\n        this.touchModeZoom = (dx, dy)=>{\n            if (!this._disableZoom) {\n                const touchDistance = this.twoTouchDistance(this.pointers[0], this.pointers[1]);\n                const deltaZoom = ZOOM_SENSITIVITY * (this.lastSeparation - touchDistance) * 50 / this.scene.height;\n                this.lastSeparation = touchDistance;\n                this.userAdjustOrbit(0, 0, deltaZoom);\n            }\n            if (this.panPerPixel > 0) {\n                this.movePan(dx, dy);\n            }\n        };\n        // We implement our own version of the browser's CSS touch-action, enforced by\n        // this function, because the iOS implementation of pan-y is bad and doesn't\n        // match Android. Specifically, even if a touch gesture begins by panning X,\n        // iOS will switch to scrolling as soon as the gesture moves in the Y, rather\n        // than staying in the same mode until the end of the gesture.\n        this.disableScroll = (event)=>{\n            event.preventDefault();\n        };\n        this.touchModeRotate = (dx, dy)=>{\n            const { touchAction } = this._options;\n            if (!this.touchDecided && touchAction !== \"none\") {\n                this.touchDecided = true;\n                const dxMag = Math.abs(dx);\n                const dyMag = Math.abs(dy);\n                // If motion is mostly vertical, assume scrolling is the intent.\n                if (this.changeSource === ChangeSource.USER_INTERACTION && (touchAction === \"pan-y\" && dyMag > dxMag || touchAction === \"pan-x\" && dxMag > dyMag)) {\n                    this.touchMode = null;\n                    return;\n                } else {\n                    this.element.addEventListener(\"touchmove\", this.disableScroll, {\n                        passive: false\n                    });\n                }\n            }\n            this.handleSinglePointerMove(dx, dy);\n        };\n        this.onPointerDown = (event)=>{\n            if (this.pointers.length > 2) {\n                return;\n            }\n            const { element } = this;\n            if (this.pointers.length === 0) {\n                element.addEventListener(\"pointermove\", this.onPointerMove);\n                element.addEventListener(\"pointerup\", this.onPointerUp);\n                this.touchMode = null;\n                this.touchDecided = false;\n                this.startPointerPosition.clientX = event.clientX;\n                this.startPointerPosition.clientY = event.clientY;\n                this.startTime = performance.now();\n            }\n            try {\n                element.setPointerCapture(event.pointerId);\n            } catch (_a) {}\n            this.pointers.push({\n                clientX: event.clientX,\n                clientY: event.clientY,\n                id: event.pointerId\n            });\n            this.isUserPointing = false;\n            if (event.pointerType === \"touch\") {\n                this.changeSource = event.altKey ? ChangeSource.AUTOMATIC : ChangeSource.USER_INTERACTION;\n                this.onTouchChange(event);\n            } else {\n                this.changeSource = ChangeSource.USER_INTERACTION;\n                this.onMouseDown(event);\n            }\n        };\n        this.onPointerMove = (event)=>{\n            const pointer = this.pointers.find((pointer)=>pointer.id === event.pointerId);\n            if (pointer == null) {\n                return;\n            }\n            const numTouches = this.pointers.length;\n            const dx = (event.clientX - pointer.clientX) / numTouches;\n            const dy = (event.clientY - pointer.clientY) / numTouches;\n            if (dx === 0 && dy === 0) {\n                return;\n            }\n            pointer.clientX = event.clientX;\n            pointer.clientY = event.clientY;\n            if (event.pointerType === \"touch\") {\n                this.changeSource = event.altKey ? ChangeSource.AUTOMATIC : ChangeSource.USER_INTERACTION;\n                if (this.touchMode !== null) {\n                    this.touchMode(dx, dy);\n                }\n            } else {\n                this.changeSource = ChangeSource.USER_INTERACTION;\n                if (this.panPerPixel > 0) {\n                    this.movePan(dx, dy);\n                } else {\n                    this.handleSinglePointerMove(dx, dy);\n                }\n            }\n        };\n        this.onPointerUp = (event)=>{\n            const { element } = this;\n            const index = this.pointers.findIndex((pointer)=>pointer.id === event.pointerId);\n            if (index !== -1) {\n                this.pointers.splice(index, 1);\n            }\n            // altKey indicates an interaction prompt; don't reset radius in this case\n            // as it will cause the camera to drift.\n            if (this.panPerPixel > 0 && !event.altKey) {\n                this.resetRadius();\n            }\n            if (this.pointers.length === 0) {\n                element.removeEventListener(\"pointermove\", this.onPointerMove);\n                element.removeEventListener(\"pointerup\", this.onPointerUp);\n                element.removeEventListener(\"touchmove\", this.disableScroll);\n                if (this.enablePan && this.enableTap) {\n                    this.recenter(event);\n                }\n            } else if (this.touchMode !== null) {\n                this.onTouchChange(event);\n            }\n            this.scene.element[_features_controls_js__WEBPACK_IMPORTED_MODULE_0__.$panElement].style.opacity = 0;\n            element.style.cursor = \"grab\";\n            this.panPerPixel = 0;\n            if (this.isUserPointing) {\n                this.dispatchEvent({\n                    type: \"pointer-change-end\"\n                });\n            }\n        };\n        this.onWheel = (event)=>{\n            this.changeSource = ChangeSource.USER_INTERACTION;\n            const deltaZoom = event.deltaY * (event.deltaMode == 1 ? 18 : 1) * ZOOM_SENSITIVITY / 30;\n            this.userAdjustOrbit(0, 0, deltaZoom);\n            event.preventDefault();\n        };\n        this.onKeyDown = (event)=>{\n            // We track if the key is actually one we respond to, so as not to\n            // accidentally clobber unrelated key inputs when the <model-viewer> has\n            // focus.\n            const { changeSource } = this;\n            this.changeSource = ChangeSource.USER_INTERACTION;\n            const relevantKey = event.shiftKey && this.enablePan ? this.panKeyCodeHandler(event) : this.orbitZoomKeyCodeHandler(event);\n            if (relevantKey) {\n                event.preventDefault();\n            } else {\n                this.changeSource = changeSource;\n            }\n        };\n        this._options = Object.assign({}, DEFAULT_OPTIONS);\n        this.setOrbit(0, Math.PI / 2, 1);\n        this.setFieldOfView(100);\n        this.jumpToGoal();\n    }\n    get interactionEnabled() {\n        return this._interactionEnabled;\n    }\n    enableInteraction() {\n        if (this._interactionEnabled === false) {\n            const { element } = this;\n            element.addEventListener(\"pointerdown\", this.onPointerDown);\n            element.addEventListener(\"pointercancel\", this.onPointerUp);\n            if (!this._disableZoom) {\n                element.addEventListener(\"wheel\", this.onWheel);\n            }\n            element.addEventListener(\"keydown\", this.onKeyDown);\n            // This little beauty is to work around a WebKit bug that otherwise makes\n            // touch events randomly not cancelable.\n            element.addEventListener(\"touchmove\", ()=>{}, {\n                passive: false\n            });\n            element.addEventListener(\"contextmenu\", this.onContext);\n            this.element.style.cursor = \"grab\";\n            this._interactionEnabled = true;\n            this.updateTouchActionStyle();\n        }\n    }\n    disableInteraction() {\n        if (this._interactionEnabled === true) {\n            const { element } = this;\n            element.removeEventListener(\"pointerdown\", this.onPointerDown);\n            element.removeEventListener(\"pointermove\", this.onPointerMove);\n            element.removeEventListener(\"pointerup\", this.onPointerUp);\n            element.removeEventListener(\"pointercancel\", this.onPointerUp);\n            element.removeEventListener(\"wheel\", this.onWheel);\n            element.removeEventListener(\"keydown\", this.onKeyDown);\n            element.removeEventListener(\"contextmenu\", this.onContext);\n            element.style.cursor = \"\";\n            this.touchMode = null;\n            this._interactionEnabled = false;\n            this.updateTouchActionStyle();\n        }\n    }\n    /**\n     * The options that are currently configured for the controls instance.\n     */ get options() {\n        return this._options;\n    }\n    set disableZoom(disable) {\n        if (this._disableZoom != disable) {\n            this._disableZoom = disable;\n            if (disable === true) {\n                this.element.removeEventListener(\"wheel\", this.onWheel);\n            } else {\n                this.element.addEventListener(\"wheel\", this.onWheel);\n            }\n            this.updateTouchActionStyle();\n        }\n    }\n    /**\n     * Copy the spherical values that represent the current camera orbital\n     * position relative to the configured target into a provided Spherical\n     * instance. If no Spherical is provided, a new Spherical will be allocated\n     * to copy the values into. The Spherical that values are copied into is\n     * returned.\n     */ getCameraSpherical(target = new three__WEBPACK_IMPORTED_MODULE_3__.Spherical()) {\n        return target.copy(this.spherical);\n    }\n    /**\n     * Returns the camera's current vertical field of view in degrees.\n     */ getFieldOfView() {\n        return this.camera.fov;\n    }\n    /**\n     * Configure the _options of the controls. Configured _options will be\n     * merged with whatever _options have already been configured for this\n     * controls instance.\n     */ applyOptions(_options) {\n        Object.assign(this._options, _options);\n        // Re-evaluates clamping based on potentially new values for min/max\n        // polar, azimuth and radius:\n        this.setOrbit();\n        this.setFieldOfView(Math.exp(this.goalLogFov));\n    }\n    /**\n     * Sets the near and far planes of the camera.\n     */ updateNearFar(nearPlane, farPlane) {\n        this.camera.near = Math.max(nearPlane, farPlane / 1000);\n        this.camera.far = farPlane;\n        this.camera.updateProjectionMatrix();\n    }\n    /**\n     * Sets the aspect ratio of the camera\n     */ updateAspect(aspect) {\n        this.camera.aspect = aspect;\n        this.camera.updateProjectionMatrix();\n    }\n    /**\n     * Set the absolute orbital goal of the camera. The change will be\n     * applied over a number of frames depending on configured acceleration and\n     * dampening _options.\n     *\n     * Returns true if invoking the method will result in the camera changing\n     * position and/or rotation, otherwise false.\n     */ setOrbit(goalTheta = this.goalSpherical.theta, goalPhi = this.goalSpherical.phi, goalRadius = this.goalSpherical.radius) {\n        const { minimumAzimuthalAngle, maximumAzimuthalAngle, minimumPolarAngle, maximumPolarAngle, minimumRadius, maximumRadius } = this._options;\n        const { theta, phi, radius } = this.goalSpherical;\n        const nextTheta = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(goalTheta, minimumAzimuthalAngle, maximumAzimuthalAngle);\n        if (!isFinite(minimumAzimuthalAngle) && !isFinite(maximumAzimuthalAngle)) {\n            this.spherical.theta = this.wrapAngle(this.spherical.theta - nextTheta) + nextTheta;\n        }\n        const nextPhi = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(goalPhi, minimumPolarAngle, maximumPolarAngle);\n        const nextRadius = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(goalRadius, minimumRadius, maximumRadius);\n        if (nextTheta === theta && nextPhi === phi && nextRadius === radius) {\n            return false;\n        }\n        this.goalSpherical.theta = nextTheta;\n        this.goalSpherical.phi = nextPhi;\n        this.goalSpherical.radius = nextRadius;\n        this.goalSpherical.makeSafe();\n        return true;\n    }\n    /**\n     * Subset of setOrbit() above, which only sets the camera's radius.\n     */ setRadius(radius) {\n        this.goalSpherical.radius = radius;\n        this.setOrbit();\n    }\n    /**\n     * Sets the goal field of view for the camera\n     */ setFieldOfView(fov) {\n        const { minimumFieldOfView, maximumFieldOfView } = this._options;\n        fov = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(fov, minimumFieldOfView, maximumFieldOfView);\n        this.goalLogFov = Math.log(fov);\n    }\n    /**\n     * Sets the smoothing decay time.\n     */ setDamperDecayTime(decayMilliseconds) {\n        this.thetaDamper.setDecayTime(decayMilliseconds);\n        this.phiDamper.setDecayTime(decayMilliseconds);\n        this.radiusDamper.setDecayTime(decayMilliseconds);\n        this.fovDamper.setDecayTime(decayMilliseconds);\n    }\n    /**\n     * Adjust the orbital position of the camera relative to its current orbital\n     * position. Does not let the theta goal get more than pi ahead of the current\n     * theta, which ensures interpolation continues in the direction of the delta.\n     * The deltaZoom parameter adjusts both the field of view and the orbit radius\n     * such that they progress across their allowed ranges in sync.\n     */ adjustOrbit(deltaTheta, deltaPhi, deltaZoom) {\n        const { theta, phi, radius } = this.goalSpherical;\n        const { minimumRadius, maximumRadius, minimumFieldOfView, maximumFieldOfView } = this._options;\n        const dTheta = this.spherical.theta - theta;\n        const dThetaLimit = Math.PI - 0.001;\n        const goalTheta = theta - (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(deltaTheta, -dThetaLimit - dTheta, dThetaLimit - dTheta);\n        const goalPhi = phi - deltaPhi;\n        const deltaRatio = deltaZoom === 0 ? 0 : ((deltaZoom > 0 ? maximumRadius : minimumRadius) - radius) / (Math.log(deltaZoom > 0 ? maximumFieldOfView : minimumFieldOfView) - this.goalLogFov);\n        const goalRadius = radius + deltaZoom * (isFinite(deltaRatio) ? deltaRatio : (maximumRadius - minimumRadius) * 2);\n        this.setOrbit(goalTheta, goalPhi, goalRadius);\n        if (deltaZoom !== 0) {\n            const goalLogFov = this.goalLogFov + deltaZoom;\n            this.setFieldOfView(Math.exp(goalLogFov));\n        }\n    }\n    /**\n     * Move the camera instantly instead of accelerating toward the goal\n     * parameters.\n     */ jumpToGoal() {\n        this.update(0, _Damper_js__WEBPACK_IMPORTED_MODULE_2__.SETTLING_TIME);\n    }\n    /**\n     * Update controls. In most cases, this will result in the camera\n     * interpolating its position and rotation until it lines up with the\n     * designated goal orbital position.\n     *\n     * Time and delta are measured in milliseconds.\n     */ update(_time, delta) {\n        if (this.isStationary()) {\n            return;\n        }\n        const { maximumPolarAngle, maximumRadius } = this._options;\n        const dTheta = this.spherical.theta - this.goalSpherical.theta;\n        if (Math.abs(dTheta) > Math.PI && !isFinite(this._options.minimumAzimuthalAngle) && !isFinite(this._options.maximumAzimuthalAngle)) {\n            this.spherical.theta -= Math.sign(dTheta) * 2 * Math.PI;\n        }\n        this.spherical.theta = this.thetaDamper.update(this.spherical.theta, this.goalSpherical.theta, delta, Math.PI);\n        this.spherical.phi = this.phiDamper.update(this.spherical.phi, this.goalSpherical.phi, delta, maximumPolarAngle);\n        this.spherical.radius = this.radiusDamper.update(this.spherical.radius, this.goalSpherical.radius, delta, maximumRadius);\n        this.logFov = this.fovDamper.update(this.logFov, this.goalLogFov, delta, 1);\n        this.moveCamera();\n    }\n    updateTouchActionStyle() {\n        const { style } = this.element;\n        if (this._interactionEnabled) {\n            const { touchAction } = this._options;\n            if (this._disableZoom && touchAction !== \"none\") {\n                style.touchAction = \"manipulation\";\n            } else {\n                style.touchAction = touchAction;\n            }\n        } else {\n            style.touchAction = \"\";\n        }\n    }\n    isStationary() {\n        return this.goalSpherical.theta === this.spherical.theta && this.goalSpherical.phi === this.spherical.phi && this.goalSpherical.radius === this.spherical.radius && this.goalLogFov === this.logFov;\n    }\n    dispatchChange() {\n        this.dispatchEvent({\n            type: \"change\",\n            source: this.changeSource\n        });\n    }\n    moveCamera() {\n        // Derive the new camera position from the updated spherical:\n        this.spherical.makeSafe();\n        this.camera.position.setFromSpherical(this.spherical);\n        this.camera.setRotationFromEuler(new three__WEBPACK_IMPORTED_MODULE_3__.Euler(this.spherical.phi - Math.PI / 2, this.spherical.theta, 0, \"YXZ\"));\n        if (this.camera.fov !== Math.exp(this.logFov)) {\n            this.camera.fov = Math.exp(this.logFov);\n            this.camera.updateProjectionMatrix();\n        }\n        this.dispatchChange();\n    }\n    userAdjustOrbit(deltaTheta, deltaPhi, deltaZoom) {\n        this.adjustOrbit(deltaTheta * this.orbitSensitivity * this.inputSensitivity, deltaPhi * this.orbitSensitivity * this.inputSensitivity, deltaZoom * this.inputSensitivity);\n        // Always make sure that an initial event is triggered in case there is\n        // contention between user interaction and imperative changes. This initial\n        // event will give external observers that chance to observe that\n        // interaction occurred at all:\n        this.dispatchChange();\n    }\n    // Wraps to between -pi and pi\n    wrapAngle(radians) {\n        const normalized = (radians + Math.PI) / (2 * Math.PI);\n        const wrapped = normalized - Math.floor(normalized);\n        return wrapped * 2 * Math.PI - Math.PI;\n    }\n    pixelLengthToSphericalAngle(pixelLength) {\n        return 2 * Math.PI * pixelLength / this.element.clientHeight;\n    }\n    twoTouchDistance(touchOne, touchTwo) {\n        const { clientX: xOne, clientY: yOne } = touchOne;\n        const { clientX: xTwo, clientY: yTwo } = touchTwo;\n        const xDelta = xTwo - xOne;\n        const yDelta = yTwo - yOne;\n        return Math.sqrt(xDelta * xDelta + yDelta * yDelta);\n    }\n    handleSinglePointerMove(dx, dy) {\n        const deltaTheta = this.pixelLengthToSphericalAngle(dx);\n        const deltaPhi = this.pixelLengthToSphericalAngle(dy);\n        if (this.isUserPointing === false) {\n            this.isUserPointing = true;\n            this.dispatchEvent({\n                type: \"pointer-change-start\"\n            });\n        }\n        this.userAdjustOrbit(deltaTheta, deltaPhi, 0);\n    }\n    initializePan() {\n        const { theta, phi } = this.spherical;\n        const psi = theta - this.scene.yaw;\n        this.panPerPixel = PAN_SENSITIVITY / this.scene.height;\n        this.panProjection.set(-Math.cos(psi), -Math.cos(phi) * Math.sin(psi), 0, 0, Math.sin(phi), 0, Math.sin(psi), -Math.cos(phi) * Math.cos(psi), 0);\n    }\n    movePan(dx, dy) {\n        const { scene } = this;\n        const dxy = vector3.set(dx, dy, 0).multiplyScalar(this.inputSensitivity);\n        const metersPerPixel = this.spherical.radius * Math.exp(this.logFov) * this.panPerPixel;\n        dxy.multiplyScalar(metersPerPixel);\n        const target = scene.getTarget();\n        target.add(dxy.applyMatrix3(this.panProjection));\n        scene.boundingSphere.clampPoint(target, target);\n        scene.setTarget(target.x, target.y, target.z);\n        this.dispatchChange();\n    }\n    recenter(pointer) {\n        if (performance.now() > this.startTime + TAP_MS || Math.abs(pointer.clientX - this.startPointerPosition.clientX) > TAP_DISTANCE || Math.abs(pointer.clientY - this.startPointerPosition.clientY) > TAP_DISTANCE) {\n            return;\n        }\n        const { scene } = this;\n        const hit = scene.positionAndNormalFromPoint(scene.getNDC(pointer.clientX, pointer.clientY));\n        if (hit == null) {\n            const { cameraTarget } = scene.element;\n            scene.element.cameraTarget = \"\";\n            scene.element.cameraTarget = cameraTarget;\n            // Zoom all the way out.\n            this.userAdjustOrbit(0, 0, 1);\n        } else {\n            scene.target.worldToLocal(hit.position);\n            scene.setTarget(hit.position.x, hit.position.y, hit.position.z);\n        }\n    }\n    resetRadius() {\n        const { scene } = this;\n        const hit = scene.positionAndNormalFromPoint(vector2.set(0, 0));\n        if (hit == null) {\n            return;\n        }\n        scene.target.worldToLocal(hit.position);\n        const goalTarget = scene.getTarget();\n        const { theta, phi } = this.spherical;\n        // Set target to surface hit point, except the target is still settling,\n        // so offset the goal accordingly so the transition is smooth even though\n        // this will drift the target slightly away from the hit point.\n        const psi = theta - scene.yaw;\n        const n = vector3.set(Math.sin(phi) * Math.sin(psi), Math.cos(phi), Math.sin(phi) * Math.cos(psi));\n        const dr = n.dot(hit.position.sub(goalTarget));\n        goalTarget.add(n.multiplyScalar(dr));\n        scene.setTarget(goalTarget.x, goalTarget.y, goalTarget.z);\n        // Change the camera radius to match the change in target so that the\n        // camera itself does not move, unless it hits a radius bound.\n        this.setOrbit(undefined, undefined, this.goalSpherical.radius - dr);\n    }\n    onTouchChange(event) {\n        if (this.pointers.length === 1) {\n            this.touchMode = this.touchModeRotate;\n        } else {\n            if (this._disableZoom) {\n                this.touchMode = null;\n                this.element.removeEventListener(\"touchmove\", this.disableScroll);\n                return;\n            }\n            this.touchMode = this.touchDecided && this.touchMode === null ? null : this.touchModeZoom;\n            this.touchDecided = true;\n            this.element.addEventListener(\"touchmove\", this.disableScroll, {\n                passive: false\n            });\n            this.lastSeparation = this.twoTouchDistance(this.pointers[0], this.pointers[1]);\n            if (this.enablePan && this.touchMode != null) {\n                this.initializePan();\n                if (!event.altKey) {\n                    this.scene.element[_features_controls_js__WEBPACK_IMPORTED_MODULE_0__.$panElement].style.opacity = 1;\n                }\n            }\n        }\n    }\n    onMouseDown(event) {\n        this.panPerPixel = 0;\n        if (this.enablePan && (event.button === 2 || event.ctrlKey || event.metaKey || event.shiftKey)) {\n            this.initializePan();\n            this.scene.element[_features_controls_js__WEBPACK_IMPORTED_MODULE_0__.$panElement].style.opacity = 1;\n        }\n        this.element.style.cursor = \"grabbing\";\n    }\n    /**\n     * Handles the orbit and Zoom key presses\n     * Uses constants for the increment.\n     * @param event The keyboard event for the .key value\n     * @returns boolean to indicate if the key event has been handled\n     */ orbitZoomKeyCodeHandler(event) {\n        let relevantKey = true;\n        switch(event.key){\n            case \"PageUp\":\n                this.userAdjustOrbit(0, 0, ZOOM_SENSITIVITY);\n                break;\n            case \"PageDown\":\n                this.userAdjustOrbit(0, 0, -1 * ZOOM_SENSITIVITY);\n                break;\n            case \"ArrowUp\":\n                this.userAdjustOrbit(0, -KEYBOARD_ORBIT_INCREMENT, 0);\n                break;\n            case \"ArrowDown\":\n                this.userAdjustOrbit(0, KEYBOARD_ORBIT_INCREMENT, 0);\n                break;\n            case \"ArrowLeft\":\n                this.userAdjustOrbit(-KEYBOARD_ORBIT_INCREMENT, 0, 0);\n                break;\n            case \"ArrowRight\":\n                this.userAdjustOrbit(KEYBOARD_ORBIT_INCREMENT, 0, 0);\n                break;\n            default:\n                relevantKey = false;\n                break;\n        }\n        return relevantKey;\n    }\n    /**\n     * Handles the Pan key presses\n     * Uses constants for the increment.\n     * @param event The keyboard event for the .key value\n     * @returns boolean to indicate if the key event has been handled\n     */ panKeyCodeHandler(event) {\n        this.initializePan();\n        let relevantKey = true;\n        switch(event.key){\n            case \"ArrowUp\":\n                this.movePan(0, -1 * PAN_KEY_INCREMENT); // This is the negative one so that the\n                break;\n            case \"ArrowDown\":\n                this.movePan(0, PAN_KEY_INCREMENT);\n                break;\n            case \"ArrowLeft\":\n                this.movePan(-1 * PAN_KEY_INCREMENT, 0);\n                break;\n            case \"ArrowRight\":\n                this.movePan(PAN_KEY_INCREMENT, 0);\n                break;\n            default:\n                relevantKey = false;\n                break;\n        }\n        return relevantKey;\n    }\n} //# sourceMappingURL=SmoothControls.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvU21vb3RoQ29udHJvbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7O0NBWUMsR0FDb0Y7QUFDL0I7QUFDZDtBQUNZO0FBQ3BELE1BQU1VLGtCQUFrQjtBQUN4QixNQUFNQyxlQUFlO0FBQ3JCLE1BQU1DLFNBQVM7QUFDZixNQUFNQyxVQUFVLElBQUlULDBDQUFPQTtBQUMzQixNQUFNVSxVQUFVLElBQUlULDBDQUFPQTtBQUNwQixNQUFNVSxrQkFBa0JDLE9BQU9DLE1BQU0sQ0FBQztJQUN6Q0MsZUFBZTtJQUNmQyxlQUFlQztJQUNmQyxtQkFBbUJDLEtBQUtDLEVBQUUsR0FBRztJQUM3QkMsbUJBQW1CRixLQUFLQyxFQUFFLEdBQUdELEtBQUtDLEVBQUUsR0FBRztJQUN2Q0UsdUJBQXVCLENBQUNMO0lBQ3hCTSx1QkFBdUJOO0lBQ3ZCTyxvQkFBb0I7SUFDcEJDLG9CQUFvQjtJQUNwQkMsYUFBYTtBQUNqQixHQUFHO0FBQ0gsWUFBWTtBQUNaLE1BQU1DLDJCQUEyQlIsS0FBS0MsRUFBRSxHQUFHO0FBQzNDLE1BQU1RLG1CQUFtQjtBQUN6QixpQ0FBaUM7QUFDakMsTUFBTUMsb0JBQW9CO0FBQ25CLE1BQU1DLFVBQVU7SUFDbkJDLFNBQVM7SUFDVEMsV0FBVztJQUNYQyxNQUFNO0lBQ05DLElBQUk7SUFDSkMsT0FBTztJQUNQQyxNQUFNO0FBQ1YsRUFBRTtBQUNLLE1BQU1DLGVBQWU7SUFDeEJDLGtCQUFrQjtJQUNsQkMsTUFBTTtJQUNOQyxXQUFXO0FBQ2YsRUFBRTtBQUNGOzs7Ozs7Ozs7Ozs7Ozs7OztDQWlCQyxHQUNNLE1BQU1DLHVCQUF1QjNDLGtEQUFlQTtJQUMvQzRDLFlBQVlDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxLQUFLLENBQUU7UUFDaEMsS0FBSztRQUNMLElBQUksQ0FBQ0YsTUFBTSxHQUFHQTtRQUNk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R0FDREUsa0JBQWtCekQsS0FBSyxFQUFFO1FBQ3JCLElBQUksQ0FBQ3NJLGFBQWE7UUFDbEIsSUFBSS9FLGNBQWM7UUFDbEIsT0FBUXZELE1BQU1zSyxHQUFHO1lBQ2IsS0FBSztnQkFDRCxJQUFJLENBQUN0SixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUk3RCxvQkFBb0IsdUNBQXVDO2dCQUdoRjtZQUNKLEtBQUs7Z0JBQ0QsSUFBSSxDQUFDNkQsT0FBTyxDQUFDLEdBQUc3RDtnQkFDaEI7WUFDSixLQUFLO2dCQUNELElBQUksQ0FBQzZELE9BQU8sQ0FBQyxDQUFDLElBQUk3RCxtQkFBbUI7Z0JBQ3JDO1lBQ0osS0FBSztnQkFDRCxJQUFJLENBQUM2RCxPQUFPLENBQUM3RCxtQkFBbUI7Z0JBQ2hDO1lBQ0o7Z0JBQ0lvRyxjQUFjO2dCQUNkO1FBQ1I7UUFDQSxPQUFPQTtJQUNYO0FBQ0osRUFDQSwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi90aHJlZS1jb21wb25lbnRzL1Ntb290aENvbnRyb2xzLmpzPzU1ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBFdWxlciwgRXZlbnREaXNwYXRjaGVyLCBNYXRyaXgzLCBTcGhlcmljYWwsIFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyAkcGFuRWxlbWVudCB9IGZyb20gJy4uL2ZlYXR1cmVzL2NvbnRyb2xzLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IERhbXBlciwgU0VUVExJTkdfVElNRSB9IGZyb20gJy4vRGFtcGVyLmpzJztcbmNvbnN0IFBBTl9TRU5TSVRJVklUWSA9IDAuMDE4O1xuY29uc3QgVEFQX0RJU1RBTkNFID0gMjtcbmNvbnN0IFRBUF9NUyA9IDMwMDtcbmNvbnN0IHZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuY29uc3QgdmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XG5leHBvcnQgY29uc3QgREVGQVVMVF9PUFRJT05TID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgbWluaW11bVJhZGl1czogMCxcbiAgICBtYXhpbXVtUmFkaXVzOiBJbmZpbml0eSxcbiAgICBtaW5pbXVtUG9sYXJBbmdsZTogTWF0aC5QSSAvIDgsXG4gICAgbWF4aW11bVBvbGFyQW5nbGU6IE1hdGguUEkgLSBNYXRoLlBJIC8gOCxcbiAgICBtaW5pbXVtQXppbXV0aGFsQW5nbGU6IC1JbmZpbml0eSxcbiAgICBtYXhpbXVtQXppbXV0aGFsQW5nbGU6IEluZmluaXR5LFxuICAgIG1pbmltdW1GaWVsZE9mVmlldzogMTAsXG4gICAgbWF4aW11bUZpZWxkT2ZWaWV3OiA0NSxcbiAgICB0b3VjaEFjdGlvbjogJ25vbmUnXG59KTtcbi8vIENvbnN0YW50c1xuY29uc3QgS0VZQk9BUkRfT1JCSVRfSU5DUkVNRU5UID0gTWF0aC5QSSAvIDg7XG5jb25zdCBaT09NX1NFTlNJVElWSVRZID0gMC4wNDtcbi8vIFRoZSBtb3ZlIHNpemUgb24gcGFuIGtleSBldmVudFxuY29uc3QgUEFOX0tFWV9JTkNSRU1FTlQgPSAxMDtcbmV4cG9ydCBjb25zdCBLZXlDb2RlID0ge1xuICAgIFBBR0VfVVA6IDMzLFxuICAgIFBBR0VfRE9XTjogMzQsXG4gICAgTEVGVDogMzcsXG4gICAgVVA6IDM4LFxuICAgIFJJR0hUOiAzOSxcbiAgICBET1dOOiA0MFxufTtcbmV4cG9ydCBjb25zdCBDaGFuZ2VTb3VyY2UgPSB7XG4gICAgVVNFUl9JTlRFUkFDVElPTjogJ3VzZXItaW50ZXJhY3Rpb24nLFxuICAgIE5PTkU6ICdub25lJyxcbiAgICBBVVRPTUFUSUM6ICdhdXRvbWF0aWMnXG59O1xuLyoqXG4gKiBTbW9vdGhDb250cm9scyBpcyBhIFRocmVlLmpzIGhlbHBlciBmb3IgYWRkaW5nIGRlbGlnaHRmdWwgcG9pbnRlciBhbmRcbiAqIGtleWJvYXJkLWJhc2VkIGlucHV0IHRvIGEgc3RhZ2VkIFRocmVlLmpzIHNjZW5lLiBJdHMgQVBJIGlzIHZlcnkgc2ltaWxhciB0b1xuICogT3JiaXRDb250cm9scywgYnV0IGl0IG9mZmVycyBtb3JlIG9waW5pb25hdGVkIChzdWJqZWN0aXZlbHkgbW9yZSBkZWxpZ2h0ZnVsKVxuICogZGVmYXVsdHMsIGVhc3kgZXh0ZW5zaWJpbGl0eSBhbmQgc3ViamVjdGl2ZWx5IGJldHRlciBvdXQtb2YtdGhlLWJveCBrZXlib2FyZFxuICogc3VwcG9ydC5cbiAqXG4gKiBPbmUgaW1wb3J0YW50IGNoYW5nZSBjb21wYXJlZCB0byBPcmJpdENvbnRyb2xzIGlzIHRoYXQgdGhlIGB1cGRhdGVgIG1ldGhvZFxuICogb2YgU21vb3RoQ29udHJvbHMgbXVzdCBiZSBpbnZva2VkIG9uIGV2ZXJ5IGZyYW1lLCBvdGhlcndpc2UgdGhlIGNvbnRyb2xzXG4gKiB3aWxsIG5vdCBoYXZlIGFuIGVmZmVjdC5cbiAqXG4gKiBBbm90aGVyIG5vdGFibGUgZGlmZmVyZW5jZSBjb21wYXJlZCB0byBPcmJpdENvbnRyb2xzIGlzIHRoYXQgU21vb3RoQ29udHJvbHNcbiAqIGRvZXMgbm90IGN1cnJlbnRseSBzdXBwb3J0IHBhbm5pbmcgKGJ1dCBwcm9iYWJseSB3aWxsIGluIGEgZnV0dXJlIHJldmlzaW9uKS5cbiAqXG4gKiBMaWtlIE9yYml0Q29udHJvbHMsIFNtb290aENvbnRyb2xzIGFzc3VtZXMgdGhhdCB0aGUgb3JpZW50YXRpb24gb2YgdGhlIGNhbWVyYVxuICogaGFzIGJlZW4gc2V0IGluIHRlcm1zIG9mIHBvc2l0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGUsIHNvIGl0IGlzIGltcG9ydGFudCB0b1xuICogZW5zdXJlIHRoYXQgdGhlIGNhbWVyYSdzIG1hdHJpeFdvcmxkIGlzIGluIHN5bmMgYmVmb3JlIHVzaW5nIFNtb290aENvbnRyb2xzLlxuICovXG5leHBvcnQgY2xhc3MgU21vb3RoQ29udHJvbHMgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKGNhbWVyYSwgZWxlbWVudCwgc2NlbmUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICAgICAgdGhpcy5vcmJpdFNlbnNpdGl2aXR5ID0gMTtcbiAgICAgICAgdGhpcy5pbnB1dFNlbnNpdGl2aXR5ID0gMTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTb3VyY2UgPSBDaGFuZ2VTb3VyY2UuTk9ORTtcbiAgICAgICAgdGhpcy5faW50ZXJhY3Rpb25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVab29tID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNVc2VyUG9pbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gUGFuIHN0YXRlXG4gICAgICAgIHRoaXMuZW5hYmxlUGFuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbmFibGVUYXAgPSB0cnVlO1xuICAgICAgICB0aGlzLnBhblByb2plY3Rpb24gPSBuZXcgTWF0cml4MygpO1xuICAgICAgICB0aGlzLnBhblBlclBpeGVsID0gMDtcbiAgICAgICAgLy8gSW50ZXJuYWwgb3JiaXRhbCBwb3NpdGlvbiBzdGF0ZVxuICAgICAgICB0aGlzLnNwaGVyaWNhbCA9IG5ldyBTcGhlcmljYWwoKTtcbiAgICAgICAgdGhpcy5nb2FsU3BoZXJpY2FsID0gbmV3IFNwaGVyaWNhbCgpO1xuICAgICAgICB0aGlzLnRoZXRhRGFtcGVyID0gbmV3IERhbXBlcigpO1xuICAgICAgICB0aGlzLnBoaURhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy5yYWRpdXNEYW1wZXIgPSBuZXcgRGFtcGVyKCk7XG4gICAgICAgIHRoaXMubG9nRm92ID0gTWF0aC5sb2coREVGQVVMVF9PUFRJT05TLm1heGltdW1GaWVsZE9mVmlldyk7XG4gICAgICAgIHRoaXMuZ29hbExvZ0ZvdiA9IHRoaXMubG9nRm92O1xuICAgICAgICB0aGlzLmZvdkRhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgLy8gUG9pbnRlciBzdGF0ZVxuICAgICAgICB0aGlzLnRvdWNoTW9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0UG9pbnRlclBvc2l0aW9uID0geyBjbGllbnRYOiAwLCBjbGllbnRZOiAwIH07XG4gICAgICAgIHRoaXMubGFzdFNlcGFyYXRpb24gPSAwO1xuICAgICAgICB0aGlzLnRvdWNoRGVjaWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQ29udGV4dCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUGFuKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcG9pbnRlciBvZiB0aGlzLnBvaW50ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcXVpcmVkIGJlY2F1c2Ugb2YgYSBjb21tb24gYnJvd3NlciBidWcgd2hlcmUgdGhlIGNvbnRleHQgbWVudSBuZXZlclxuICAgICAgICAgICAgICAgICAgICAvLyBmaXJlcyBhIHBvaW50ZXJjYW5jZWwgZXZlbnQuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Qb2ludGVyVXAobmV3IFBvaW50ZXJFdmVudCgncG9pbnRlcmNhbmNlbCcsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGFydFBvaW50ZXJQb3NpdGlvbiksIHsgcG9pbnRlcklkOiBwb2ludGVyLmlkIH0pKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRvdWNoTW9kZVpvb20gPSAoZHgsIGR5KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Rpc2FibGVab29tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2hEaXN0YW5jZSA9IHRoaXMudHdvVG91Y2hEaXN0YW5jZSh0aGlzLnBvaW50ZXJzWzBdLCB0aGlzLnBvaW50ZXJzWzFdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVpvb20gPSBaT09NX1NFTlNJVElWSVRZICpcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMubGFzdFNlcGFyYXRpb24gLSB0b3VjaERpc3RhbmNlKSAqIDUwIC8gdGhpcy5zY2VuZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U2VwYXJhdGlvbiA9IHRvdWNoRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgdGhpcy51c2VyQWRqdXN0T3JiaXQoMCwgMCwgZGVsdGFab29tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBhblBlclBpeGVsID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZVBhbihkeCwgZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBXZSBpbXBsZW1lbnQgb3VyIG93biB2ZXJzaW9uIG9mIHRoZSBicm93c2VyJ3MgQ1NTIHRvdWNoLWFjdGlvbiwgZW5mb3JjZWQgYnlcbiAgICAgICAgLy8gdGhpcyBmdW5jdGlvbiwgYmVjYXVzZSB0aGUgaU9TIGltcGxlbWVudGF0aW9uIG9mIHBhbi15IGlzIGJhZCBhbmQgZG9lc24ndFxuICAgICAgICAvLyBtYXRjaCBBbmRyb2lkLiBTcGVjaWZpY2FsbHksIGV2ZW4gaWYgYSB0b3VjaCBnZXN0dXJlIGJlZ2lucyBieSBwYW5uaW5nIFgsXG4gICAgICAgIC8vIGlPUyB3aWxsIHN3aXRjaCB0byBzY3JvbGxpbmcgYXMgc29vbiBhcyB0aGUgZ2VzdHVyZSBtb3ZlcyBpbiB0aGUgWSwgcmF0aGVyXG4gICAgICAgIC8vIHRoYW4gc3RheWluZyBpbiB0aGUgc2FtZSBtb2RlIHVudGlsIHRoZSBlbmQgb2YgdGhlIGdlc3R1cmUuXG4gICAgICAgIHRoaXMuZGlzYWJsZVNjcm9sbCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50b3VjaE1vZGVSb3RhdGUgPSAoZHgsIGR5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHRvdWNoQWN0aW9uIH0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRvdWNoRGVjaWRlZCAmJiB0b3VjaEFjdGlvbiAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaERlY2lkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR4TWFnID0gTWF0aC5hYnMoZHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR5TWFnID0gTWF0aC5hYnMoZHkpO1xuICAgICAgICAgICAgICAgIC8vIElmIG1vdGlvbiBpcyBtb3N0bHkgdmVydGljYWwsIGFzc3VtZSBzY3JvbGxpbmcgaXMgdGhlIGludGVudC5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFuZ2VTb3VyY2UgPT09IENoYW5nZVNvdXJjZS5VU0VSX0lOVEVSQUNUSU9OICYmXG4gICAgICAgICAgICAgICAgICAgICgodG91Y2hBY3Rpb24gPT09ICdwYW4teScgJiYgZHlNYWcgPiBkeE1hZykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0b3VjaEFjdGlvbiA9PT0gJ3Bhbi14JyAmJiBkeE1hZyA+IGR5TWFnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3VjaE1vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5kaXNhYmxlU2Nyb2xsLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2luZ2xlUG9pbnRlck1vdmUoZHgsIGR5KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludGVycy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoTW9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaERlY2lkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UG9pbnRlclBvc2l0aW9uLmNsaWVudFggPSBldmVudC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb2ludGVyUG9zaXRpb24uY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJzLnB1c2goeyBjbGllbnRYOiBldmVudC5jbGllbnRYLCBjbGllbnRZOiBldmVudC5jbGllbnRZLCBpZDogZXZlbnQucG9pbnRlcklkIH0pO1xuICAgICAgICAgICAgdGhpcy5pc1VzZXJQb2ludGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTb3VyY2UgPSBldmVudC5hbHRLZXkgPyAvLyBzZXQgYnkgaW50ZXJhY3QoKSBpbiBjb250cm9scy50c1xuICAgICAgICAgICAgICAgICAgICBDaGFuZ2VTb3VyY2UuQVVUT01BVElDIDpcbiAgICAgICAgICAgICAgICAgICAgQ2hhbmdlU291cmNlLlVTRVJfSU5URVJBQ1RJT047XG4gICAgICAgICAgICAgICAgdGhpcy5vblRvdWNoQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gQ2hhbmdlU291cmNlLlVTRVJfSU5URVJBQ1RJT047XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlRG93bihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRlciA9IHRoaXMucG9pbnRlcnMuZmluZCgocG9pbnRlcikgPT4gcG9pbnRlci5pZCA9PT0gZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgIGlmIChwb2ludGVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBudW1Ub3VjaGVzID0gdGhpcy5wb2ludGVycy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBkeCA9IChldmVudC5jbGllbnRYIC0gcG9pbnRlci5jbGllbnRYKSAvIG51bVRvdWNoZXM7XG4gICAgICAgICAgICBjb25zdCBkeSA9IChldmVudC5jbGllbnRZIC0gcG9pbnRlci5jbGllbnRZKSAvIG51bVRvdWNoZXM7XG4gICAgICAgICAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2ludGVyLmNsaWVudFggPSBldmVudC5jbGllbnRYO1xuICAgICAgICAgICAgcG9pbnRlci5jbGllbnRZID0gZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gZXZlbnQuYWx0S2V5ID8gLy8gc2V0IGJ5IGludGVyYWN0KCkgaW4gY29udHJvbHMudHNcbiAgICAgICAgICAgICAgICAgICAgQ2hhbmdlU291cmNlLkFVVE9NQVRJQyA6XG4gICAgICAgICAgICAgICAgICAgIENoYW5nZVNvdXJjZS5VU0VSX0lOVEVSQUNUSU9OO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvdWNoTW9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdWNoTW9kZShkeCwgZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gQ2hhbmdlU291cmNlLlVTRVJfSU5URVJBQ1RJT047XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFuUGVyUGl4ZWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVBhbihkeCwgZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTaW5nbGVQb2ludGVyTW92ZShkeCwgZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBvaW50ZXJzLmZpbmRJbmRleCgocG9pbnRlcikgPT4gcG9pbnRlci5pZCA9PT0gZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhbHRLZXkgaW5kaWNhdGVzIGFuIGludGVyYWN0aW9uIHByb21wdDsgZG9uJ3QgcmVzZXQgcmFkaXVzIGluIHRoaXMgY2FzZVxuICAgICAgICAgICAgLy8gYXMgaXQgd2lsbCBjYXVzZSB0aGUgY2FtZXJhIHRvIGRyaWZ0LlxuICAgICAgICAgICAgaWYgKHRoaXMucGFuUGVyUGl4ZWwgPiAwICYmICFldmVudC5hbHRLZXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UmFkaXVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXApO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5kaXNhYmxlU2Nyb2xsKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVQYW4gJiYgdGhpcy5lbmFibGVUYXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNlbnRlcihldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50b3VjaE1vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVG91Y2hDaGFuZ2UoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5lbGVtZW50WyRwYW5FbGVtZW50XS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuY3Vyc29yID0gJ2dyYWInO1xuICAgICAgICAgICAgdGhpcy5wYW5QZXJQaXhlbCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1VzZXJQb2ludGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICdwb2ludGVyLWNoYW5nZS1lbmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uV2hlZWwgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gQ2hhbmdlU291cmNlLlVTRVJfSU5URVJBQ1RJT047XG4gICAgICAgICAgICBjb25zdCBkZWx0YVpvb20gPSBldmVudC5kZWx0YVkgKlxuICAgICAgICAgICAgICAgIChldmVudC5kZWx0YU1vZGUgPT0gMSA/IDE4IDogMSkgKiBaT09NX1NFTlNJVElWSVRZIC8gMzA7XG4gICAgICAgICAgICB0aGlzLnVzZXJBZGp1c3RPcmJpdCgwLCAwLCBkZWx0YVpvb20pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbktleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIFdlIHRyYWNrIGlmIHRoZSBrZXkgaXMgYWN0dWFsbHkgb25lIHdlIHJlc3BvbmQgdG8sIHNvIGFzIG5vdCB0b1xuICAgICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IGNsb2JiZXIgdW5yZWxhdGVkIGtleSBpbnB1dHMgd2hlbiB0aGUgPG1vZGVsLXZpZXdlcj4gaGFzXG4gICAgICAgICAgICAvLyBmb2N1cy5cbiAgICAgICAgICAgIGNvbnN0IHsgY2hhbmdlU291cmNlIH0gPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTb3VyY2UgPSBDaGFuZ2VTb3VyY2UuVVNFUl9JTlRFUkFDVElPTjtcbiAgICAgICAgICAgIGNvbnN0IHJlbGV2YW50S2V5ID0gKGV2ZW50LnNoaWZ0S2V5ICYmIHRoaXMuZW5hYmxlUGFuKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5wYW5LZXlDb2RlSGFuZGxlcihldmVudCkgOlxuICAgICAgICAgICAgICAgIHRoaXMub3JiaXRab29tS2V5Q29kZUhhbmRsZXIoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKHJlbGV2YW50S2V5KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gY2hhbmdlU291cmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9PUFRJT05TKTtcbiAgICAgICAgdGhpcy5zZXRPcmJpdCgwLCBNYXRoLlBJIC8gMiwgMSk7XG4gICAgICAgIHRoaXMuc2V0RmllbGRPZlZpZXcoMTAwKTtcbiAgICAgICAgdGhpcy5qdW1wVG9Hb2FsKCk7XG4gICAgfVxuICAgIGdldCBpbnRlcmFjdGlvbkVuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGlvbkVuYWJsZWQ7XG4gICAgfVxuICAgIGVuYWJsZUludGVyYWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5faW50ZXJhY3Rpb25FbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93bik7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlclVwKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGlzYWJsZVpvb20pIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5vbldoZWVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duKTtcbiAgICAgICAgICAgIC8vIFRoaXMgbGl0dGxlIGJlYXV0eSBpcyB0byB3b3JrIGFyb3VuZCBhIFdlYktpdCBidWcgdGhhdCBvdGhlcndpc2UgbWFrZXNcbiAgICAgICAgICAgIC8vIHRvdWNoIGV2ZW50cyByYW5kb21seSBub3QgY2FuY2VsYWJsZS5cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgKCkgPT4geyB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMub25Db250ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnZ3JhYic7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcmFjdGlvbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3VjaEFjdGlvblN0eWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzYWJsZUludGVyYWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5faW50ZXJhY3Rpb25FbmFibGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHRoaXM7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyVXApO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25XaGVlbCk7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bik7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5vbkNvbnRleHQpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnJztcbiAgICAgICAgICAgIHRoaXMudG91Y2hNb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVyYWN0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3VjaEFjdGlvblN0eWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG9wdGlvbnMgdGhhdCBhcmUgY3VycmVudGx5IGNvbmZpZ3VyZWQgZm9yIHRoZSBjb250cm9scyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gICAgfVxuICAgIHNldCBkaXNhYmxlWm9vbShkaXNhYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9kaXNhYmxlWm9vbSAhPSBkaXNhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlWm9vbSA9IGRpc2FibGU7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25XaGVlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLm9uV2hlZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3VjaEFjdGlvblN0eWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgc3BoZXJpY2FsIHZhbHVlcyB0aGF0IHJlcHJlc2VudCB0aGUgY3VycmVudCBjYW1lcmEgb3JiaXRhbFxuICAgICAqIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBjb25maWd1cmVkIHRhcmdldCBpbnRvIGEgcHJvdmlkZWQgU3BoZXJpY2FsXG4gICAgICogaW5zdGFuY2UuIElmIG5vIFNwaGVyaWNhbCBpcyBwcm92aWRlZCwgYSBuZXcgU3BoZXJpY2FsIHdpbGwgYmUgYWxsb2NhdGVkXG4gICAgICogdG8gY29weSB0aGUgdmFsdWVzIGludG8uIFRoZSBTcGhlcmljYWwgdGhhdCB2YWx1ZXMgYXJlIGNvcGllZCBpbnRvIGlzXG4gICAgICogcmV0dXJuZWQuXG4gICAgICovXG4gICAgZ2V0Q2FtZXJhU3BoZXJpY2FsKHRhcmdldCA9IG5ldyBTcGhlcmljYWwoKSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0LmNvcHkodGhpcy5zcGhlcmljYWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjYW1lcmEncyBjdXJyZW50IHZlcnRpY2FsIGZpZWxkIG9mIHZpZXcgaW4gZGVncmVlcy5cbiAgICAgKi9cbiAgICBnZXRGaWVsZE9mVmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FtZXJhLmZvdjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIHRoZSBfb3B0aW9ucyBvZiB0aGUgY29udHJvbHMuIENvbmZpZ3VyZWQgX29wdGlvbnMgd2lsbCBiZVxuICAgICAqIG1lcmdlZCB3aXRoIHdoYXRldmVyIF9vcHRpb25zIGhhdmUgYWxyZWFkeSBiZWVuIGNvbmZpZ3VyZWQgZm9yIHRoaXNcbiAgICAgKiBjb250cm9scyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBhcHBseU9wdGlvbnMoX29wdGlvbnMpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9vcHRpb25zLCBfb3B0aW9ucyk7XG4gICAgICAgIC8vIFJlLWV2YWx1YXRlcyBjbGFtcGluZyBiYXNlZCBvbiBwb3RlbnRpYWxseSBuZXcgdmFsdWVzIGZvciBtaW4vbWF4XG4gICAgICAgIC8vIHBvbGFyLCBhemltdXRoIGFuZCByYWRpdXM6XG4gICAgICAgIHRoaXMuc2V0T3JiaXQoKTtcbiAgICAgICAgdGhpcy5zZXRGaWVsZE9mVmlldyhNYXRoLmV4cCh0aGlzLmdvYWxMb2dGb3YpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmVhciBhbmQgZmFyIHBsYW5lcyBvZiB0aGUgY2FtZXJhLlxuICAgICAqL1xuICAgIHVwZGF0ZU5lYXJGYXIobmVhclBsYW5lLCBmYXJQbGFuZSkge1xuICAgICAgICB0aGlzLmNhbWVyYS5uZWFyID0gTWF0aC5tYXgobmVhclBsYW5lLCBmYXJQbGFuZSAvIDEwMDApO1xuICAgICAgICB0aGlzLmNhbWVyYS5mYXIgPSBmYXJQbGFuZTtcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGNhbWVyYVxuICAgICAqL1xuICAgIHVwZGF0ZUFzcGVjdChhc3BlY3QpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gYXNwZWN0O1xuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYWJzb2x1dGUgb3JiaXRhbCBnb2FsIG9mIHRoZSBjYW1lcmEuIFRoZSBjaGFuZ2Ugd2lsbCBiZVxuICAgICAqIGFwcGxpZWQgb3ZlciBhIG51bWJlciBvZiBmcmFtZXMgZGVwZW5kaW5nIG9uIGNvbmZpZ3VyZWQgYWNjZWxlcmF0aW9uIGFuZFxuICAgICAqIGRhbXBlbmluZyBfb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBpbnZva2luZyB0aGUgbWV0aG9kIHdpbGwgcmVzdWx0IGluIHRoZSBjYW1lcmEgY2hhbmdpbmdcbiAgICAgKiBwb3NpdGlvbiBhbmQvb3Igcm90YXRpb24sIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBzZXRPcmJpdChnb2FsVGhldGEgPSB0aGlzLmdvYWxTcGhlcmljYWwudGhldGEsIGdvYWxQaGkgPSB0aGlzLmdvYWxTcGhlcmljYWwucGhpLCBnb2FsUmFkaXVzID0gdGhpcy5nb2FsU3BoZXJpY2FsLnJhZGl1cykge1xuICAgICAgICBjb25zdCB7IG1pbmltdW1BemltdXRoYWxBbmdsZSwgbWF4aW11bUF6aW11dGhhbEFuZ2xlLCBtaW5pbXVtUG9sYXJBbmdsZSwgbWF4aW11bVBvbGFyQW5nbGUsIG1pbmltdW1SYWRpdXMsIG1heGltdW1SYWRpdXMgfSA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdGhldGEsIHBoaSwgcmFkaXVzIH0gPSB0aGlzLmdvYWxTcGhlcmljYWw7XG4gICAgICAgIGNvbnN0IG5leHRUaGV0YSA9IGNsYW1wKGdvYWxUaGV0YSwgbWluaW11bUF6aW11dGhhbEFuZ2xlLCBtYXhpbXVtQXppbXV0aGFsQW5nbGUpO1xuICAgICAgICBpZiAoIWlzRmluaXRlKG1pbmltdW1BemltdXRoYWxBbmdsZSkgJiZcbiAgICAgICAgICAgICFpc0Zpbml0ZShtYXhpbXVtQXppbXV0aGFsQW5nbGUpKSB7XG4gICAgICAgICAgICB0aGlzLnNwaGVyaWNhbC50aGV0YSA9XG4gICAgICAgICAgICAgICAgdGhpcy53cmFwQW5nbGUodGhpcy5zcGhlcmljYWwudGhldGEgLSBuZXh0VGhldGEpICsgbmV4dFRoZXRhO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRQaGkgPSBjbGFtcChnb2FsUGhpLCBtaW5pbXVtUG9sYXJBbmdsZSwgbWF4aW11bVBvbGFyQW5nbGUpO1xuICAgICAgICBjb25zdCBuZXh0UmFkaXVzID0gY2xhbXAoZ29hbFJhZGl1cywgbWluaW11bVJhZGl1cywgbWF4aW11bVJhZGl1cyk7XG4gICAgICAgIGlmIChuZXh0VGhldGEgPT09IHRoZXRhICYmIG5leHRQaGkgPT09IHBoaSAmJiBuZXh0UmFkaXVzID09PSByYWRpdXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdvYWxTcGhlcmljYWwudGhldGEgPSBuZXh0VGhldGE7XG4gICAgICAgIHRoaXMuZ29hbFNwaGVyaWNhbC5waGkgPSBuZXh0UGhpO1xuICAgICAgICB0aGlzLmdvYWxTcGhlcmljYWwucmFkaXVzID0gbmV4dFJhZGl1cztcbiAgICAgICAgdGhpcy5nb2FsU3BoZXJpY2FsLm1ha2VTYWZlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJzZXQgb2Ygc2V0T3JiaXQoKSBhYm92ZSwgd2hpY2ggb25seSBzZXRzIHRoZSBjYW1lcmEncyByYWRpdXMuXG4gICAgICovXG4gICAgc2V0UmFkaXVzKHJhZGl1cykge1xuICAgICAgICB0aGlzLmdvYWxTcGhlcmljYWwucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICB0aGlzLnNldE9yYml0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdvYWwgZmllbGQgb2YgdmlldyBmb3IgdGhlIGNhbWVyYVxuICAgICAqL1xuICAgIHNldEZpZWxkT2ZWaWV3KGZvdikge1xuICAgICAgICBjb25zdCB7IG1pbmltdW1GaWVsZE9mVmlldywgbWF4aW11bUZpZWxkT2ZWaWV3IH0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBmb3YgPSBjbGFtcChmb3YsIG1pbmltdW1GaWVsZE9mVmlldywgbWF4aW11bUZpZWxkT2ZWaWV3KTtcbiAgICAgICAgdGhpcy5nb2FsTG9nRm92ID0gTWF0aC5sb2coZm92KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc21vb3RoaW5nIGRlY2F5IHRpbWUuXG4gICAgICovXG4gICAgc2V0RGFtcGVyRGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMudGhldGFEYW1wZXIuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5waGlEYW1wZXIuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5yYWRpdXNEYW1wZXIuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5mb3ZEYW1wZXIuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRqdXN0IHRoZSBvcmJpdGFsIHBvc2l0aW9uIG9mIHRoZSBjYW1lcmEgcmVsYXRpdmUgdG8gaXRzIGN1cnJlbnQgb3JiaXRhbFxuICAgICAqIHBvc2l0aW9uLiBEb2VzIG5vdCBsZXQgdGhlIHRoZXRhIGdvYWwgZ2V0IG1vcmUgdGhhbiBwaSBhaGVhZCBvZiB0aGUgY3VycmVudFxuICAgICAqIHRoZXRhLCB3aGljaCBlbnN1cmVzIGludGVycG9sYXRpb24gY29udGludWVzIGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGRlbHRhLlxuICAgICAqIFRoZSBkZWx0YVpvb20gcGFyYW1ldGVyIGFkanVzdHMgYm90aCB0aGUgZmllbGQgb2YgdmlldyBhbmQgdGhlIG9yYml0IHJhZGl1c1xuICAgICAqIHN1Y2ggdGhhdCB0aGV5IHByb2dyZXNzIGFjcm9zcyB0aGVpciBhbGxvd2VkIHJhbmdlcyBpbiBzeW5jLlxuICAgICAqL1xuICAgIGFkanVzdE9yYml0KGRlbHRhVGhldGEsIGRlbHRhUGhpLCBkZWx0YVpvb20pIHtcbiAgICAgICAgY29uc3QgeyB0aGV0YSwgcGhpLCByYWRpdXMgfSA9IHRoaXMuZ29hbFNwaGVyaWNhbDtcbiAgICAgICAgY29uc3QgeyBtaW5pbXVtUmFkaXVzLCBtYXhpbXVtUmFkaXVzLCBtaW5pbXVtRmllbGRPZlZpZXcsIG1heGltdW1GaWVsZE9mVmlldyB9ID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgY29uc3QgZFRoZXRhID0gdGhpcy5zcGhlcmljYWwudGhldGEgLSB0aGV0YTtcbiAgICAgICAgY29uc3QgZFRoZXRhTGltaXQgPSBNYXRoLlBJIC0gMC4wMDE7XG4gICAgICAgIGNvbnN0IGdvYWxUaGV0YSA9IHRoZXRhIC0gY2xhbXAoZGVsdGFUaGV0YSwgLWRUaGV0YUxpbWl0IC0gZFRoZXRhLCBkVGhldGFMaW1pdCAtIGRUaGV0YSk7XG4gICAgICAgIGNvbnN0IGdvYWxQaGkgPSBwaGkgLSBkZWx0YVBoaTtcbiAgICAgICAgY29uc3QgZGVsdGFSYXRpbyA9IGRlbHRhWm9vbSA9PT0gMCA/XG4gICAgICAgICAgICAwIDpcbiAgICAgICAgICAgICgoZGVsdGFab29tID4gMCA/IG1heGltdW1SYWRpdXMgOiBtaW5pbXVtUmFkaXVzKSAtIHJhZGl1cykgL1xuICAgICAgICAgICAgICAgIChNYXRoLmxvZyhkZWx0YVpvb20gPiAwID8gbWF4aW11bUZpZWxkT2ZWaWV3IDogbWluaW11bUZpZWxkT2ZWaWV3KSAtXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ29hbExvZ0Zvdik7XG4gICAgICAgIGNvbnN0IGdvYWxSYWRpdXMgPSByYWRpdXMgK1xuICAgICAgICAgICAgZGVsdGFab29tICpcbiAgICAgICAgICAgICAgICAoaXNGaW5pdGUoZGVsdGFSYXRpbykgPyBkZWx0YVJhdGlvIDpcbiAgICAgICAgICAgICAgICAgICAgKG1heGltdW1SYWRpdXMgLSBtaW5pbXVtUmFkaXVzKSAqIDIpO1xuICAgICAgICB0aGlzLnNldE9yYml0KGdvYWxUaGV0YSwgZ29hbFBoaSwgZ29hbFJhZGl1cyk7XG4gICAgICAgIGlmIChkZWx0YVpvb20gIT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGdvYWxMb2dGb3YgPSB0aGlzLmdvYWxMb2dGb3YgKyBkZWx0YVpvb207XG4gICAgICAgICAgICB0aGlzLnNldEZpZWxkT2ZWaWV3KE1hdGguZXhwKGdvYWxMb2dGb3YpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBjYW1lcmEgaW5zdGFudGx5IGluc3RlYWQgb2YgYWNjZWxlcmF0aW5nIHRvd2FyZCB0aGUgZ29hbFxuICAgICAqIHBhcmFtZXRlcnMuXG4gICAgICovXG4gICAganVtcFRvR29hbCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoMCwgU0VUVExJTkdfVElNRSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBjb250cm9scy4gSW4gbW9zdCBjYXNlcywgdGhpcyB3aWxsIHJlc3VsdCBpbiB0aGUgY2FtZXJhXG4gICAgICogaW50ZXJwb2xhdGluZyBpdHMgcG9zaXRpb24gYW5kIHJvdGF0aW9uIHVudGlsIGl0IGxpbmVzIHVwIHdpdGggdGhlXG4gICAgICogZGVzaWduYXRlZCBnb2FsIG9yYml0YWwgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBUaW1lIGFuZCBkZWx0YSBhcmUgbWVhc3VyZWQgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAqL1xuICAgIHVwZGF0ZShfdGltZSwgZGVsdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdGF0aW9uYXJ5KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG1heGltdW1Qb2xhckFuZ2xlLCBtYXhpbXVtUmFkaXVzIH0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBjb25zdCBkVGhldGEgPSB0aGlzLnNwaGVyaWNhbC50aGV0YSAtIHRoaXMuZ29hbFNwaGVyaWNhbC50aGV0YTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRUaGV0YSkgPiBNYXRoLlBJICYmXG4gICAgICAgICAgICAhaXNGaW5pdGUodGhpcy5fb3B0aW9ucy5taW5pbXVtQXppbXV0aGFsQW5nbGUpICYmXG4gICAgICAgICAgICAhaXNGaW5pdGUodGhpcy5fb3B0aW9ucy5tYXhpbXVtQXppbXV0aGFsQW5nbGUpKSB7XG4gICAgICAgICAgICB0aGlzLnNwaGVyaWNhbC50aGV0YSAtPSBNYXRoLnNpZ24oZFRoZXRhKSAqIDIgKiBNYXRoLlBJO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BoZXJpY2FsLnRoZXRhID0gdGhpcy50aGV0YURhbXBlci51cGRhdGUodGhpcy5zcGhlcmljYWwudGhldGEsIHRoaXMuZ29hbFNwaGVyaWNhbC50aGV0YSwgZGVsdGEsIE1hdGguUEkpO1xuICAgICAgICB0aGlzLnNwaGVyaWNhbC5waGkgPSB0aGlzLnBoaURhbXBlci51cGRhdGUodGhpcy5zcGhlcmljYWwucGhpLCB0aGlzLmdvYWxTcGhlcmljYWwucGhpLCBkZWx0YSwgbWF4aW11bVBvbGFyQW5nbGUpO1xuICAgICAgICB0aGlzLnNwaGVyaWNhbC5yYWRpdXMgPSB0aGlzLnJhZGl1c0RhbXBlci51cGRhdGUodGhpcy5zcGhlcmljYWwucmFkaXVzLCB0aGlzLmdvYWxTcGhlcmljYWwucmFkaXVzLCBkZWx0YSwgbWF4aW11bVJhZGl1cyk7XG4gICAgICAgIHRoaXMubG9nRm92ID0gdGhpcy5mb3ZEYW1wZXIudXBkYXRlKHRoaXMubG9nRm92LCB0aGlzLmdvYWxMb2dGb3YsIGRlbHRhLCAxKTtcbiAgICAgICAgdGhpcy5tb3ZlQ2FtZXJhKCk7XG4gICAgfVxuICAgIHVwZGF0ZVRvdWNoQWN0aW9uU3R5bGUoKSB7XG4gICAgICAgIGNvbnN0IHsgc3R5bGUgfSA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVyYWN0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc3QgeyB0b3VjaEFjdGlvbiB9ID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXNhYmxlWm9vbSAmJiB0b3VjaEFjdGlvbiAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSAnbWFuaXB1bGF0aW9uJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlLnRvdWNoQWN0aW9uID0gdG91Y2hBY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzU3RhdGlvbmFyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ29hbFNwaGVyaWNhbC50aGV0YSA9PT0gdGhpcy5zcGhlcmljYWwudGhldGEgJiZcbiAgICAgICAgICAgIHRoaXMuZ29hbFNwaGVyaWNhbC5waGkgPT09IHRoaXMuc3BoZXJpY2FsLnBoaSAmJlxuICAgICAgICAgICAgdGhpcy5nb2FsU3BoZXJpY2FsLnJhZGl1cyA9PT0gdGhpcy5zcGhlcmljYWwucmFkaXVzICYmXG4gICAgICAgICAgICB0aGlzLmdvYWxMb2dGb3YgPT09IHRoaXMubG9nRm92O1xuICAgIH1cbiAgICBkaXNwYXRjaENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ2NoYW5nZScsIHNvdXJjZTogdGhpcy5jaGFuZ2VTb3VyY2UgfSk7XG4gICAgfVxuICAgIG1vdmVDYW1lcmEoKSB7XG4gICAgICAgIC8vIERlcml2ZSB0aGUgbmV3IGNhbWVyYSBwb3NpdGlvbiBmcm9tIHRoZSB1cGRhdGVkIHNwaGVyaWNhbDpcbiAgICAgICAgdGhpcy5zcGhlcmljYWwubWFrZVNhZmUoKTtcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0RnJvbVNwaGVyaWNhbCh0aGlzLnNwaGVyaWNhbCk7XG4gICAgICAgIHRoaXMuY2FtZXJhLnNldFJvdGF0aW9uRnJvbUV1bGVyKG5ldyBFdWxlcih0aGlzLnNwaGVyaWNhbC5waGkgLSBNYXRoLlBJIC8gMiwgdGhpcy5zcGhlcmljYWwudGhldGEsIDAsICdZWFonKSk7XG4gICAgICAgIGlmICh0aGlzLmNhbWVyYS5mb3YgIT09IE1hdGguZXhwKHRoaXMubG9nRm92KSkge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEuZm92ID0gTWF0aC5leHAodGhpcy5sb2dGb3YpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2UoKTtcbiAgICB9XG4gICAgdXNlckFkanVzdE9yYml0KGRlbHRhVGhldGEsIGRlbHRhUGhpLCBkZWx0YVpvb20pIHtcbiAgICAgICAgdGhpcy5hZGp1c3RPcmJpdChkZWx0YVRoZXRhICogdGhpcy5vcmJpdFNlbnNpdGl2aXR5ICogdGhpcy5pbnB1dFNlbnNpdGl2aXR5LCBkZWx0YVBoaSAqIHRoaXMub3JiaXRTZW5zaXRpdml0eSAqIHRoaXMuaW5wdXRTZW5zaXRpdml0eSwgZGVsdGFab29tICogdGhpcy5pbnB1dFNlbnNpdGl2aXR5KTtcbiAgICAgICAgLy8gQWx3YXlzIG1ha2Ugc3VyZSB0aGF0IGFuIGluaXRpYWwgZXZlbnQgaXMgdHJpZ2dlcmVkIGluIGNhc2UgdGhlcmUgaXNcbiAgICAgICAgLy8gY29udGVudGlvbiBiZXR3ZWVuIHVzZXIgaW50ZXJhY3Rpb24gYW5kIGltcGVyYXRpdmUgY2hhbmdlcy4gVGhpcyBpbml0aWFsXG4gICAgICAgIC8vIGV2ZW50IHdpbGwgZ2l2ZSBleHRlcm5hbCBvYnNlcnZlcnMgdGhhdCBjaGFuY2UgdG8gb2JzZXJ2ZSB0aGF0XG4gICAgICAgIC8vIGludGVyYWN0aW9uIG9jY3VycmVkIGF0IGFsbDpcbiAgICAgICAgdGhpcy5kaXNwYXRjaENoYW5nZSgpO1xuICAgIH1cbiAgICAvLyBXcmFwcyB0byBiZXR3ZWVuIC1waSBhbmQgcGlcbiAgICB3cmFwQW5nbGUocmFkaWFucykge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gKHJhZGlhbnMgKyBNYXRoLlBJKSAvICgyICogTWF0aC5QSSk7XG4gICAgICAgIGNvbnN0IHdyYXBwZWQgPSBub3JtYWxpemVkIC0gTWF0aC5mbG9vcihub3JtYWxpemVkKTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWQgKiAyICogTWF0aC5QSSAtIE1hdGguUEk7XG4gICAgfVxuICAgIHBpeGVsTGVuZ3RoVG9TcGhlcmljYWxBbmdsZShwaXhlbExlbmd0aCkge1xuICAgICAgICByZXR1cm4gMiAqIE1hdGguUEkgKiBwaXhlbExlbmd0aCAvIHRoaXMuZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgfVxuICAgIHR3b1RvdWNoRGlzdGFuY2UodG91Y2hPbmUsIHRvdWNoVHdvKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50WDogeE9uZSwgY2xpZW50WTogeU9uZSB9ID0gdG91Y2hPbmU7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50WDogeFR3bywgY2xpZW50WTogeVR3byB9ID0gdG91Y2hUd287XG4gICAgICAgIGNvbnN0IHhEZWx0YSA9IHhUd28gLSB4T25lO1xuICAgICAgICBjb25zdCB5RGVsdGEgPSB5VHdvIC0geU9uZTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh4RGVsdGEgKiB4RGVsdGEgKyB5RGVsdGEgKiB5RGVsdGEpO1xuICAgIH1cbiAgICBoYW5kbGVTaW5nbGVQb2ludGVyTW92ZShkeCwgZHkpIHtcbiAgICAgICAgY29uc3QgZGVsdGFUaGV0YSA9IHRoaXMucGl4ZWxMZW5ndGhUb1NwaGVyaWNhbEFuZ2xlKGR4KTtcbiAgICAgICAgY29uc3QgZGVsdGFQaGkgPSB0aGlzLnBpeGVsTGVuZ3RoVG9TcGhlcmljYWxBbmdsZShkeSk7XG4gICAgICAgIGlmICh0aGlzLmlzVXNlclBvaW50aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5pc1VzZXJQb2ludGluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAncG9pbnRlci1jaGFuZ2Utc3RhcnQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXNlckFkanVzdE9yYml0KGRlbHRhVGhldGEsIGRlbHRhUGhpLCAwKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZVBhbigpIHtcbiAgICAgICAgY29uc3QgeyB0aGV0YSwgcGhpIH0gPSB0aGlzLnNwaGVyaWNhbDtcbiAgICAgICAgY29uc3QgcHNpID0gdGhldGEgLSB0aGlzLnNjZW5lLnlhdztcbiAgICAgICAgdGhpcy5wYW5QZXJQaXhlbCA9IFBBTl9TRU5TSVRJVklUWSAvIHRoaXMuc2NlbmUuaGVpZ2h0O1xuICAgICAgICB0aGlzLnBhblByb2plY3Rpb24uc2V0KC1NYXRoLmNvcyhwc2kpLCAtTWF0aC5jb3MocGhpKSAqIE1hdGguc2luKHBzaSksIDAsIDAsIE1hdGguc2luKHBoaSksIDAsIE1hdGguc2luKHBzaSksIC1NYXRoLmNvcyhwaGkpICogTWF0aC5jb3MocHNpKSwgMCk7XG4gICAgfVxuICAgIG1vdmVQYW4oZHgsIGR5KSB7XG4gICAgICAgIGNvbnN0IHsgc2NlbmUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGR4eSA9IHZlY3RvcjMuc2V0KGR4LCBkeSwgMCkubXVsdGlwbHlTY2FsYXIodGhpcy5pbnB1dFNlbnNpdGl2aXR5KTtcbiAgICAgICAgY29uc3QgbWV0ZXJzUGVyUGl4ZWwgPSB0aGlzLnNwaGVyaWNhbC5yYWRpdXMgKiBNYXRoLmV4cCh0aGlzLmxvZ0ZvdikgKiB0aGlzLnBhblBlclBpeGVsO1xuICAgICAgICBkeHkubXVsdGlwbHlTY2FsYXIobWV0ZXJzUGVyUGl4ZWwpO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBzY2VuZS5nZXRUYXJnZXQoKTtcbiAgICAgICAgdGFyZ2V0LmFkZChkeHkuYXBwbHlNYXRyaXgzKHRoaXMucGFuUHJvamVjdGlvbikpO1xuICAgICAgICBzY2VuZS5ib3VuZGluZ1NwaGVyZS5jbGFtcFBvaW50KHRhcmdldCwgdGFyZ2V0KTtcbiAgICAgICAgc2NlbmUuc2V0VGFyZ2V0KHRhcmdldC54LCB0YXJnZXQueSwgdGFyZ2V0LnopO1xuICAgICAgICB0aGlzLmRpc3BhdGNoQ2hhbmdlKCk7XG4gICAgfVxuICAgIHJlY2VudGVyKHBvaW50ZXIpIHtcbiAgICAgICAgaWYgKHBlcmZvcm1hbmNlLm5vdygpID4gdGhpcy5zdGFydFRpbWUgKyBUQVBfTVMgfHxcbiAgICAgICAgICAgIE1hdGguYWJzKHBvaW50ZXIuY2xpZW50WCAtIHRoaXMuc3RhcnRQb2ludGVyUG9zaXRpb24uY2xpZW50WCkgPlxuICAgICAgICAgICAgICAgIFRBUF9ESVNUQU5DRSB8fFxuICAgICAgICAgICAgTWF0aC5hYnMocG9pbnRlci5jbGllbnRZIC0gdGhpcy5zdGFydFBvaW50ZXJQb3NpdGlvbi5jbGllbnRZKSA+XG4gICAgICAgICAgICAgICAgVEFQX0RJU1RBTkNFKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzY2VuZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaGl0ID0gc2NlbmUucG9zaXRpb25BbmROb3JtYWxGcm9tUG9pbnQoc2NlbmUuZ2V0TkRDKHBvaW50ZXIuY2xpZW50WCwgcG9pbnRlci5jbGllbnRZKSk7XG4gICAgICAgIGlmIChoaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgeyBjYW1lcmFUYXJnZXQgfSA9IHNjZW5lLmVsZW1lbnQ7XG4gICAgICAgICAgICBzY2VuZS5lbGVtZW50LmNhbWVyYVRhcmdldCA9ICcnO1xuICAgICAgICAgICAgc2NlbmUuZWxlbWVudC5jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gICAgICAgICAgICAvLyBab29tIGFsbCB0aGUgd2F5IG91dC5cbiAgICAgICAgICAgIHRoaXMudXNlckFkanVzdE9yYml0KDAsIDAsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2NlbmUudGFyZ2V0LndvcmxkVG9Mb2NhbChoaXQucG9zaXRpb24pO1xuICAgICAgICAgICAgc2NlbmUuc2V0VGFyZ2V0KGhpdC5wb3NpdGlvbi54LCBoaXQucG9zaXRpb24ueSwgaGl0LnBvc2l0aW9uLnopO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2V0UmFkaXVzKCkge1xuICAgICAgICBjb25zdCB7IHNjZW5lIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBoaXQgPSBzY2VuZS5wb3NpdGlvbkFuZE5vcm1hbEZyb21Qb2ludCh2ZWN0b3IyLnNldCgwLCAwKSk7XG4gICAgICAgIGlmIChoaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNjZW5lLnRhcmdldC53b3JsZFRvTG9jYWwoaGl0LnBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgZ29hbFRhcmdldCA9IHNjZW5lLmdldFRhcmdldCgpO1xuICAgICAgICBjb25zdCB7IHRoZXRhLCBwaGkgfSA9IHRoaXMuc3BoZXJpY2FsO1xuICAgICAgICAvLyBTZXQgdGFyZ2V0IHRvIHN1cmZhY2UgaGl0IHBvaW50LCBleGNlcHQgdGhlIHRhcmdldCBpcyBzdGlsbCBzZXR0bGluZyxcbiAgICAgICAgLy8gc28gb2Zmc2V0IHRoZSBnb2FsIGFjY29yZGluZ2x5IHNvIHRoZSB0cmFuc2l0aW9uIGlzIHNtb290aCBldmVuIHRob3VnaFxuICAgICAgICAvLyB0aGlzIHdpbGwgZHJpZnQgdGhlIHRhcmdldCBzbGlnaHRseSBhd2F5IGZyb20gdGhlIGhpdCBwb2ludC5cbiAgICAgICAgY29uc3QgcHNpID0gdGhldGEgLSBzY2VuZS55YXc7XG4gICAgICAgIGNvbnN0IG4gPSB2ZWN0b3IzLnNldChNYXRoLnNpbihwaGkpICogTWF0aC5zaW4ocHNpKSwgTWF0aC5jb3MocGhpKSwgTWF0aC5zaW4ocGhpKSAqIE1hdGguY29zKHBzaSkpO1xuICAgICAgICBjb25zdCBkciA9IG4uZG90KGhpdC5wb3NpdGlvbi5zdWIoZ29hbFRhcmdldCkpO1xuICAgICAgICBnb2FsVGFyZ2V0LmFkZChuLm11bHRpcGx5U2NhbGFyKGRyKSk7XG4gICAgICAgIHNjZW5lLnNldFRhcmdldChnb2FsVGFyZ2V0LngsIGdvYWxUYXJnZXQueSwgZ29hbFRhcmdldC56KTtcbiAgICAgICAgLy8gQ2hhbmdlIHRoZSBjYW1lcmEgcmFkaXVzIHRvIG1hdGNoIHRoZSBjaGFuZ2UgaW4gdGFyZ2V0IHNvIHRoYXQgdGhlXG4gICAgICAgIC8vIGNhbWVyYSBpdHNlbGYgZG9lcyBub3QgbW92ZSwgdW5sZXNzIGl0IGhpdHMgYSByYWRpdXMgYm91bmQuXG4gICAgICAgIHRoaXMuc2V0T3JiaXQodW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMuZ29hbFNwaGVyaWNhbC5yYWRpdXMgLSBkcik7XG4gICAgfVxuICAgIG9uVG91Y2hDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoTW9kZSA9IHRoaXMudG91Y2hNb2RlUm90YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVab29tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaE1vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmRpc2FibGVTY3JvbGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudG91Y2hNb2RlID0gKHRoaXMudG91Y2hEZWNpZGVkICYmIHRoaXMudG91Y2hNb2RlID09PSBudWxsKSA/XG4gICAgICAgICAgICAgICAgbnVsbCA6XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaE1vZGVab29tO1xuICAgICAgICAgICAgdGhpcy50b3VjaERlY2lkZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuZGlzYWJsZVNjcm9sbCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHRoaXMubGFzdFNlcGFyYXRpb24gPVxuICAgICAgICAgICAgICAgIHRoaXMudHdvVG91Y2hEaXN0YW5jZSh0aGlzLnBvaW50ZXJzWzBdLCB0aGlzLnBvaW50ZXJzWzFdKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVBhbiAmJiB0aGlzLnRvdWNoTW9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplUGFuKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudC5hbHRLZXkpIHsgLy8gdXNlciBpbnRlcmFjdGlvbiwgbm90IHByb21wdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmVsZW1lbnRbJHBhbkVsZW1lbnRdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBvbk1vdXNlRG93bihldmVudCkge1xuICAgICAgICB0aGlzLnBhblBlclBpeGVsID0gMDtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlUGFuICYmXG4gICAgICAgICAgICAoZXZlbnQuYnV0dG9uID09PSAyIHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fFxuICAgICAgICAgICAgICAgIGV2ZW50LnNoaWZ0S2V5KSkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplUGFuKCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmVsZW1lbnRbJHBhbkVsZW1lbnRdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnZ3JhYmJpbmcnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBvcmJpdCBhbmQgWm9vbSBrZXkgcHJlc3Nlc1xuICAgICAqIFVzZXMgY29uc3RhbnRzIGZvciB0aGUgaW5jcmVtZW50LlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQgZm9yIHRoZSAua2V5IHZhbHVlXG4gICAgICogQHJldHVybnMgYm9vbGVhbiB0byBpbmRpY2F0ZSBpZiB0aGUga2V5IGV2ZW50IGhhcyBiZWVuIGhhbmRsZWRcbiAgICAgKi9cbiAgICBvcmJpdFpvb21LZXlDb2RlSGFuZGxlcihldmVudCkge1xuICAgICAgICBsZXQgcmVsZXZhbnRLZXkgPSB0cnVlO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgICAgICAgY2FzZSAnUGFnZVVwJzpcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJBZGp1c3RPcmJpdCgwLCAwLCBaT09NX1NFTlNJVElWSVRZKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1BhZ2VEb3duJzpcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJBZGp1c3RPcmJpdCgwLCAwLCAtMSAqIFpPT01fU0VOU0lUSVZJVFkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgdGhpcy51c2VyQWRqdXN0T3JiaXQoMCwgLUtFWUJPQVJEX09SQklUX0lOQ1JFTUVOVCwgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICAgIHRoaXMudXNlckFkanVzdE9yYml0KDAsIEtFWUJPQVJEX09SQklUX0lOQ1JFTUVOVCwgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICAgICAgICAgIHRoaXMudXNlckFkanVzdE9yYml0KC1LRVlCT0FSRF9PUkJJVF9JTkNSRU1FTlQsIDAsIDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICAgICAgdGhpcy51c2VyQWRqdXN0T3JiaXQoS0VZQk9BUkRfT1JCSVRfSU5DUkVNRU5ULCAwLCAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmVsZXZhbnRLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVsZXZhbnRLZXk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIFBhbiBrZXkgcHJlc3Nlc1xuICAgICAqIFVzZXMgY29uc3RhbnRzIGZvciB0aGUgaW5jcmVtZW50LlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQgZm9yIHRoZSAua2V5IHZhbHVlXG4gICAgICogQHJldHVybnMgYm9vbGVhbiB0byBpbmRpY2F0ZSBpZiB0aGUga2V5IGV2ZW50IGhhcyBiZWVuIGhhbmRsZWRcbiAgICAgKi9cbiAgICBwYW5LZXlDb2RlSGFuZGxlcihldmVudCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVQYW4oKTtcbiAgICAgICAgbGV0IHJlbGV2YW50S2V5ID0gdHJ1ZTtcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVBhbigwLCAtMSAqIFBBTl9LRVlfSU5DUkVNRU5UKTsgLy8gVGhpcyBpcyB0aGUgbmVnYXRpdmUgb25lIHNvIHRoYXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gbW9kZWwgYXBwZWFycyB0byBtb3ZlIGFzIHRoZSBhcnJvd1xuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGlvbiByYXRoZXIgdGhhbiB0aGUgdmlldyBtb3ZpbmdcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlUGFuKDAsIFBBTl9LRVlfSU5DUkVNRU5UKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlUGFuKC0xICogUEFOX0tFWV9JTkNSRU1FTlQsIDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlUGFuKFBBTl9LRVlfSU5DUkVNRU5ULCAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmVsZXZhbnRLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVsZXZhbnRLZXk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U21vb3RoQ29udHJvbHMuanMubWFwIl0sIm5hbWVzIjpbIkV1bGVyIiwiRXZlbnREaXNwYXRjaGVyIiwiTWF0cml4MyIsIlNwaGVyaWNhbCIsIlZlY3RvcjIiLCJWZWN0b3IzIiwiJHBhbkVsZW1lbnQiLCJjbGFtcCIsIkRhbXBlciIsIlNFVFRMSU5HX1RJTUUiLCJQQU5fU0VOU0lUSVZJVFkiLCJUQVBfRElTVEFOQ0UiLCJUQVBfTVMiLCJ2ZWN0b3IyIiwidmVjdG9yMyIsIkRFRkFVTFRfT1BUSU9OUyIsIk9iamVjdCIsImZyZWV6ZSIsIm1pbmltdW1SYWRpdXMiLCJtYXhpbXVtUmFkaXVzIiwiSW5maW5pdHkiLCJtaW5pbXVtUG9sYXJBbmdsZSIsIk1hdGgiLCJQSSIsIm1heGltdW1Qb2xhckFuZ2xlIiwibWluaW11bUF6aW11dGhhbEFuZ2xlIiwibWF4aW11bUF6aW11dGhhbEFuZ2xlIiwibWluaW11bUZpZWxkT2ZWaWV3IiwibWF4aW11bUZpZWxkT2ZWaWV3IiwidG91Y2hBY3Rpb24iLCJLRVlCT0FSRF9PUkJJVF9JTkNSRU1FTlQiLCJaT09NX1NFTlNJVElWSVRZIiwiUEFOX0tFWV9JTkNSRU1FTlQiLCJLZXlDb2RlIiwiUEFHRV9VUCIsIlBBR0VfRE9XTiIsIkxFRlQiLCJVUCIsIlJJR0hUIiwiRE9XTiIsIkNoYW5nZVNvdXJjZSIsIlVTRVJfSU5URVJBQ1RJT04iLCJOT05FIiwiQVVUT01BVElDIiwiU21vb3RoQ29udHJvbHMiLCJjb25zdHJ1Y3RvciIsImNhbWVyYSIsImVsZW1lbnQiLCJzY2VuZSIsIm9yYml0U2Vuc2l0aXZpdHkiLCJpbnB1dFNlbnNpdGl2aXR5IiwiY2hhbmdlU291cmNlIiwiX2ludGVyYWN0aW9uRW5hYmxlZCIsIl9kaXNhYmxlWm9vbSIsImlzVXNlclBvaW50aW5nIiwiZW5hYmxlUGFuIiwiZW5hYmxlVGFwIiwicGFuUHJvamVjdGlvbiIsInBhblBlclBpeGVsIiwic3BoZXJpY2FsIiwiZ29hbFNwaGVyaWNhbCIsInRoZXRhRGFtcGVyIiwicGhpRGFtcGVyIiwicmFkaXVzRGFtcGVyIiwibG9nRm92IiwibG9nIiwiZ29hbExvZ0ZvdiIsImZvdkRhbXBlciIsInRvdWNoTW9kZSIsInBvaW50ZXJzIiwic3RhcnRUaW1lIiwic3RhcnRQb2ludGVyUG9zaXRpb24iLCJjbGllbnRYIiwiY2xpZW50WSIsImxhc3RTZXBhcmF0aW9uIiwidG91Y2hEZWNpZGVkIiwib25Db250ZXh0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBvaW50ZXIiLCJvblBvaW50ZXJVcCIsIlBvaW50ZXJFdmVudCIsImFzc2lnbiIsInBvaW50ZXJJZCIsImlkIiwidG91Y2hNb2RlWm9vbSIsImR4IiwiZHkiLCJ0b3VjaERpc3RhbmNlIiwidHdvVG91Y2hEaXN0YW5jZSIsImRlbHRhWm9vbSIsImhlaWdodCIsInVzZXJBZGp1c3RPcmJpdCIsIm1vdmVQYW4iLCJkaXNhYmxlU2Nyb2xsIiwidG91Y2hNb2RlUm90YXRlIiwiX29wdGlvbnMiLCJkeE1hZyIsImFicyIsImR5TWFnIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJoYW5kbGVTaW5nbGVQb2ludGVyTW92ZSIsIm9uUG9pbnRlckRvd24iLCJsZW5ndGgiLCJvblBvaW50ZXJNb3ZlIiwicGVyZm9ybWFuY2UiLCJub3ciLCJzZXRQb2ludGVyQ2FwdHVyZSIsIl9hIiwicHVzaCIsInBvaW50ZXJUeXBlIiwiYWx0S2V5Iiwib25Ub3VjaENoYW5nZSIsIm9uTW91c2VEb3duIiwiZmluZCIsIm51bVRvdWNoZXMiLCJpbmRleCIsImZpbmRJbmRleCIsInNwbGljZSIsInJlc2V0UmFkaXVzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlY2VudGVyIiwic3R5bGUiLCJvcGFjaXR5IiwiY3Vyc29yIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJvbldoZWVsIiwiZGVsdGFZIiwiZGVsdGFNb2RlIiwib25LZXlEb3duIiwicmVsZXZhbnRLZXkiLCJzaGlmdEtleSIsInBhbktleUNvZGVIYW5kbGVyIiwib3JiaXRab29tS2V5Q29kZUhhbmRsZXIiLCJzZXRPcmJpdCIsInNldEZpZWxkT2ZWaWV3IiwianVtcFRvR29hbCIsImludGVyYWN0aW9uRW5hYmxlZCIsImVuYWJsZUludGVyYWN0aW9uIiwidXBkYXRlVG91Y2hBY3Rpb25TdHlsZSIsImRpc2FibGVJbnRlcmFjdGlvbiIsIm9wdGlvbnMiLCJkaXNhYmxlWm9vbSIsImRpc2FibGUiLCJnZXRDYW1lcmFTcGhlcmljYWwiLCJ0YXJnZXQiLCJjb3B5IiwiZ2V0RmllbGRPZlZpZXciLCJmb3YiLCJhcHBseU9wdGlvbnMiLCJleHAiLCJ1cGRhdGVOZWFyRmFyIiwibmVhclBsYW5lIiwiZmFyUGxhbmUiLCJuZWFyIiwibWF4IiwiZmFyIiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsInVwZGF0ZUFzcGVjdCIsImFzcGVjdCIsImdvYWxUaGV0YSIsInRoZXRhIiwiZ29hbFBoaSIsInBoaSIsImdvYWxSYWRpdXMiLCJyYWRpdXMiLCJuZXh0VGhldGEiLCJpc0Zpbml0ZSIsIndyYXBBbmdsZSIsIm5leHRQaGkiLCJuZXh0UmFkaXVzIiwibWFrZVNhZmUiLCJzZXRSYWRpdXMiLCJzZXREYW1wZXJEZWNheVRpbWUiLCJkZWNheU1pbGxpc2Vjb25kcyIsInNldERlY2F5VGltZSIsImFkanVzdE9yYml0IiwiZGVsdGFUaGV0YSIsImRlbHRhUGhpIiwiZFRoZXRhIiwiZFRoZXRhTGltaXQiLCJkZWx0YVJhdGlvIiwidXBkYXRlIiwiX3RpbWUiLCJkZWx0YSIsImlzU3RhdGlvbmFyeSIsInNpZ24iLCJtb3ZlQ2FtZXJhIiwiZGlzcGF0Y2hDaGFuZ2UiLCJzb3VyY2UiLCJwb3NpdGlvbiIsInNldEZyb21TcGhlcmljYWwiLCJzZXRSb3RhdGlvbkZyb21FdWxlciIsInJhZGlhbnMiLCJub3JtYWxpemVkIiwid3JhcHBlZCIsImZsb29yIiwicGl4ZWxMZW5ndGhUb1NwaGVyaWNhbEFuZ2xlIiwicGl4ZWxMZW5ndGgiLCJjbGllbnRIZWlnaHQiLCJ0b3VjaE9uZSIsInRvdWNoVHdvIiwieE9uZSIsInlPbmUiLCJ4VHdvIiwieVR3byIsInhEZWx0YSIsInlEZWx0YSIsInNxcnQiLCJpbml0aWFsaXplUGFuIiwicHNpIiwieWF3Iiwic2V0IiwiY29zIiwic2luIiwiZHh5IiwibXVsdGlwbHlTY2FsYXIiLCJtZXRlcnNQZXJQaXhlbCIsImdldFRhcmdldCIsImFkZCIsImFwcGx5TWF0cml4MyIsImJvdW5kaW5nU3BoZXJlIiwiY2xhbXBQb2ludCIsInNldFRhcmdldCIsIngiLCJ5IiwieiIsImhpdCIsInBvc2l0aW9uQW5kTm9ybWFsRnJvbVBvaW50IiwiZ2V0TkRDIiwiY2FtZXJhVGFyZ2V0Iiwid29ybGRUb0xvY2FsIiwiZ29hbFRhcmdldCIsIm4iLCJkciIsImRvdCIsInN1YiIsInVuZGVmaW5lZCIsImJ1dHRvbiIsImN0cmxLZXkiLCJtZXRhS2V5Iiwia2V5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/SmoothControls.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/TextureUtils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/TextureUtils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TextureUtils)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_RGBELoader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/loaders/RGBELoader.js */ \"(ssr)/./node_modules/three/examples/jsm/loaders/RGBELoader.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _EnvironmentScene_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EnvironmentScene.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentScene.js\");\n/* harmony import */ var _EnvironmentSceneAlt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EnvironmentSceneAlt.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentSceneAlt.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\n\n\nconst GENERATED_SIGMA = 0.04;\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\nconst HDR_FILE_RE = /\\.hdr(\\.js)?$/;\nconst ldrLoader = new three__WEBPACK_IMPORTED_MODULE_3__.TextureLoader();\nconst hdrLoader = new three_examples_jsm_loaders_RGBELoader_js__WEBPACK_IMPORTED_MODULE_4__.RGBELoader();\nhdrLoader.setDataType(three__WEBPACK_IMPORTED_MODULE_3__.HalfFloatType);\nclass TextureUtils extends three__WEBPACK_IMPORTED_MODULE_3__.EventDispatcher {\n    constructor(threeRenderer){\n        super();\n        this.threeRenderer = threeRenderer;\n        this.generatedEnvironmentMap = null;\n        this.generatedEnvironmentMapAlt = null;\n        this.skyboxCache = new Map();\n        this.blurMaterial = null;\n        this.blurScene = null;\n    }\n    async load(url, progressCallback = ()=>{}) {\n        try {\n            const isHDR = HDR_FILE_RE.test(url);\n            const loader = isHDR ? hdrLoader : ldrLoader;\n            const texture = await new Promise((resolve, reject)=>loader.load(url, resolve, (event)=>{\n                    progressCallback(event.loaded / event.total * 0.9);\n                }, reject));\n            progressCallback(1.0);\n            texture.name = url;\n            texture.mapping = three__WEBPACK_IMPORTED_MODULE_3__.EquirectangularReflectionMapping;\n            if (!isHDR) {\n                texture.encoding = three__WEBPACK_IMPORTED_MODULE_3__.sRGBEncoding;\n            }\n            return texture;\n        } finally{\n            if (progressCallback) {\n                progressCallback(1);\n            }\n        }\n    }\n    /**\n     * Returns a { skybox, environmentMap } object with the targets/textures\n     * accordingly. `skybox` is a WebGLRenderCubeTarget, and `environmentMap`\n     * is a Texture from a WebGLRenderCubeTarget.\n     */ async generateEnvironmentMapAndSkybox(skyboxUrl = null, environmentMapUrl = null, progressCallback = ()=>{}) {\n        const useAltEnvironment = environmentMapUrl !== \"legacy\";\n        if (environmentMapUrl === \"legacy\" || environmentMapUrl === \"neutral\") {\n            environmentMapUrl = null;\n        }\n        environmentMapUrl = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.deserializeUrl)(environmentMapUrl);\n        let skyboxLoads = Promise.resolve(null);\n        let environmentMapLoads;\n        // If we have a skybox URL, attempt to load it as a cubemap\n        if (!!skyboxUrl) {\n            skyboxLoads = this.loadEquirectFromUrl(skyboxUrl, progressCallback);\n        }\n        if (!!environmentMapUrl) {\n            // We have an available environment map URL\n            environmentMapLoads = this.loadEquirectFromUrl(environmentMapUrl, progressCallback);\n        } else if (!!skyboxUrl) {\n            // Fallback to deriving the environment map from an available skybox\n            environmentMapLoads = this.loadEquirectFromUrl(skyboxUrl, progressCallback);\n        } else {\n            // Fallback to generating the environment map\n            environmentMapLoads = useAltEnvironment ? this.loadGeneratedEnvironmentMapAlt() : this.loadGeneratedEnvironmentMap();\n        }\n        const [environmentMap, skybox] = await Promise.all([\n            environmentMapLoads,\n            skyboxLoads\n        ]);\n        if (environmentMap == null) {\n            throw new Error(\"Failed to load environment map.\");\n        }\n        return {\n            environmentMap,\n            skybox\n        };\n    }\n    /**\n     * Loads an equirect Texture from a given URL, for use as a skybox.\n     */ async loadEquirectFromUrl(url, progressCallback) {\n        if (!this.skyboxCache.has(url)) {\n            const skyboxMapLoads = this.load(url, progressCallback);\n            this.skyboxCache.set(url, skyboxMapLoads);\n        }\n        return this.skyboxCache.get(url);\n    }\n    async GenerateEnvironmentMap(scene, name) {\n        await (0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.timePasses)();\n        const renderer = this.threeRenderer;\n        const cubeTarget = new three__WEBPACK_IMPORTED_MODULE_3__.WebGLCubeRenderTarget(256, {\n            generateMipmaps: false,\n            type: three__WEBPACK_IMPORTED_MODULE_3__.HalfFloatType,\n            format: three__WEBPACK_IMPORTED_MODULE_3__.RGBAFormat,\n            encoding: three__WEBPACK_IMPORTED_MODULE_3__.LinearEncoding,\n            depthBuffer: true\n        });\n        const cubeCamera = new three__WEBPACK_IMPORTED_MODULE_3__.CubeCamera(0.1, 100, cubeTarget);\n        const generatedEnvironmentMap = cubeCamera.renderTarget.texture;\n        generatedEnvironmentMap.name = name;\n        const outputEncoding = renderer.outputEncoding;\n        const toneMapping = renderer.toneMapping;\n        renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_3__.NoToneMapping;\n        renderer.outputEncoding = three__WEBPACK_IMPORTED_MODULE_3__.LinearEncoding;\n        cubeCamera.update(renderer, scene);\n        this.blurCubemap(cubeTarget, GENERATED_SIGMA);\n        renderer.toneMapping = toneMapping;\n        renderer.outputEncoding = outputEncoding;\n        return generatedEnvironmentMap;\n    }\n    /**\n     * Loads a dynamically generated environment map.\n     */ async loadGeneratedEnvironmentMap() {\n        if (this.generatedEnvironmentMap == null) {\n            this.generatedEnvironmentMap = this.GenerateEnvironmentMap(new _EnvironmentScene_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](), \"legacy\");\n        }\n        return this.generatedEnvironmentMap;\n    }\n    /**\n     * Loads a dynamically generated environment map, designed to be neutral and\n     * color-preserving. Shows less contrast around the different sides of the\n     * object.\n     */ async loadGeneratedEnvironmentMapAlt() {\n        if (this.generatedEnvironmentMapAlt == null) {\n            this.generatedEnvironmentMapAlt = this.GenerateEnvironmentMap(new _EnvironmentSceneAlt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](), \"neutral\");\n        }\n        return this.generatedEnvironmentMapAlt;\n    }\n    blurCubemap(cubeTarget, sigma) {\n        if (this.blurMaterial == null) {\n            this.blurMaterial = this.getBlurShader(MAX_SAMPLES);\n            const box = new three__WEBPACK_IMPORTED_MODULE_3__.BoxGeometry();\n            const blurMesh = new three__WEBPACK_IMPORTED_MODULE_3__.Mesh(box, this.blurMaterial);\n            this.blurScene = new three__WEBPACK_IMPORTED_MODULE_3__.Scene();\n            this.blurScene.add(blurMesh);\n        }\n        const tempTarget = cubeTarget.clone();\n        this.halfblur(cubeTarget, tempTarget, sigma, \"latitudinal\");\n        this.halfblur(tempTarget, cubeTarget, sigma, \"longitudinal\");\n    // Disposing this target after we're done with it somehow corrupts Safari's\n    // whole graphics driver. It's random, but occurs more frequently on\n    // lower-powered GPUs (macbooks with intel graphics, older iPhones). It goes\n    // beyond just messing up the PMREM, as it also occasionally causes\n    // visible corruption on the canvas and even on the rest of the page.\n    /** tempTarget.dispose(); */ }\n    halfblur(targetIn, targetOut, sigmaRadians, direction) {\n        // Number of standard deviations at which to cut off the discrete\n        // approximation.\n        const STANDARD_DEVIATIONS = 3;\n        const pixels = targetIn.width;\n        const radiansPerPixel = isFinite(sigmaRadians) ? Math.PI / (2 * pixels) : 2 * Math.PI / (2 * MAX_SAMPLES - 1);\n        const sigmaPixels = sigmaRadians / radiansPerPixel;\n        const samples = isFinite(sigmaRadians) ? 1 + Math.floor(STANDARD_DEVIATIONS * sigmaPixels) : MAX_SAMPLES;\n        if (samples > MAX_SAMPLES) {\n            console.warn(`sigmaRadians, ${sigmaRadians}, is too large and will clip, as it requested ${samples} samples when the maximum is set to ${MAX_SAMPLES}`);\n        }\n        const weights = [];\n        let sum = 0;\n        for(let i = 0; i < MAX_SAMPLES; ++i){\n            const x = i / sigmaPixels;\n            const weight = Math.exp(-x * x / 2);\n            weights.push(weight);\n            if (i == 0) {\n                sum += weight;\n            } else if (i < samples) {\n                sum += 2 * weight;\n            }\n        }\n        for(let i = 0; i < weights.length; i++){\n            weights[i] = weights[i] / sum;\n        }\n        const blurUniforms = this.blurMaterial.uniforms;\n        blurUniforms[\"envMap\"].value = targetIn.texture;\n        blurUniforms[\"samples\"].value = samples;\n        blurUniforms[\"weights\"].value = weights;\n        blurUniforms[\"latitudinal\"].value = direction === \"latitudinal\";\n        blurUniforms[\"dTheta\"].value = radiansPerPixel;\n        const cubeCamera = new three__WEBPACK_IMPORTED_MODULE_3__.CubeCamera(0.1, 100, targetOut);\n        cubeCamera.update(this.threeRenderer, this.blurScene);\n    }\n    getBlurShader(maxSamples) {\n        const weights = new Float32Array(maxSamples);\n        const poleAxis = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0);\n        const shaderMaterial = new three__WEBPACK_IMPORTED_MODULE_3__.ShaderMaterial({\n            name: \"SphericalGaussianBlur\",\n            defines: {\n                \"n\": maxSamples\n            },\n            uniforms: {\n                \"envMap\": {\n                    value: null\n                },\n                \"samples\": {\n                    value: 1\n                },\n                \"weights\": {\n                    value: weights\n                },\n                \"latitudinal\": {\n                    value: false\n                },\n                \"dTheta\": {\n                    value: 0\n                },\n                \"poleAxis\": {\n                    value: poleAxis\n                }\n            },\n            vertexShader: /* glsl */ `\n      \n      varying vec3 vOutputDirection;\n  \n      void main() {\n  \n        vOutputDirection = vec3( position );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n      }\n    `,\n            fragmentShader: /* glsl */ `\n        varying vec3 vOutputDirection;\n  \n        uniform samplerCube envMap;\n        uniform int samples;\n        uniform float weights[ n ];\n        uniform bool latitudinal;\n        uniform float dTheta;\n        uniform vec3 poleAxis;\n  \n        vec3 getSample( float theta, vec3 axis ) {\n  \n          float cosTheta = cos( theta );\n          // Rodrigues' axis-angle rotation\n          vec3 sampleDirection = vOutputDirection * cosTheta\n            + cross( axis, vOutputDirection ) * sin( theta )\n            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n  \n          return vec3( textureCube( envMap, sampleDirection ) );\n  \n        }\n  \n        void main() {\n  \n          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n  \n          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n  \n            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n  \n          }\n  \n          axis = normalize( axis );\n  \n          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n  \n          for ( int i = 1; i < n; i++ ) {\n  \n            if ( i >= samples ) {\n  \n              break;\n  \n            }\n  \n            float theta = dTheta * float( i );\n            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n  \n          }\n        }\n      `,\n            blending: three__WEBPACK_IMPORTED_MODULE_3__.NoBlending,\n            depthTest: false,\n            depthWrite: false,\n            side: three__WEBPACK_IMPORTED_MODULE_3__.BackSide\n        });\n        return shaderMaterial;\n    }\n    async dispose() {\n        for (const [, promise] of this.skyboxCache){\n            const skybox = await promise;\n            skybox.dispose();\n        }\n        if (this.generatedEnvironmentMap != null) {\n            (await this.generatedEnvironmentMap).dispose();\n            this.generatedEnvironmentMap = null;\n        }\n        if (this.generatedEnvironmentMapAlt != null) {\n            (await this.generatedEnvironmentMapAlt).dispose();\n            this.generatedEnvironmentMapAlt = null;\n        }\n        if (this.blurMaterial != null) {\n            this.blurMaterial.dispose();\n        }\n    }\n} //# sourceMappingURL=TextureUtils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvVGV4dHVyZVV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDNFE7QUFDdk07QUFDVDtBQUNSO0FBQ007QUFDM0QsTUFBTXNCLGtCQUFrQjtBQUN4Qix5RUFBeUU7QUFDekUsd0RBQXdEO0FBQ3hELE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxZQUFZLElBQUlYLGdEQUFhQTtBQUNuQyxNQUFNWSxZQUFZLElBQUlULGdGQUFVQTtBQUNoQ1MsVUFBVUMsV0FBVyxDQUFDdEIsZ0RBQWFBO0FBQ3BCLE1BQU11QixxQkFBcUJ4QixrREFBZUE7SUFDckR5QixZQUFZQyxhQUFhLENBQUU7UUFDdkIsS0FBSztRQUNMLElBQUksQ0FBQ0EsYUFBYSxHQUFHQTtRQUNyQixJQUFJLENBQUNDLHVCQUF1QixHQUFHO1FBQy9CLElBQUksQ0FBQ0MsMEJBQTBCLEdBQUc7UUFDbEMsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSUM7UUFDdkIsSUFBSSxDQUFDQyxZQUFZLEdBQUc7UUFDcEIsSUFBSSxDQUFDQyxTQUFTLEdBQUc7SUFDckI7SUFDQSxNQUFNQyxLQUFLQyxHQUFHLEVBQUVDLG1CQUFtQixLQUFRLENBQUMsRUFBRTtRQUMxQyxJQUFJO1lBQ0EsTUFBTUMsUUFBUWhCLFlBQVlpQixJQUFJLENBQUNIO1lBQy9CLE1BQU1JLFNBQVNGLFFBQVFkLFlBQVlEO1lBQ25DLE1BQU1rQixVQUFVLE1BQU0sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQyxTQUFXSixPQUFPTCxJQUFJLENBQUNDLEtBQUtPLFNBQVMsQ0FBQ0U7b0JBQzlFUixpQkFBaUJRLE1BQU1DLE1BQU0sR0FBR0QsTUFBTUUsS0FBSyxHQUFHO2dCQUNsRCxHQUFHSDtZQUNIUCxpQkFBaUI7WUFDakJJLFFBQVFPLElBQUksR0FBR1o7WUFD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Q1g7SUFDQSxNQUFNUSxVQUFVO1FBQ1osS0FBSyxNQUFNLEdBQUdDLFFBQVEsSUFBSSxJQUFJLENBQUNsRyxXQUFXLENBQUU7WUFDeEMsTUFBTThCLFNBQVMsTUFBTW9FO1lBQ3JCcEUsT0FBT21FLE9BQU87UUFDbEI7UUFDQSxJQUFJLElBQUksQ0FBQ25HLHVCQUF1QixJQUFJLE1BQU07WUFDckMsT0FBTSxJQUFJLENBQUNBLHVCQUF1QixFQUFFbUcsT0FBTztZQUM1QyxJQUFJLENBQUNuRyx1QkFBdUIsR0FBRztRQUNuQztRQUNBLElBQUksSUFBSSxDQUFDQywwQkFBMEIsSUFBSSxNQUFNO1lBQ3hDLE9BQU0sSUFBSSxDQUFDQSwwQkFBMEIsRUFBRWtHLE9BQU87WUFDL0MsSUFBSSxDQUFDbEcsMEJBQTBCLEdBQUc7UUFDdEM7UUFDQSxJQUFJLElBQUksQ0FBQ0csWUFBWSxJQUFJLE1BQU07WUFDM0IsSUFBSSxDQUFDQSxZQUFZLENBQUMrRixPQUFPO1FBQzdCO0lBQ0o7QUFDSixFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvVGV4dHVyZVV0aWxzLmpzP2EzY2UiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQmFja1NpZGUsIEJveEdlb21ldHJ5LCBDdWJlQ2FtZXJhLCBFcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZywgRXZlbnREaXNwYXRjaGVyLCBIYWxmRmxvYXRUeXBlLCBMaW5lYXJFbmNvZGluZywgTWVzaCwgTm9CbGVuZGluZywgTm9Ub25lTWFwcGluZywgUkdCQUZvcm1hdCwgU2NlbmUsIFNoYWRlck1hdGVyaWFsLCBzUkdCRW5jb2RpbmcsIFRleHR1cmVMb2FkZXIsIFZlY3RvcjMsIFdlYkdMQ3ViZVJlbmRlclRhcmdldCB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFJHQkVMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9SR0JFTG9hZGVyLmpzJztcbmltcG9ydCB7IGRlc2VyaWFsaXplVXJsLCB0aW1lUGFzc2VzIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJztcbmltcG9ydCBFbnZpcm9ubWVudFNjZW5lIGZyb20gJy4vRW52aXJvbm1lbnRTY2VuZS5qcyc7XG5pbXBvcnQgRW52aXJvbm1lbnRTY2VuZUFsdCBmcm9tICcuL0Vudmlyb25tZW50U2NlbmVBbHQuanMnO1xuY29uc3QgR0VORVJBVEVEX1NJR01BID0gMC4wNDtcbi8vIFRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aGUgYmx1ciBmb3IgbG9vcC4gU21hbGxlciBzaWdtYXMgd2lsbCB1c2UgZmV3ZXJcbi8vIHNhbXBsZXMgYW5kIGV4aXQgZWFybHksIGJ1dCBub3QgcmVjb21waWxlIHRoZSBzaGFkZXIuXG5jb25zdCBNQVhfU0FNUExFUyA9IDIwO1xuY29uc3QgSERSX0ZJTEVfUkUgPSAvXFwuaGRyKFxcLmpzKT8kLztcbmNvbnN0IGxkckxvYWRlciA9IG5ldyBUZXh0dXJlTG9hZGVyKCk7XG5jb25zdCBoZHJMb2FkZXIgPSBuZXcgUkdCRUxvYWRlcigpO1xuaGRyTG9hZGVyLnNldERhdGFUeXBlKEhhbGZGbG9hdFR5cGUpO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZVV0aWxzIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0aHJlZVJlbmRlcmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGhyZWVSZW5kZXJlciA9IHRocmVlUmVuZGVyZXI7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVkRW52aXJvbm1lbnRNYXAgPSBudWxsO1xuICAgICAgICB0aGlzLmdlbmVyYXRlZEVudmlyb25tZW50TWFwQWx0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5za3lib3hDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5ibHVyTWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICB0aGlzLmJsdXJTY2VuZSA9IG51bGw7XG4gICAgfVxuICAgIGFzeW5jIGxvYWQodXJsLCBwcm9ncmVzc0NhbGxiYWNrID0gKCkgPT4geyB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpc0hEUiA9IEhEUl9GSUxFX1JFLnRlc3QodXJsKTtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IGlzSERSID8gaGRyTG9hZGVyIDogbGRyTG9hZGVyO1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IGxvYWRlci5sb2FkKHVybCwgcmVzb2x2ZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjayhldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCAqIDAuOSk7XG4gICAgICAgICAgICB9LCByZWplY3QpKTtcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2soMS4wKTtcbiAgICAgICAgICAgIHRleHR1cmUubmFtZSA9IHVybDtcbiAgICAgICAgICAgIHRleHR1cmUubWFwcGluZyA9IEVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nO1xuICAgICAgICAgICAgaWYgKCFpc0hEUikge1xuICAgICAgICAgICAgICAgIHRleHR1cmUuZW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjaygxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgeyBza3lib3gsIGVudmlyb25tZW50TWFwIH0gb2JqZWN0IHdpdGggdGhlIHRhcmdldHMvdGV4dHVyZXNcbiAgICAgKiBhY2NvcmRpbmdseS4gYHNreWJveGAgaXMgYSBXZWJHTFJlbmRlckN1YmVUYXJnZXQsIGFuZCBgZW52aXJvbm1lbnRNYXBgXG4gICAgICogaXMgYSBUZXh0dXJlIGZyb20gYSBXZWJHTFJlbmRlckN1YmVUYXJnZXQuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVFbnZpcm9ubWVudE1hcEFuZFNreWJveChza3lib3hVcmwgPSBudWxsLCBlbnZpcm9ubWVudE1hcFVybCA9IG51bGwsIHByb2dyZXNzQ2FsbGJhY2sgPSAoKSA9PiB7IH0pIHtcbiAgICAgICAgY29uc3QgdXNlQWx0RW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudE1hcFVybCAhPT0gJ2xlZ2FjeSc7XG4gICAgICAgIGlmIChlbnZpcm9ubWVudE1hcFVybCA9PT0gJ2xlZ2FjeScgfHwgZW52aXJvbm1lbnRNYXBVcmwgPT09ICduZXV0cmFsJykge1xuICAgICAgICAgICAgZW52aXJvbm1lbnRNYXBVcmwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVudmlyb25tZW50TWFwVXJsID0gZGVzZXJpYWxpemVVcmwoZW52aXJvbm1lbnRNYXBVcmwpO1xuICAgICAgICBsZXQgc2t5Ym94TG9hZHMgPSBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgIGxldCBlbnZpcm9ubWVudE1hcExvYWRzO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgc2t5Ym94IFVSTCwgYXR0ZW1wdCB0byBsb2FkIGl0IGFzIGEgY3ViZW1hcFxuICAgICAgICBpZiAoISFza3lib3hVcmwpIHtcbiAgICAgICAgICAgIHNreWJveExvYWRzID0gdGhpcy5sb2FkRXF1aXJlY3RGcm9tVXJsKHNreWJveFVybCwgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhZW52aXJvbm1lbnRNYXBVcmwpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgYW4gYXZhaWxhYmxlIGVudmlyb25tZW50IG1hcCBVUkxcbiAgICAgICAgICAgIGVudmlyb25tZW50TWFwTG9hZHMgPVxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEVxdWlyZWN0RnJvbVVybChlbnZpcm9ubWVudE1hcFVybCwgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoISFza3lib3hVcmwpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGRlcml2aW5nIHRoZSBlbnZpcm9ubWVudCBtYXAgZnJvbSBhbiBhdmFpbGFibGUgc2t5Ym94XG4gICAgICAgICAgICBlbnZpcm9ubWVudE1hcExvYWRzID1cbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRFcXVpcmVjdEZyb21Vcmwoc2t5Ym94VXJsLCBwcm9ncmVzc0NhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGdlbmVyYXRpbmcgdGhlIGVudmlyb25tZW50IG1hcFxuICAgICAgICAgICAgZW52aXJvbm1lbnRNYXBMb2FkcyA9IHVzZUFsdEVudmlyb25tZW50ID9cbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRHZW5lcmF0ZWRFbnZpcm9ubWVudE1hcEFsdCgpIDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRHZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtlbnZpcm9ubWVudE1hcCwgc2t5Ym94XSA9IGF3YWl0IFByb21pc2UuYWxsKFtlbnZpcm9ubWVudE1hcExvYWRzLCBza3lib3hMb2Fkc10pO1xuICAgICAgICBpZiAoZW52aXJvbm1lbnRNYXAgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBlbnZpcm9ubWVudCBtYXAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZW52aXJvbm1lbnRNYXAsIHNreWJveCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBlcXVpcmVjdCBUZXh0dXJlIGZyb20gYSBnaXZlbiBVUkwsIGZvciB1c2UgYXMgYSBza3lib3guXG4gICAgICovXG4gICAgYXN5bmMgbG9hZEVxdWlyZWN0RnJvbVVybCh1cmwsIHByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLnNreWJveENhY2hlLmhhcyh1cmwpKSB7XG4gICAgICAgICAgICBjb25zdCBza3lib3hNYXBMb2FkcyA9IHRoaXMubG9hZCh1cmwsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5za3lib3hDYWNoZS5zZXQodXJsLCBza3lib3hNYXBMb2Fkcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2t5Ym94Q2FjaGUuZ2V0KHVybCk7XG4gICAgfVxuICAgIGFzeW5jIEdlbmVyYXRlRW52aXJvbm1lbnRNYXAoc2NlbmUsIG5hbWUpIHtcbiAgICAgICAgYXdhaXQgdGltZVBhc3NlcygpO1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMudGhyZWVSZW5kZXJlcjtcbiAgICAgICAgY29uc3QgY3ViZVRhcmdldCA9IG5ldyBXZWJHTEN1YmVSZW5kZXJUYXJnZXQoMjU2LCB7XG4gICAgICAgICAgICBnZW5lcmF0ZU1pcG1hcHM6IGZhbHNlLFxuICAgICAgICAgICAgdHlwZTogSGFsZkZsb2F0VHlwZSxcbiAgICAgICAgICAgIGZvcm1hdDogUkdCQUZvcm1hdCxcbiAgICAgICAgICAgIGVuY29kaW5nOiBMaW5lYXJFbmNvZGluZyxcbiAgICAgICAgICAgIGRlcHRoQnVmZmVyOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjdWJlQ2FtZXJhID0gbmV3IEN1YmVDYW1lcmEoMC4xLCAxMDAsIGN1YmVUYXJnZXQpO1xuICAgICAgICBjb25zdCBnZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCA9IGN1YmVDYW1lcmEucmVuZGVyVGFyZ2V0LnRleHR1cmU7XG4gICAgICAgIGdlbmVyYXRlZEVudmlyb25tZW50TWFwLm5hbWUgPSBuYW1lO1xuICAgICAgICBjb25zdCBvdXRwdXRFbmNvZGluZyA9IHJlbmRlcmVyLm91dHB1dEVuY29kaW5nO1xuICAgICAgICBjb25zdCB0b25lTWFwcGluZyA9IHJlbmRlcmVyLnRvbmVNYXBwaW5nO1xuICAgICAgICByZW5kZXJlci50b25lTWFwcGluZyA9IE5vVG9uZU1hcHBpbmc7XG4gICAgICAgIHJlbmRlcmVyLm91dHB1dEVuY29kaW5nID0gTGluZWFyRW5jb2Rpbmc7XG4gICAgICAgIGN1YmVDYW1lcmEudXBkYXRlKHJlbmRlcmVyLCBzY2VuZSk7XG4gICAgICAgIHRoaXMuYmx1ckN1YmVtYXAoY3ViZVRhcmdldCwgR0VORVJBVEVEX1NJR01BKTtcbiAgICAgICAgcmVuZGVyZXIudG9uZU1hcHBpbmcgPSB0b25lTWFwcGluZztcbiAgICAgICAgcmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgPSBvdXRwdXRFbmNvZGluZztcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEVudmlyb25tZW50TWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBlbnZpcm9ubWVudCBtYXAuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZEdlbmVyYXRlZEVudmlyb25tZW50TWFwKCkge1xuICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlZEVudmlyb25tZW50TWFwID1cbiAgICAgICAgICAgICAgICB0aGlzLkdlbmVyYXRlRW52aXJvbm1lbnRNYXAobmV3IEVudmlyb25tZW50U2NlbmUoKSwgJ2xlZ2FjeScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlZEVudmlyb25tZW50TWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBlbnZpcm9ubWVudCBtYXAsIGRlc2lnbmVkIHRvIGJlIG5ldXRyYWwgYW5kXG4gICAgICogY29sb3ItcHJlc2VydmluZy4gU2hvd3MgbGVzcyBjb250cmFzdCBhcm91bmQgdGhlIGRpZmZlcmVudCBzaWRlcyBvZiB0aGVcbiAgICAgKiBvYmplY3QuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZEdlbmVyYXRlZEVudmlyb25tZW50TWFwQWx0KCkge1xuICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcEFsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlZEVudmlyb25tZW50TWFwQWx0ID1cbiAgICAgICAgICAgICAgICB0aGlzLkdlbmVyYXRlRW52aXJvbm1lbnRNYXAobmV3IEVudmlyb25tZW50U2NlbmVBbHQoKSwgJ25ldXRyYWwnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcEFsdDtcbiAgICB9XG4gICAgYmx1ckN1YmVtYXAoY3ViZVRhcmdldCwgc2lnbWEpIHtcbiAgICAgICAgaWYgKHRoaXMuYmx1ck1hdGVyaWFsID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1ck1hdGVyaWFsID0gdGhpcy5nZXRCbHVyU2hhZGVyKE1BWF9TQU1QTEVTKTtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IG5ldyBCb3hHZW9tZXRyeSgpO1xuICAgICAgICAgICAgY29uc3QgYmx1ck1lc2ggPSBuZXcgTWVzaChib3gsIHRoaXMuYmx1ck1hdGVyaWFsKTtcbiAgICAgICAgICAgIHRoaXMuYmx1clNjZW5lID0gbmV3IFNjZW5lKCk7XG4gICAgICAgICAgICB0aGlzLmJsdXJTY2VuZS5hZGQoYmx1ck1lc2gpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRlbXBUYXJnZXQgPSBjdWJlVGFyZ2V0LmNsb25lKCk7XG4gICAgICAgIHRoaXMuaGFsZmJsdXIoY3ViZVRhcmdldCwgdGVtcFRhcmdldCwgc2lnbWEsICdsYXRpdHVkaW5hbCcpO1xuICAgICAgICB0aGlzLmhhbGZibHVyKHRlbXBUYXJnZXQsIGN1YmVUYXJnZXQsIHNpZ21hLCAnbG9uZ2l0dWRpbmFsJyk7XG4gICAgICAgIC8vIERpc3Bvc2luZyB0aGlzIHRhcmdldCBhZnRlciB3ZSdyZSBkb25lIHdpdGggaXQgc29tZWhvdyBjb3JydXB0cyBTYWZhcmknc1xuICAgICAgICAvLyB3aG9sZSBncmFwaGljcyBkcml2ZXIuIEl0J3MgcmFuZG9tLCBidXQgb2NjdXJzIG1vcmUgZnJlcXVlbnRseSBvblxuICAgICAgICAvLyBsb3dlci1wb3dlcmVkIEdQVXMgKG1hY2Jvb2tzIHdpdGggaW50ZWwgZ3JhcGhpY3MsIG9sZGVyIGlQaG9uZXMpLiBJdCBnb2VzXG4gICAgICAgIC8vIGJleW9uZCBqdXN0IG1lc3NpbmcgdXAgdGhlIFBNUkVNLCBhcyBpdCBhbHNvIG9jY2FzaW9uYWxseSBjYXVzZXNcbiAgICAgICAgLy8gdmlzaWJsZSBjb3JydXB0aW9uIG9uIHRoZSBjYW52YXMgYW5kIGV2ZW4gb24gdGhlIHJlc3Qgb2YgdGhlIHBhZ2UuXG4gICAgICAgIC8qKiB0ZW1wVGFyZ2V0LmRpc3Bvc2UoKTsgKi9cbiAgICB9XG4gICAgaGFsZmJsdXIodGFyZ2V0SW4sIHRhcmdldE91dCwgc2lnbWFSYWRpYW5zLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgLy8gTnVtYmVyIG9mIHN0YW5kYXJkIGRldmlhdGlvbnMgYXQgd2hpY2ggdG8gY3V0IG9mZiB0aGUgZGlzY3JldGVcbiAgICAgICAgLy8gYXBwcm94aW1hdGlvbi5cbiAgICAgICAgY29uc3QgU1RBTkRBUkRfREVWSUFUSU9OUyA9IDM7XG4gICAgICAgIGNvbnN0IHBpeGVscyA9IHRhcmdldEluLndpZHRoO1xuICAgICAgICBjb25zdCByYWRpYW5zUGVyUGl4ZWwgPSBpc0Zpbml0ZShzaWdtYVJhZGlhbnMpID9cbiAgICAgICAgICAgIE1hdGguUEkgLyAoMiAqIHBpeGVscykgOlxuICAgICAgICAgICAgMiAqIE1hdGguUEkgLyAoMiAqIE1BWF9TQU1QTEVTIC0gMSk7XG4gICAgICAgIGNvbnN0IHNpZ21hUGl4ZWxzID0gc2lnbWFSYWRpYW5zIC8gcmFkaWFuc1BlclBpeGVsO1xuICAgICAgICBjb25zdCBzYW1wbGVzID0gaXNGaW5pdGUoc2lnbWFSYWRpYW5zKSA/XG4gICAgICAgICAgICAxICsgTWF0aC5mbG9vcihTVEFOREFSRF9ERVZJQVRJT05TICogc2lnbWFQaXhlbHMpIDpcbiAgICAgICAgICAgIE1BWF9TQU1QTEVTO1xuICAgICAgICBpZiAoc2FtcGxlcyA+IE1BWF9TQU1QTEVTKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHNpZ21hUmFkaWFucywgJHtzaWdtYVJhZGlhbnN9LCBpcyB0b28gbGFyZ2UgYW5kIHdpbGwgY2xpcCwgYXMgaXQgcmVxdWVzdGVkICR7c2FtcGxlc30gc2FtcGxlcyB3aGVuIHRoZSBtYXhpbXVtIGlzIHNldCB0byAke01BWF9TQU1QTEVTfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdlaWdodHMgPSBbXTtcbiAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTUFYX1NBTVBMRVM7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgeCA9IGkgLyBzaWdtYVBpeGVscztcbiAgICAgICAgICAgIGNvbnN0IHdlaWdodCA9IE1hdGguZXhwKC14ICogeCAvIDIpO1xuICAgICAgICAgICAgd2VpZ2h0cy5wdXNoKHdlaWdodCk7XG4gICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IHdlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGkgPCBzYW1wbGVzKSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IDIgKiB3ZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB3ZWlnaHRzW2ldID0gd2VpZ2h0c1tpXSAvIHN1bTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibHVyVW5pZm9ybXMgPSB0aGlzLmJsdXJNYXRlcmlhbC51bmlmb3JtcztcbiAgICAgICAgYmx1clVuaWZvcm1zWydlbnZNYXAnXS52YWx1ZSA9IHRhcmdldEluLnRleHR1cmU7XG4gICAgICAgIGJsdXJVbmlmb3Jtc1snc2FtcGxlcyddLnZhbHVlID0gc2FtcGxlcztcbiAgICAgICAgYmx1clVuaWZvcm1zWyd3ZWlnaHRzJ10udmFsdWUgPSB3ZWlnaHRzO1xuICAgICAgICBibHVyVW5pZm9ybXNbJ2xhdGl0dWRpbmFsJ10udmFsdWUgPSBkaXJlY3Rpb24gPT09ICdsYXRpdHVkaW5hbCc7XG4gICAgICAgIGJsdXJVbmlmb3Jtc1snZFRoZXRhJ10udmFsdWUgPSByYWRpYW5zUGVyUGl4ZWw7XG4gICAgICAgIGNvbnN0IGN1YmVDYW1lcmEgPSBuZXcgQ3ViZUNhbWVyYSgwLjEsIDEwMCwgdGFyZ2V0T3V0KTtcbiAgICAgICAgY3ViZUNhbWVyYS51cGRhdGUodGhpcy50aHJlZVJlbmRlcmVyLCB0aGlzLmJsdXJTY2VuZSk7XG4gICAgfVxuICAgIGdldEJsdXJTaGFkZXIobWF4U2FtcGxlcykge1xuICAgICAgICBjb25zdCB3ZWlnaHRzID0gbmV3IEZsb2F0MzJBcnJheShtYXhTYW1wbGVzKTtcbiAgICAgICAgY29uc3QgcG9sZUF4aXMgPSBuZXcgVmVjdG9yMygwLCAxLCAwKTtcbiAgICAgICAgY29uc3Qgc2hhZGVyTWF0ZXJpYWwgPSBuZXcgU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgICAgICAgbmFtZTogJ1NwaGVyaWNhbEdhdXNzaWFuQmx1cicsXG4gICAgICAgICAgICBkZWZpbmVzOiB7ICduJzogbWF4U2FtcGxlcyB9LFxuICAgICAgICAgICAgdW5pZm9ybXM6IHtcbiAgICAgICAgICAgICAgICAnZW52TWFwJzogeyB2YWx1ZTogbnVsbCB9LFxuICAgICAgICAgICAgICAgICdzYW1wbGVzJzogeyB2YWx1ZTogMSB9LFxuICAgICAgICAgICAgICAgICd3ZWlnaHRzJzogeyB2YWx1ZTogd2VpZ2h0cyB9LFxuICAgICAgICAgICAgICAgICdsYXRpdHVkaW5hbCc6IHsgdmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgJ2RUaGV0YSc6IHsgdmFsdWU6IDAgfSxcbiAgICAgICAgICAgICAgICAncG9sZUF4aXMnOiB7IHZhbHVlOiBwb2xlQXhpcyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVydGV4U2hhZGVyOiAvKiBnbHNsICovIGBcbiAgICAgIFxuICAgICAgdmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG4gIFxuICAgICAgdm9pZCBtYWluKCkge1xuICBcbiAgICAgICAgdk91dHB1dERpcmVjdGlvbiA9IHZlYzMoIHBvc2l0aW9uICk7XG4gICAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcbiAgXG4gICAgICB9XG4gICAgYCxcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyOiAvKiBnbHNsICovIGBcbiAgICAgICAgdmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG4gIFxuICAgICAgICB1bmlmb3JtIHNhbXBsZXJDdWJlIGVudk1hcDtcbiAgICAgICAgdW5pZm9ybSBpbnQgc2FtcGxlcztcbiAgICAgICAgdW5pZm9ybSBmbG9hdCB3ZWlnaHRzWyBuIF07XG4gICAgICAgIHVuaWZvcm0gYm9vbCBsYXRpdHVkaW5hbDtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkVGhldGE7XG4gICAgICAgIHVuaWZvcm0gdmVjMyBwb2xlQXhpcztcbiAgXG4gICAgICAgIHZlYzMgZ2V0U2FtcGxlKCBmbG9hdCB0aGV0YSwgdmVjMyBheGlzICkge1xuICBcbiAgICAgICAgICBmbG9hdCBjb3NUaGV0YSA9IGNvcyggdGhldGEgKTtcbiAgICAgICAgICAvLyBSb2RyaWd1ZXMnIGF4aXMtYW5nbGUgcm90YXRpb25cbiAgICAgICAgICB2ZWMzIHNhbXBsZURpcmVjdGlvbiA9IHZPdXRwdXREaXJlY3Rpb24gKiBjb3NUaGV0YVxuICAgICAgICAgICAgKyBjcm9zcyggYXhpcywgdk91dHB1dERpcmVjdGlvbiApICogc2luKCB0aGV0YSApXG4gICAgICAgICAgICArIGF4aXMgKiBkb3QoIGF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKSAqICggMS4wIC0gY29zVGhldGEgKTtcbiAgXG4gICAgICAgICAgcmV0dXJuIHZlYzMoIHRleHR1cmVDdWJlKCBlbnZNYXAsIHNhbXBsZURpcmVjdGlvbiApICk7XG4gIFxuICAgICAgICB9XG4gIFxuICAgICAgICB2b2lkIG1haW4oKSB7XG4gIFxuICAgICAgICAgIHZlYzMgYXhpcyA9IGxhdGl0dWRpbmFsID8gcG9sZUF4aXMgOiBjcm9zcyggcG9sZUF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKTtcbiAgXG4gICAgICAgICAgaWYgKCBhbGwoIGVxdWFsKCBheGlzLCB2ZWMzKCAwLjAgKSApICkgKSB7XG4gIFxuICAgICAgICAgICAgYXhpcyA9IHZlYzMoIHZPdXRwdXREaXJlY3Rpb24ueiwgMC4wLCAtIHZPdXRwdXREaXJlY3Rpb24ueCApO1xuICBcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIGF4aXMgPSBub3JtYWxpemUoIGF4aXMgKTtcbiAgXG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggMC4wLCAwLjAsIDAuMCwgMS4wICk7XG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyAwIF0gKiBnZXRTYW1wbGUoIDAuMCwgYXhpcyApO1xuICBcbiAgICAgICAgICBmb3IgKCBpbnQgaSA9IDE7IGkgPCBuOyBpKysgKSB7XG4gIFxuICAgICAgICAgICAgaWYgKCBpID49IHNhbXBsZXMgKSB7XG4gIFxuICAgICAgICAgICAgICBicmVhaztcbiAgXG4gICAgICAgICAgICB9XG4gIFxuICAgICAgICAgICAgZmxvYXQgdGhldGEgPSBkVGhldGEgKiBmbG9hdCggaSApO1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIC0xLjAgKiB0aGV0YSwgYXhpcyApO1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIHRoZXRhLCBheGlzICk7XG4gIFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYCxcbiAgICAgICAgICAgIGJsZW5kaW5nOiBOb0JsZW5kaW5nLFxuICAgICAgICAgICAgZGVwdGhUZXN0OiBmYWxzZSxcbiAgICAgICAgICAgIGRlcHRoV3JpdGU6IGZhbHNlLFxuICAgICAgICAgICAgc2lkZTogQmFja1NpZGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzaGFkZXJNYXRlcmlhbDtcbiAgICB9XG4gICAgYXN5bmMgZGlzcG9zZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBbLCBwcm9taXNlXSBvZiB0aGlzLnNreWJveENhY2hlKSB7XG4gICAgICAgICAgICBjb25zdCBza3lib3ggPSBhd2FpdCBwcm9taXNlO1xuICAgICAgICAgICAgc2t5Ym94LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAoYXdhaXQgdGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCkuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2VuZXJhdGVkRW52aXJvbm1lbnRNYXBBbHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgKGF3YWl0IHRoaXMuZ2VuZXJhdGVkRW52aXJvbm1lbnRNYXBBbHQpLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVkRW52aXJvbm1lbnRNYXBBbHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJsdXJNYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJNYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbIkJhY2tTaWRlIiwiQm94R2VvbWV0cnkiLCJDdWJlQ2FtZXJhIiwiRXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmciLCJFdmVudERpc3BhdGNoZXIiLCJIYWxmRmxvYXRUeXBlIiwiTGluZWFyRW5jb2RpbmciLCJNZXNoIiwiTm9CbGVuZGluZyIsIk5vVG9uZU1hcHBpbmciLCJSR0JBRm9ybWF0IiwiU2NlbmUiLCJTaGFkZXJNYXRlcmlhbCIsInNSR0JFbmNvZGluZyIsIlRleHR1cmVMb2FkZXIiLCJWZWN0b3IzIiwiV2ViR0xDdWJlUmVuZGVyVGFyZ2V0IiwiUkdCRUxvYWRlciIsImRlc2VyaWFsaXplVXJsIiwidGltZVBhc3NlcyIsIkVudmlyb25tZW50U2NlbmUiLCJFbnZpcm9ubWVudFNjZW5lQWx0IiwiR0VORVJBVEVEX1NJR01BIiwiTUFYX1NBTVBMRVMiLCJIRFJfRklMRV9SRSIsImxkckxvYWRlciIsImhkckxvYWRlciIsInNldERhdGFUeXBlIiwiVGV4dHVyZVV0aWxzIiwiY29uc3RydWN0b3IiLCJ0aHJlZVJlbmRlcmVyIiwiZ2VuZXJhdGVkRW52aXJvbm1lbnRNYXAiLCJnZW5lcmF0ZWRFbnZpcm9ubWVudE1hcEFsdCIsInNreWJveENhY2hlIiwiTWFwIiwiYmx1ck1hdGVyaWFsIiwiYmx1clNjZW5lIiwibG9hZCIsInVybCIsInByb2dyZXNzQ2FsbGJhY2siLCJpc0hEUiIsInRlc3QiLCJsb2FkZXIiLCJ0ZXh0dXJlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJldmVudCIsImxvYWRlZCIsInRvdGFsIiwibmFtZSIsIm1hcHBpbmciLCJlbmNvZGluZyIsImdlbmVyYXRlRW52aXJvbm1lbnRNYXBBbmRTa3lib3giLCJza3lib3hVcmwiLCJlbnZpcm9ubWVudE1hcFVybCIsInVzZUFsdEVudmlyb25tZW50Iiwic2t5Ym94TG9hZHMiLCJlbnZpcm9ubWVudE1hcExvYWRzIiwibG9hZEVxdWlyZWN0RnJvbVVybCIsImxvYWRHZW5lcmF0ZWRFbnZpcm9ubWVudE1hcEFsdCIsImxvYWRHZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCIsImVudmlyb25tZW50TWFwIiwic2t5Ym94IiwiYWxsIiwiRXJyb3IiLCJoYXMiLCJza3lib3hNYXBMb2FkcyIsInNldCIsImdldCIsIkdlbmVyYXRlRW52aXJvbm1lbnRNYXAiLCJzY2VuZSIsInJlbmRlcmVyIiwiY3ViZVRhcmdldCIsImdlbmVyYXRlTWlwbWFwcyIsInR5cGUiLCJmb3JtYXQiLCJkZXB0aEJ1ZmZlciIsImN1YmVDYW1lcmEiLCJyZW5kZXJUYXJnZXQiLCJvdXRwdXRFbmNvZGluZyIsInRvbmVNYXBwaW5nIiwidXBkYXRlIiwiYmx1ckN1YmVtYXAiLCJzaWdtYSIsImdldEJsdXJTaGFkZXIiLCJib3giLCJibHVyTWVzaCIsImFkZCIsInRlbXBUYXJnZXQiLCJjbG9uZSIsImhhbGZibHVyIiwidGFyZ2V0SW4iLCJ0YXJnZXRPdXQiLCJzaWdtYVJhZGlhbnMiLCJkaXJlY3Rpb24iLCJTVEFOREFSRF9ERVZJQVRJT05TIiwicGl4ZWxzIiwid2lkdGgiLCJyYWRpYW5zUGVyUGl4ZWwiLCJpc0Zpbml0ZSIsIk1hdGgiLCJQSSIsInNpZ21hUGl4ZWxzIiwic2FtcGxlcyIsImZsb29yIiwiY29uc29sZSIsIndhcm4iLCJ3ZWlnaHRzIiwic3VtIiwiaSIsIngiLCJ3ZWlnaHQiLCJleHAiLCJwdXNoIiwibGVuZ3RoIiwiYmx1clVuaWZvcm1zIiwidW5pZm9ybXMiLCJ2YWx1ZSIsIm1heFNhbXBsZXMiLCJGbG9hdDMyQXJyYXkiLCJwb2xlQXhpcyIsInNoYWRlck1hdGVyaWFsIiwiZGVmaW5lcyIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwiYmxlbmRpbmciLCJkZXB0aFRlc3QiLCJkZXB0aFdyaXRlIiwic2lkZSIsImRpc3Bvc2UiLCJwcm9taXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/TextureUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/ModelViewerGLTFInstance.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/ModelViewerGLTFInstance.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModelViewerGLTFInstance: () => (/* binding */ ModelViewerGLTFInstance)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GLTFInstance.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/GLTFInstance.js\");\n/* harmony import */ var _correlated_scene_graph_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./correlated-scene-graph.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/correlated-scene-graph.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n\n\nconst $correlatedSceneGraph = Symbol(\"correlatedSceneGraph\");\n/**\n * This specialization of GLTFInstance collects all of the processing needed\n * to prepare a model and to clone it making special considerations for\n * <model-viewer> use cases.\n */ class ModelViewerGLTFInstance extends _GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.GLTFInstance {\n    /**\n     * @override\n     */ static [_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$prepare](source) {\n        const prepared = super[_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$prepare](source);\n        if (prepared[$correlatedSceneGraph] == null) {\n            prepared[$correlatedSceneGraph] = _correlated_scene_graph_js__WEBPACK_IMPORTED_MODULE_1__.CorrelatedSceneGraph.from(prepared);\n        }\n        const { scene } = prepared;\n        const nullSphere = new three__WEBPACK_IMPORTED_MODULE_2__.Sphere(undefined, Infinity);\n        scene.traverse((node)=>{\n            // Set a high renderOrder while we're here to ensure the model\n            // always renders on top of the sky sphere\n            node.renderOrder = 1000;\n            // Three.js seems to cull some animated models incorrectly. Since we\n            // expect to view our whole scene anyway, we turn off the frustum\n            // culling optimization here.\n            node.frustumCulled = false;\n            // Animations for objects without names target their UUID instead. When\n            // objects are cloned, they get new UUIDs which the animation can't\n            // find. To fix this, we assign their UUID as their name.\n            if (!node.name) {\n                node.name = node.uuid;\n            }\n            const mesh = node;\n            if (mesh.isMesh) {\n                const { geometry } = mesh;\n                mesh.castShadow = true;\n                if (mesh.isSkinnedMesh) {\n                    // Akin to disabling frustum culling above, we have to also manually\n                    // disable the bounds to make raycasting correct for skinned meshes.\n                    geometry.boundingSphere = nullSphere;\n                    // The bounding box is set in GLTFLoader by the accessor bounds, which\n                    // are not updated with animation.\n                    geometry.boundingBox = null;\n                }\n                const material = mesh.material;\n                if (material.isMeshBasicMaterial === true) {\n                    material.toneMapped = false;\n                }\n                // This makes shadows better for non-manifold meshes\n                material.shadowSide = three__WEBPACK_IMPORTED_MODULE_2__.FrontSide;\n                // Fixes an edge case with unused extra UV-coords being incorrectly\n                // referenced by three.js; remove when\n                // https://github.com/mrdoob/three.js/pull/23974 is merged.\n                if (material.aoMap) {\n                    const { gltf, threeObjectMap } = prepared[$correlatedSceneGraph];\n                    const gltfRef = threeObjectMap.get(material);\n                    if (gltf.materials != null && gltfRef != null && gltfRef.materials != null) {\n                        const gltfMaterial = gltf.materials[gltfRef.materials];\n                        if (gltfMaterial.occlusionTexture && gltfMaterial.occlusionTexture.texCoord === 0 && geometry.attributes.uv != null) {\n                            geometry.setAttribute(\"uv2\", geometry.attributes.uv);\n                        }\n                    }\n                }\n            }\n        });\n        return prepared;\n    }\n    get correlatedSceneGraph() {\n        return this[_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$preparedGLTF][$correlatedSceneGraph];\n    }\n    /**\n     * @override\n     */ [_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$clone]() {\n        const clone = super[_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$clone]();\n        const sourceUUIDToClonedMaterial = new Map();\n        clone.scene.traverse((node)=>{\n            // Materials aren't cloned when cloning meshes; geometry\n            // and materials are copied by reference. This is necessary\n            // for the same model to be used twice with different\n            // scene-graph operations.\n            if (node.isMesh) {\n                const mesh = node;\n                const material = mesh.material;\n                if (material != null) {\n                    if (sourceUUIDToClonedMaterial.has(material.uuid)) {\n                        mesh.material = sourceUUIDToClonedMaterial.get(material.uuid);\n                        return;\n                    }\n                    mesh.material = material.clone();\n                    sourceUUIDToClonedMaterial.set(material.uuid, mesh.material);\n                }\n            }\n        });\n        // Cross-correlate the scene graph by relying on information in the\n        // current scene graph; without this step, relationships between the\n        // Three.js object graph and the glTF scene graph will be lost.\n        clone[$correlatedSceneGraph] = _correlated_scene_graph_js__WEBPACK_IMPORTED_MODULE_1__.CorrelatedSceneGraph.from(clone, this.correlatedSceneGraph);\n        return clone;\n    }\n} //# sourceMappingURL=ModelViewerGLTFInstance.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9Nb2RlbFZpZXdlckdMVEZJbnN0YW5jZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUN5QztBQUN5QztBQUNoQjtBQUNuRSxNQUFNTyx3QkFBd0JDLE9BQU87QUFDckM7Ozs7Q0FJQyxHQUNNLE1BQU1DLGdDQUFnQ0osMERBQVlBO0lBQ3JEOztLQUVDLEdBQ0QsT0FBTyxDQUFDRixzREFBUUEsQ0FBQyxDQUFDTyxNQUFNLEVBQUU7UUFDdEIsTUFBTUMsV0FBVyxLQUFLLENBQUNSLHNEQUFRQSxDQUFDLENBQUNPO1FBQ2pDLElBQUlDLFFBQVEsQ0FBQ0osc0JBQXNCLElBQUksTUFBTTtZQUN6Q0ksUUFBUSxDQUFDSixzQkFBc0IsR0FBR0QsNEVBQW9CQSxDQUFDTSxJQUFJLENBQUNEO1FBQ2hFO1FBQ0EsTUFBTSxFQUFFRSxLQUFLLEVBQUUsR0FBR0Y7UUFDbEIsTUFBTUcsYUFBYSxJQUFJYix5Q0FBTUEsQ0FBQ2MsV0FBV0M7UUFDekNILE1BQU1JLFFBQVEsQ0FBQyxDQUFDQztZQUNaLDhEQUE4RDtZQUM5RCwwQ0FBMEM7WUFDMUNBLEtBQUtDLFdBQVcsR0FBRztZQUNuQixvRUFBb0U7WUFDcEUsaUVBQWlFO1lBQ2pFLDZCQUE2QjtZQUM3QkQsS0FBS0UsYUFBYSxHQUFHO1lBQ3JCLHVFQUF1RTtZQUN2RSxtRUFBbUU7WUFDbkUseURBQXlEO1lBQ3pELElBQUksQ0FBQ0YsS0FBS0csSUFBSSxFQUFFO2dCQUNaSCxLQUFLRyxJQUFJLEdBQUdILEtBQUtJLElBQUk7WUFDekI7WUFDQSxNQUFNQyxPQUFPTDtZQUNiLElBQUlLLEtBQUtDLE1BQU0sRUFBRTtnQkFDYixNQUFNLEVBQUVDLFFBQVEsRUFBRSxHQUFHRjtnQkFDckJBLEtBQUtHLFVBQVUsR0FBRztnQkFDbEIsSUFBSUgsS0FBS0ksYUFBYSxFQUFFO29CQUNwQixvRUFBb0U7b0JBQ3BFLG9FQUFvRTtvQkFDcEVGLFNBQVNHLGNBQWMsR0FBR2Q7b0JBQzFCLHNFQUFzRTtvQkFDdEUsa0NBQWtDO29CQUNsQ1csU0FBU0ksV0FBVyxHQUFHO2dCQUMzQjtnQkFDQSxNQUFNQyxXQUFXUCxLQUFLTyxRQUFRO2dCQUM5QixJQUFJQSxTQUFTQyxtQkFBbUIsS0FBSyxNQUFNO29CQUN2Q0QsU0FBU0UsVUFBVSxHQUFHO2dCQUMxQjtnQkFDQSxvREFBb0Q7Z0JBQ3BERixTQUFTRyxVQUFVLEdBQUdqQyw0Q0FBU0E7Z0JBQy9CLG1FQUFtRTtnQkFDbkUsc0NBQXNDO2dCQUN0QywyREFBMkQ7Z0JBQzNELElBQUk4QixTQUFTSSxLQUFLLEVBQUU7b0JBQ2hCLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxjQUFjLEVBQUUsR0FBR3pCLFFBQVEsQ0FBQ0osc0JBQXNCO29CQUNoRSxNQUFNOEIsVUFBVUQsZUFBZUUsR0FBRyxDQUFDUjtvQkFDbkMsSUFBSUssS0FBS0ksU0FBUyxJQUFJLFFBQVFGLFdBQVcsUUFDckNBLFFBQVFFLFNBQVMsSUFBSSxNQUFNO3dCQUMzQixNQUFNQyxlQUFlTCxLQUFLSSxTQUFTLENBQUNGLFFBQVFFLFNBQVMsQ0FBQzt3QkFDdEQsSUFBSUMsYUFBYUMsZ0JBQWdCLElBQzdCRCxhQUFhQyxnQkFBZ0IsQ0FBQ0MsUUFBUSxLQUFLLEtBQzNDakIsU0FBU2tCLFVBQVUsQ0FBQ0MsRUFBRSxJQUFJLE1BQU07NEJBQ2hDbkIsU0FBU29CLFlBQVksQ0FBQyxPQUFPcEIsU0FBU2tCLFVBQVUsQ0FBQ0MsRUFBRTt3QkFDdkQ7b0JBQ0o7Z0JBQ0o7WUFDSjtRQUNKO1FBQ0EsT0FBT2pDO0lBQ1g7SUFDQSxJQUFJbUMsdUJBQXVCO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDMUMsMkRBQWFBLENBQUMsQ0FBQ0csc0JBQXNCO0lBQ3JEO0lBQ0E7O0tBRUMsR0FDRCxDQUFDTCxvREFBTUEsQ0FBQyxHQUFHO1FBQ1AsTUFBTTZDLFFBQVEsS0FBSyxDQUFDN0Msb0RBQU1BLENBQUM7UUFDM0IsTUFBTThDLDZCQUE2QixJQUFJQztRQUN2Q0YsTUFBTWxDLEtBQUssQ0FBQ0ksUUFBUSxDQUFDLENBQUNDO1lBQ2xCLHdEQUF3RDtZQUN4RCwyREFBMkQ7WUFDM0QscURBQXFEO1lBQ3JELDBCQUEwQjtZQUMxQixJQUFJQSxLQUFLTSxNQUFNLEVBQUU7Z0JBQ2IsTUFBTUQsT0FBT0w7Z0JBQ2IsTUFBTVksV0FBV1AsS0FBS08sUUFBUTtnQkFDOUIsSUFBSUEsWUFBWSxNQUFNO29CQUNsQixJQUFJa0IsMkJBQTJCRSxHQUFHLENBQUNwQixTQUFTUixJQUFJLEdBQUc7d0JBQy9DQyxLQUFLTyxRQUFRLEdBQUdrQiwyQkFBMkJWLEdBQUcsQ0FBQ1IsU0FBU1IsSUFBSTt3QkFDNUQ7b0JBQ0o7b0JBQ0FDLEtBQUtPLFFBQVEsR0FBR0EsU0FBU2lCLEtBQUs7b0JBQzlCQywyQkFBMkJHLEdBQUcsQ0FBQ3JCLFNBQVNSLElBQUksRUFBRUMsS0FBS08sUUFBUTtnQkFDL0Q7WUFDSjtRQUNKO1FBQ0EsbUVBQW1FO1FBQ25FLG9FQUFvRTtRQUNwRSwrREFBK0Q7UUFDL0RpQixLQUFLLENBQUN4QyxzQkFBc0IsR0FDeEJELDRFQUFvQkEsQ0FBQ00sSUFBSSxDQUFDbUMsT0FBTyxJQUFJLENBQUNELG9CQUFvQjtRQUM5RCxPQUFPQztJQUNYO0FBQ0osRUFDQSxtREFBbUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi90aHJlZS1jb21wb25lbnRzL2dsdGYtaW5zdGFuY2UvTW9kZWxWaWV3ZXJHTFRGSW5zdGFuY2UuanM/ZGFkMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBGcm9udFNpZGUsIFNwaGVyZSB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7ICRjbG9uZSwgJHByZXBhcmUsICRwcmVwYXJlZEdMVEYsIEdMVEZJbnN0YW5jZSB9IGZyb20gJy4uL0dMVEZJbnN0YW5jZS5qcyc7XG5pbXBvcnQgeyBDb3JyZWxhdGVkU2NlbmVHcmFwaCB9IGZyb20gJy4vY29ycmVsYXRlZC1zY2VuZS1ncmFwaC5qcyc7XG5jb25zdCAkY29ycmVsYXRlZFNjZW5lR3JhcGggPSBTeW1ib2woJ2NvcnJlbGF0ZWRTY2VuZUdyYXBoJyk7XG4vKipcbiAqIFRoaXMgc3BlY2lhbGl6YXRpb24gb2YgR0xURkluc3RhbmNlIGNvbGxlY3RzIGFsbCBvZiB0aGUgcHJvY2Vzc2luZyBuZWVkZWRcbiAqIHRvIHByZXBhcmUgYSBtb2RlbCBhbmQgdG8gY2xvbmUgaXQgbWFraW5nIHNwZWNpYWwgY29uc2lkZXJhdGlvbnMgZm9yXG4gKiA8bW9kZWwtdmlld2VyPiB1c2UgY2FzZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbFZpZXdlckdMVEZJbnN0YW5jZSBleHRlbmRzIEdMVEZJbnN0YW5jZSB7XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc3RhdGljIFskcHJlcGFyZV0oc291cmNlKSB7XG4gICAgICAgIGNvbnN0IHByZXBhcmVkID0gc3VwZXJbJHByZXBhcmVdKHNvdXJjZSk7XG4gICAgICAgIGlmIChwcmVwYXJlZFskY29ycmVsYXRlZFNjZW5lR3JhcGhdID09IG51bGwpIHtcbiAgICAgICAgICAgIHByZXBhcmVkWyRjb3JyZWxhdGVkU2NlbmVHcmFwaF0gPSBDb3JyZWxhdGVkU2NlbmVHcmFwaC5mcm9tKHByZXBhcmVkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHNjZW5lIH0gPSBwcmVwYXJlZDtcbiAgICAgICAgY29uc3QgbnVsbFNwaGVyZSA9IG5ldyBTcGhlcmUodW5kZWZpbmVkLCBJbmZpbml0eSk7XG4gICAgICAgIHNjZW5lLnRyYXZlcnNlKChub2RlKSA9PiB7XG4gICAgICAgICAgICAvLyBTZXQgYSBoaWdoIHJlbmRlck9yZGVyIHdoaWxlIHdlJ3JlIGhlcmUgdG8gZW5zdXJlIHRoZSBtb2RlbFxuICAgICAgICAgICAgLy8gYWx3YXlzIHJlbmRlcnMgb24gdG9wIG9mIHRoZSBza3kgc3BoZXJlXG4gICAgICAgICAgICBub2RlLnJlbmRlck9yZGVyID0gMTAwMDtcbiAgICAgICAgICAgIC8vIFRocmVlLmpzIHNlZW1zIHRvIGN1bGwgc29tZSBhbmltYXRlZCBtb2RlbHMgaW5jb3JyZWN0bHkuIFNpbmNlIHdlXG4gICAgICAgICAgICAvLyBleHBlY3QgdG8gdmlldyBvdXIgd2hvbGUgc2NlbmUgYW55d2F5LCB3ZSB0dXJuIG9mZiB0aGUgZnJ1c3R1bVxuICAgICAgICAgICAgLy8gY3VsbGluZyBvcHRpbWl6YXRpb24gaGVyZS5cbiAgICAgICAgICAgIG5vZGUuZnJ1c3R1bUN1bGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gQW5pbWF0aW9ucyBmb3Igb2JqZWN0cyB3aXRob3V0IG5hbWVzIHRhcmdldCB0aGVpciBVVUlEIGluc3RlYWQuIFdoZW5cbiAgICAgICAgICAgIC8vIG9iamVjdHMgYXJlIGNsb25lZCwgdGhleSBnZXQgbmV3IFVVSURzIHdoaWNoIHRoZSBhbmltYXRpb24gY2FuJ3RcbiAgICAgICAgICAgIC8vIGZpbmQuIFRvIGZpeCB0aGlzLCB3ZSBhc3NpZ24gdGhlaXIgVVVJRCBhcyB0aGVpciBuYW1lLlxuICAgICAgICAgICAgaWYgKCFub2RlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBub2RlLm5hbWUgPSBub2RlLnV1aWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXNoID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChtZXNoLmlzTWVzaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZ2VvbWV0cnkgfSA9IG1lc2g7XG4gICAgICAgICAgICAgICAgbWVzaC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAobWVzaC5pc1NraW5uZWRNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFraW4gdG8gZGlzYWJsaW5nIGZydXN0dW0gY3VsbGluZyBhYm92ZSwgd2UgaGF2ZSB0byBhbHNvIG1hbnVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgdGhlIGJvdW5kcyB0byBtYWtlIHJheWNhc3RpbmcgY29ycmVjdCBmb3Igc2tpbm5lZCBtZXNoZXMuXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlID0gbnVsbFNwaGVyZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJvdW5kaW5nIGJveCBpcyBzZXQgaW4gR0xURkxvYWRlciBieSB0aGUgYWNjZXNzb3IgYm91bmRzLCB3aGljaFxuICAgICAgICAgICAgICAgICAgICAvLyBhcmUgbm90IHVwZGF0ZWQgd2l0aCBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LmJvdW5kaW5nQm94ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbC5pc01lc2hCYXNpY01hdGVyaWFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLnRvbmVNYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtYWtlcyBzaGFkb3dzIGJldHRlciBmb3Igbm9uLW1hbmlmb2xkIG1lc2hlc1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnNoYWRvd1NpZGUgPSBGcm9udFNpZGU7XG4gICAgICAgICAgICAgICAgLy8gRml4ZXMgYW4gZWRnZSBjYXNlIHdpdGggdW51c2VkIGV4dHJhIFVWLWNvb3JkcyBiZWluZyBpbmNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIHJlZmVyZW5jZWQgYnkgdGhyZWUuanM7IHJlbW92ZSB3aGVuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9wdWxsLzIzOTc0IGlzIG1lcmdlZC5cbiAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWwuYW9NYXApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBnbHRmLCB0aHJlZU9iamVjdE1hcCB9ID0gcHJlcGFyZWRbJGNvcnJlbGF0ZWRTY2VuZUdyYXBoXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2x0ZlJlZiA9IHRocmVlT2JqZWN0TWFwLmdldChtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnbHRmLm1hdGVyaWFscyAhPSBudWxsICYmIGdsdGZSZWYgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2x0ZlJlZi5tYXRlcmlhbHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2x0Zk1hdGVyaWFsID0gZ2x0Zi5tYXRlcmlhbHNbZ2x0ZlJlZi5tYXRlcmlhbHNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdsdGZNYXRlcmlhbC5vY2NsdXNpb25UZXh0dXJlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2x0Zk1hdGVyaWFsLm9jY2x1c2lvblRleHR1cmUudGV4Q29vcmQgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3V2MicsIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByZXBhcmVkO1xuICAgIH1cbiAgICBnZXQgY29ycmVsYXRlZFNjZW5lR3JhcGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdWyRjb3JyZWxhdGVkU2NlbmVHcmFwaF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFskY2xvbmVdKCkge1xuICAgICAgICBjb25zdCBjbG9uZSA9IHN1cGVyWyRjbG9uZV0oKTtcbiAgICAgICAgY29uc3Qgc291cmNlVVVJRFRvQ2xvbmVkTWF0ZXJpYWwgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNsb25lLnNjZW5lLnRyYXZlcnNlKChub2RlKSA9PiB7XG4gICAgICAgICAgICAvLyBNYXRlcmlhbHMgYXJlbid0IGNsb25lZCB3aGVuIGNsb25pbmcgbWVzaGVzOyBnZW9tZXRyeVxuICAgICAgICAgICAgLy8gYW5kIG1hdGVyaWFscyBhcmUgY29waWVkIGJ5IHJlZmVyZW5jZS4gVGhpcyBpcyBuZWNlc3NhcnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgc2FtZSBtb2RlbCB0byBiZSB1c2VkIHR3aWNlIHdpdGggZGlmZmVyZW50XG4gICAgICAgICAgICAvLyBzY2VuZS1ncmFwaCBvcGVyYXRpb25zLlxuICAgICAgICAgICAgaWYgKG5vZGUuaXNNZXNoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzaCA9IG5vZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VVVUlEVG9DbG9uZWRNYXRlcmlhbC5oYXMobWF0ZXJpYWwudXVpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2gubWF0ZXJpYWwgPSBzb3VyY2VVVUlEVG9DbG9uZWRNYXRlcmlhbC5nZXQobWF0ZXJpYWwudXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzaC5tYXRlcmlhbCA9IG1hdGVyaWFsLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVVVSURUb0Nsb25lZE1hdGVyaWFsLnNldChtYXRlcmlhbC51dWlkLCBtZXNoLm1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcm9zcy1jb3JyZWxhdGUgdGhlIHNjZW5lIGdyYXBoIGJ5IHJlbHlpbmcgb24gaW5mb3JtYXRpb24gaW4gdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgc2NlbmUgZ3JhcGg7IHdpdGhvdXQgdGhpcyBzdGVwLCByZWxhdGlvbnNoaXBzIGJldHdlZW4gdGhlXG4gICAgICAgIC8vIFRocmVlLmpzIG9iamVjdCBncmFwaCBhbmQgdGhlIGdsVEYgc2NlbmUgZ3JhcGggd2lsbCBiZSBsb3N0LlxuICAgICAgICBjbG9uZVskY29ycmVsYXRlZFNjZW5lR3JhcGhdID1cbiAgICAgICAgICAgIENvcnJlbGF0ZWRTY2VuZUdyYXBoLmZyb20oY2xvbmUsIHRoaXMuY29ycmVsYXRlZFNjZW5lR3JhcGgpO1xuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kZWxWaWV3ZXJHTFRGSW5zdGFuY2UuanMubWFwIl0sIm5hbWVzIjpbIkZyb250U2lkZSIsIlNwaGVyZSIsIiRjbG9uZSIsIiRwcmVwYXJlIiwiJHByZXBhcmVkR0xURiIsIkdMVEZJbnN0YW5jZSIsIkNvcnJlbGF0ZWRTY2VuZUdyYXBoIiwiJGNvcnJlbGF0ZWRTY2VuZUdyYXBoIiwiU3ltYm9sIiwiTW9kZWxWaWV3ZXJHTFRGSW5zdGFuY2UiLCJzb3VyY2UiLCJwcmVwYXJlZCIsImZyb20iLCJzY2VuZSIsIm51bGxTcGhlcmUiLCJ1bmRlZmluZWQiLCJJbmZpbml0eSIsInRyYXZlcnNlIiwibm9kZSIsInJlbmRlck9yZGVyIiwiZnJ1c3R1bUN1bGxlZCIsIm5hbWUiLCJ1dWlkIiwibWVzaCIsImlzTWVzaCIsImdlb21ldHJ5IiwiY2FzdFNoYWRvdyIsImlzU2tpbm5lZE1lc2giLCJib3VuZGluZ1NwaGVyZSIsImJvdW5kaW5nQm94IiwibWF0ZXJpYWwiLCJpc01lc2hCYXNpY01hdGVyaWFsIiwidG9uZU1hcHBlZCIsInNoYWRvd1NpZGUiLCJhb01hcCIsImdsdGYiLCJ0aHJlZU9iamVjdE1hcCIsImdsdGZSZWYiLCJnZXQiLCJtYXRlcmlhbHMiLCJnbHRmTWF0ZXJpYWwiLCJvY2NsdXNpb25UZXh0dXJlIiwidGV4Q29vcmQiLCJhdHRyaWJ1dGVzIiwidXYiLCJzZXRBdHRyaWJ1dGUiLCJjb3JyZWxhdGVkU2NlbmVHcmFwaCIsImNsb25lIiwic291cmNlVVVJRFRvQ2xvbmVkTWF0ZXJpYWwiLCJNYXAiLCJoYXMiLCJzZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/ModelViewerGLTFInstance.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialExporterPlugin.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialExporterPlugin.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GLTFExporterMaterialsVariantsExtension)\n/* harmony export */ });\n/* @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ /**\n * @param object {THREE.Object3D}\n * @return {boolean}\n */ const compatibleObject = (object)=>{\n    // @TODO: Need properer variantMaterials format validation?\n    return object.material !== undefined && // easier than (!object.isMesh && !object.isLine &&\n    // !object.isPoints)\n    object.userData && // just in case\n    object.userData.variantMaterials && // Is this line costly?\n    !!Array.from(object.userData.variantMaterials.values()).filter((m)=>compatibleMaterial(m.material));\n};\n/**\n * @param material {THREE.Material}\n * @return {boolean}\n */ const compatibleMaterial = (material)=>{\n    // @TODO: support multi materials?\n    return material && material.isMaterial && !Array.isArray(material);\n};\nclass GLTFExporterMaterialsVariantsExtension {\n    constructor(writer){\n        this.writer = writer;\n        this.name = \"KHR_materials_variants\";\n        this.variantNames = [];\n    }\n    beforeParse(objects) {\n        // Find all variant names and store them to the table\n        const variantNameSet = new Set();\n        for (const object of objects){\n            object.traverse((o)=>{\n                if (!compatibleObject(o)) {\n                    return;\n                }\n                const variantMaterials = o.userData.variantMaterials;\n                const variantDataMap = o.userData.variantData;\n                for (const [variantName, variantData] of variantDataMap){\n                    const variantMaterial = variantMaterials.get(variantData.index);\n                    // Ignore unloaded variant materials\n                    if (variantMaterial && compatibleMaterial(variantMaterial.material)) {\n                        variantNameSet.add(variantName);\n                    }\n                }\n            });\n        }\n        // We may want to sort?\n        variantNameSet.forEach((name)=>this.variantNames.push(name));\n    }\n    writeMesh(mesh, meshDef) {\n        if (!compatibleObject(mesh)) {\n            return;\n        }\n        const userData = mesh.userData;\n        const variantMaterials = userData.variantMaterials;\n        const variantDataMap = userData.variantData;\n        const mappingTable = new Map();\n        // Removes gaps in the variant indices list (caused by deleting variants).\n        const reIndexedVariants = new Map();\n        const variants = Array.from(variantDataMap.values()).sort((a, b)=>{\n            return a.index - b.index;\n        });\n        for (const [i, variantData] of variants.entries()){\n            reIndexedVariants.set(variantData.index, i);\n        }\n        for (const variantData of variantDataMap.values()){\n            const variantInstance = variantMaterials.get(variantData.index);\n            if (!variantInstance || !compatibleMaterial(variantInstance.material)) {\n                continue;\n            }\n            const materialIndex = this.writer.processMaterial(variantInstance.material);\n            if (!mappingTable.has(materialIndex)) {\n                mappingTable.set(materialIndex, {\n                    material: materialIndex,\n                    variants: []\n                });\n            }\n            mappingTable.get(materialIndex).variants.push(reIndexedVariants.get(variantData.index));\n        }\n        const mappingsDef = Array.from(mappingTable.values()).map((m)=>{\n            return m.variants.sort((a, b)=>a - b) && m;\n        }).sort((a, b)=>a.material - b.material);\n        if (mappingsDef.length === 0) {\n            return;\n        }\n        const originalMaterialIndex = compatibleMaterial(userData.originalMaterial) ? this.writer.processMaterial(userData.originalMaterial) : -1;\n        for (const primitiveDef of meshDef.primitives){\n            // Override primitiveDef.material with original material.\n            if (originalMaterialIndex >= 0) {\n                primitiveDef.material = originalMaterialIndex;\n            }\n            primitiveDef.extensions = primitiveDef.extensions || {};\n            primitiveDef.extensions[this.name] = {\n                mappings: mappingsDef\n            };\n        }\n    }\n    afterParse() {\n        if (this.variantNames.length === 0) {\n            return;\n        }\n        const root = this.writer.json;\n        root.extensions = root.extensions || {};\n        const variantsDef = this.variantNames.map((n)=>{\n            return {\n                name: n\n            };\n        });\n        root.extensions[this.name] = {\n            variants: variantsDef\n        };\n        this.writer.extensionsUsed[this.name] = true;\n    }\n} //# sourceMappingURL=VariantMaterialExporterPlugin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9WYXJpYW50TWF0ZXJpYWxFeHBvcnRlclBsdWdpbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUNEOzs7Q0FHQyxHQUNELE1BQU1BLG1CQUFtQixDQUFDQztJQUN0QiwyREFBMkQ7SUFDM0QsT0FBT0EsT0FBT0MsUUFBUSxLQUNsQkMsYUFBYSxtREFBbUQ7SUFDaEUsb0JBQW9CO0lBQ3BCRixPQUFPRyxRQUFRLElBQUksZUFBZTtJQUNsQ0gsT0FBT0csUUFBUSxDQUFDQyxnQkFBZ0IsSUFDaEMsdUJBQXVCO0lBQ3ZCLENBQUMsQ0FBQ0MsTUFDR0MsSUFBSSxDQUFDTixPQUFPRyxRQUFRLENBQUNDLGdCQUFnQixDQUNyQ0csTUFBTSxJQUNOQyxNQUFNLENBQUNDLENBQUFBLElBQUtDLG1CQUFtQkQsRUFBRVIsUUFBUTtBQUN0RDtBQUNBOzs7Q0FHQyxHQUNELE1BQU1TLHFCQUFxQixDQUFDVDtJQUN4QixrQ0FBa0M7SUFDbEMsT0FBT0EsWUFBWUEsU0FBU1UsVUFBVSxJQUFJLENBQUNOLE1BQU1PLE9BQU8sQ0FBQ1g7QUFDN0Q7QUFDZSxNQUFNWTtJQUNqQkMsWUFBWUMsTUFBTSxDQUFFO1FBQ2hCLElBQUksQ0FBQ0EsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDQyxZQUFZLEdBQUcsRUFBRTtJQUMxQjtJQUNBQyxZQUFZQyxPQUFPLEVBQUU7UUFDakIscURBQXFEO1FBQ3JELE1BQU1DLGlCQUFpQixJQUFJQztRQUMzQixLQUFLLE1BQU1yQixVQUFVbUIsUUFBUztZQUMxQm5CLE9BQU9zQixRQUFRLENBQUNDLENBQUFBO2dCQUNaLElBQUksQ0FBQ3hCLGlCQUFpQndCLElBQUk7b0JBQ3RCO2dCQUNKO2dCQUNBLE1BQU1uQixtQkFBbUJtQixFQUFF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RixhQUFhRSxVQUFVLENBQUMsSUFBSSxDQUFDekMsSUFBSSxDQUFDLEdBQUc7Z0JBQUUwQyxVQUFVUjtZQUFZO1FBQ2pFO0lBQ0o7SUFDQVMsYUFBYTtRQUNULElBQUksSUFBSSxDQUFDMUMsWUFBWSxDQUFDbUMsTUFBTSxLQUFLLEdBQUc7WUFDaEM7UUFDSjtRQUNBLE1BQU1RLE9BQU8sSUFBSSxDQUFDN0MsTUFBTSxDQUFDOEMsSUFBSTtRQUM3QkQsS0FBS0gsVUFBVSxHQUFHRyxLQUFLSCxVQUFVLElBQUksQ0FBQztRQUN0QyxNQUFNSyxjQUFjLElBQUksQ0FBQzdDLFlBQVksQ0FBQ2tDLEdBQUcsQ0FBQ1ksQ0FBQUE7WUFDdEMsT0FBTztnQkFBRS9DLE1BQU0rQztZQUFFO1FBQ3JCO1FBQ0FILEtBQUtILFVBQVUsQ0FBQyxJQUFJLENBQUN6QyxJQUFJLENBQUMsR0FBRztZQUFFdUIsVUFBVXVCO1FBQVk7UUFDckQsSUFBSSxDQUFDL0MsTUFBTSxDQUFDaUQsY0FBYyxDQUFDLElBQUksQ0FBQ2hELElBQUksQ0FBQyxHQUFHO0lBQzVDO0FBQ0osRUFDQSx5REFBeUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi90aHJlZS1jb21wb25lbnRzL2dsdGYtaW5zdGFuY2UvVmFyaWFudE1hdGVyaWFsRXhwb3J0ZXJQbHVnaW4uanM/OGUyNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEBwYXJhbSBvYmplY3Qge1RIUkVFLk9iamVjdDNEfVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgY29tcGF0aWJsZU9iamVjdCA9IChvYmplY3QpID0+IHtcbiAgICAvLyBAVE9ETzogTmVlZCBwcm9wZXJlciB2YXJpYW50TWF0ZXJpYWxzIGZvcm1hdCB2YWxpZGF0aW9uP1xuICAgIHJldHVybiBvYmplY3QubWF0ZXJpYWwgIT09XG4gICAgICAgIHVuZGVmaW5lZCAmJiAvLyBlYXNpZXIgdGhhbiAoIW9iamVjdC5pc01lc2ggJiYgIW9iamVjdC5pc0xpbmUgJiZcbiAgICAgICAgLy8gIW9iamVjdC5pc1BvaW50cylcbiAgICAgICAgb2JqZWN0LnVzZXJEYXRhICYmIC8vIGp1c3QgaW4gY2FzZVxuICAgICAgICBvYmplY3QudXNlckRhdGEudmFyaWFudE1hdGVyaWFscyAmJlxuICAgICAgICAvLyBJcyB0aGlzIGxpbmUgY29zdGx5P1xuICAgICAgICAhIUFycmF5XG4gICAgICAgICAgICAuZnJvbShvYmplY3QudXNlckRhdGEudmFyaWFudE1hdGVyaWFsc1xuICAgICAgICAgICAgLnZhbHVlcygpKVxuICAgICAgICAgICAgLmZpbHRlcihtID0+IGNvbXBhdGlibGVNYXRlcmlhbChtLm1hdGVyaWFsKSk7XG59O1xuLyoqXG4gKiBAcGFyYW0gbWF0ZXJpYWwge1RIUkVFLk1hdGVyaWFsfVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgY29tcGF0aWJsZU1hdGVyaWFsID0gKG1hdGVyaWFsKSA9PiB7XG4gICAgLy8gQFRPRE86IHN1cHBvcnQgbXVsdGkgbWF0ZXJpYWxzP1xuICAgIHJldHVybiBtYXRlcmlhbCAmJiBtYXRlcmlhbC5pc01hdGVyaWFsICYmICFBcnJheS5pc0FycmF5KG1hdGVyaWFsKTtcbn07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHTFRGRXhwb3J0ZXJNYXRlcmlhbHNWYXJpYW50c0V4dGVuc2lvbiB7XG4gICAgY29uc3RydWN0b3Iod3JpdGVyKSB7XG4gICAgICAgIHRoaXMud3JpdGVyID0gd3JpdGVyO1xuICAgICAgICB0aGlzLm5hbWUgPSAnS0hSX21hdGVyaWFsc192YXJpYW50cyc7XG4gICAgICAgIHRoaXMudmFyaWFudE5hbWVzID0gW107XG4gICAgfVxuICAgIGJlZm9yZVBhcnNlKG9iamVjdHMpIHtcbiAgICAgICAgLy8gRmluZCBhbGwgdmFyaWFudCBuYW1lcyBhbmQgc3RvcmUgdGhlbSB0byB0aGUgdGFibGVcbiAgICAgICAgY29uc3QgdmFyaWFudE5hbWVTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIG9iamVjdHMpIHtcbiAgICAgICAgICAgIG9iamVjdC50cmF2ZXJzZShvID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBhdGlibGVPYmplY3QobykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYW50TWF0ZXJpYWxzID0gby51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhbnREYXRhTWFwID0gby51c2VyRGF0YS52YXJpYW50RGF0YTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFt2YXJpYW50TmFtZSwgdmFyaWFudERhdGFdIG9mIHZhcmlhbnREYXRhTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRNYXRlcmlhbCA9IHZhcmlhbnRNYXRlcmlhbHMuZ2V0KHZhcmlhbnREYXRhLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHVubG9hZGVkIHZhcmlhbnQgbWF0ZXJpYWxzXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYW50TWF0ZXJpYWwgJiYgY29tcGF0aWJsZU1hdGVyaWFsKHZhcmlhbnRNYXRlcmlhbC5tYXRlcmlhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnROYW1lU2V0LmFkZCh2YXJpYW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBtYXkgd2FudCB0byBzb3J0P1xuICAgICAgICB2YXJpYW50TmFtZVNldC5mb3JFYWNoKG5hbWUgPT4gdGhpcy52YXJpYW50TmFtZXMucHVzaChuYW1lKSk7XG4gICAgfVxuICAgIHdyaXRlTWVzaChtZXNoLCBtZXNoRGVmKSB7XG4gICAgICAgIGlmICghY29tcGF0aWJsZU9iamVjdChtZXNoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gbWVzaC51c2VyRGF0YTtcbiAgICAgICAgY29uc3QgdmFyaWFudE1hdGVyaWFscyA9IHVzZXJEYXRhLnZhcmlhbnRNYXRlcmlhbHM7XG4gICAgICAgIGNvbnN0IHZhcmlhbnREYXRhTWFwID0gdXNlckRhdGEudmFyaWFudERhdGE7XG4gICAgICAgIGNvbnN0IG1hcHBpbmdUYWJsZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gUmVtb3ZlcyBnYXBzIGluIHRoZSB2YXJpYW50IGluZGljZXMgbGlzdCAoY2F1c2VkIGJ5IGRlbGV0aW5nIHZhcmlhbnRzKS5cbiAgICAgICAgY29uc3QgcmVJbmRleGVkVmFyaWFudHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IHZhcmlhbnRzID0gQXJyYXkuZnJvbSh2YXJpYW50RGF0YU1hcC52YWx1ZXMoKSkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChjb25zdCBbaSwgdmFyaWFudERhdGFdIG9mIHZhcmlhbnRzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgcmVJbmRleGVkVmFyaWFudHMuc2V0KHZhcmlhbnREYXRhLmluZGV4LCBpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnREYXRhIG9mIHZhcmlhbnREYXRhTWFwLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYW50SW5zdGFuY2UgPSB2YXJpYW50TWF0ZXJpYWxzLmdldCh2YXJpYW50RGF0YS5pbmRleCk7XG4gICAgICAgICAgICBpZiAoIXZhcmlhbnRJbnN0YW5jZSB8fCAhY29tcGF0aWJsZU1hdGVyaWFsKHZhcmlhbnRJbnN0YW5jZS5tYXRlcmlhbCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsSW5kZXggPSB0aGlzLndyaXRlci5wcm9jZXNzTWF0ZXJpYWwodmFyaWFudEluc3RhbmNlLm1hdGVyaWFsKTtcbiAgICAgICAgICAgIGlmICghbWFwcGluZ1RhYmxlLmhhcyhtYXRlcmlhbEluZGV4KSkge1xuICAgICAgICAgICAgICAgIG1hcHBpbmdUYWJsZS5zZXQobWF0ZXJpYWxJbmRleCwgeyBtYXRlcmlhbDogbWF0ZXJpYWxJbmRleCwgdmFyaWFudHM6IFtdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFwcGluZ1RhYmxlLmdldChtYXRlcmlhbEluZGV4KS52YXJpYW50cy5wdXNoKHJlSW5kZXhlZFZhcmlhbnRzLmdldCh2YXJpYW50RGF0YS5pbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hcHBpbmdzRGVmID0gQXJyYXkuZnJvbShtYXBwaW5nVGFibGUudmFsdWVzKCkpXG4gICAgICAgICAgICAubWFwKChtID0+IHsgcmV0dXJuIG0udmFyaWFudHMuc29ydCgoYSwgYikgPT4gYSAtIGIpICYmIG07IH0pKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEubWF0ZXJpYWwgLSBiLm1hdGVyaWFsKTtcbiAgICAgICAgaWYgKG1hcHBpbmdzRGVmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWF0ZXJpYWxJbmRleCA9IGNvbXBhdGlibGVNYXRlcmlhbCh1c2VyRGF0YS5vcmlnaW5hbE1hdGVyaWFsKSA/XG4gICAgICAgICAgICB0aGlzLndyaXRlci5wcm9jZXNzTWF0ZXJpYWwodXNlckRhdGEub3JpZ2luYWxNYXRlcmlhbCkgOlxuICAgICAgICAgICAgLTE7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlRGVmIG9mIG1lc2hEZWYucHJpbWl0aXZlcykge1xuICAgICAgICAgICAgLy8gT3ZlcnJpZGUgcHJpbWl0aXZlRGVmLm1hdGVyaWFsIHdpdGggb3JpZ2luYWwgbWF0ZXJpYWwuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxNYXRlcmlhbEluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBwcmltaXRpdmVEZWYubWF0ZXJpYWwgPSBvcmlnaW5hbE1hdGVyaWFsSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmltaXRpdmVEZWYuZXh0ZW5zaW9ucyA9IHByaW1pdGl2ZURlZi5leHRlbnNpb25zIHx8IHt9O1xuICAgICAgICAgICAgcHJpbWl0aXZlRGVmLmV4dGVuc2lvbnNbdGhpcy5uYW1lXSA9IHsgbWFwcGluZ3M6IG1hcHBpbmdzRGVmIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWZ0ZXJQYXJzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFyaWFudE5hbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLndyaXRlci5qc29uO1xuICAgICAgICByb290LmV4dGVuc2lvbnMgPSByb290LmV4dGVuc2lvbnMgfHwge307XG4gICAgICAgIGNvbnN0IHZhcmlhbnRzRGVmID0gdGhpcy52YXJpYW50TmFtZXMubWFwKG4gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogbiB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcm9vdC5leHRlbnNpb25zW3RoaXMubmFtZV0gPSB7IHZhcmlhbnRzOiB2YXJpYW50c0RlZiB9O1xuICAgICAgICB0aGlzLndyaXRlci5leHRlbnNpb25zVXNlZFt0aGlzLm5hbWVdID0gdHJ1ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WYXJpYW50TWF0ZXJpYWxFeHBvcnRlclBsdWdpbi5qcy5tYXAiXSwibmFtZXMiOlsiY29tcGF0aWJsZU9iamVjdCIsIm9iamVjdCIsIm1hdGVyaWFsIiwidW5kZWZpbmVkIiwidXNlckRhdGEiLCJ2YXJpYW50TWF0ZXJpYWxzIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmlsdGVyIiwibSIsImNvbXBhdGlibGVNYXRlcmlhbCIsImlzTWF0ZXJpYWwiLCJpc0FycmF5IiwiR0xURkV4cG9ydGVyTWF0ZXJpYWxzVmFyaWFudHNFeHRlbnNpb24iLCJjb25zdHJ1Y3RvciIsIndyaXRlciIsIm5hbWUiLCJ2YXJpYW50TmFtZXMiLCJiZWZvcmVQYXJzZSIsIm9iamVjdHMiLCJ2YXJpYW50TmFtZVNldCIsIlNldCIsInRyYXZlcnNlIiwibyIsInZhcmlhbnREYXRhTWFwIiwidmFyaWFudERhdGEiLCJ2YXJpYW50TmFtZSIsInZhcmlhbnRNYXRlcmlhbCIsImdldCIsImluZGV4IiwiYWRkIiwiZm9yRWFjaCIsInB1c2giLCJ3cml0ZU1lc2giLCJtZXNoIiwibWVzaERlZiIsIm1hcHBpbmdUYWJsZSIsIk1hcCIsInJlSW5kZXhlZFZhcmlhbnRzIiwidmFyaWFudHMiLCJzb3J0IiwiYSIsImIiLCJpIiwiZW50cmllcyIsInNldCIsInZhcmlhbnRJbnN0YW5jZSIsIm1hdGVyaWFsSW5kZXgiLCJwcm9jZXNzTWF0ZXJpYWwiLCJoYXMiLCJtYXBwaW5nc0RlZiIsIm1hcCIsImxlbmd0aCIsIm9yaWdpbmFsTWF0ZXJpYWxJbmRleCIsIm9yaWdpbmFsTWF0ZXJpYWwiLCJwcmltaXRpdmVEZWYiLCJwcmltaXRpdmVzIiwiZXh0ZW5zaW9ucyIsIm1hcHBpbmdzIiwiYWZ0ZXJQYXJzZSIsInJvb3QiLCJqc29uIiwidmFyaWFudHNEZWYiLCJuIiwiZXh0ZW5zaW9uc1VzZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialExporterPlugin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialLoaderPlugin.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialLoaderPlugin.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GLTFMaterialsVariantsExtension)\n/* harmony export */ });\n/* @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ /**\n * KHR_materials_variants specification allows duplicated variant names\n * but it makes handling the extension complex.\n * We ensure tha names and make it easier.\n * If you want to export the extension with the original names\n * you are recommended to write GLTFExporter plugin to restore the names.\n *\n * @param variantNames {Array<string>}\n * @return {Array<string>}\n */ const ensureUniqueNames = (variantNames)=>{\n    const uniqueNames = [];\n    const knownNames = new Set();\n    for (const name of variantNames){\n        let uniqueName = name;\n        let suffix = 0;\n        // @TODO: An easy solution.\n        //        O(N^2) in the worst scenario where N is variantNames.length.\n        //        Fix me if needed.\n        while(knownNames.has(uniqueName)){\n            uniqueName = name + \".\" + ++suffix;\n        }\n        knownNames.add(uniqueName);\n        uniqueNames.push(uniqueName);\n    }\n    return uniqueNames;\n};\n/**\n * Convert mappings array to table object to make handling the extension easier.\n *\n * @param\n *     extensionDef {glTF.meshes[n].primitive.extensions.KHR_materials_variants}\n * @param variantNames {Array<string>} Required to be unique names\n * @return {Map}\n */ const mappingsArrayToTable = (extensionDef)=>{\n    const table = new Map();\n    for (const mapping of extensionDef.mappings){\n        for (const variant of mapping.variants){\n            table.set(variant, {\n                material: null,\n                gltfMaterialIndex: mapping.material\n            });\n        }\n    }\n    return table;\n};\nclass GLTFMaterialsVariantsExtension {\n    constructor(parser){\n        this.parser = parser;\n        this.name = \"KHR_materials_variants\";\n    }\n    // Note that the following properties will be overridden even if they are\n    // pre-defined\n    // - gltf.userData.variants\n    // - mesh.userData.variantMaterials\n    afterRoot(gltf) {\n        const parser = this.parser;\n        const json = parser.json;\n        if (json.extensions === undefined || json.extensions[this.name] === undefined) {\n            return null;\n        }\n        const extensionDef = json.extensions[this.name];\n        const variantsDef = extensionDef.variants || [];\n        const variants = ensureUniqueNames(variantsDef.map((v)=>v.name));\n        for (const scene of gltf.scenes){\n            // Save the variants data under associated mesh.userData\n            scene.traverse((object)=>{\n                const mesh = object;\n                if (!mesh.isMesh) {\n                    return;\n                }\n                const association = parser.associations.get(mesh);\n                if (association == null || association.meshes == null || association.primitives == null) {\n                    return;\n                }\n                const meshDef = json.meshes[association.meshes];\n                const primitivesDef = meshDef.primitives;\n                const primitiveDef = primitivesDef[association.primitives];\n                const extensionsDef = primitiveDef.extensions;\n                if (!extensionsDef || !extensionsDef[this.name]) {\n                    return;\n                }\n                mesh.userData.variantMaterials = mappingsArrayToTable(extensionsDef[this.name]);\n            });\n        }\n        gltf.userData.variants = variants;\n        return Promise.resolve();\n    }\n} //# sourceMappingURL=VariantMaterialLoaderPlugin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9WYXJpYW50TWF0ZXJpYWxMb2FkZXJQbHVnaW4uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRDs7Ozs7Ozs7O0NBU0MsR0FDRCxNQUFNQSxvQkFBb0IsQ0FBQ0M7SUFDdkIsTUFBTUMsY0FBYyxFQUFFO0lBQ3RCLE1BQU1DLGFBQWEsSUFBSUM7SUFDdkIsS0FBSyxNQUFNQyxRQUFRSixhQUFjO1FBQzdCLElBQUlLLGFBQWFEO1FBQ2pCLElBQUlFLFNBQVM7UUFDYiwyQkFBMkI7UUFDM0Isc0VBQXNFO1FBQ3RFLDJCQUEyQjtRQUMzQixNQUFPSixXQUFXSyxHQUFHLENBQUNGLFlBQWE7WUFDL0JBLGFBQWFELE9BQU8sTUFBTyxFQUFFRTtRQUNqQztRQUNBSixXQUFXTSxHQUFHLENBQUNIO1FBQ2ZKLFlBQVlRLElBQUksQ0FBQ0o7SUFDckI7SUFDQSxPQUFPSjtBQUNYO0FBQ0E7Ozs7Ozs7Q0FPQyxHQUNELE1BQU1TLHVCQUF1QixDQUFDQztJQUMxQixNQUFNQyxRQUFRLElBQUlDO0lBQ2xCLEtBQUssTUFBTUMsV0FBV0gsYUFBYUksUUFBUSxDQUFFO1FBQ3pDLEtBQUssTUFBTUMsV0FBV0YsUUFBUUcsUUFBUSxDQUFFO1lBQ3BDTCxNQUFNTSxHQUFHLENBQUNGLFNBQVM7Z0JBQUVHLFVBQVU7Z0JBQU1DLG1CQUFtQk4sUUFBUUssUUFBUTtZQUFDO1FBQzdFO0lBQ0o7SUFDQSxPQUFPUDtBQUNYO0FBQ2UsTUFBTVM7SUFDakJDLFlBQVlDLE1BQU0sQ0FBRTtRQUNoQixJQUFJLENBQUNBLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNuQixJQUFJLEdBQUc7SUFDaEI7SUFDQSx5RUFBeUU7SUFDekUsY0FBYztJQUNkLDJCQUEyQjtJQUMzQixtQ0FBbUM7SUFDbkNvQixVQUFVQyxJQUFJLEVBQUU7UUFDWixNQUFNRixTQUFTLElBQUksQ0FBQ0EsTUFBTTtRQUMxQixNQUFNRyxPQUFPSCxPQUFPRyxJQUFJO1FBQ3hCLElBQUlBLEtBQUtDLFVBQVUsS0FBS0MsYUFDcEJGLEtBQUtDLFVBQVUsQ0FBQyxJQUFJLENBQUN2QixJQUFJLENBQUMsS0FBS3dCLFdBQVc7WUFDMUMsT0FBTztRQUNYO1FBQ0EsTUFBTWpCLGVBQWVlLEtBQUtDLFVBQVUsQ0FBQyxJQUFJLENBQUN2QixJQUFJLENBQUM7UUFDL0MsTUFBTXlCLGNBQWNsQixhQUFhTSxRQUFRLElBQUksRUFBRTtRQUMvQyxNQUFNQSxXQUFXbEIsa0JBQWtCOEIsWUFBWUMsR0FBRyxDQUFDLENBQUNDLElBQU1BLEVBQUUzQixJQUFJO1FBQ2hFLEtBQUssTUFBTTRCLFNBQVNQLEtBQUtRLE1BQU0sQ0FBRTtZQUM3Qix3REFBd0Q7WUFDeERELE1BQU1FLFFBQVEsQ0FBQ0MsQ0FBQUE7Z0JBQ1gsTUFBTUMsT0FBT0Q7Z0JBQ2IsSUFBSSxDQUFDQyxLQUFLQyxNQUFNLEVBQUU7b0JBQ2Q7Z0JBQ0o7Z0JBQ0EsTUFBTUMsY0FBY2YsT0FBT2dCLFlBQVksQ0FBQ0MsR0FBRyxDQUFDSjtnQkFDNUMsSUFBSUUsZUFBZSxRQUFRQSxZQUFZRyxNQUFNLElBQUksUUFDN0NILFlBQVlJLFVBQVUsSUFBSSxNQUFNO29CQUNoQztnQkFDSjtnQkFDQSxNQUFNQyxVQUFVakIsS0FBS2UsTUFBTSxDQUFDSCxZQUFZRyxNQUFNLENBQUM7Z0JBQy9DLE1BQU1HLGdCQUFnQkQsUUFBUUQsVUFBVTtnQkFDeEMsTUFBTUcsZUFBZUQsYUFBYSxDQUFDTixZQUFZSSxVQUFVLENBQUM7Z0JBQzFELE1BQU1JLGdCQUFnQkQsYUFBYWxCLFVBQVU7Z0JBQzdDLElBQUksQ0FBQ21CLGlCQUFpQixDQUFDQSxhQUFhLENBQUMsSUFBSSxDQUFDMUMsSUFBSSxDQUFDLEVBQUU7b0JBQzdDO2dCQUNKO2dCQUNBZ0MsS0FBS1csUUFBUSxDQUFDQyxnQkFBZ0IsR0FDMUJ0QyxxQkFBcUJvQyxhQUFhLENBQUMsSUFBSSxDQUFDMUMsSUFBSSxDQUFDO1lBQ3JEO1FBQ0o7UUFDQXFCLEtBQUtzQixRQUFRLENBQUM5QixRQUFRLEdBQUdBO1FBQ3pCLE9BQU9nQyxRQUFRQyxPQUFPO0lBQzFCO0FBQ0osRUFDQSx1REFBdUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi90aHJlZS1jb21wb25lbnRzL2dsdGYtaW5zdGFuY2UvVmFyaWFudE1hdGVyaWFsTG9hZGVyUGx1Z2luLmpzP2UzZTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBLSFJfbWF0ZXJpYWxzX3ZhcmlhbnRzIHNwZWNpZmljYXRpb24gYWxsb3dzIGR1cGxpY2F0ZWQgdmFyaWFudCBuYW1lc1xuICogYnV0IGl0IG1ha2VzIGhhbmRsaW5nIHRoZSBleHRlbnNpb24gY29tcGxleC5cbiAqIFdlIGVuc3VyZSB0aGEgbmFtZXMgYW5kIG1ha2UgaXQgZWFzaWVyLlxuICogSWYgeW91IHdhbnQgdG8gZXhwb3J0IHRoZSBleHRlbnNpb24gd2l0aCB0aGUgb3JpZ2luYWwgbmFtZXNcbiAqIHlvdSBhcmUgcmVjb21tZW5kZWQgdG8gd3JpdGUgR0xURkV4cG9ydGVyIHBsdWdpbiB0byByZXN0b3JlIHRoZSBuYW1lcy5cbiAqXG4gKiBAcGFyYW0gdmFyaWFudE5hbWVzIHtBcnJheTxzdHJpbmc+fVxuICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn1cbiAqL1xuY29uc3QgZW5zdXJlVW5pcXVlTmFtZXMgPSAodmFyaWFudE5hbWVzKSA9PiB7XG4gICAgY29uc3QgdW5pcXVlTmFtZXMgPSBbXTtcbiAgICBjb25zdCBrbm93bk5hbWVzID0gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiB2YXJpYW50TmFtZXMpIHtcbiAgICAgICAgbGV0IHVuaXF1ZU5hbWUgPSBuYW1lO1xuICAgICAgICBsZXQgc3VmZml4ID0gMDtcbiAgICAgICAgLy8gQFRPRE86IEFuIGVhc3kgc29sdXRpb24uXG4gICAgICAgIC8vICAgICAgICBPKE5eMikgaW4gdGhlIHdvcnN0IHNjZW5hcmlvIHdoZXJlIE4gaXMgdmFyaWFudE5hbWVzLmxlbmd0aC5cbiAgICAgICAgLy8gICAgICAgIEZpeCBtZSBpZiBuZWVkZWQuXG4gICAgICAgIHdoaWxlIChrbm93bk5hbWVzLmhhcyh1bmlxdWVOYW1lKSkge1xuICAgICAgICAgICAgdW5pcXVlTmFtZSA9IG5hbWUgKyAnLicgKyAoKytzdWZmaXgpO1xuICAgICAgICB9XG4gICAgICAgIGtub3duTmFtZXMuYWRkKHVuaXF1ZU5hbWUpO1xuICAgICAgICB1bmlxdWVOYW1lcy5wdXNoKHVuaXF1ZU5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gdW5pcXVlTmFtZXM7XG59O1xuLyoqXG4gKiBDb252ZXJ0IG1hcHBpbmdzIGFycmF5IHRvIHRhYmxlIG9iamVjdCB0byBtYWtlIGhhbmRsaW5nIHRoZSBleHRlbnNpb24gZWFzaWVyLlxuICpcbiAqIEBwYXJhbVxuICogICAgIGV4dGVuc2lvbkRlZiB7Z2xURi5tZXNoZXNbbl0ucHJpbWl0aXZlLmV4dGVuc2lvbnMuS0hSX21hdGVyaWFsc192YXJpYW50c31cbiAqIEBwYXJhbSB2YXJpYW50TmFtZXMge0FycmF5PHN0cmluZz59IFJlcXVpcmVkIHRvIGJlIHVuaXF1ZSBuYW1lc1xuICogQHJldHVybiB7TWFwfVxuICovXG5jb25zdCBtYXBwaW5nc0FycmF5VG9UYWJsZSA9IChleHRlbnNpb25EZWYpID0+IHtcbiAgICBjb25zdCB0YWJsZSA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IG1hcHBpbmcgb2YgZXh0ZW5zaW9uRGVmLm1hcHBpbmdzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdmFyaWFudCBvZiBtYXBwaW5nLnZhcmlhbnRzKSB7XG4gICAgICAgICAgICB0YWJsZS5zZXQodmFyaWFudCwgeyBtYXRlcmlhbDogbnVsbCwgZ2x0Zk1hdGVyaWFsSW5kZXg6IG1hcHBpbmcubWF0ZXJpYWwgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhYmxlO1xufTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdMVEZNYXRlcmlhbHNWYXJpYW50c0V4dGVuc2lvbiB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyKSB7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgICAgICB0aGlzLm5hbWUgPSAnS0hSX21hdGVyaWFsc192YXJpYW50cyc7XG4gICAgfVxuICAgIC8vIE5vdGUgdGhhdCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2lsbCBiZSBvdmVycmlkZGVuIGV2ZW4gaWYgdGhleSBhcmVcbiAgICAvLyBwcmUtZGVmaW5lZFxuICAgIC8vIC0gZ2x0Zi51c2VyRGF0YS52YXJpYW50c1xuICAgIC8vIC0gbWVzaC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzXG4gICAgYWZ0ZXJSb290KGdsdGYpIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG4gICAgICAgIGNvbnN0IGpzb24gPSBwYXJzZXIuanNvbjtcbiAgICAgICAgaWYgKGpzb24uZXh0ZW5zaW9ucyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBqc29uLmV4dGVuc2lvbnNbdGhpcy5uYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRlbnNpb25EZWYgPSBqc29uLmV4dGVuc2lvbnNbdGhpcy5uYW1lXTtcbiAgICAgICAgY29uc3QgdmFyaWFudHNEZWYgPSBleHRlbnNpb25EZWYudmFyaWFudHMgfHwgW107XG4gICAgICAgIGNvbnN0IHZhcmlhbnRzID0gZW5zdXJlVW5pcXVlTmFtZXModmFyaWFudHNEZWYubWFwKCh2KSA9PiB2Lm5hbWUpKTtcbiAgICAgICAgZm9yIChjb25zdCBzY2VuZSBvZiBnbHRmLnNjZW5lcykge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgdmFyaWFudHMgZGF0YSB1bmRlciBhc3NvY2lhdGVkIG1lc2gudXNlckRhdGFcbiAgICAgICAgICAgIHNjZW5lLnRyYXZlcnNlKG9iamVjdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzaCA9IG9iamVjdDtcbiAgICAgICAgICAgICAgICBpZiAoIW1lc2guaXNNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYXNzb2NpYXRpb24gPSBwYXJzZXIuYXNzb2NpYXRpb25zLmdldChtZXNoKTtcbiAgICAgICAgICAgICAgICBpZiAoYXNzb2NpYXRpb24gPT0gbnVsbCB8fCBhc3NvY2lhdGlvbi5tZXNoZXMgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbi5wcmltaXRpdmVzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBtZXNoRGVmID0ganNvbi5tZXNoZXNbYXNzb2NpYXRpb24ubWVzaGVzXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmltaXRpdmVzRGVmID0gbWVzaERlZi5wcmltaXRpdmVzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByaW1pdGl2ZURlZiA9IHByaW1pdGl2ZXNEZWZbYXNzb2NpYXRpb24ucHJpbWl0aXZlc107XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9uc0RlZiA9IHByaW1pdGl2ZURlZi5leHRlbnNpb25zO1xuICAgICAgICAgICAgICAgIGlmICghZXh0ZW5zaW9uc0RlZiB8fCAhZXh0ZW5zaW9uc0RlZlt0aGlzLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWVzaC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzID1cbiAgICAgICAgICAgICAgICAgICAgbWFwcGluZ3NBcnJheVRvVGFibGUoZXh0ZW5zaW9uc0RlZlt0aGlzLm5hbWVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGdsdGYudXNlckRhdGEudmFyaWFudHMgPSB2YXJpYW50cztcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZhcmlhbnRNYXRlcmlhbExvYWRlclBsdWdpbi5qcy5tYXAiXSwibmFtZXMiOlsiZW5zdXJlVW5pcXVlTmFtZXMiLCJ2YXJpYW50TmFtZXMiLCJ1bmlxdWVOYW1lcyIsImtub3duTmFtZXMiLCJTZXQiLCJuYW1lIiwidW5pcXVlTmFtZSIsInN1ZmZpeCIsImhhcyIsImFkZCIsInB1c2giLCJtYXBwaW5nc0FycmF5VG9UYWJsZSIsImV4dGVuc2lvbkRlZiIsInRhYmxlIiwiTWFwIiwibWFwcGluZyIsIm1hcHBpbmdzIiwidmFyaWFudCIsInZhcmlhbnRzIiwic2V0IiwibWF0ZXJpYWwiLCJnbHRmTWF0ZXJpYWxJbmRleCIsIkdMVEZNYXRlcmlhbHNWYXJpYW50c0V4dGVuc2lvbiIsImNvbnN0cnVjdG9yIiwicGFyc2VyIiwiYWZ0ZXJSb290IiwiZ2x0ZiIsImpzb24iLCJleHRlbnNpb25zIiwidW5kZWZpbmVkIiwidmFyaWFudHNEZWYiLCJtYXAiLCJ2Iiwic2NlbmUiLCJzY2VuZXMiLCJ0cmF2ZXJzZSIsIm9iamVjdCIsIm1lc2giLCJpc01lc2giLCJhc3NvY2lhdGlvbiIsImFzc29jaWF0aW9ucyIsImdldCIsIm1lc2hlcyIsInByaW1pdGl2ZXMiLCJtZXNoRGVmIiwicHJpbWl0aXZlc0RlZiIsInByaW1pdGl2ZURlZiIsImV4dGVuc2lvbnNEZWYiLCJ1c2VyRGF0YSIsInZhcmlhbnRNYXRlcmlhbHMiLCJQcm9taXNlIiwicmVzb2x2ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialLoaderPlugin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/correlated-scene-graph.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/correlated-scene-graph.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CorrelatedSceneGraph: () => (/* binding */ CorrelatedSceneGraph)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nconst $threeGLTF = Symbol(\"threeGLTF\");\nconst $gltf = Symbol(\"gltf\");\nconst $gltfElementMap = Symbol(\"gltfElementMap\");\nconst $threeObjectMap = Symbol(\"threeObjectMap\");\nconst $parallelTraverseThreeScene = Symbol(\"parallelTraverseThreeScene\");\nconst $correlateOriginalThreeGLTF = Symbol(\"correlateOriginalThreeGLTF\");\nconst $correlateCloneThreeGLTF = Symbol(\"correlateCloneThreeGLTF\");\n/**\n * The Three.js GLTFLoader provides us with an in-memory representation\n * of a glTF in terms of Three.js constructs. It also provides us with a copy\n * of the deserialized glTF without any Three.js decoration, and a mapping of\n * glTF elements to their corresponding Three.js constructs.\n *\n * A CorrelatedSceneGraph exposes a synchronously available mapping of glTF\n * element references to their corresponding Three.js constructs.\n */ class CorrelatedSceneGraph {\n    constructor(threeGLTF, gltf, threeObjectMap, gltfElementMap){\n        this[$threeGLTF] = threeGLTF;\n        this[$gltf] = gltf;\n        this[$gltfElementMap] = gltfElementMap;\n        this[$threeObjectMap] = threeObjectMap;\n    }\n    /**\n     * Produce a CorrelatedSceneGraph from a naturally generated Three.js GLTF.\n     * Such GLTFs are produced by Three.js' GLTFLoader, and contain cached\n     * details that expedite the correlation step.\n     *\n     * If a CorrelatedSceneGraph is provided as the second argument, re-correlates\n     * a cloned Three.js GLTF with a clone of the glTF hierarchy used to produce\n     * the upstream Three.js GLTF that the clone was created from. The result\n     * CorrelatedSceneGraph is representative of the cloned hierarchy.\n     */ static from(threeGLTF, upstreamCorrelatedSceneGraph) {\n        if (upstreamCorrelatedSceneGraph != null) {\n            return this[$correlateCloneThreeGLTF](threeGLTF, upstreamCorrelatedSceneGraph);\n        } else {\n            return this[$correlateOriginalThreeGLTF](threeGLTF);\n        }\n    }\n    static [$correlateOriginalThreeGLTF](threeGLTF) {\n        const gltf = threeGLTF.parser.json;\n        const associations = threeGLTF.parser.associations;\n        const gltfElementMap = new Map();\n        const defaultMaterial = {\n            name: \"Default\"\n        };\n        const defaultReference = {\n            type: \"materials\",\n            index: -1\n        };\n        for (const threeMaterial of associations.keys()){\n            // Note: GLTFLoader creates a \"default\" material that has no\n            // corresponding glTF element in the case that no materials are\n            // specified in the source glTF. In this case we append a default\n            // material to allow this to be operated upon.\n            if (threeMaterial instanceof three__WEBPACK_IMPORTED_MODULE_0__.Material && associations.get(threeMaterial) == null) {\n                if (defaultReference.index < 0) {\n                    if (gltf.materials == null) {\n                        gltf.materials = [];\n                    }\n                    defaultReference.index = gltf.materials.length;\n                    gltf.materials.push(defaultMaterial);\n                }\n                threeMaterial.name = defaultMaterial.name;\n                associations.set(threeMaterial, {\n                    materials: defaultReference.index\n                });\n            }\n        }\n        // Creates a reverse look up map (gltf-object to Three-object)\n        for (const [threeObject, gltfMappings] of associations){\n            if (gltfMappings) {\n                const objWithUserData = threeObject;\n                objWithUserData.userData = objWithUserData.userData || {};\n                objWithUserData.userData.associations = gltfMappings;\n            }\n            for(const mapping in gltfMappings){\n                if (mapping != null && mapping !== \"primitives\") {\n                    const type = mapping;\n                    const elementArray = gltf[type] || [];\n                    const gltfElement = elementArray[gltfMappings[type]];\n                    if (gltfElement == null) {\n                        continue;\n                    }\n                    let threeObjects = gltfElementMap.get(gltfElement);\n                    if (threeObjects == null) {\n                        threeObjects = new Set();\n                        gltfElementMap.set(gltfElement, threeObjects);\n                    }\n                    threeObjects.add(threeObject);\n                }\n            }\n        }\n        return new CorrelatedSceneGraph(threeGLTF, gltf, associations, gltfElementMap);\n    }\n    /**\n     * Transfers the association between a raw glTF and a Three.js scene graph\n     * to a clone of the Three.js scene graph, resolved as a new\n     * CorrelatedSceneGraph instance.\n     */ static [$correlateCloneThreeGLTF](cloneThreeGLTF, upstreamCorrelatedSceneGraph) {\n        const originalThreeGLTF = upstreamCorrelatedSceneGraph.threeGLTF;\n        const originalGLTF = upstreamCorrelatedSceneGraph.gltf;\n        const cloneGLTF = JSON.parse(JSON.stringify(originalGLTF));\n        const cloneThreeObjectMap = new Map();\n        const cloneGLTFElementMap = new Map();\n        for(let i = 0; i < originalThreeGLTF.scenes.length; i++){\n            this[$parallelTraverseThreeScene](originalThreeGLTF.scenes[i], cloneThreeGLTF.scenes[i], (object, cloneObject)=>{\n                const elementReference = upstreamCorrelatedSceneGraph.threeObjectMap.get(object);\n                if (elementReference == null) {\n                    return;\n                }\n                for(const mapping in elementReference){\n                    if (mapping != null && mapping !== \"primitives\") {\n                        const type = mapping;\n                        const index = elementReference[type];\n                        const cloneElement = cloneGLTF[type][index];\n                        const mappings = cloneThreeObjectMap.get(cloneObject) || {};\n                        mappings[type] = index;\n                        cloneThreeObjectMap.set(cloneObject, mappings);\n                        const cloneObjects = cloneGLTFElementMap.get(cloneElement) || new Set();\n                        cloneObjects.add(cloneObject);\n                        cloneGLTFElementMap.set(cloneElement, cloneObjects);\n                    }\n                }\n            });\n        }\n        return new CorrelatedSceneGraph(cloneThreeGLTF, cloneGLTF, cloneThreeObjectMap, cloneGLTFElementMap);\n    }\n    /**\n     * Traverses two presumably identical Three.js scenes, and invokes a\n     * callback for each Object3D or Material encountered, including the initial\n     * scene. Adapted from\n     * https://github.com/mrdoob/three.js/blob/7c1424c5819ab622a346dd630ee4e6431388021e/examples/jsm/utils/SkeletonUtils.js#L586-L596\n     */ static [$parallelTraverseThreeScene](sceneOne, sceneTwo, callback) {\n        const isMesh = (object)=>{\n            return object.isMesh;\n        };\n        const traverse = (a, b)=>{\n            callback(a, b);\n            if (a.isObject3D) {\n                if (isMesh(a)) {\n                    if (Array.isArray(a.material)) {\n                        for(let i = 0; i < a.material.length; ++i){\n                            traverse(a.material[i], b.material[i]);\n                        }\n                    } else {\n                        traverse(a.material, b.material);\n                    }\n                }\n                for(let i = 0; i < a.children.length; ++i){\n                    traverse(a.children[i], b.children[i]);\n                }\n            }\n        };\n        traverse(sceneOne, sceneTwo);\n    }\n    /**\n     * The source Three.js GLTF result given to us by a Three.js GLTFLoader.\n     */ get threeGLTF() {\n        return this[$threeGLTF];\n    }\n    /**\n     * The in-memory deserialized source glTF.\n     */ get gltf() {\n        return this[$gltf];\n    }\n    /**\n     * A Map of glTF element references to arrays of corresponding Three.js\n     * object references. Three.js objects are kept in arrays to account for\n     * cases where more than one Three.js object corresponds to a single glTF\n     * element.\n     */ get gltfElementMap() {\n        return this[$gltfElementMap];\n    }\n    /**\n     * A map of individual Three.js objects to corresponding elements in the\n     * source glTF.\n     */ get threeObjectMap() {\n        return this[$threeObjectMap];\n    }\n} //# sourceMappingURL=correlated-scene-graph.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9jb3JyZWxhdGVkLXNjZW5lLWdyYXBoLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlDO0FBQ2pDLE1BQU1DLGFBQWFDLE9BQU87QUFDMUIsTUFBTUMsUUFBUUQsT0FBTztBQUNyQixNQUFNRSxrQkFBa0JGLE9BQU87QUFDL0IsTUFBTUcsa0JBQWtCSCxPQUFPO0FBQy9CLE1BQU1JLDhCQUE4QkosT0FBTztBQUMzQyxNQUFNSyw4QkFBOEJMLE9BQU87QUFDM0MsTUFBTU0sMkJBQTJCTixPQUFPO0FBQ3hDOzs7Ozs7OztDQVFDLEdBQ00sTUFBTU87SUFDVEMsWUFBWUMsU0FBUyxFQUFFQyxJQUFJLEVBQUVDLGNBQWMsRUFBRUMsY0FBYyxDQUFFO1FBQ3pELElBQUksQ0FBQ2IsV0FBVyxHQUFHVTtRQUNuQixJQUFJLENBQUNSLE1BQU0sR0FBR1M7UUFDZCxJQUFJLENBQUNSLGdCQUFnQixHQUFHVTtRQUN4QixJQUFJLENBQUNULGdCQUFnQixHQUFHUTtJQUM1QjtJQUNBOzs7Ozs7Ozs7S0FTQyxHQUNELE9BQU9FLEtBQUtKLFNBQVMsRUFBRUssNEJBQTRCLEVBQUU7UUFDakQsSUFBSUEsZ0NBQWdDLE1BQU07WUFDdEMsT0FBTyxJQUFJLENBQUNSLHlCQUF5QixDQUFDRyxXQUFXSztRQUNyRCxPQUNLO1lBQ0QsT0FBTyxJQUFJLENBQUNULDRCQUE0QixDQUFDSTtRQUM3QztJQUNKO0lBQ0EsT0FBTyxDQUFDSiw0QkFBNEIsQ0FBQ0ksU0FBUyxFQUFFO1FBQzVDLE1BQU1DLE9BQU9ELFVBQVVNLE1BQU0sQ0FBQ0MsSUFBSTtRQUNsQyxNQUFNQyxlQUFlUixVQUFVTSxNQUFNLENBQUNFLFlBQVk7UUFDbEQsTUFBTUwsaUJBQWlCLElBQUlNO1FBQzNCLE1BQU1DLGtCQUFrQjtZQUFFQyxNQUFNO1FBQVU7UUFDMUMsTUFBTUMsbUJBQW1C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RUFBRWMsRUFBRUssUUFBUSxDQUFDbkIsRUFBRTtnQkFDekM7WUFDSjtRQUNKO1FBQ0FZLFNBQVNKLFVBQVVDO0lBQ3ZCO0lBQ0E7O0tBRUMsR0FDRCxJQUFJbEQsWUFBWTtRQUNaLE9BQU8sSUFBSSxDQUFDVixXQUFXO0lBQzNCO0lBQ0E7O0tBRUMsR0FDRCxJQUFJVyxPQUFPO1FBQ1AsT0FBTyxJQUFJLENBQUNULE1BQU07SUFDdEI7SUFDQTs7Ozs7S0FLQyxHQUNELElBQUlXLGlCQUFpQjtRQUNqQixPQUFPLElBQUksQ0FBQ1YsZ0JBQWdCO0lBQ2hDO0lBQ0E7OztLQUdDLEdBQ0QsSUFBSVMsaUJBQWlCO1FBQ2pCLE9BQU8sSUFBSSxDQUFDUixnQkFBZ0I7SUFDaEM7QUFDSixFQUNBLGtEQUFrRCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9jb3JyZWxhdGVkLXNjZW5lLWdyYXBoLmpzPzdiNTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tICd0aHJlZSc7XG5jb25zdCAkdGhyZWVHTFRGID0gU3ltYm9sKCd0aHJlZUdMVEYnKTtcbmNvbnN0ICRnbHRmID0gU3ltYm9sKCdnbHRmJyk7XG5jb25zdCAkZ2x0ZkVsZW1lbnRNYXAgPSBTeW1ib2woJ2dsdGZFbGVtZW50TWFwJyk7XG5jb25zdCAkdGhyZWVPYmplY3RNYXAgPSBTeW1ib2woJ3RocmVlT2JqZWN0TWFwJyk7XG5jb25zdCAkcGFyYWxsZWxUcmF2ZXJzZVRocmVlU2NlbmUgPSBTeW1ib2woJ3BhcmFsbGVsVHJhdmVyc2VUaHJlZVNjZW5lJyk7XG5jb25zdCAkY29ycmVsYXRlT3JpZ2luYWxUaHJlZUdMVEYgPSBTeW1ib2woJ2NvcnJlbGF0ZU9yaWdpbmFsVGhyZWVHTFRGJyk7XG5jb25zdCAkY29ycmVsYXRlQ2xvbmVUaHJlZUdMVEYgPSBTeW1ib2woJ2NvcnJlbGF0ZUNsb25lVGhyZWVHTFRGJyk7XG4vKipcbiAqIFRoZSBUaHJlZS5qcyBHTFRGTG9hZGVyIHByb3ZpZGVzIHVzIHdpdGggYW4gaW4tbWVtb3J5IHJlcHJlc2VudGF0aW9uXG4gKiBvZiBhIGdsVEYgaW4gdGVybXMgb2YgVGhyZWUuanMgY29uc3RydWN0cy4gSXQgYWxzbyBwcm92aWRlcyB1cyB3aXRoIGEgY29weVxuICogb2YgdGhlIGRlc2VyaWFsaXplZCBnbFRGIHdpdGhvdXQgYW55IFRocmVlLmpzIGRlY29yYXRpb24sIGFuZCBhIG1hcHBpbmcgb2ZcbiAqIGdsVEYgZWxlbWVudHMgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBUaHJlZS5qcyBjb25zdHJ1Y3RzLlxuICpcbiAqIEEgQ29ycmVsYXRlZFNjZW5lR3JhcGggZXhwb3NlcyBhIHN5bmNocm9ub3VzbHkgYXZhaWxhYmxlIG1hcHBpbmcgb2YgZ2xURlxuICogZWxlbWVudCByZWZlcmVuY2VzIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgVGhyZWUuanMgY29uc3RydWN0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIENvcnJlbGF0ZWRTY2VuZUdyYXBoIHtcbiAgICBjb25zdHJ1Y3Rvcih0aHJlZUdMVEYsIGdsdGYsIHRocmVlT2JqZWN0TWFwLCBnbHRmRWxlbWVudE1hcCkge1xuICAgICAgICB0aGlzWyR0aHJlZUdMVEZdID0gdGhyZWVHTFRGO1xuICAgICAgICB0aGlzWyRnbHRmXSA9IGdsdGY7XG4gICAgICAgIHRoaXNbJGdsdGZFbGVtZW50TWFwXSA9IGdsdGZFbGVtZW50TWFwO1xuICAgICAgICB0aGlzWyR0aHJlZU9iamVjdE1hcF0gPSB0aHJlZU9iamVjdE1hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvZHVjZSBhIENvcnJlbGF0ZWRTY2VuZUdyYXBoIGZyb20gYSBuYXR1cmFsbHkgZ2VuZXJhdGVkIFRocmVlLmpzIEdMVEYuXG4gICAgICogU3VjaCBHTFRGcyBhcmUgcHJvZHVjZWQgYnkgVGhyZWUuanMnIEdMVEZMb2FkZXIsIGFuZCBjb250YWluIGNhY2hlZFxuICAgICAqIGRldGFpbHMgdGhhdCBleHBlZGl0ZSB0aGUgY29ycmVsYXRpb24gc3RlcC5cbiAgICAgKlxuICAgICAqIElmIGEgQ29ycmVsYXRlZFNjZW5lR3JhcGggaXMgcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgcmUtY29ycmVsYXRlc1xuICAgICAqIGEgY2xvbmVkIFRocmVlLmpzIEdMVEYgd2l0aCBhIGNsb25lIG9mIHRoZSBnbFRGIGhpZXJhcmNoeSB1c2VkIHRvIHByb2R1Y2VcbiAgICAgKiB0aGUgdXBzdHJlYW0gVGhyZWUuanMgR0xURiB0aGF0IHRoZSBjbG9uZSB3YXMgY3JlYXRlZCBmcm9tLiBUaGUgcmVzdWx0XG4gICAgICogQ29ycmVsYXRlZFNjZW5lR3JhcGggaXMgcmVwcmVzZW50YXRpdmUgb2YgdGhlIGNsb25lZCBoaWVyYXJjaHkuXG4gICAgICovXG4gICAgc3RhdGljIGZyb20odGhyZWVHTFRGLCB1cHN0cmVhbUNvcnJlbGF0ZWRTY2VuZUdyYXBoKSB7XG4gICAgICAgIGlmICh1cHN0cmVhbUNvcnJlbGF0ZWRTY2VuZUdyYXBoICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRjb3JyZWxhdGVDbG9uZVRocmVlR0xURl0odGhyZWVHTFRGLCB1cHN0cmVhbUNvcnJlbGF0ZWRTY2VuZUdyYXBoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRjb3JyZWxhdGVPcmlnaW5hbFRocmVlR0xURl0odGhyZWVHTFRGKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgWyRjb3JyZWxhdGVPcmlnaW5hbFRocmVlR0xURl0odGhyZWVHTFRGKSB7XG4gICAgICAgIGNvbnN0IGdsdGYgPSB0aHJlZUdMVEYucGFyc2VyLmpzb247XG4gICAgICAgIGNvbnN0IGFzc29jaWF0aW9ucyA9IHRocmVlR0xURi5wYXJzZXIuYXNzb2NpYXRpb25zO1xuICAgICAgICBjb25zdCBnbHRmRWxlbWVudE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdE1hdGVyaWFsID0geyBuYW1lOiAnRGVmYXVsdCcgfTtcbiAgICAgICAgY29uc3QgZGVmYXVsdFJlZmVyZW5jZSA9IHsgdHlwZTogJ21hdGVyaWFscycsIGluZGV4OiAtMSB9O1xuICAgICAgICBmb3IgKGNvbnN0IHRocmVlTWF0ZXJpYWwgb2YgYXNzb2NpYXRpb25zLmtleXMoKSkge1xuICAgICAgICAgICAgLy8gTm90ZTogR0xURkxvYWRlciBjcmVhdGVzIGEgXCJkZWZhdWx0XCIgbWF0ZXJpYWwgdGhhdCBoYXMgbm9cbiAgICAgICAgICAgIC8vIGNvcnJlc3BvbmRpbmcgZ2xURiBlbGVtZW50IGluIHRoZSBjYXNlIHRoYXQgbm8gbWF0ZXJpYWxzIGFyZVxuICAgICAgICAgICAgLy8gc3BlY2lmaWVkIGluIHRoZSBzb3VyY2UgZ2xURi4gSW4gdGhpcyBjYXNlIHdlIGFwcGVuZCBhIGRlZmF1bHRcbiAgICAgICAgICAgIC8vIG1hdGVyaWFsIHRvIGFsbG93IHRoaXMgdG8gYmUgb3BlcmF0ZWQgdXBvbi5cbiAgICAgICAgICAgIGlmICh0aHJlZU1hdGVyaWFsIGluc3RhbmNlb2YgTWF0ZXJpYWwgJiZcbiAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbnMuZ2V0KHRocmVlTWF0ZXJpYWwpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFJlZmVyZW5jZS5pbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdsdGYubWF0ZXJpYWxzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsdGYubWF0ZXJpYWxzID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFJlZmVyZW5jZS5pbmRleCA9IGdsdGYubWF0ZXJpYWxzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZ2x0Zi5tYXRlcmlhbHMucHVzaChkZWZhdWx0TWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJlZU1hdGVyaWFsLm5hbWUgPSBkZWZhdWx0TWF0ZXJpYWwubmFtZTtcbiAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbnMuc2V0KHRocmVlTWF0ZXJpYWwsIHsgbWF0ZXJpYWxzOiBkZWZhdWx0UmVmZXJlbmNlLmluZGV4IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZXMgYSByZXZlcnNlIGxvb2sgdXAgbWFwIChnbHRmLW9iamVjdCB0byBUaHJlZS1vYmplY3QpXG4gICAgICAgIGZvciAoY29uc3QgW3RocmVlT2JqZWN0LCBnbHRmTWFwcGluZ3NdIG9mIGFzc29jaWF0aW9ucykge1xuICAgICAgICAgICAgaWYgKGdsdGZNYXBwaW5ncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9ialdpdGhVc2VyRGF0YSA9IHRocmVlT2JqZWN0O1xuICAgICAgICAgICAgICAgIG9ialdpdGhVc2VyRGF0YS51c2VyRGF0YSA9IG9ialdpdGhVc2VyRGF0YS51c2VyRGF0YSB8fCB7fTtcbiAgICAgICAgICAgICAgICBvYmpXaXRoVXNlckRhdGEudXNlckRhdGEuYXNzb2NpYXRpb25zID0gZ2x0Zk1hcHBpbmdzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBtYXBwaW5nIGluIGdsdGZNYXBwaW5ncykge1xuICAgICAgICAgICAgICAgIGlmIChtYXBwaW5nICE9IG51bGwgJiYgbWFwcGluZyAhPT0gJ3ByaW1pdGl2ZXMnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBtYXBwaW5nO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50QXJyYXkgPSBnbHRmW3R5cGVdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnbHRmRWxlbWVudCA9IGVsZW1lbnRBcnJheVtnbHRmTWFwcGluZ3NbdHlwZV1dO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2x0ZkVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTWF5YmUgdGhyb3cgaGVyZS4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHRocmVlT2JqZWN0cyA9IGdsdGZFbGVtZW50TWFwLmdldChnbHRmRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aHJlZU9iamVjdHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWVPYmplY3RzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2x0ZkVsZW1lbnRNYXAuc2V0KGdsdGZFbGVtZW50LCB0aHJlZU9iamVjdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocmVlT2JqZWN0cy5hZGQodGhyZWVPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvcnJlbGF0ZWRTY2VuZUdyYXBoKHRocmVlR0xURiwgZ2x0ZiwgYXNzb2NpYXRpb25zLCBnbHRmRWxlbWVudE1hcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZmVycyB0aGUgYXNzb2NpYXRpb24gYmV0d2VlbiBhIHJhdyBnbFRGIGFuZCBhIFRocmVlLmpzIHNjZW5lIGdyYXBoXG4gICAgICogdG8gYSBjbG9uZSBvZiB0aGUgVGhyZWUuanMgc2NlbmUgZ3JhcGgsIHJlc29sdmVkIGFzIGEgbmV3XG4gICAgICogQ29ycmVsYXRlZFNjZW5lR3JhcGggaW5zdGFuY2UuXG4gICAgICovXG4gICAgc3RhdGljIFskY29ycmVsYXRlQ2xvbmVUaHJlZUdMVEZdKGNsb25lVGhyZWVHTFRGLCB1cHN0cmVhbUNvcnJlbGF0ZWRTY2VuZUdyYXBoKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGhyZWVHTFRGID0gdXBzdHJlYW1Db3JyZWxhdGVkU2NlbmVHcmFwaC50aHJlZUdMVEY7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsR0xURiA9IHVwc3RyZWFtQ29ycmVsYXRlZFNjZW5lR3JhcGguZ2x0ZjtcbiAgICAgICAgY29uc3QgY2xvbmVHTFRGID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvcmlnaW5hbEdMVEYpKTtcbiAgICAgICAgY29uc3QgY2xvbmVUaHJlZU9iamVjdE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgY2xvbmVHTFRGRWxlbWVudE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmlnaW5hbFRocmVlR0xURi5zY2VuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXNbJHBhcmFsbGVsVHJhdmVyc2VUaHJlZVNjZW5lXShvcmlnaW5hbFRocmVlR0xURi5zY2VuZXNbaV0sIGNsb25lVGhyZWVHTFRGLnNjZW5lc1tpXSwgKG9iamVjdCwgY2xvbmVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50UmVmZXJlbmNlID0gdXBzdHJlYW1Db3JyZWxhdGVkU2NlbmVHcmFwaC50aHJlZU9iamVjdE1hcC5nZXQob2JqZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFJlZmVyZW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBtYXBwaW5nIGluIGVsZW1lbnRSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcHBpbmcgIT0gbnVsbCAmJiBtYXBwaW5nICE9PSAncHJpbWl0aXZlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBtYXBwaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBlbGVtZW50UmVmZXJlbmNlW3R5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVFbGVtZW50ID0gY2xvbmVHTFRGW3R5cGVdW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBpbmdzID0gY2xvbmVUaHJlZU9iamVjdE1hcC5nZXQoY2xvbmVPYmplY3QpIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGluZ3NbdHlwZV0gPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lVGhyZWVPYmplY3RNYXAuc2V0KGNsb25lT2JqZWN0LCBtYXBwaW5ncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9uZU9iamVjdHMgPSBjbG9uZUdMVEZFbGVtZW50TWFwLmdldChjbG9uZUVsZW1lbnQpIHx8IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lT2JqZWN0cy5hZGQoY2xvbmVPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVHTFRGRWxlbWVudE1hcC5zZXQoY2xvbmVFbGVtZW50LCBjbG9uZU9iamVjdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb3JyZWxhdGVkU2NlbmVHcmFwaChjbG9uZVRocmVlR0xURiwgY2xvbmVHTFRGLCBjbG9uZVRocmVlT2JqZWN0TWFwLCBjbG9uZUdMVEZFbGVtZW50TWFwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhdmVyc2VzIHR3byBwcmVzdW1hYmx5IGlkZW50aWNhbCBUaHJlZS5qcyBzY2VuZXMsIGFuZCBpbnZva2VzIGFcbiAgICAgKiBjYWxsYmFjayBmb3IgZWFjaCBPYmplY3QzRCBvciBNYXRlcmlhbCBlbmNvdW50ZXJlZCwgaW5jbHVkaW5nIHRoZSBpbml0aWFsXG4gICAgICogc2NlbmUuIEFkYXB0ZWQgZnJvbVxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi83YzE0MjRjNTgxOWFiNjIyYTM0NmRkNjMwZWU0ZTY0MzEzODgwMjFlL2V4YW1wbGVzL2pzbS91dGlscy9Ta2VsZXRvblV0aWxzLmpzI0w1ODYtTDU5NlxuICAgICAqL1xuICAgIHN0YXRpYyBbJHBhcmFsbGVsVHJhdmVyc2VUaHJlZVNjZW5lXShzY2VuZU9uZSwgc2NlbmVUd28sIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGlzTWVzaCA9IChvYmplY3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QuaXNNZXNoO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0cmF2ZXJzZSA9IChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhhLCBiKTtcbiAgICAgICAgICAgIGlmIChhLmlzT2JqZWN0M0QpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNNZXNoKGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEubWF0ZXJpYWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubWF0ZXJpYWwubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZShhLm1hdGVyaWFsW2ldLCBiLm1hdGVyaWFsW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlKGEubWF0ZXJpYWwsIGIubWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZShhLmNoaWxkcmVuW2ldLCBiLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRyYXZlcnNlKHNjZW5lT25lLCBzY2VuZVR3byk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzb3VyY2UgVGhyZWUuanMgR0xURiByZXN1bHQgZ2l2ZW4gdG8gdXMgYnkgYSBUaHJlZS5qcyBHTFRGTG9hZGVyLlxuICAgICAqL1xuICAgIGdldCB0aHJlZUdMVEYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyR0aHJlZUdMVEZdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaW4tbWVtb3J5IGRlc2VyaWFsaXplZCBzb3VyY2UgZ2xURi5cbiAgICAgKi9cbiAgICBnZXQgZ2x0ZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGdsdGZdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIE1hcCBvZiBnbFRGIGVsZW1lbnQgcmVmZXJlbmNlcyB0byBhcnJheXMgb2YgY29ycmVzcG9uZGluZyBUaHJlZS5qc1xuICAgICAqIG9iamVjdCByZWZlcmVuY2VzLiBUaHJlZS5qcyBvYmplY3RzIGFyZSBrZXB0IGluIGFycmF5cyB0byBhY2NvdW50IGZvclxuICAgICAqIGNhc2VzIHdoZXJlIG1vcmUgdGhhbiBvbmUgVGhyZWUuanMgb2JqZWN0IGNvcnJlc3BvbmRzIHRvIGEgc2luZ2xlIGdsVEZcbiAgICAgKiBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldCBnbHRmRWxlbWVudE1hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGdsdGZFbGVtZW50TWFwXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgaW5kaXZpZHVhbCBUaHJlZS5qcyBvYmplY3RzIHRvIGNvcnJlc3BvbmRpbmcgZWxlbWVudHMgaW4gdGhlXG4gICAgICogc291cmNlIGdsVEYuXG4gICAgICovXG4gICAgZ2V0IHRocmVlT2JqZWN0TWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skdGhyZWVPYmplY3RNYXBdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcnJlbGF0ZWQtc2NlbmUtZ3JhcGguanMubWFwIl0sIm5hbWVzIjpbIk1hdGVyaWFsIiwiJHRocmVlR0xURiIsIlN5bWJvbCIsIiRnbHRmIiwiJGdsdGZFbGVtZW50TWFwIiwiJHRocmVlT2JqZWN0TWFwIiwiJHBhcmFsbGVsVHJhdmVyc2VUaHJlZVNjZW5lIiwiJGNvcnJlbGF0ZU9yaWdpbmFsVGhyZWVHTFRGIiwiJGNvcnJlbGF0ZUNsb25lVGhyZWVHTFRGIiwiQ29ycmVsYXRlZFNjZW5lR3JhcGgiLCJjb25zdHJ1Y3RvciIsInRocmVlR0xURiIsImdsdGYiLCJ0aHJlZU9iamVjdE1hcCIsImdsdGZFbGVtZW50TWFwIiwiZnJvbSIsInVwc3RyZWFtQ29ycmVsYXRlZFNjZW5lR3JhcGgiLCJwYXJzZXIiLCJqc29uIiwiYXNzb2NpYXRpb25zIiwiTWFwIiwiZGVmYXVsdE1hdGVyaWFsIiwibmFtZSIsImRlZmF1bHRSZWZlcmVuY2UiLCJ0eXBlIiwiaW5kZXgiLCJ0aHJlZU1hdGVyaWFsIiwia2V5cyIsImdldCIsIm1hdGVyaWFscyIsImxlbmd0aCIsInB1c2giLCJzZXQiLCJ0aHJlZU9iamVjdCIsImdsdGZNYXBwaW5ncyIsIm9ialdpdGhVc2VyRGF0YSIsInVzZXJEYXRhIiwibWFwcGluZyIsImVsZW1lbnRBcnJheSIsImdsdGZFbGVtZW50IiwidGhyZWVPYmplY3RzIiwiU2V0IiwiYWRkIiwiY2xvbmVUaHJlZUdMVEYiLCJvcmlnaW5hbFRocmVlR0xURiIsIm9yaWdpbmFsR0xURiIsImNsb25lR0xURiIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImNsb25lVGhyZWVPYmplY3RNYXAiLCJjbG9uZUdMVEZFbGVtZW50TWFwIiwiaSIsInNjZW5lcyIsIm9iamVjdCIsImNsb25lT2JqZWN0IiwiZWxlbWVudFJlZmVyZW5jZSIsImNsb25lRWxlbWVudCIsIm1hcHBpbmdzIiwiY2xvbmVPYmplY3RzIiwic2NlbmVPbmUiLCJzY2VuZVR3byIsImNhbGxiYWNrIiwiaXNNZXNoIiwidHJhdmVyc2UiLCJhIiwiYiIsImlzT2JqZWN0M0QiLCJBcnJheSIsImlzQXJyYXkiLCJtYXRlcmlhbCIsImNoaWxkcmVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/correlated-scene-graph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/gltf-2.0.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/gltf-2.0.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Filter: () => (/* binding */ Filter),\n/* harmony export */   Wrap: () => (/* binding */ Wrap)\n/* harmony export */ });\nvar Filter;\n(function(Filter) {\n    Filter[Filter[\"Nearest\"] = 9728] = \"Nearest\";\n    Filter[Filter[\"Linear\"] = 9729] = \"Linear\";\n    Filter[Filter[\"NearestMipmapNearest\"] = 9984] = \"NearestMipmapNearest\";\n    Filter[Filter[\"LinearMipmapNearest\"] = 9985] = \"LinearMipmapNearest\";\n    Filter[Filter[\"NearestMipmapLinear\"] = 9986] = \"NearestMipmapLinear\";\n    Filter[Filter[\"LinearMipmapLinear\"] = 9987] = \"LinearMipmapLinear\";\n})(Filter || (Filter = {}));\nvar Wrap;\n(function(Wrap) {\n    Wrap[Wrap[\"ClampToEdge\"] = 33071] = \"ClampToEdge\";\n    Wrap[Wrap[\"MirroredRepeat\"] = 33648] = \"MirroredRepeat\";\n    Wrap[Wrap[\"Repeat\"] = 10497] = \"Repeat\";\n})(Wrap || (Wrap = {})); //# sourceMappingURL=gltf-2.0.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9nbHRmLTIuMC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPLElBQUlBLE9BQU87QUFDakIsVUFBVUEsTUFBTTtJQUNiQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxVQUFVLEdBQUcsS0FBSyxHQUFHO0lBQ25DQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxTQUFTLEdBQUcsS0FBSyxHQUFHO0lBQ2xDQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyx1QkFBdUIsR0FBRyxLQUFLLEdBQUc7SUFDaERBLE1BQU0sQ0FBQ0EsTUFBTSxDQUFDLHNCQUFzQixHQUFHLEtBQUssR0FBRztJQUMvQ0EsTUFBTSxDQUFDQSxNQUFNLENBQUMsc0JBQXNCLEdBQUcsS0FBSyxHQUFHO0lBQy9DQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLEdBQUc7QUFDbEQsR0FBR0EsVUFBV0EsQ0FBQUEsU0FBUyxDQUFDO0FBQ2pCLElBQUlDLEtBQUs7QUFDZixVQUFVQSxJQUFJO0lBQ1hBLElBQUksQ0FBQ0EsSUFBSSxDQUFDLGNBQWMsR0FBRyxNQUFNLEdBQUc7SUFDcENBLElBQUksQ0FBQ0EsSUFBSSxDQUFDLGlCQUFpQixHQUFHLE1BQU0sR0FBRztJQUN2Q0EsSUFBSSxDQUFDQSxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sR0FBRztBQUNuQyxHQUFHQSxRQUFTQSxDQUFBQSxPQUFPLENBQUMsS0FDcEIsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9nbHRmLWluc3RhbmNlL2dsdGYtMi4wLmpzPzkyZjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBGaWx0ZXI7XG4oZnVuY3Rpb24gKEZpbHRlcikge1xuICAgIEZpbHRlcltGaWx0ZXJbXCJOZWFyZXN0XCJdID0gOTcyOF0gPSBcIk5lYXJlc3RcIjtcbiAgICBGaWx0ZXJbRmlsdGVyW1wiTGluZWFyXCJdID0gOTcyOV0gPSBcIkxpbmVhclwiO1xuICAgIEZpbHRlcltGaWx0ZXJbXCJOZWFyZXN0TWlwbWFwTmVhcmVzdFwiXSA9IDk5ODRdID0gXCJOZWFyZXN0TWlwbWFwTmVhcmVzdFwiO1xuICAgIEZpbHRlcltGaWx0ZXJbXCJMaW5lYXJNaXBtYXBOZWFyZXN0XCJdID0gOTk4NV0gPSBcIkxpbmVhck1pcG1hcE5lYXJlc3RcIjtcbiAgICBGaWx0ZXJbRmlsdGVyW1wiTmVhcmVzdE1pcG1hcExpbmVhclwiXSA9IDk5ODZdID0gXCJOZWFyZXN0TWlwbWFwTGluZWFyXCI7XG4gICAgRmlsdGVyW0ZpbHRlcltcIkxpbmVhck1pcG1hcExpbmVhclwiXSA9IDk5ODddID0gXCJMaW5lYXJNaXBtYXBMaW5lYXJcIjtcbn0pKEZpbHRlciB8fCAoRmlsdGVyID0ge30pKTtcbmV4cG9ydCB2YXIgV3JhcDtcbihmdW5jdGlvbiAoV3JhcCkge1xuICAgIFdyYXBbV3JhcFtcIkNsYW1wVG9FZGdlXCJdID0gMzMwNzFdID0gXCJDbGFtcFRvRWRnZVwiO1xuICAgIFdyYXBbV3JhcFtcIk1pcnJvcmVkUmVwZWF0XCJdID0gMzM2NDhdID0gXCJNaXJyb3JlZFJlcGVhdFwiO1xuICAgIFdyYXBbV3JhcFtcIlJlcGVhdFwiXSA9IDEwNDk3XSA9IFwiUmVwZWF0XCI7XG59KShXcmFwIHx8IChXcmFwID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsdGYtMi4wLmpzLm1hcCJdLCJuYW1lcyI6WyJGaWx0ZXIiLCJXcmFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/gltf-2.0.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities.js":
/*!************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CAPPED_DEVICE_PIXEL_RATIO: () => (/* binding */ CAPPED_DEVICE_PIXEL_RATIO),\n/* harmony export */   assertIsArCandidate: () => (/* binding */ assertIsArCandidate),\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   deserializeUrl: () => (/* binding */ deserializeUrl),\n/* harmony export */   getFirstMapKey: () => (/* binding */ getFirstMapKey),\n/* harmony export */   isDebugMode: () => (/* binding */ isDebugMode),\n/* harmony export */   resolveDpr: () => (/* binding */ resolveDpr),\n/* harmony export */   step: () => (/* binding */ step),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   timePasses: () => (/* binding */ timePasses),\n/* harmony export */   toFullUrl: () => (/* binding */ toFullUrl),\n/* harmony export */   waitForEvent: () => (/* binding */ waitForEvent)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/constants.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \nconst deserializeUrl = (url)=>!!url && url !== \"null\" ? toFullUrl(url) : null;\nconst assertIsArCandidate = ()=>{\n    if (_constants_js__WEBPACK_IMPORTED_MODULE_0__.IS_WEBXR_AR_CANDIDATE) {\n        return;\n    }\n    const missingApis = [];\n    if (!_constants_js__WEBPACK_IMPORTED_MODULE_0__.HAS_WEBXR_DEVICE_API) {\n        missingApis.push(\"WebXR Device API\");\n    }\n    if (!_constants_js__WEBPACK_IMPORTED_MODULE_0__.HAS_WEBXR_HIT_TEST_API) {\n        missingApis.push(\"WebXR Hit Test API\");\n    }\n    throw new Error(`The following APIs are required for AR, but are missing in this browser: ${missingApis.join(\", \")}`);\n};\n/**\n * Converts a partial URL string to a fully qualified URL string.\n *\n * @param {String} url\n * @return {String}\n */ const toFullUrl = (partialUrl)=>{\n    const url = new URL(partialUrl, window.location.toString());\n    return url.toString();\n};\n/**\n * Returns a throttled version of a given function that is only invoked at most\n * once within a given threshold of time in milliseconds.\n *\n * The throttled version of the function has a \"flush\" property that resets the\n * threshold for cases when immediate invocation is desired.\n */ const throttle = (fn, ms)=>{\n    let timer = null;\n    const throttled = (...args)=>{\n        if (timer != null) {\n            return;\n        }\n        fn(...args);\n        timer = self.setTimeout(()=>timer = null, ms);\n    };\n    throttled.flush = ()=>{\n        if (timer != null) {\n            self.clearTimeout(timer);\n            timer = null;\n        }\n    };\n    return throttled;\n};\nconst debounce = (fn, ms)=>{\n    let timer = null;\n    return (...args)=>{\n        if (timer != null) {\n            self.clearTimeout(timer);\n        }\n        timer = self.setTimeout(()=>{\n            timer = null;\n            fn(...args);\n        }, ms);\n    };\n};\n/**\n * @param {Number} edge\n * @param {Number} value\n * @return {Number} 0 if value is less than edge, otherwise 1\n */ const step = (edge, value)=>{\n    return value < edge ? 0 : 1;\n};\n/**\n * @param {Number} value\n * @param {Number} lowerLimit\n * @param {Number} upperLimit\n * @return {Number} value clamped within lowerLimit..upperLimit\n */ const clamp = (value, lowerLimit, upperLimit)=>Math.max(lowerLimit, Math.min(upperLimit, value));\n// The DPR we use for a \"capped\" scenario (see resolveDpr below):\nconst CAPPED_DEVICE_PIXEL_RATIO = 1;\n/**\n * This helper analyzes the layout of the current page to decide if we should\n * use the natural device pixel ratio, or a capped value.\n *\n * We cap DPR if there is no meta viewport (suggesting that user is not\n * consciously specifying how to scale the viewport relative to the device\n * screen size).\n *\n * The rationale is that this condition typically leads to a pathological\n * outcome on mobile devices. When the window dimensions are scaled up on a\n * device with a high DPR, we create a canvas that is much larger than\n * appropriate to accommodate for the pixel density if we naively use the\n * reported DPR.\n *\n * This value needs to be measured in real time, as device pixel ratio can\n * change over time (e.g., when a user zooms the page). Also, in some cases\n * (such as Firefox on Android), the window's innerWidth is initially reported\n * as the same as the screen's availWidth but changes later.\n *\n * A user who specifies a meta viewport, thereby consciously creating scaling\n * conditions where <model-viewer> is slow, will be encouraged to live their\n * best life.\n */ const resolveDpr = (()=>{\n    // If true, implies that the user is conscious of the viewport scaling\n    // relative to the device screen size.\n    const HAS_META_VIEWPORT_TAG = (()=>{\n        var _a;\n        // Search result pages sometimes do not include a meta viewport tag even\n        // though they are certainly modern and work properly with devicePixelRatio.\n        if ((_a = document.documentElement.getAttribute(\"itemtype\")) === null || _a === void 0 ? void 0 : _a.includes(\"schema.org/SearchResultsPage\")) {\n            return true;\n        }\n        const metas = document.head != null ? Array.from(document.head.querySelectorAll(\"meta\")) : [];\n        for (const meta of metas){\n            if (meta.name === \"viewport\") {\n                return true;\n            }\n        }\n        return false;\n    })();\n    if (!HAS_META_VIEWPORT_TAG) {\n        console.warn('No <meta name=\"viewport\"> detected; <model-viewer> will cap pixel density at 1.');\n    }\n    return ()=>HAS_META_VIEWPORT_TAG ? window.devicePixelRatio : CAPPED_DEVICE_PIXEL_RATIO;\n})();\n/**\n * Debug mode is enabled when one of the two following conditions is true:\n *\n *  1. A 'model-viewer-debug-mode' query parameter is present in the current\n *     search string\n *  2. There is a global object ModelViewerElement with a debugMode property set\n *     to true\n */ const isDebugMode = (()=>{\n    const debugQueryParameterName = \"model-viewer-debug-mode\";\n    const debugQueryParameter = new RegExp(`[?&]${debugQueryParameterName}(&|$)`);\n    return ()=>self.ModelViewerElement && self.ModelViewerElement.debugMode || self.location && self.location.search && self.location.search.match(debugQueryParameter);\n})();\n/**\n * Returns the first key in a Map in iteration order.\n *\n * NOTE(cdata): This is necessary because IE11 does not implement iterator\n * methods of Map, and polymer-build does not polyfill these methods for\n * compatibility and performance reasons. This helper proposes that it is\n * a reasonable compromise to sacrifice a very small amount of runtime\n * performance in IE11 for the sake of code clarity.\n */ const getFirstMapKey = (map)=>{\n    if (map.keys != null) {\n        return map.keys().next().value || null;\n    }\n    let firstKey = null;\n    try {\n        map.forEach((_value, key, _map)=>{\n            firstKey = key;\n            // Stop iterating the Map with forEach:\n            throw new Error();\n        });\n    } catch (_error) {}\n    return firstKey;\n};\nconst timePasses = (ms = 0)=>new Promise((resolve)=>setTimeout(resolve, ms));\n/**\n * @param {EventTarget|EventDispatcher} target\n * @param {string} eventName\n * @param {?Function} predicate\n */ const waitForEvent = (target, eventName, predicate = null)=>new Promise((resolve)=>{\n        function handler(event) {\n            if (!predicate || predicate(event)) {\n                resolve(event);\n                target.removeEventListener(eventName, handler);\n            }\n        }\n        target.addEventListener(eventName, handler);\n    }); //# sourceMappingURL=utilities.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDb0c7QUFDOUYsTUFBTUcsaUJBQWlCLENBQUNDLE1BQVEsQ0FBRSxDQUFDQSxPQUFPQSxRQUFRLFNBQVVDLFVBQVVELE9BQU8sS0FBSztBQUNsRixNQUFNRSxzQkFBc0I7SUFDL0IsSUFBSUosZ0VBQXFCQSxFQUFFO1FBQ3ZCO0lBQ0o7SUFDQSxNQUFNSyxjQUFjLEVBQUU7SUFDdEIsSUFBSSxDQUFDUCwrREFBb0JBLEVBQUU7UUFDdkJPLFlBQVlDLElBQUksQ0FBQztJQUNyQjtJQUNBLElBQUksQ0FBQ1AsaUVBQXNCQSxFQUFFO1FBQ3pCTSxZQUFZQyxJQUFJLENBQUM7SUFDckI7SUFDQSxNQUFNLElBQUlDLE1BQU0sQ0FBQyx5RUFBeUUsRUFBRUYsWUFBWUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUN4SCxFQUFFO0FBQ0Y7Ozs7O0NBS0MsR0FDTSxNQUFNTCxZQUFZLENBQUNNO0lBQ3RCLE1BQU1QLE1BQU0sSUFBSVEsSUFBSUQsWUFBWUUsT0FBT0MsUUFBUSxDQUFDQyxRQUFRO0lBQ3hELE9BQU9YLElBQUlXLFFBQVE7QUFDdkIsRUFBRTtBQUNGOzs7Ozs7Q0FNQyxHQUNNLE1BQU1DLFdBQVcsQ0FBQ0MsSUFBSUM7SUFDekIsSUFBSUMsUUFBUTtJQUNaLE1BQU1DLFlBQVksQ0FBQyxHQUFHQztRQUNsQixJQUFJRixTQUFTLE1BQU07WUFDZjtRQUNKO1FBQ0FGLE1BQU1JO1FBQ05GLFFBQVFHLEtBQUtDLFVBQVUsQ0FBQyxJQUFNSixRQUFRLE1BQU1EO0lBQ2hEO0lBQ0FFLFVBQVVJLEtBQUssR0FBRztRQUNkLElBQUlMLFNBQVMsTUFBTTtZQUNmRyxLQUFLRyxZQUFZLENBQUNOO1lBQ2xCQSxRQUFRO1FBQ1o7SUFDSjtJQUNBLE9BQU9DO0FBQ1gsRUFBRTtB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Q04sUUFBUU07Z0JBQ1JKLE9BQU9LLG1CQUFtQixDQUFDSixXQUFXRTtZQUMxQztRQUNKO1FBQ0FILE9BQU9NLGdCQUFnQixDQUFDTCxXQUFXRTtJQUN2QyxHQUFHLENBQ0gscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdXRpbGl0aWVzLmpzPzNjNjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgSEFTX1dFQlhSX0RFVklDRV9BUEksIEhBU19XRUJYUl9ISVRfVEVTVF9BUEksIElTX1dFQlhSX0FSX0NBTkRJREFURSB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZVVybCA9ICh1cmwpID0+ICghIXVybCAmJiB1cmwgIT09ICdudWxsJykgPyB0b0Z1bGxVcmwodXJsKSA6IG51bGw7XG5leHBvcnQgY29uc3QgYXNzZXJ0SXNBckNhbmRpZGF0ZSA9ICgpID0+IHtcbiAgICBpZiAoSVNfV0VCWFJfQVJfQ0FORElEQVRFKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWlzc2luZ0FwaXMgPSBbXTtcbiAgICBpZiAoIUhBU19XRUJYUl9ERVZJQ0VfQVBJKSB7XG4gICAgICAgIG1pc3NpbmdBcGlzLnB1c2goJ1dlYlhSIERldmljZSBBUEknKTtcbiAgICB9XG4gICAgaWYgKCFIQVNfV0VCWFJfSElUX1RFU1RfQVBJKSB7XG4gICAgICAgIG1pc3NpbmdBcGlzLnB1c2goJ1dlYlhSIEhpdCBUZXN0IEFQSScpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBmb2xsb3dpbmcgQVBJcyBhcmUgcmVxdWlyZWQgZm9yIEFSLCBidXQgYXJlIG1pc3NpbmcgaW4gdGhpcyBicm93c2VyOiAke21pc3NpbmdBcGlzLmpvaW4oJywgJyl9YCk7XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIHBhcnRpYWwgVVJMIHN0cmluZyB0byBhIGZ1bGx5IHF1YWxpZmllZCBVUkwgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IHRvRnVsbFVybCA9IChwYXJ0aWFsVXJsKSA9PiB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChwYXJ0aWFsVXJsLCB3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xufTtcbi8qKlxuICogUmV0dXJucyBhIHRocm90dGxlZCB2ZXJzaW9uIG9mIGEgZ2l2ZW4gZnVuY3Rpb24gdGhhdCBpcyBvbmx5IGludm9rZWQgYXQgbW9zdFxuICogb25jZSB3aXRoaW4gYSBnaXZlbiB0aHJlc2hvbGQgb2YgdGltZSBpbiBtaWxsaXNlY29uZHMuXG4gKlxuICogVGhlIHRocm90dGxlZCB2ZXJzaW9uIG9mIHRoZSBmdW5jdGlvbiBoYXMgYSBcImZsdXNoXCIgcHJvcGVydHkgdGhhdCByZXNldHMgdGhlXG4gKiB0aHJlc2hvbGQgZm9yIGNhc2VzIHdoZW4gaW1tZWRpYXRlIGludm9jYXRpb24gaXMgZGVzaXJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRocm90dGxlID0gKGZuLCBtcykgPT4ge1xuICAgIGxldCB0aW1lciA9IG51bGw7XG4gICAgY29uc3QgdGhyb3R0bGVkID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKHRpbWVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmbiguLi5hcmdzKTtcbiAgICAgICAgdGltZXIgPSBzZWxmLnNldFRpbWVvdXQoKCkgPT4gdGltZXIgPSBudWxsLCBtcyk7XG4gICAgfTtcbiAgICB0aHJvdHRsZWQuZmx1c2ggPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aW1lciAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZWxmLmNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB0aHJvdHRsZWQ7XG59O1xuZXhwb3J0IGNvbnN0IGRlYm91bmNlID0gKGZuLCBtcykgPT4ge1xuICAgIGxldCB0aW1lciA9IG51bGw7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmICh0aW1lciAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZWxmLmNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgdGltZXIgPSBzZWxmLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICAgICAgZm4oLi4uYXJncyk7XG4gICAgICAgIH0sIG1zKTtcbiAgICB9O1xufTtcbi8qKlxuICogQHBhcmFtIHtOdW1iZXJ9IGVkZ2VcbiAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuICogQHJldHVybiB7TnVtYmVyfSAwIGlmIHZhbHVlIGlzIGxlc3MgdGhhbiBlZGdlLCBvdGhlcndpc2UgMVxuICovXG5leHBvcnQgY29uc3Qgc3RlcCA9IChlZGdlLCB2YWx1ZSkgPT4ge1xuICAgIHJldHVybiB2YWx1ZSA8IGVkZ2UgPyAwIDogMTtcbn07XG4vKipcbiAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtOdW1iZXJ9IGxvd2VyTGltaXRcbiAqIEBwYXJhbSB7TnVtYmVyfSB1cHBlckxpbWl0XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHZhbHVlIGNsYW1wZWQgd2l0aGluIGxvd2VyTGltaXQuLnVwcGVyTGltaXRcbiAqL1xuZXhwb3J0IGNvbnN0IGNsYW1wID0gKHZhbHVlLCBsb3dlckxpbWl0LCB1cHBlckxpbWl0KSA9PiBNYXRoLm1heChsb3dlckxpbWl0LCBNYXRoLm1pbih1cHBlckxpbWl0LCB2YWx1ZSkpO1xuLy8gVGhlIERQUiB3ZSB1c2UgZm9yIGEgXCJjYXBwZWRcIiBzY2VuYXJpbyAoc2VlIHJlc29sdmVEcHIgYmVsb3cpOlxuZXhwb3J0IGNvbnN0IENBUFBFRF9ERVZJQ0VfUElYRUxfUkFUSU8gPSAxO1xuLyoqXG4gKiBUaGlzIGhlbHBlciBhbmFseXplcyB0aGUgbGF5b3V0IG9mIHRoZSBjdXJyZW50IHBhZ2UgdG8gZGVjaWRlIGlmIHdlIHNob3VsZFxuICogdXNlIHRoZSBuYXR1cmFsIGRldmljZSBwaXhlbCByYXRpbywgb3IgYSBjYXBwZWQgdmFsdWUuXG4gKlxuICogV2UgY2FwIERQUiBpZiB0aGVyZSBpcyBubyBtZXRhIHZpZXdwb3J0IChzdWdnZXN0aW5nIHRoYXQgdXNlciBpcyBub3RcbiAqIGNvbnNjaW91c2x5IHNwZWNpZnlpbmcgaG93IHRvIHNjYWxlIHRoZSB2aWV3cG9ydCByZWxhdGl2ZSB0byB0aGUgZGV2aWNlXG4gKiBzY3JlZW4gc2l6ZSkuXG4gKlxuICogVGhlIHJhdGlvbmFsZSBpcyB0aGF0IHRoaXMgY29uZGl0aW9uIHR5cGljYWxseSBsZWFkcyB0byBhIHBhdGhvbG9naWNhbFxuICogb3V0Y29tZSBvbiBtb2JpbGUgZGV2aWNlcy4gV2hlbiB0aGUgd2luZG93IGRpbWVuc2lvbnMgYXJlIHNjYWxlZCB1cCBvbiBhXG4gKiBkZXZpY2Ugd2l0aCBhIGhpZ2ggRFBSLCB3ZSBjcmVhdGUgYSBjYW52YXMgdGhhdCBpcyBtdWNoIGxhcmdlciB0aGFuXG4gKiBhcHByb3ByaWF0ZSB0byBhY2NvbW1vZGF0ZSBmb3IgdGhlIHBpeGVsIGRlbnNpdHkgaWYgd2UgbmFpdmVseSB1c2UgdGhlXG4gKiByZXBvcnRlZCBEUFIuXG4gKlxuICogVGhpcyB2YWx1ZSBuZWVkcyB0byBiZSBtZWFzdXJlZCBpbiByZWFsIHRpbWUsIGFzIGRldmljZSBwaXhlbCByYXRpbyBjYW5cbiAqIGNoYW5nZSBvdmVyIHRpbWUgKGUuZy4sIHdoZW4gYSB1c2VyIHpvb21zIHRoZSBwYWdlKS4gQWxzbywgaW4gc29tZSBjYXNlc1xuICogKHN1Y2ggYXMgRmlyZWZveCBvbiBBbmRyb2lkKSwgdGhlIHdpbmRvdydzIGlubmVyV2lkdGggaXMgaW5pdGlhbGx5IHJlcG9ydGVkXG4gKiBhcyB0aGUgc2FtZSBhcyB0aGUgc2NyZWVuJ3MgYXZhaWxXaWR0aCBidXQgY2hhbmdlcyBsYXRlci5cbiAqXG4gKiBBIHVzZXIgd2hvIHNwZWNpZmllcyBhIG1ldGEgdmlld3BvcnQsIHRoZXJlYnkgY29uc2Npb3VzbHkgY3JlYXRpbmcgc2NhbGluZ1xuICogY29uZGl0aW9ucyB3aGVyZSA8bW9kZWwtdmlld2VyPiBpcyBzbG93LCB3aWxsIGJlIGVuY291cmFnZWQgdG8gbGl2ZSB0aGVpclxuICogYmVzdCBsaWZlLlxuICovXG5leHBvcnQgY29uc3QgcmVzb2x2ZURwciA9ICgoKSA9PiB7XG4gICAgLy8gSWYgdHJ1ZSwgaW1wbGllcyB0aGF0IHRoZSB1c2VyIGlzIGNvbnNjaW91cyBvZiB0aGUgdmlld3BvcnQgc2NhbGluZ1xuICAgIC8vIHJlbGF0aXZlIHRvIHRoZSBkZXZpY2Ugc2NyZWVuIHNpemUuXG4gICAgY29uc3QgSEFTX01FVEFfVklFV1BPUlRfVEFHID0gKCgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBTZWFyY2ggcmVzdWx0IHBhZ2VzIHNvbWV0aW1lcyBkbyBub3QgaW5jbHVkZSBhIG1ldGEgdmlld3BvcnQgdGFnIGV2ZW5cbiAgICAgICAgLy8gdGhvdWdoIHRoZXkgYXJlIGNlcnRhaW5seSBtb2Rlcm4gYW5kIHdvcmsgcHJvcGVybHkgd2l0aCBkZXZpY2VQaXhlbFJhdGlvLlxuICAgICAgICBpZiAoKF9hID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnaXRlbXR5cGUnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKCdzY2hlbWEub3JnL1NlYXJjaFJlc3VsdHNQYWdlJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1ldGFzID0gZG9jdW1lbnQuaGVhZCAhPSBudWxsID9cbiAgICAgICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yQWxsKCdtZXRhJykpIDpcbiAgICAgICAgICAgIFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG1ldGEgb2YgbWV0YXMpIHtcbiAgICAgICAgICAgIGlmIChtZXRhLm5hbWUgPT09ICd2aWV3cG9ydCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSkoKTtcbiAgICBpZiAoIUhBU19NRVRBX1ZJRVdQT1JUX1RBRykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ05vIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiPiBkZXRlY3RlZDsgPG1vZGVsLXZpZXdlcj4gd2lsbCBjYXAgcGl4ZWwgZGVuc2l0eSBhdCAxLicpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4gSEFTX01FVEFfVklFV1BPUlRfVEFHID8gd2luZG93LmRldmljZVBpeGVsUmF0aW8gOlxuICAgICAgICBDQVBQRURfREVWSUNFX1BJWEVMX1JBVElPO1xufSkoKTtcbi8qKlxuICogRGVidWcgbW9kZSBpcyBlbmFibGVkIHdoZW4gb25lIG9mIHRoZSB0d28gZm9sbG93aW5nIGNvbmRpdGlvbnMgaXMgdHJ1ZTpcbiAqXG4gKiAgMS4gQSAnbW9kZWwtdmlld2VyLWRlYnVnLW1vZGUnIHF1ZXJ5IHBhcmFtZXRlciBpcyBwcmVzZW50IGluIHRoZSBjdXJyZW50XG4gKiAgICAgc2VhcmNoIHN0cmluZ1xuICogIDIuIFRoZXJlIGlzIGEgZ2xvYmFsIG9iamVjdCBNb2RlbFZpZXdlckVsZW1lbnQgd2l0aCBhIGRlYnVnTW9kZSBwcm9wZXJ0eSBzZXRcbiAqICAgICB0byB0cnVlXG4gKi9cbmV4cG9ydCBjb25zdCBpc0RlYnVnTW9kZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgZGVidWdRdWVyeVBhcmFtZXRlck5hbWUgPSAnbW9kZWwtdmlld2VyLWRlYnVnLW1vZGUnO1xuICAgIGNvbnN0IGRlYnVnUXVlcnlQYXJhbWV0ZXIgPSBuZXcgUmVnRXhwKGBbPyZdJHtkZWJ1Z1F1ZXJ5UGFyYW1ldGVyTmFtZX0oJnwkKWApO1xuICAgIHJldHVybiAoKSA9PiAoc2VsZi5Nb2RlbFZpZXdlckVsZW1lbnQgJiZcbiAgICAgICAgc2VsZi5Nb2RlbFZpZXdlckVsZW1lbnQuZGVidWdNb2RlKSB8fFxuICAgICAgICAoc2VsZi5sb2NhdGlvbiAmJiBzZWxmLmxvY2F0aW9uLnNlYXJjaCAmJlxuICAgICAgICAgICAgc2VsZi5sb2NhdGlvbi5zZWFyY2gubWF0Y2goZGVidWdRdWVyeVBhcmFtZXRlcikpO1xufSkoKTtcbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3Qga2V5IGluIGEgTWFwIGluIGl0ZXJhdGlvbiBvcmRlci5cbiAqXG4gKiBOT1RFKGNkYXRhKTogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBJRTExIGRvZXMgbm90IGltcGxlbWVudCBpdGVyYXRvclxuICogbWV0aG9kcyBvZiBNYXAsIGFuZCBwb2x5bWVyLWJ1aWxkIGRvZXMgbm90IHBvbHlmaWxsIHRoZXNlIG1ldGhvZHMgZm9yXG4gKiBjb21wYXRpYmlsaXR5IGFuZCBwZXJmb3JtYW5jZSByZWFzb25zLiBUaGlzIGhlbHBlciBwcm9wb3NlcyB0aGF0IGl0IGlzXG4gKiBhIHJlYXNvbmFibGUgY29tcHJvbWlzZSB0byBzYWNyaWZpY2UgYSB2ZXJ5IHNtYWxsIGFtb3VudCBvZiBydW50aW1lXG4gKiBwZXJmb3JtYW5jZSBpbiBJRTExIGZvciB0aGUgc2FrZSBvZiBjb2RlIGNsYXJpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRGaXJzdE1hcEtleSA9IChtYXApID0+IHtcbiAgICBpZiAobWFwLmtleXMgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbWFwLmtleXMoKS5uZXh0KCkudmFsdWUgfHwgbnVsbDtcbiAgICB9XG4gICAgbGV0IGZpcnN0S2V5ID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgICBtYXAuZm9yRWFjaCgoX3ZhbHVlLCBrZXksIF9tYXApID0+IHtcbiAgICAgICAgICAgIGZpcnN0S2V5ID0ga2V5O1xuICAgICAgICAgICAgLy8gU3RvcCBpdGVyYXRpbmcgdGhlIE1hcCB3aXRoIGZvckVhY2g6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChfZXJyb3IpIHtcbiAgICB9XG4gICAgcmV0dXJuIGZpcnN0S2V5O1xufTtcbmV4cG9ydCBjb25zdCB0aW1lUGFzc2VzID0gKG1zID0gMCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8RXZlbnREaXNwYXRjaGVyfSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBwcmVkaWNhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IHdhaXRGb3JFdmVudCA9ICh0YXJnZXQsIGV2ZW50TmFtZSwgcHJlZGljYXRlID0gbnVsbCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgZnVuY3Rpb24gaGFuZGxlcihldmVudCkge1xuICAgICAgICBpZiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUoZXZlbnQpKSB7XG4gICAgICAgICAgICByZXNvbHZlKGV2ZW50KTtcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbGl0aWVzLmpzLm1hcCJdLCJuYW1lcyI6WyJIQVNfV0VCWFJfREVWSUNFX0FQSSIsIkhBU19XRUJYUl9ISVRfVEVTVF9BUEkiLCJJU19XRUJYUl9BUl9DQU5ESURBVEUiLCJkZXNlcmlhbGl6ZVVybCIsInVybCIsInRvRnVsbFVybCIsImFzc2VydElzQXJDYW5kaWRhdGUiLCJtaXNzaW5nQXBpcyIsInB1c2giLCJFcnJvciIsImpvaW4iLCJwYXJ0aWFsVXJsIiwiVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJ0b1N0cmluZyIsInRocm90dGxlIiwiZm4iLCJtcyIsInRpbWVyIiwidGhyb3R0bGVkIiwiYXJncyIsInNlbGYiLCJzZXRUaW1lb3V0IiwiZmx1c2giLCJjbGVhclRpbWVvdXQiLCJkZWJvdW5jZSIsInN0ZXAiLCJlZGdlIiwidmFsdWUiLCJjbGFtcCIsImxvd2VyTGltaXQiLCJ1cHBlckxpbWl0IiwiTWF0aCIsIm1heCIsIm1pbiIsIkNBUFBFRF9ERVZJQ0VfUElYRUxfUkFUSU8iLCJyZXNvbHZlRHByIiwiSEFTX01FVEFfVklFV1BPUlRfVEFHIiwiX2EiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImluY2x1ZGVzIiwibWV0YXMiLCJoZWFkIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm1ldGEiLCJuYW1lIiwiY29uc29sZSIsIndhcm4iLCJkZXZpY2VQaXhlbFJhdGlvIiwiaXNEZWJ1Z01vZGUiLCJkZWJ1Z1F1ZXJ5UGFyYW1ldGVyTmFtZSIsImRlYnVnUXVlcnlQYXJhbWV0ZXIiLCJSZWdFeHAiLCJNb2RlbFZpZXdlckVsZW1lbnQiLCJkZWJ1Z01vZGUiLCJzZWFyY2giLCJtYXRjaCIsImdldEZpcnN0TWFwS2V5IiwibWFwIiwia2V5cyIsIm5leHQiLCJmaXJzdEtleSIsImZvckVhY2giLCJfdmFsdWUiLCJrZXkiLCJfbWFwIiwiX2Vycm9yIiwidGltZVBhc3NlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwid2FpdEZvckV2ZW50IiwidGFyZ2V0IiwiZXZlbnROYW1lIiwicHJlZGljYXRlIiwiaGFuZGxlciIsImV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/animation.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/animation.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   easeInOutQuad: () => (/* binding */ easeInOutQuad),\n/* harmony export */   interpolate: () => (/* binding */ interpolate),\n/* harmony export */   sequence: () => (/* binding */ sequence),\n/* harmony export */   timeline: () => (/* binding */ timeline)\n/* harmony export */ });\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n// Adapted from https://gist.github.com/gre/1650294\nconst easeInOutQuad = (t)=>t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n/**\n * Creates a TimingFunction that uses a given ease to interpolate between\n * two configured number values.\n */ const interpolate = (start, end, ease = easeInOutQuad)=>(time)=>start + (end - start) * ease(time);\n/**\n * Creates a TimingFunction that interpolates through a weighted list\n * of other TimingFunctions (\"tracks\"). Tracks are interpolated in order, and\n * allocated a percentage of the total time based on their relative weight.\n */ const sequence = (tracks, weights)=>{\n    const cumulativeSum = (sum)=>(value)=>sum += value;\n    const times = weights.map(cumulativeSum(0));\n    return (time)=>{\n        time = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.clamp)(time, 0, 1);\n        time *= times[times.length - 1];\n        const i = times.findIndex((val)=>val >= time);\n        const start = i < 1 ? 0 : times[i - 1];\n        const end = times[i];\n        return tracks[i]((time - start) / (end - start));\n    };\n};\n/**\n * Creates a \"timeline\" TimingFunction out of an initial value and a series of\n * Keyframes. The timeline function accepts value from 0-1 and returns the\n * current value based on keyframe interpolation across the total number of\n * frames. Frames are only used to indicate the relative length of each keyframe\n * transition, so interpolated values will be computed for fractional frames.\n */ const timeline = (path)=>{\n    const tracks = [];\n    const weights = [];\n    let lastValue = path.initialValue;\n    for(let i = 0; i < path.keyframes.length; ++i){\n        const keyframe = path.keyframes[i];\n        const { value, frames } = keyframe;\n        const ease = keyframe.ease || easeInOutQuad;\n        const track = interpolate(lastValue, value, ease);\n        tracks.push(track);\n        weights.push(frames);\n        lastValue = value;\n    }\n    return sequence(tracks, weights);\n}; //# sourceMappingURL=animation.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9hbmltYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQ29DO0FBQ3JDLG1EQUFtRDtBQUM1QyxNQUFNQyxnQkFBZ0IsQ0FBQ0MsSUFBTUEsSUFBSSxLQUFLLElBQUlBLElBQUlBLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJQSxDQUFBQSxJQUFLQSxFQUFFO0FBQzlFOzs7Q0FHQyxHQUNNLE1BQU1DLGNBQWMsQ0FBQ0MsT0FBT0MsS0FBS0MsT0FBT0wsYUFBYSxHQUFLLENBQUNNLE9BQVNILFFBQVEsQ0FBQ0MsTUFBTUQsS0FBSSxJQUFLRSxLQUFLQyxNQUFNO0FBQzlHOzs7O0NBSUMsR0FDTSxNQUFNQyxXQUFXLENBQUNDLFFBQVFDO0lBQzdCLE1BQU1DLGdCQUFpQixDQUFDQyxNQUFRLENBQUNDLFFBQVVELE9BQU9DO0lBQ2xELE1BQU1DLFFBQVFKLFFBQVFLLEdBQUcsQ0FBQ0osY0FBYztJQUN4QyxPQUFPLENBQUNKO1FBQ0pBLE9BQU9QLGlEQUFLQSxDQUFDTyxNQUFNLEdBQUc7UUFDdEJBLFFBQVFPLEtBQUssQ0FBQ0EsTUFBTUUsTUFBTSxHQUFHLEVBQUU7UUFDL0IsTUFBTUMsSUFBSUgsTUFBTUksU0FBUyxDQUFDLENBQUNDLE1BQVFBLE9BQU9aO1FBQzFDLE1BQU1ILFFBQVFhLElBQUksSUFBSSxJQUFJSCxLQUFLLENBQUNHLElBQUksRUFBRTtRQUN0QyxNQUFNWixNQUFNUyxLQUFLLENBQUNHLEVBQUU7UUFDcEIsT0FBT1IsTUFBTSxDQUFDUSxFQUFFLENBQUMsQ0FBQ1YsT0FBT0gsS0FBSSxJQUFNQyxDQUFBQSxNQUFNRCxLQUFJO0lBQ2pEO0FBQ0osRUFBRTtBQUNGOzs7Ozs7Q0FNQyxHQUNNLE1BQU1nQixXQUFXLENBQUNDO0lBQ3JCLE1BQU1aLFNBQVMsRUFBRTtJQUNqQixNQUFNQyxVQUFVLEVBQUU7SUFDbEIsSUFBSVksWUFBWUQsS0FBS0UsWUFBWTtJQUNqQyxJQUFLLElBQUlOLElBQUksR0FBR0EsSUFBSUksS0FBS0csU0FBUyxDQUFDUixNQUFNLEVBQUUsRUFBRUMsRUFBRztRQUM1QyxNQUFNUSxXQUFXSixLQUFLRyxTQUFTLENBQUNQLEVBQUU7UUFDbEMsTUFBTSxFQUFFSixLQUFLLEVBQUVhLE1BQU0sRUFBRSxHQUFHRDtRQUMxQixNQUFNbkIsT0FBT21CLFNBQVNuQixJQUFJLElBQUlMO1FBQzlCLE1BQU0wQixRQUFReEIsWUFBWW1CLFdBQVdULE9BQU9QO1FBQzVDRyxPQUFPbUIsSUFBSSxDQUFDRDtRQUNaakIsUUFBUWtCLElBQUksQ0FBQ0Y7UUFDYkosWUFBWVQ7SUFDaEI7SUFDQSxPQUFPTCxTQUFTQyxRQUFRQztBQUM1QixFQUFFLENBQ0YscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdXRpbGl0aWVzL2FuaW1hdGlvbi5qcz84M2NjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vdXRpbGl0aWVzJztcbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ncmUvMTY1MDI5NFxuZXhwb3J0IGNvbnN0IGVhc2VJbk91dFF1YWQgPSAodCkgPT4gdCA8IC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQ7XG4vKipcbiAqIENyZWF0ZXMgYSBUaW1pbmdGdW5jdGlvbiB0aGF0IHVzZXMgYSBnaXZlbiBlYXNlIHRvIGludGVycG9sYXRlIGJldHdlZW5cbiAqIHR3byBjb25maWd1cmVkIG51bWJlciB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBpbnRlcnBvbGF0ZSA9IChzdGFydCwgZW5kLCBlYXNlID0gZWFzZUluT3V0UXVhZCkgPT4gKHRpbWUpID0+IHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIGVhc2UodGltZSk7XG4vKipcbiAqIENyZWF0ZXMgYSBUaW1pbmdGdW5jdGlvbiB0aGF0IGludGVycG9sYXRlcyB0aHJvdWdoIGEgd2VpZ2h0ZWQgbGlzdFxuICogb2Ygb3RoZXIgVGltaW5nRnVuY3Rpb25zIChcInRyYWNrc1wiKS4gVHJhY2tzIGFyZSBpbnRlcnBvbGF0ZWQgaW4gb3JkZXIsIGFuZFxuICogYWxsb2NhdGVkIGEgcGVyY2VudGFnZSBvZiB0aGUgdG90YWwgdGltZSBiYXNlZCBvbiB0aGVpciByZWxhdGl2ZSB3ZWlnaHQuXG4gKi9cbmV4cG9ydCBjb25zdCBzZXF1ZW5jZSA9ICh0cmFja3MsIHdlaWdodHMpID0+IHtcbiAgICBjb25zdCBjdW11bGF0aXZlU3VtID0gKChzdW0pID0+ICh2YWx1ZSkgPT4gc3VtICs9IHZhbHVlKTtcbiAgICBjb25zdCB0aW1lcyA9IHdlaWdodHMubWFwKGN1bXVsYXRpdmVTdW0oMCkpO1xuICAgIHJldHVybiAodGltZSkgPT4ge1xuICAgICAgICB0aW1lID0gY2xhbXAodGltZSwgMCwgMSk7XG4gICAgICAgIHRpbWUgKj0gdGltZXNbdGltZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGkgPSB0aW1lcy5maW5kSW5kZXgoKHZhbCkgPT4gdmFsID49IHRpbWUpO1xuICAgICAgICBjb25zdCBzdGFydCA9IGkgPCAxID8gMCA6IHRpbWVzW2kgLSAxXTtcbiAgICAgICAgY29uc3QgZW5kID0gdGltZXNbaV07XG4gICAgICAgIHJldHVybiB0cmFja3NbaV0oKHRpbWUgLSBzdGFydCkgLyAoZW5kIC0gc3RhcnQpKTtcbiAgICB9O1xufTtcbi8qKlxuICogQ3JlYXRlcyBhIFwidGltZWxpbmVcIiBUaW1pbmdGdW5jdGlvbiBvdXQgb2YgYW4gaW5pdGlhbCB2YWx1ZSBhbmQgYSBzZXJpZXMgb2ZcbiAqIEtleWZyYW1lcy4gVGhlIHRpbWVsaW5lIGZ1bmN0aW9uIGFjY2VwdHMgdmFsdWUgZnJvbSAwLTEgYW5kIHJldHVybnMgdGhlXG4gKiBjdXJyZW50IHZhbHVlIGJhc2VkIG9uIGtleWZyYW1lIGludGVycG9sYXRpb24gYWNyb3NzIHRoZSB0b3RhbCBudW1iZXIgb2ZcbiAqIGZyYW1lcy4gRnJhbWVzIGFyZSBvbmx5IHVzZWQgdG8gaW5kaWNhdGUgdGhlIHJlbGF0aXZlIGxlbmd0aCBvZiBlYWNoIGtleWZyYW1lXG4gKiB0cmFuc2l0aW9uLCBzbyBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdpbGwgYmUgY29tcHV0ZWQgZm9yIGZyYWN0aW9uYWwgZnJhbWVzLlxuICovXG5leHBvcnQgY29uc3QgdGltZWxpbmUgPSAocGF0aCkgPT4ge1xuICAgIGNvbnN0IHRyYWNrcyA9IFtdO1xuICAgIGNvbnN0IHdlaWdodHMgPSBbXTtcbiAgICBsZXQgbGFzdFZhbHVlID0gcGF0aC5pbml0aWFsVmFsdWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmtleWZyYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBrZXlmcmFtZSA9IHBhdGgua2V5ZnJhbWVzW2ldO1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBmcmFtZXMgfSA9IGtleWZyYW1lO1xuICAgICAgICBjb25zdCBlYXNlID0ga2V5ZnJhbWUuZWFzZSB8fCBlYXNlSW5PdXRRdWFkO1xuICAgICAgICBjb25zdCB0cmFjayA9IGludGVycG9sYXRlKGxhc3RWYWx1ZSwgdmFsdWUsIGVhc2UpO1xuICAgICAgICB0cmFja3MucHVzaCh0cmFjayk7XG4gICAgICAgIHdlaWdodHMucHVzaChmcmFtZXMpO1xuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcXVlbmNlKHRyYWNrcywgd2VpZ2h0cyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6WyJjbGFtcCIsImVhc2VJbk91dFF1YWQiLCJ0IiwiaW50ZXJwb2xhdGUiLCJzdGFydCIsImVuZCIsImVhc2UiLCJ0aW1lIiwic2VxdWVuY2UiLCJ0cmFja3MiLCJ3ZWlnaHRzIiwiY3VtdWxhdGl2ZVN1bSIsInN1bSIsInZhbHVlIiwidGltZXMiLCJtYXAiLCJsZW5ndGgiLCJpIiwiZmluZEluZGV4IiwidmFsIiwidGltZWxpbmUiLCJwYXRoIiwibGFzdFZhbHVlIiwiaW5pdGlhbFZhbHVlIiwia2V5ZnJhbWVzIiwia2V5ZnJhbWUiLCJmcmFtZXMiLCJ0cmFjayIsInB1c2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/animation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/cache-eviction-policy.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/cache-eviction-policy.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CacheEvictionPolicy: () => (/* binding */ CacheEvictionPolicy)\n/* harmony export */ });\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ var _a, _b;\nconst $retainerCount = Symbol(\"retainerCount\");\nconst $recentlyUsed = Symbol(\"recentlyUsed\");\nconst $evict = Symbol(\"evict\");\nconst $evictionThreshold = Symbol(\"evictionThreshold\");\nconst $cache = Symbol(\"cache\");\n/**\n * The CacheEvictionPolicy manages the lifecycle for items in a cache,\n * evicting any items outside some threshold bounds in \"recently used\" order,\n * if they are evictable.\n *\n * Items are considered cached as they are retained. When all retainers\n * of an item release it, that item is considered evictable.\n */ class CacheEvictionPolicy {\n    constructor(cache, evictionThreshold = 5){\n        this[_a] = new Map();\n        this[_b] = [];\n        this[$cache] = cache;\n        this[$evictionThreshold] = evictionThreshold;\n    }\n    /**\n     * The eviction threshold is the maximum number of items to hold\n     * in cache indefinitely. Items within the threshold (in recently\n     * used order) will continue to be cached even if they have zero\n     * retainers.\n     */ set evictionThreshold(value) {\n        this[$evictionThreshold] = value;\n        this[$evict]();\n    }\n    get evictionThreshold() {\n        return this[$evictionThreshold];\n    }\n    /**\n     * A reference to the cache that operates under this policy\n     */ get cache() {\n        return this[$cache];\n    }\n    /**\n     * Given an item key, returns the number of retainers of that item\n     */ retainerCount(key) {\n        return this[$retainerCount].get(key) || 0;\n    }\n    /**\n     * Resets the internal tracking of cache item retainers. Use only in cases\n     * where it is certain that all retained cache items have been accounted for!\n     */ reset() {\n        this[$retainerCount].clear();\n        this[$recentlyUsed] = [];\n    }\n    /**\n     * Mark a given cache item as retained, where the item is represented\n     * by its key. An item can have any number of retainers.\n     */ retain(key) {\n        if (!this[$retainerCount].has(key)) {\n            this[$retainerCount].set(key, 0);\n        }\n        this[$retainerCount].set(key, this[$retainerCount].get(key) + 1);\n        const recentlyUsedIndex = this[$recentlyUsed].indexOf(key);\n        if (recentlyUsedIndex !== -1) {\n            this[$recentlyUsed].splice(recentlyUsedIndex, 1);\n        }\n        this[$recentlyUsed].unshift(key);\n        // Evict, in case retaining a new item pushed an evictable item beyond the\n        // eviction threshold\n        this[$evict]();\n    }\n    /**\n     * Mark a given cache item as released by one of its retainers, where the item\n     * is represented by its key. When all retainers of an item have released it,\n     * the item is considered evictable.\n     */ release(key) {\n        if (this[$retainerCount].has(key)) {\n            this[$retainerCount].set(key, Math.max(this[$retainerCount].get(key) - 1, 0));\n        }\n        this[$evict]();\n    }\n    [(_a = $retainerCount, _b = $recentlyUsed, $evict)]() {\n        if (this[$recentlyUsed].length < this[$evictionThreshold]) {\n            return;\n        }\n        for(let i = this[$recentlyUsed].length - 1; i >= this[$evictionThreshold]; --i){\n            const key = this[$recentlyUsed][i];\n            const retainerCount = this[$retainerCount].get(key);\n            if (retainerCount === 0) {\n                this[$cache].delete(key);\n                this[$recentlyUsed].splice(i, 1);\n            }\n        }\n    }\n} //# sourceMappingURL=cache-eviction-policy.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9jYWNoZS1ldmljdGlvbi1wb2xpY3kuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRCxJQUFJQSxJQUFJQztBQUNSLE1BQU1DLGlCQUFpQkMsT0FBTztBQUM5QixNQUFNQyxnQkFBZ0JELE9BQU87QUFDN0IsTUFBTUUsU0FBU0YsT0FBTztBQUN0QixNQUFNRyxxQkFBcUJILE9BQU87QUFDbEMsTUFBTUksU0FBU0osT0FBTztBQUN0Qjs7Ozs7OztDQU9DLEdBQ00sTUFBTUs7SUFDVEMsWUFBWUMsS0FBSyxFQUFFQyxvQkFBb0IsQ0FBQyxDQUFFO1FBQ3RDLElBQUksQ0FBQ1gsR0FBRyxHQUFHLElBQUlZO1FBQ2YsSUFBSSxDQUFDWCxHQUFHLEdBQUcsRUFBRTtRQUNiLElBQUksQ0FBQ00sT0FBTyxHQUFHRztRQUNmLElBQUksQ0FBQ0osbUJBQW1CLEdBQUdLO0lBQy9CO0lBQ0E7Ozs7O0tBS0MsR0FDRCxJQUFJQSxrQkFBa0JFLEtBQUssRUFBRTtRQUN6QixJQUFJLENBQUNQLG1CQUFtQixHQUFHTztRQUMzQixJQUFJLENBQUNSLE9BQU87SUFDaEI7SUFDQSxJQUFJTSxvQkFBb0I7UUFDcEIsT0FBTyxJQUFJLENBQUNMLG1CQUFtQjtJQUNuQztJQUNBOztLQUVDLEdBQ0QsSUFBSUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDSCxPQUFPO0lBQ3ZCO0lBQ0E7O0tBRUMsR0FDRE8sY0FBY0MsR0FBRyxFQUFFO1FBQ2YsT0FBTyxJQUFJLENBQUNiLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDRCxRQUFRO0lBQzVDO0lBQ0E7OztLQUdDLEdBQ0RFLFFBQVE7UUFDSixJQUFJLENBQUNmLGVBQWUsQ0FBQ2dCLEtBQUs7UUFDMUIsSUFBSSxDQUFDZCxjQUFjLEdBQUcsRUFBRTtJQUM1QjtJQUNBOzs7S0FHQyxHQUNEZSxPQUFPSixHQUFHLEVBQUU7UUFDUixJQUFJLENBQUMsSUFBSSxDQUFDYixlQUFlLENBQUNrQixHQUFHLENBQUNMLE1BQU07WUFDaEMsSUFBSSxDQUFDYixlQUFlLENBQUNtQixHQUFHLENBQUNOLEtBQUs7UUFDbEM7UUFDQSxJQUFJLENBQUNiLGVBQWUsQ0FBQ21CLEdBQUcsQ0FBQ04sS0FBSyxJQUFJLENBQUNiLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDRCxPQUFPO1FBQzlELE1BQU1PLG9CQUFvQixJQUFJLENBQUNsQixjQUFjLENBQUNtQixPQUFPLENBQUNSO1FBQ3RELElBQUlPLHNCQUFzQixDQUFDLEdBQUc7WUFDMUIsSUFBSSxDQUFDbEIsY0FBYyxDQUFDb0IsTUFBTSxDQUFDRixtQkFBbUI7UUFDbEQ7UUFDQSxJQUFJLENBQUNsQixjQUFjLENBQUNxQixPQUFPLENBQUNWO1FBQzVCLDBFQUEwRTtRQUMxRSxxQkFBcUI7UUFDckIsSUFBSSxDQUFDVixPQUFPO0lBQ2hCO0lBQ0E7Ozs7S0FJQyxHQUNEcUIsUUFBUVgsR0FBRyxFQUFFO1FBQ1QsSUFBSSxJQUFJLENBQUNiLGVBQWUsQ0FBQ2tCLEdBQUcsQ0FBQ0wsTUFBTTtZQUMvQixJQUFJLENBQUNiLGVBQWUsQ0FBQ21CLEdBQUcsQ0FBQ04sS0FBS1ksS0FBS0MsR0FBRyxDQUFDLElBQUksQ0FBQzFCLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDRCxPQUFPLEdBQUc7UUFDOUU7UUFDQSxJQUFJLENBQUNWLE9BQU87SUFDaEI7SUFDQSxDQUFFTCxDQUFBQSxLQUFLRSxnQkFBZ0JELEtBQUtHLGVBQWVDLE1BQUssRUFBRyxHQUFHO1FBQ2xELElBQUksSUFBSSxDQUFDRCxjQUFjLENBQUN5QixNQUFNLEdBQUcsSUFBSSxDQUFDdkIsbUJBQW1CLEVBQUU7WUFDdkQ7UUFDSjtRQUNBLElBQUssSUFBSXdCLElBQUksSUFBSSxDQUFDMUIsY0FBYyxDQUFDeUIsTUFBTSxHQUFHLEdBQUdDLEtBQUssSUFBSSxDQUFDeEIsbUJBQW1CLEVBQUUsRUFBRXdCLEVBQUc7WUFDN0UsTUFBTWYsTUFBTSxJQUFJLENBQUNYLGNBQWMsQ0FBQzBCLEVBQUU7WUFDbEMsTUFBTWhCLGdCQUFnQixJQUFJLENBQUNaLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDRDtZQUMvQyxJQUFJRCxrQkFBa0IsR0FBRztnQkFDckIsSUFBSSxDQUFDUCxPQUFPLENBQUN3QixNQUFNLENBQUNoQjtnQkFDcEIsSUFBSSxDQUFDWCxjQUFjLENBQUNvQixNQUFNLENBQUNNLEdBQUc7WUFDbEM7UUFDSjtJQUNKO0FBQ0osRUFDQSxpREFBaUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi91dGlsaXRpZXMvY2FjaGUtZXZpY3Rpb24tcG9saWN5LmpzPzM4NjgiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hLCBfYjtcbmNvbnN0ICRyZXRhaW5lckNvdW50ID0gU3ltYm9sKCdyZXRhaW5lckNvdW50Jyk7XG5jb25zdCAkcmVjZW50bHlVc2VkID0gU3ltYm9sKCdyZWNlbnRseVVzZWQnKTtcbmNvbnN0ICRldmljdCA9IFN5bWJvbCgnZXZpY3QnKTtcbmNvbnN0ICRldmljdGlvblRocmVzaG9sZCA9IFN5bWJvbCgnZXZpY3Rpb25UaHJlc2hvbGQnKTtcbmNvbnN0ICRjYWNoZSA9IFN5bWJvbCgnY2FjaGUnKTtcbi8qKlxuICogVGhlIENhY2hlRXZpY3Rpb25Qb2xpY3kgbWFuYWdlcyB0aGUgbGlmZWN5Y2xlIGZvciBpdGVtcyBpbiBhIGNhY2hlLFxuICogZXZpY3RpbmcgYW55IGl0ZW1zIG91dHNpZGUgc29tZSB0aHJlc2hvbGQgYm91bmRzIGluIFwicmVjZW50bHkgdXNlZFwiIG9yZGVyLFxuICogaWYgdGhleSBhcmUgZXZpY3RhYmxlLlxuICpcbiAqIEl0ZW1zIGFyZSBjb25zaWRlcmVkIGNhY2hlZCBhcyB0aGV5IGFyZSByZXRhaW5lZC4gV2hlbiBhbGwgcmV0YWluZXJzXG4gKiBvZiBhbiBpdGVtIHJlbGVhc2UgaXQsIHRoYXQgaXRlbSBpcyBjb25zaWRlcmVkIGV2aWN0YWJsZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENhY2hlRXZpY3Rpb25Qb2xpY3kge1xuICAgIGNvbnN0cnVjdG9yKGNhY2hlLCBldmljdGlvblRocmVzaG9sZCA9IDUpIHtcbiAgICAgICAgdGhpc1tfYV0gPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXNbX2JdID0gW107XG4gICAgICAgIHRoaXNbJGNhY2hlXSA9IGNhY2hlO1xuICAgICAgICB0aGlzWyRldmljdGlvblRocmVzaG9sZF0gPSBldmljdGlvblRocmVzaG9sZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGV2aWN0aW9uIHRocmVzaG9sZCBpcyB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdG8gaG9sZFxuICAgICAqIGluIGNhY2hlIGluZGVmaW5pdGVseS4gSXRlbXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgKGluIHJlY2VudGx5XG4gICAgICogdXNlZCBvcmRlcikgd2lsbCBjb250aW51ZSB0byBiZSBjYWNoZWQgZXZlbiBpZiB0aGV5IGhhdmUgemVyb1xuICAgICAqIHJldGFpbmVycy5cbiAgICAgKi9cbiAgICBzZXQgZXZpY3Rpb25UaHJlc2hvbGQodmFsdWUpIHtcbiAgICAgICAgdGhpc1skZXZpY3Rpb25UaHJlc2hvbGRdID0gdmFsdWU7XG4gICAgICAgIHRoaXNbJGV2aWN0XSgpO1xuICAgIH1cbiAgICBnZXQgZXZpY3Rpb25UaHJlc2hvbGQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRldmljdGlvblRocmVzaG9sZF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjYWNoZSB0aGF0IG9wZXJhdGVzIHVuZGVyIHRoaXMgcG9saWN5XG4gICAgICovXG4gICAgZ2V0IGNhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skY2FjaGVdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhbiBpdGVtIGtleSwgcmV0dXJucyB0aGUgbnVtYmVyIG9mIHJldGFpbmVycyBvZiB0aGF0IGl0ZW1cbiAgICAgKi9cbiAgICByZXRhaW5lckNvdW50KGtleSkge1xuICAgICAgICByZXR1cm4gdGhpc1skcmV0YWluZXJDb3VudF0uZ2V0KGtleSkgfHwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBpbnRlcm5hbCB0cmFja2luZyBvZiBjYWNoZSBpdGVtIHJldGFpbmVycy4gVXNlIG9ubHkgaW4gY2FzZXNcbiAgICAgKiB3aGVyZSBpdCBpcyBjZXJ0YWluIHRoYXQgYWxsIHJldGFpbmVkIGNhY2hlIGl0ZW1zIGhhdmUgYmVlbiBhY2NvdW50ZWQgZm9yIVxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzWyRyZXRhaW5lckNvdW50XS5jbGVhcigpO1xuICAgICAgICB0aGlzWyRyZWNlbnRseVVzZWRdID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmsgYSBnaXZlbiBjYWNoZSBpdGVtIGFzIHJldGFpbmVkLCB3aGVyZSB0aGUgaXRlbSBpcyByZXByZXNlbnRlZFxuICAgICAqIGJ5IGl0cyBrZXkuIEFuIGl0ZW0gY2FuIGhhdmUgYW55IG51bWJlciBvZiByZXRhaW5lcnMuXG4gICAgICovXG4gICAgcmV0YWluKGtleSkge1xuICAgICAgICBpZiAoIXRoaXNbJHJldGFpbmVyQ291bnRdLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzWyRyZXRhaW5lckNvdW50XS5zZXQoa2V5LCAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzWyRyZXRhaW5lckNvdW50XS5zZXQoa2V5LCB0aGlzWyRyZXRhaW5lckNvdW50XS5nZXQoa2V5KSArIDEpO1xuICAgICAgICBjb25zdCByZWNlbnRseVVzZWRJbmRleCA9IHRoaXNbJHJlY2VudGx5VXNlZF0uaW5kZXhPZihrZXkpO1xuICAgICAgICBpZiAocmVjZW50bHlVc2VkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzWyRyZWNlbnRseVVzZWRdLnNwbGljZShyZWNlbnRseVVzZWRJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1skcmVjZW50bHlVc2VkXS51bnNoaWZ0KGtleSk7XG4gICAgICAgIC8vIEV2aWN0LCBpbiBjYXNlIHJldGFpbmluZyBhIG5ldyBpdGVtIHB1c2hlZCBhbiBldmljdGFibGUgaXRlbSBiZXlvbmQgdGhlXG4gICAgICAgIC8vIGV2aWN0aW9uIHRocmVzaG9sZFxuICAgICAgICB0aGlzWyRldmljdF0oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFyayBhIGdpdmVuIGNhY2hlIGl0ZW0gYXMgcmVsZWFzZWQgYnkgb25lIG9mIGl0cyByZXRhaW5lcnMsIHdoZXJlIHRoZSBpdGVtXG4gICAgICogaXMgcmVwcmVzZW50ZWQgYnkgaXRzIGtleS4gV2hlbiBhbGwgcmV0YWluZXJzIG9mIGFuIGl0ZW0gaGF2ZSByZWxlYXNlZCBpdCxcbiAgICAgKiB0aGUgaXRlbSBpcyBjb25zaWRlcmVkIGV2aWN0YWJsZS5cbiAgICAgKi9cbiAgICByZWxlYXNlKGtleSkge1xuICAgICAgICBpZiAodGhpc1skcmV0YWluZXJDb3VudF0uaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXNbJHJldGFpbmVyQ291bnRdLnNldChrZXksIE1hdGgubWF4KHRoaXNbJHJldGFpbmVyQ291bnRdLmdldChrZXkpIC0gMSwgMCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJGV2aWN0XSgpO1xuICAgIH1cbiAgICBbKF9hID0gJHJldGFpbmVyQ291bnQsIF9iID0gJHJlY2VudGx5VXNlZCwgJGV2aWN0KV0oKSB7XG4gICAgICAgIGlmICh0aGlzWyRyZWNlbnRseVVzZWRdLmxlbmd0aCA8IHRoaXNbJGV2aWN0aW9uVGhyZXNob2xkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzWyRyZWNlbnRseVVzZWRdLmxlbmd0aCAtIDE7IGkgPj0gdGhpc1skZXZpY3Rpb25UaHJlc2hvbGRdOyAtLWkpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXNbJHJlY2VudGx5VXNlZF1baV07XG4gICAgICAgICAgICBjb25zdCByZXRhaW5lckNvdW50ID0gdGhpc1skcmV0YWluZXJDb3VudF0uZ2V0KGtleSk7XG4gICAgICAgICAgICBpZiAocmV0YWluZXJDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGNhY2hlXS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgICB0aGlzWyRyZWNlbnRseVVzZWRdLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhY2hlLWV2aWN0aW9uLXBvbGljeS5qcy5tYXAiXSwibmFtZXMiOlsiX2EiLCJfYiIsIiRyZXRhaW5lckNvdW50IiwiU3ltYm9sIiwiJHJlY2VudGx5VXNlZCIsIiRldmljdCIsIiRldmljdGlvblRocmVzaG9sZCIsIiRjYWNoZSIsIkNhY2hlRXZpY3Rpb25Qb2xpY3kiLCJjb25zdHJ1Y3RvciIsImNhY2hlIiwiZXZpY3Rpb25UaHJlc2hvbGQiLCJNYXAiLCJ2YWx1ZSIsInJldGFpbmVyQ291bnQiLCJrZXkiLCJnZXQiLCJyZXNldCIsImNsZWFyIiwicmV0YWluIiwiaGFzIiwic2V0IiwicmVjZW50bHlVc2VkSW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwidW5zaGlmdCIsInJlbGVhc2UiLCJNYXRoIiwibWF4IiwibGVuZ3RoIiwiaSIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/cache-eviction-policy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/data-conversion.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/data-conversion.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dataUrlToBlob: () => (/* binding */ dataUrlToBlob)\n/* harmony export */ });\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ /**\n * Converts a base64 string which represents a data url\n * into a Blob of the same contents.\n */ const dataUrlToBlob = async (base64DataUrl)=>{\n    return new Promise((resolve, reject)=>{\n        const sliceSize = 512;\n        const typeMatch = base64DataUrl.match(/data:(.*);/);\n        if (!typeMatch) {\n            return reject(new Error(`${base64DataUrl} is not a valid data Url`));\n        }\n        const type = typeMatch[1];\n        const base64 = base64DataUrl.replace(/data:image\\/\\w+;base64,/, \"\");\n        const byteCharacters = atob(base64);\n        const byteArrays = [];\n        for(let offset = 0; offset < byteCharacters.length; offset += sliceSize){\n            const slice = byteCharacters.slice(offset, offset + sliceSize);\n            const byteNumbers = new Array(slice.length);\n            for(let i = 0; i < slice.length; i++){\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            const byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        resolve(new Blob(byteArrays, {\n            type\n        }));\n    });\n}; //# sourceMappingURL=data-conversion.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9kYXRhLWNvbnZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDRDs7O0NBR0MsR0FDTSxNQUFNQSxnQkFBZ0IsT0FBT0M7SUFDaEMsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1FBQ3pCLE1BQU1DLFlBQVk7UUFDbEIsTUFBTUMsWUFBWUwsY0FBY00sS0FBSyxDQUFDO1FBQ3RDLElBQUksQ0FBQ0QsV0FBVztZQUNaLE9BQU9GLE9BQU8sSUFBSUksTUFBTSxDQUFDLEVBQUVQLGNBQWMsd0JBQXdCLENBQUM7UUFDdEU7UUFDQSxNQUFNUSxPQUFPSCxTQUFTLENBQUMsRUFBRTtRQUN6QixNQUFNSSxTQUFTVCxjQUFjVSxPQUFPLENBQUMsMkJBQTJCO1FBQ2hFLE1BQU1DLGlCQUFpQkMsS0FBS0g7UUFDNUIsTUFBTUksYUFBYSxFQUFFO1FBQ3JCLElBQUssSUFBSUMsU0FBUyxHQUFHQSxTQUFTSCxlQUFlSSxNQUFNLEVBQUVELFVBQVVWLFVBQVc7WUFDdEUsTUFBTVksUUFBUUwsZUFBZUssS0FBSyxDQUFDRixRQUFRQSxTQUFTVjtZQUNwRCxNQUFNYSxjQUFjLElBQUlDLE1BQU1GLE1BQU1ELE1BQU07WUFDMUMsSUFBSyxJQUFJSSxJQUFJLEdBQUdBLElBQUlILE1BQU1ELE1BQU0sRUFBRUksSUFBSztnQkFDbkNGLFdBQVcsQ0FBQ0UsRUFBRSxHQUFHSCxNQUFNSSxVQUFVLENBQUNEO1lBQ3RDO1lBQ0EsTUFBTUUsWUFBWSxJQUFJQyxXQUFXTDtZQUNqQ0osV0FBV1UsSUFBSSxDQUFDRjtRQUNwQjtRQUNBbkIsUUFBUSxJQUFJc0IsS0FBS1gsWUFBWTtZQUFFTDtRQUFLO0lBQ3hDO0FBQ0osRUFBRSxDQUNGLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYjNkZXZjb3Vyc2UvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9kYXRhLWNvbnZlcnNpb24uanM/NWY2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENvbnZlcnRzIGEgYmFzZTY0IHN0cmluZyB3aGljaCByZXByZXNlbnRzIGEgZGF0YSB1cmxcbiAqIGludG8gYSBCbG9iIG9mIHRoZSBzYW1lIGNvbnRlbnRzLlxuICovXG5leHBvcnQgY29uc3QgZGF0YVVybFRvQmxvYiA9IGFzeW5jIChiYXNlNjREYXRhVXJsKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3Qgc2xpY2VTaXplID0gNTEyO1xuICAgICAgICBjb25zdCB0eXBlTWF0Y2ggPSBiYXNlNjREYXRhVXJsLm1hdGNoKC9kYXRhOiguKik7Lyk7XG4gICAgICAgIGlmICghdHlwZU1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihgJHtiYXNlNjREYXRhVXJsfSBpcyBub3QgYSB2YWxpZCBkYXRhIFVybGApKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0eXBlID0gdHlwZU1hdGNoWzFdO1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBiYXNlNjREYXRhVXJsLnJlcGxhY2UoL2RhdGE6aW1hZ2VcXC9cXHcrO2Jhc2U2NCwvLCAnJyk7XG4gICAgICAgIGNvbnN0IGJ5dGVDaGFyYWN0ZXJzID0gYXRvYihiYXNlNjQpO1xuICAgICAgICBjb25zdCBieXRlQXJyYXlzID0gW107XG4gICAgICAgIGZvciAobGV0IG9mZnNldCA9IDA7IG9mZnNldCA8IGJ5dGVDaGFyYWN0ZXJzLmxlbmd0aDsgb2Zmc2V0ICs9IHNsaWNlU2l6ZSkge1xuICAgICAgICAgICAgY29uc3Qgc2xpY2UgPSBieXRlQ2hhcmFjdGVycy5zbGljZShvZmZzZXQsIG9mZnNldCArIHNsaWNlU2l6ZSk7XG4gICAgICAgICAgICBjb25zdCBieXRlTnVtYmVycyA9IG5ldyBBcnJheShzbGljZS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGljZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJ5dGVOdW1iZXJzW2ldID0gc2xpY2UuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ5dGVOdW1iZXJzKTtcbiAgICAgICAgICAgIGJ5dGVBcnJheXMucHVzaChieXRlQXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUobmV3IEJsb2IoYnl0ZUFycmF5cywgeyB0eXBlIH0pKTtcbiAgICB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLWNvbnZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbImRhdGFVcmxUb0Jsb2IiLCJiYXNlNjREYXRhVXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzbGljZVNpemUiLCJ0eXBlTWF0Y2giLCJtYXRjaCIsIkVycm9yIiwidHlwZSIsImJhc2U2NCIsInJlcGxhY2UiLCJieXRlQ2hhcmFjdGVycyIsImF0b2IiLCJieXRlQXJyYXlzIiwib2Zmc2V0IiwibGVuZ3RoIiwic2xpY2UiLCJieXRlTnVtYmVycyIsIkFycmF5IiwiaSIsImNoYXJDb2RlQXQiLCJieXRlQXJyYXkiLCJVaW50OEFycmF5IiwicHVzaCIsIkJsb2IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/data-conversion.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/focus-visible.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/focus-visible.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FocusVisiblePolyfillMixin: () => (/* binding */ FocusVisiblePolyfillMixin)\n/* harmony export */ });\n/**\n * This mixin function is designed to be applied to a class that inherits\n * from HTMLElement. It makes it easy for a custom element to coordinate with\n * the :focus-visible polyfill.\n *\n * NOTE(cdata): The code here was adapted from an example proposed with the\n * introduction of ShadowDOM support in the :focus-visible polyfill.\n *\n * @see https://github.com/WICG/focus-visible/pull/196\n * @param {Function} SuperClass The base class implementation to decorate with\n * implementation that coordinates with the :focus-visible polyfill\n */ const FocusVisiblePolyfillMixin = (SuperClass)=>{\n    var _a;\n    const coordinateWithPolyfill = (instance)=>{\n        // If there is no shadow root, there is no need to coordinate with\n        // the polyfill. If we already coordinated with the polyfill, we can\n        // skip subsequent invocations:\n        if (instance.shadowRoot == null || instance.hasAttribute(\"data-js-focus-visible\")) {\n            return ()=>{};\n        }\n        // The polyfill might already be loaded. If so, we can apply it to\n        // the shadow root immediately:\n        if (self.applyFocusVisiblePolyfill) {\n            self.applyFocusVisiblePolyfill(instance.shadowRoot);\n        } else {\n            const coordinationHandler = ()=>{\n                self.applyFocusVisiblePolyfill(instance.shadowRoot);\n            };\n            // Otherwise, wait for the polyfill to be loaded lazily. It might\n            // never be loaded, but if it is then we can apply it to the\n            // shadow root at the appropriate time by waiting for the ready\n            // event:\n            self.addEventListener(\"focus-visible-polyfill-ready\", coordinationHandler, {\n                once: true\n            });\n            return ()=>{\n                self.removeEventListener(\"focus-visible-polyfill-ready\", coordinationHandler);\n            };\n        }\n        return ()=>{};\n    };\n    const $endPolyfillCoordination = Symbol(\"endPolyfillCoordination\");\n    // IE11 doesn't natively support custom elements or JavaScript class\n    // syntax The mixin implementation assumes that the user will take the\n    // appropriate steps to support both:\n    class FocusVisibleCoordinator extends SuperClass {\n        constructor(){\n            super(...arguments);\n            this[_a] = null;\n        }\n        // Attempt to coordinate with the polyfill when connected to the\n        // document:\n        connectedCallback() {\n            super.connectedCallback && super.connectedCallback();\n            if (this[$endPolyfillCoordination] == null) {\n                this[$endPolyfillCoordination] = coordinateWithPolyfill(this);\n            }\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback && super.disconnectedCallback();\n            // It's important to remove the polyfill event listener when we\n            // disconnect, otherwise we will leak the whole element via window:\n            if (this[$endPolyfillCoordination] != null) {\n                this[$endPolyfillCoordination]();\n                this[$endPolyfillCoordination] = null;\n            }\n        }\n    }\n    _a = $endPolyfillCoordination;\n    ;\n    return FocusVisibleCoordinator;\n}; //# sourceMappingURL=focus-visible.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9mb2N1cy12aXNpYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Q0FXQyxHQUNNLE1BQU1BLDRCQUE0QixDQUFDQztJQUN0QyxJQUFJQztJQUNKLE1BQU1DLHlCQUF5QixDQUFDQztRQUM1QixrRUFBa0U7UUFDbEUsb0VBQW9FO1FBQ3BFLCtCQUErQjtRQUMvQixJQUFJQSxTQUFTQyxVQUFVLElBQUksUUFDdkJELFNBQVNFLFlBQVksQ0FBQywwQkFBMEI7WUFDaEQsT0FBTyxLQUFRO1FBQ25CO1FBQ0Esa0VBQWtFO1FBQ2xFLCtCQUErQjtRQUMvQixJQUFJQyxLQUFLQyx5QkFBeUIsRUFBRTtZQUNoQ0QsS0FBS0MseUJBQXlCLENBQUNKLFNBQVNDLFVBQVU7UUFDdEQsT0FDSztZQUNELE1BQU1JLHNCQUFzQjtnQkFDeEJGLEtBQUtDLHlCQUF5QixDQUFDSixTQUFTQyxVQUFVO1lBQ3REO1lBQ0EsaUVBQWlFO1lBQ2pFLDREQUE0RDtZQUM1RCwrREFBK0Q7WUFDL0QsU0FBUztZQUNURSxLQUFLRyxnQkFBZ0IsQ0FBQyxnQ0FBZ0NELHFCQUFxQjtnQkFBRUUsTUFBTTtZQUFLO1lBQ3hGLE9BQU87Z0JBQ0hKLEtBQUtLLG1CQUFtQixDQUFDLGdDQUFnQ0g7WUFDN0Q7UUFDSjtRQUNBLE9BQU8sS0FBUTtJQUNuQjtJQUNBLE1BQU1JLDJCQUEyQkMsT0FBTztJQUN4QyxvRUFBb0U7SUFDcEUsc0VBQXNFO0lBQ3RFLHFDQUFxQztJQUNyQyxNQUFNQyxnQ0FBZ0NkO1FBQ2xDZSxhQUFjO1lBQ1YsS0FBSyxJQUFJQztZQUNULElBQUksQ0FBQ2YsR0FBRyxHQUFHO1FBQ2Y7UUFDQSxnRUFBZ0U7UUFDaEUsWUFBWTtRQUNaZ0Isb0JBQW9CO1lBQ2hCLEtBQUssQ0FBQ0EscUJBQXFCLEtBQUssQ0FBQ0E7WUFDakMsSUFBSSxJQUFJLENBQUNMLHlCQUF5QixJQUFJLE1BQU07Z0JBQ3hDLElBQUksQ0FBQ0EseUJBQXlCLEdBQUdWLHVCQUF1QixJQUFJO1lBQ2hFO1FBQ0o7UUFDQWdCLHVCQUF1QjtZQUNuQixLQUFLLENBQUNBLHdCQUF3QixLQUFLLENBQUNBO1lBQ3BDLCtEQUErRDtZQUMvRCxtRUFBbUU7WUFDbkUsSUFBSSxJQUFJLENBQUNOLHlCQUF5QixJQUFJLE1BQU07Z0JBQ3hDLElBQUksQ0FBQ0EseUJBQXlCO2dCQUM5QixJQUFJLENBQUNBLHlCQUF5QixHQUFHO1lBQ3JDO1FBQ0o7SUFDSjtJQUNBWCxLQUFLVzs7SUFFTCxPQUFPRTtBQUNYLEVBQUUsQ0FDRix5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIzZGV2Y291cnNlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi91dGlsaXRpZXMvZm9jdXMtdmlzaWJsZS5qcz8xZWVjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBtaXhpbiBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBhcHBsaWVkIHRvIGEgY2xhc3MgdGhhdCBpbmhlcml0c1xuICogZnJvbSBIVE1MRWxlbWVudC4gSXQgbWFrZXMgaXQgZWFzeSBmb3IgYSBjdXN0b20gZWxlbWVudCB0byBjb29yZGluYXRlIHdpdGhcbiAqIHRoZSA6Zm9jdXMtdmlzaWJsZSBwb2x5ZmlsbC5cbiAqXG4gKiBOT1RFKGNkYXRhKTogVGhlIGNvZGUgaGVyZSB3YXMgYWRhcHRlZCBmcm9tIGFuIGV4YW1wbGUgcHJvcG9zZWQgd2l0aCB0aGVcbiAqIGludHJvZHVjdGlvbiBvZiBTaGFkb3dET00gc3VwcG9ydCBpbiB0aGUgOmZvY3VzLXZpc2libGUgcG9seWZpbGwuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9mb2N1cy12aXNpYmxlL3B1bGwvMTk2XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBTdXBlckNsYXNzIFRoZSBiYXNlIGNsYXNzIGltcGxlbWVudGF0aW9uIHRvIGRlY29yYXRlIHdpdGhcbiAqIGltcGxlbWVudGF0aW9uIHRoYXQgY29vcmRpbmF0ZXMgd2l0aCB0aGUgOmZvY3VzLXZpc2libGUgcG9seWZpbGxcbiAqL1xuZXhwb3J0IGNvbnN0IEZvY3VzVmlzaWJsZVBvbHlmaWxsTWl4aW4gPSAoU3VwZXJDbGFzcykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBjb29yZGluYXRlV2l0aFBvbHlmaWxsID0gKGluc3RhbmNlKSA9PiB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHNoYWRvdyByb290LCB0aGVyZSBpcyBubyBuZWVkIHRvIGNvb3JkaW5hdGUgd2l0aFxuICAgICAgICAvLyB0aGUgcG9seWZpbGwuIElmIHdlIGFscmVhZHkgY29vcmRpbmF0ZWQgd2l0aCB0aGUgcG9seWZpbGwsIHdlIGNhblxuICAgICAgICAvLyBza2lwIHN1YnNlcXVlbnQgaW52b2NhdGlvbnM6XG4gICAgICAgIGlmIChpbnN0YW5jZS5zaGFkb3dSb290ID09IG51bGwgfHxcbiAgICAgICAgICAgIGluc3RhbmNlLmhhc0F0dHJpYnV0ZSgnZGF0YS1qcy1mb2N1cy12aXNpYmxlJykpIHtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHBvbHlmaWxsIG1pZ2h0IGFscmVhZHkgYmUgbG9hZGVkLiBJZiBzbywgd2UgY2FuIGFwcGx5IGl0IHRvXG4gICAgICAgIC8vIHRoZSBzaGFkb3cgcm9vdCBpbW1lZGlhdGVseTpcbiAgICAgICAgaWYgKHNlbGYuYXBwbHlGb2N1c1Zpc2libGVQb2x5ZmlsbCkge1xuICAgICAgICAgICAgc2VsZi5hcHBseUZvY3VzVmlzaWJsZVBvbHlmaWxsKGluc3RhbmNlLnNoYWRvd1Jvb3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0aW9uSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmFwcGx5Rm9jdXNWaXNpYmxlUG9seWZpbGwoaW5zdGFuY2Uuc2hhZG93Um9vdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3YWl0IGZvciB0aGUgcG9seWZpbGwgdG8gYmUgbG9hZGVkIGxhemlseS4gSXQgbWlnaHRcbiAgICAgICAgICAgIC8vIG5ldmVyIGJlIGxvYWRlZCwgYnV0IGlmIGl0IGlzIHRoZW4gd2UgY2FuIGFwcGx5IGl0IHRvIHRoZVxuICAgICAgICAgICAgLy8gc2hhZG93IHJvb3QgYXQgdGhlIGFwcHJvcHJpYXRlIHRpbWUgYnkgd2FpdGluZyBmb3IgdGhlIHJlYWR5XG4gICAgICAgICAgICAvLyBldmVudDpcbiAgICAgICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMtdmlzaWJsZS1wb2x5ZmlsbC1yZWFkeScsIGNvb3JkaW5hdGlvbkhhbmRsZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cy12aXNpYmxlLXBvbHlmaWxsLXJlYWR5JywgY29vcmRpbmF0aW9uSGFuZGxlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfTtcbiAgICBjb25zdCAkZW5kUG9seWZpbGxDb29yZGluYXRpb24gPSBTeW1ib2woJ2VuZFBvbHlmaWxsQ29vcmRpbmF0aW9uJyk7XG4gICAgLy8gSUUxMSBkb2Vzbid0IG5hdGl2ZWx5IHN1cHBvcnQgY3VzdG9tIGVsZW1lbnRzIG9yIEphdmFTY3JpcHQgY2xhc3NcbiAgICAvLyBzeW50YXggVGhlIG1peGluIGltcGxlbWVudGF0aW9uIGFzc3VtZXMgdGhhdCB0aGUgdXNlciB3aWxsIHRha2UgdGhlXG4gICAgLy8gYXBwcm9wcmlhdGUgc3RlcHMgdG8gc3VwcG9ydCBib3RoOlxuICAgIGNsYXNzIEZvY3VzVmlzaWJsZUNvb3JkaW5hdG9yIGV4dGVuZHMgU3VwZXJDbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHRoaXNbX2FdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBdHRlbXB0IHRvIGNvb3JkaW5hdGUgd2l0aCB0aGUgcG9seWZpbGwgd2hlbiBjb25uZWN0ZWQgdG8gdGhlXG4gICAgICAgIC8vIGRvY3VtZW50OlxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrICYmIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICBpZiAodGhpc1skZW5kUG9seWZpbGxDb29yZGluYXRpb25dID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRlbmRQb2x5ZmlsbENvb3JkaW5hdGlvbl0gPSBjb29yZGluYXRlV2l0aFBvbHlmaWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2sgJiYgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIC8vIEl0J3MgaW1wb3J0YW50IHRvIHJlbW92ZSB0aGUgcG9seWZpbGwgZXZlbnQgbGlzdGVuZXIgd2hlbiB3ZVxuICAgICAgICAgICAgLy8gZGlzY29ubmVjdCwgb3RoZXJ3aXNlIHdlIHdpbGwgbGVhayB0aGUgd2hvbGUgZWxlbWVudCB2aWEgd2luZG93OlxuICAgICAgICAgICAgaWYgKHRoaXNbJGVuZFBvbHlmaWxsQ29vcmRpbmF0aW9uXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skZW5kUG9seWZpbGxDb29yZGluYXRpb25dKCk7XG4gICAgICAgICAgICAgICAgdGhpc1skZW5kUG9seWZpbGxDb29yZGluYXRpb25dID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfYSA9ICRlbmRQb2x5ZmlsbENvb3JkaW5hdGlvbjtcbiAgICA7XG4gICAgcmV0dXJuIEZvY3VzVmlzaWJsZUNvb3JkaW5hdG9yO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvY3VzLXZpc2libGUuanMubWFwIl0sIm5hbWVzIjpbIkZvY3VzVmlzaWJsZVBvbHlmaWxsTWl4aW4iLCJTdXBlckNsYXNzIiwiX2EiLCJjb29yZGluYXRlV2l0aFBvbHlmaWxsIiwiaW5zdGFuY2UiLCJzaGFkb3dSb290IiwiaGFzQXR0cmlidXRlIiwic2VsZiIsImFwcGx5Rm9jdXNWaXNpYmxlUG9seWZpbGwiLCJjb29yZGluYXRpb25IYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiJGVuZFBvbHlmaWxsQ29vcmRpbmF0aW9uIiwiU3ltYm9sIiwiRm9jdXNWaXNpYmxlQ29vcmRpbmF0b3IiLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsImNvbm5lY3RlZENhbGxiYWNrIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/focus-visible.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/progress-tracker.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/progress-tracker.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProgressTracker: () => (/* binding */ ProgressTracker)\n/* harmony export */ });\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ \n/**\n * ProgressTracker is an event emitter that helps to track the ongoing progress\n * of many simultaneous actions.\n *\n * ProgressTracker reports progress activity in the form of a progress event.\n * The event.detail.totalProgress value indicates the elapsed progress of all\n * activities being tracked by the ProgressTracker.\n *\n * The value of totalProgress is a number that progresses from 0 to 1. The\n * ProgressTracker allows for the lazy accumulation of tracked actions, so the\n * total progress represents a abstract, non-absolute progress towards the\n * completion of all currently tracked events.\n *\n * When all currently tracked activities are finished, the ProgressTracker\n * emits one final progress event and then resets the list of its currently\n * tracked activities. This means that from an observer's perspective,\n * ongoing activities will accumulate and collectively contribute to the notion\n * of total progress until all currently tracked ongoing activities have\n * completed.\n */ class ProgressTracker extends EventTarget {\n    constructor(){\n        super(...arguments);\n        this.ongoingActivities = new Set();\n        this.totalProgress = 0;\n    }\n    /**\n     * The total number of activities currently being tracked.\n     */ get ongoingActivityCount() {\n        return this.ongoingActivities.size;\n    }\n    /**\n     * Registers a new activity to be tracked by the progress tracker. The method\n     * returns a special callback that should be invoked whenever new progress is\n     * ready to be reported. The progress should be reported as a value between 0\n     * and 1, where 0 would represent the beginning of the action and 1 would\n     * represent its completion.\n     *\n     * There is no built-in notion of a time-out for ongoing activities, so once\n     * an ongoing activity is begun, it is up to the consumer of this API to\n     * update the progress until that activity is no longer ongoing.\n     *\n     * Progress is only allowed to move forward for any given activity. If a lower\n     * progress is reported than the previously reported progress, it will be\n     * ignored.\n     */ beginActivity() {\n        const activity = {\n            progress: 0,\n            completed: false\n        };\n        this.ongoingActivities.add(activity);\n        if (this.ongoingActivityCount === 1) {\n            // Announce the first progress event (which should always be 0 / 1\n            // total progress):\n            this.announceTotalProgress(activity, 0);\n        }\n        return (progress)=>{\n            let nextProgress;\n            nextProgress = Math.max((0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(progress, 0, 1), activity.progress);\n            if (nextProgress !== activity.progress) {\n                this.announceTotalProgress(activity, nextProgress);\n            }\n            return activity.progress;\n        };\n    }\n    announceTotalProgress(updatedActivity, nextProgress) {\n        let progressLeft = 0;\n        let completedActivities = 0;\n        if (nextProgress == 1.0) updatedActivity.completed = true;\n        for (const activity of this.ongoingActivities){\n            const { progress } = activity;\n            progressLeft += 1.0 - progress;\n            if (activity.completed === true) {\n                completedActivities++;\n            }\n        }\n        const lastProgress = updatedActivity.progress;\n        updatedActivity.progress = nextProgress;\n        // Advance the total progress by the fraction of total remaining progress\n        // due to this activity.\n        this.totalProgress += (nextProgress - lastProgress) * (1.0 - this.totalProgress) / progressLeft;\n        const totalProgress = completedActivities === this.ongoingActivityCount ? 1.0 : this.totalProgress;\n        this.dispatchEvent(new CustomEvent(\"progress\", {\n            detail: {\n                totalProgress\n            }\n        }));\n        if (completedActivities === this.ongoingActivityCount) {\n            this.totalProgress = 0.0;\n            this.ongoingActivities.clear();\n        }\n    }\n} //# sourceMappingURL=progress-tracker.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9wcm9ncmVzcy10cmFja2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUN1QztBQUN4Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW1CQyxHQUNNLE1BQU1DLHdCQUF3QkM7SUFDakNDLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRyxJQUFJQztRQUM3QixJQUFJLENBQUNDLGFBQWEsR0FBRztJQUN6QjtJQUNBOztLQUVDLEdBQ0QsSUFBSUMsdUJBQXVCO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDSCxpQkFBaUIsQ0FBQ0ksSUFBSTtJQUN0QztJQUNBOzs7Ozs7Ozs7Ozs7OztLQWNDLEdBQ0RDLGdCQUFnQjtRQUNaLE1BQU1DLFdBQVc7WUFBRUMsVUFBVTtZQUFHQyxXQUFXO1FBQU07UUFDakQsSUFBSSxDQUFDUixpQkFBaUIsQ0FBQ1MsR0FBRyxDQUFDSDtRQUMzQixJQUFJLElBQUksQ0FBQ0gsb0JBQW9CLEtBQUssR0FBRztZQUNqQyxrRUFBa0U7WUFDbEUsbUJBQW1CO1lBQ25CLElBQUksQ0FBQ08scUJBQXFCLENBQUNKLFVBQVU7UUFDekM7UUFDQSxPQUFPLENBQUNDO1lBQ0osSUFBSUk7WUFDSkEsZUFBZUMsS0FBS0MsR0FBRyxDQUFDbEIsb0RBQUtBLENBQUNZLFVBQVUsR0FBRyxJQUFJRCxTQUFTQyxRQUFRO1lBQ2hFLElBQUlJLGlCQUFpQkwsU0FBU0MsUUFBUSxFQUFFO2dCQUNwQyxJQUFJLENBQUNHLHFCQUFxQixDQUFDSixVQUFVSztZQUN6QztZQUNBLE9BQU9MLFNBQVNDLFFBQVE7UUFDNUI7SUFDSjtJQUNBRyxzQkFBc0JJLGVBQWUsRUFBRUgsWUFBWSxFQUFFO1FBQ2pELElBQUlJLGVBQWU7UUFDbkIsSUFBSUMsc0JBQXNCO1FBQzFCLElBQUlMLGdCQUFnQixLQUNoQkcsZ0JBQWdCTixTQUFTLEdBQUc7UUFDaEMsS0FBSyxNQUFNRixZQUFZLElBQUksQ0FBQ04saUJBQWlCLENBQUU7WUFDM0MsTUFBTSxFQUFFTyxRQUFRLEVBQUUsR0FBR0Q7WUFDckJTLGdCQUFnQixNQUFNUjtZQUN0QixJQUFJRCxTQUFTRSxTQUFTLEtBQUssTUFBTTtnQkFDN0JRO1lBQ0o7UUFDSjtRQUNBLE1BQU1DLGVBQWVILGdCQUFnQlAsUUFBUTtRQUM3Q08sZ0JBQWdCUCxRQUFRLEdBQUdJO1FBQzNCLHlFQUF5RTtRQUN6RSx3QkFBd0I7UUFDeEIsSUFBSSxDQUFDVCxhQUFhLElBQUksQ0FBQ1MsZUFBZU0sWUFBVyxJQUM1QyxPQUFNLElBQUksQ0FBQ2YsYUFBYSxJQUFJYTtRQUNqQyxNQUFNYixnQkFBZ0JjLHdCQUF3QixJQUFJLENBQUNiLG9CQUFvQixHQUNuRSxNQUNBLElBQUksQ0FBQ0QsYUFBYTtRQUN0QixJQUFJLENBQUNnQixhQUFhLENBQUMsSUFBSUMsWUFBWSxZQUFZO1lBQUVDLFFBQVE7Z0JBQUVsQjtZQUFjO1FBQUU7UUFDM0UsSUFBSWMsd0JBQXdCLElBQUksQ0FBQ2Isb0JBQW9CLEVBQUU7WUFDbkQsSUFBSSxDQUFDRCxhQUFhLEdBQUc7WUFDckIsSUFBSSxDQUFDRixpQkFBaUIsQ0FBQ3FCLEtBQUs7UUFDaEM7SUFDSjtBQUNKLEVBQ0EsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViM2RldmNvdXJzZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdXRpbGl0aWVzL3Byb2dyZXNzLXRyYWNrZXIuanM/ODA1OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWxpdGllcy5qcyc7XG4vKipcbiAqIFByb2dyZXNzVHJhY2tlciBpcyBhbiBldmVudCBlbWl0dGVyIHRoYXQgaGVscHMgdG8gdHJhY2sgdGhlIG9uZ29pbmcgcHJvZ3Jlc3NcbiAqIG9mIG1hbnkgc2ltdWx0YW5lb3VzIGFjdGlvbnMuXG4gKlxuICogUHJvZ3Jlc3NUcmFja2VyIHJlcG9ydHMgcHJvZ3Jlc3MgYWN0aXZpdHkgaW4gdGhlIGZvcm0gb2YgYSBwcm9ncmVzcyBldmVudC5cbiAqIFRoZSBldmVudC5kZXRhaWwudG90YWxQcm9ncmVzcyB2YWx1ZSBpbmRpY2F0ZXMgdGhlIGVsYXBzZWQgcHJvZ3Jlc3Mgb2YgYWxsXG4gKiBhY3Rpdml0aWVzIGJlaW5nIHRyYWNrZWQgYnkgdGhlIFByb2dyZXNzVHJhY2tlci5cbiAqXG4gKiBUaGUgdmFsdWUgb2YgdG90YWxQcm9ncmVzcyBpcyBhIG51bWJlciB0aGF0IHByb2dyZXNzZXMgZnJvbSAwIHRvIDEuIFRoZVxuICogUHJvZ3Jlc3NUcmFja2VyIGFsbG93cyBmb3IgdGhlIGxhenkgYWNjdW11bGF0aW9uIG9mIHRyYWNrZWQgYWN0aW9ucywgc28gdGhlXG4gKiB0b3RhbCBwcm9ncmVzcyByZXByZXNlbnRzIGEgYWJzdHJhY3QsIG5vbi1hYnNvbHV0ZSBwcm9ncmVzcyB0b3dhcmRzIHRoZVxuICogY29tcGxldGlvbiBvZiBhbGwgY3VycmVudGx5IHRyYWNrZWQgZXZlbnRzLlxuICpcbiAqIFdoZW4gYWxsIGN1cnJlbnRseSB0cmFja2VkIGFjdGl2aXRpZXMgYXJlIGZpbmlzaGVkLCB0aGUgUHJvZ3Jlc3NUcmFja2VyXG4gKiBlbWl0cyBvbmUgZmluYWwgcHJvZ3Jlc3MgZXZlbnQgYW5kIHRoZW4gcmVzZXRzIHRoZSBsaXN0IG9mIGl0cyBjdXJyZW50bHlcbiAqIHRyYWNrZWQgYWN0aXZpdGllcy4gVGhpcyBtZWFucyB0aGF0IGZyb20gYW4gb2JzZXJ2ZXIncyBwZXJzcGVjdGl2ZSxcbiAqIG9uZ29pbmcgYWN0aXZpdGllcyB3aWxsIGFjY3VtdWxhdGUgYW5kIGNvbGxlY3RpdmVseSBjb250cmlidXRlIHRvIHRoZSBub3Rpb25cbiAqIG9mIHRvdGFsIHByb2dyZXNzIHVudGlsIGFsbCBjdXJyZW50bHkgdHJhY2tlZCBvbmdvaW5nIGFjdGl2aXRpZXMgaGF2ZVxuICogY29tcGxldGVkLlxuICovXG5leHBvcnQgY2xhc3MgUHJvZ3Jlc3NUcmFja2VyIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm9uZ29pbmdBY3Rpdml0aWVzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLnRvdGFsUHJvZ3Jlc3MgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGFjdGl2aXRpZXMgY3VycmVudGx5IGJlaW5nIHRyYWNrZWQuXG4gICAgICovXG4gICAgZ2V0IG9uZ29pbmdBY3Rpdml0eUNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbmdvaW5nQWN0aXZpdGllcy5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBuZXcgYWN0aXZpdHkgdG8gYmUgdHJhY2tlZCBieSB0aGUgcHJvZ3Jlc3MgdHJhY2tlci4gVGhlIG1ldGhvZFxuICAgICAqIHJldHVybnMgYSBzcGVjaWFsIGNhbGxiYWNrIHRoYXQgc2hvdWxkIGJlIGludm9rZWQgd2hlbmV2ZXIgbmV3IHByb2dyZXNzIGlzXG4gICAgICogcmVhZHkgdG8gYmUgcmVwb3J0ZWQuIFRoZSBwcm9ncmVzcyBzaG91bGQgYmUgcmVwb3J0ZWQgYXMgYSB2YWx1ZSBiZXR3ZWVuIDBcbiAgICAgKiBhbmQgMSwgd2hlcmUgMCB3b3VsZCByZXByZXNlbnQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYWN0aW9uIGFuZCAxIHdvdWxkXG4gICAgICogcmVwcmVzZW50IGl0cyBjb21wbGV0aW9uLlxuICAgICAqXG4gICAgICogVGhlcmUgaXMgbm8gYnVpbHQtaW4gbm90aW9uIG9mIGEgdGltZS1vdXQgZm9yIG9uZ29pbmcgYWN0aXZpdGllcywgc28gb25jZVxuICAgICAqIGFuIG9uZ29pbmcgYWN0aXZpdHkgaXMgYmVndW4sIGl0IGlzIHVwIHRvIHRoZSBjb25zdW1lciBvZiB0aGlzIEFQSSB0b1xuICAgICAqIHVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdW50aWwgdGhhdCBhY3Rpdml0eSBpcyBubyBsb25nZXIgb25nb2luZy5cbiAgICAgKlxuICAgICAqIFByb2dyZXNzIGlzIG9ubHkgYWxsb3dlZCB0byBtb3ZlIGZvcndhcmQgZm9yIGFueSBnaXZlbiBhY3Rpdml0eS4gSWYgYSBsb3dlclxuICAgICAqIHByb2dyZXNzIGlzIHJlcG9ydGVkIHRoYW4gdGhlIHByZXZpb3VzbHkgcmVwb3J0ZWQgcHJvZ3Jlc3MsIGl0IHdpbGwgYmVcbiAgICAgKiBpZ25vcmVkLlxuICAgICAqL1xuICAgIGJlZ2luQWN0aXZpdHkoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2aXR5ID0geyBwcm9ncmVzczogMCwgY29tcGxldGVkOiBmYWxzZSB9O1xuICAgICAgICB0aGlzLm9uZ29pbmdBY3Rpdml0aWVzLmFkZChhY3Rpdml0eSk7XG4gICAgICAgIGlmICh0aGlzLm9uZ29pbmdBY3Rpdml0eUNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAvLyBBbm5vdW5jZSB0aGUgZmlyc3QgcHJvZ3Jlc3MgZXZlbnQgKHdoaWNoIHNob3VsZCBhbHdheXMgYmUgMCAvIDFcbiAgICAgICAgICAgIC8vIHRvdGFsIHByb2dyZXNzKTpcbiAgICAgICAgICAgIHRoaXMuYW5ub3VuY2VUb3RhbFByb2dyZXNzKGFjdGl2aXR5LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmV4dFByb2dyZXNzO1xuICAgICAgICAgICAgbmV4dFByb2dyZXNzID0gTWF0aC5tYXgoY2xhbXAocHJvZ3Jlc3MsIDAsIDEpLCBhY3Rpdml0eS5wcm9ncmVzcyk7XG4gICAgICAgICAgICBpZiAobmV4dFByb2dyZXNzICE9PSBhY3Rpdml0eS5wcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5ub3VuY2VUb3RhbFByb2dyZXNzKGFjdGl2aXR5LCBuZXh0UHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2aXR5LnByb2dyZXNzO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhbm5vdW5jZVRvdGFsUHJvZ3Jlc3ModXBkYXRlZEFjdGl2aXR5LCBuZXh0UHJvZ3Jlc3MpIHtcbiAgICAgICAgbGV0IHByb2dyZXNzTGVmdCA9IDA7XG4gICAgICAgIGxldCBjb21wbGV0ZWRBY3Rpdml0aWVzID0gMDtcbiAgICAgICAgaWYgKG5leHRQcm9ncmVzcyA9PSAxLjApXG4gICAgICAgICAgICB1cGRhdGVkQWN0aXZpdHkuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBhY3Rpdml0eSBvZiB0aGlzLm9uZ29pbmdBY3Rpdml0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCB7IHByb2dyZXNzIH0gPSBhY3Rpdml0eTtcbiAgICAgICAgICAgIHByb2dyZXNzTGVmdCArPSAxLjAgLSBwcm9ncmVzcztcbiAgICAgICAgICAgIGlmIChhY3Rpdml0eS5jb21wbGV0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRBY3Rpdml0aWVzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGFzdFByb2dyZXNzID0gdXBkYXRlZEFjdGl2aXR5LnByb2dyZXNzO1xuICAgICAgICB1cGRhdGVkQWN0aXZpdHkucHJvZ3Jlc3MgPSBuZXh0UHJvZ3Jlc3M7XG4gICAgICAgIC8vIEFkdmFuY2UgdGhlIHRvdGFsIHByb2dyZXNzIGJ5IHRoZSBmcmFjdGlvbiBvZiB0b3RhbCByZW1haW5pbmcgcHJvZ3Jlc3NcbiAgICAgICAgLy8gZHVlIHRvIHRoaXMgYWN0aXZpdHkuXG4gICAgICAgIHRoaXMudG90YWxQcm9ncmVzcyArPSAobmV4dFByb2dyZXNzIC0gbGFzdFByb2dyZXNzKSAqXG4gICAgICAgICAgICAoMS4wIC0gdGhpcy50b3RhbFByb2dyZXNzKSAvIHByb2dyZXNzTGVmdDtcbiAgICAgICAgY29uc3QgdG90YWxQcm9ncmVzcyA9IGNvbXBsZXRlZEFjdGl2aXRpZXMgPT09IHRoaXMub25nb2luZ0FjdGl2aXR5Q291bnQgP1xuICAgICAgICAgICAgMS4wIDpcbiAgICAgICAgICAgIHRoaXMudG90YWxQcm9ncmVzcztcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncHJvZ3Jlc3MnLCB7IGRldGFpbDogeyB0b3RhbFByb2dyZXNzIH0gfSkpO1xuICAgICAgICBpZiAoY29tcGxldGVkQWN0aXZpdGllcyA9PT0gdGhpcy5vbmdvaW5nQWN0aXZpdHlDb3VudCkge1xuICAgICAgICAgICAgdGhpcy50b3RhbFByb2dyZXNzID0gMC4wO1xuICAgICAgICAgICAgdGhpcy5vbmdvaW5nQWN0aXZpdGllcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvZ3Jlc3MtdHJhY2tlci5qcy5tYXAiXSwibmFtZXMiOlsiY2xhbXAiLCJQcm9ncmVzc1RyYWNrZXIiLCJFdmVudFRhcmdldCIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwib25nb2luZ0FjdGl2aXRpZXMiLCJTZXQiLCJ0b3RhbFByb2dyZXNzIiwib25nb2luZ0FjdGl2aXR5Q291bnQiLCJzaXplIiwiYmVnaW5BY3Rpdml0eSIsImFjdGl2aXR5IiwicHJvZ3Jlc3MiLCJjb21wbGV0ZWQiLCJhZGQiLCJhbm5vdW5jZVRvdGFsUHJvZ3Jlc3MiLCJuZXh0UHJvZ3Jlc3MiLCJNYXRoIiwibWF4IiwidXBkYXRlZEFjdGl2aXR5IiwicHJvZ3Jlc3NMZWZ0IiwiY29tcGxldGVkQWN0aXZpdGllcyIsImxhc3RQcm9ncmVzcyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImNsZWFyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/progress-tracker.js\n");

/***/ })

};
;